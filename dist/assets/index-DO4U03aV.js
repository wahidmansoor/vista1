const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-DncY6Ibi.js","assets/vendor-Cwgam5rc.js","assets/SymptomControl-AhlvZhm1.js","assets/router-Bl3DfmHA.js","assets/input-C8epZFIb.js","assets/ui-D2NHhbqT.js","assets/utils-CdFFJbjH.js","assets/ai-BpXHbcls.js","assets/PainManagement-CxpyoN-n.js","assets/slider-DYsfzdfO.js","assets/label-BQvOexxA.js","assets/radio-group-BFTgFaO5.js","assets/FamilySupport-C7M5TF_g.js","assets/AdvanceDirectives-CkC2OUTt.js","assets/PsychosocialCare-rx5sU3kt.js"])))=>i.map(i=>d[i]);
var K2=Object.defineProperty;var X2=(e,t,n)=>t in e?K2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>X2(e,typeof t!="symbol"?t+"":t,n);import{r as x1,a as N1,g as Lr,b as J2}from"./vendor-Cwgam5rc.js";import{r as b,a as Fr,e as No,R as Q2,u as us,N as Z2,b as Ee,c as eC,L as zs,d as tC,f as wp,g as nt,B as nC}from"./router-Bl3DfmHA.js";import{j as q,c as y1}from"./ui-D2NHhbqT.js";import{M as sC,X as ss,S as yo,L as ri,F as Dp,C as ko,B as is,T as iC,A as oC,O as rC,a as Br,b as aC,R as w1,c as lC,d as Qe,D as Bl,e as D1,f as E1,H as Hl,g as Ps,h as cC,i as ad,j as Ep,I as ld,k as ji,l as ku,m as ei,n as uC,W as dC,o as mC,p as fC,q as Xs,r as Tp,s as hC,t as T1,u as pC,v as gC,w as bC,x as vC,U as xC,y as NC,z as yC,E as wC,G as DC,J as EC,P as Sp,K as TC,N as SC,Q as uo,V as lu,Y as $b,Z as Lf,_ as _C,$ as S1,a0 as kC,a1 as MC,a2 as _1,a3 as CC,a4 as PC,a5 as AC,a6 as jC,a7 as Ff,a8 as IC,a9 as RC,aa as zb,ab as VC,ac as OC,ad as LC,ae as k1,af as FC,ag as M1,ah as C1,ai as BC}from"./utils-CdFFJbjH.js";import{H as pc,a as gc,G as HC}from"./ai-BpXHbcls.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var om={exports:{}},bc={},Wb;function UC(){if(Wb)return bc;Wb=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){var e=x1(),t=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),p=Symbol.iterator,g="@@iterator";function v(z){if(z===null||typeof z!="object")return null;var se=p&&z[p]||z[g];return typeof se=="function"?se:null}var x=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function E(z){{for(var se=arguments.length,ye=new Array(se>1?se-1:0),je=1;je<se;je++)ye[je-1]=arguments[je];N("error",z,ye)}}function N(z,se,ye){{var je=x.ReactDebugCurrentFrame,Ze=je.getStackAddendum();Ze!==""&&(se+="%s",ye=ye.concat([Ze]));var rt=ye.map(function(Ye){return String(Ye)});rt.unshift("Warning: "+se),Function.prototype.apply.call(console[z],console,rt)}}var D=!1,w=!1,T=!1,M=!1,_=!1,C;C=Symbol.for("react.module.reference");function k(z){return!!(typeof z=="string"||typeof z=="function"||z===s||z===o||_||z===i||z===u||z===d||M||z===h||D||w||T||typeof z=="object"&&z!==null&&(z.$$typeof===f||z.$$typeof===m||z.$$typeof===r||z.$$typeof===a||z.$$typeof===c||z.$$typeof===C||z.getModuleId!==void 0))}function L(z,se,ye){var je=z.displayName;if(je)return je;var Ze=se.displayName||se.name||"";return Ze!==""?ye+"("+Ze+")":ye}function B(z){return z.displayName||"Context"}function P(z){if(z==null)return null;if(typeof z.tag=="number"&&E("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof z=="function")return z.displayName||z.name||null;if(typeof z=="string")return z;switch(z){case s:return"Fragment";case n:return"Portal";case o:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case d:return"SuspenseList"}if(typeof z=="object")switch(z.$$typeof){case a:var se=z;return B(se)+".Consumer";case r:var ye=z;return B(ye._context)+".Provider";case c:return L(z,z.render,"ForwardRef");case m:var je=z.displayName||null;return je!==null?je:P(z.type)||"Memo";case f:{var Ze=z,rt=Ze._payload,Ye=Ze._init;try{return P(Ye(rt))}catch{return null}}}return null}var j=Object.assign,R=0,U,G,$,Z,I,oe,be;function O(){}O.__reactDisabledLog=!0;function ue(){{if(R===0){U=console.log,G=console.info,$=console.warn,Z=console.error,I=console.group,oe=console.groupCollapsed,be=console.groupEnd;var z={configurable:!0,enumerable:!0,value:O,writable:!0};Object.defineProperties(console,{info:z,log:z,warn:z,error:z,group:z,groupCollapsed:z,groupEnd:z})}R++}}function ge(){{if(R--,R===0){var z={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:j({},z,{value:U}),info:j({},z,{value:G}),warn:j({},z,{value:$}),error:j({},z,{value:Z}),group:j({},z,{value:I}),groupCollapsed:j({},z,{value:oe}),groupEnd:j({},z,{value:be})})}R<0&&E("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var xe=x.ReactCurrentDispatcher,ne;function me(z,se,ye){{if(ne===void 0)try{throw Error()}catch(Ze){var je=Ze.stack.trim().match(/\n( *(at )?)/);ne=je&&je[1]||""}return`
`+ne+z}}var we=!1,X;{var Y=typeof WeakMap=="function"?WeakMap:Map;X=new Y}function K(z,se){if(!z||we)return"";{var ye=X.get(z);if(ye!==void 0)return ye}var je;we=!0;var Ze=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var rt;rt=xe.current,xe.current=null,ue();try{if(se){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(bn){je=bn}Reflect.construct(z,[],Ye)}else{try{Ye.call()}catch(bn){je=bn}z.call(Ye.prototype)}}else{try{throw Error()}catch(bn){je=bn}z()}}catch(bn){if(bn&&je&&typeof bn.stack=="string"){for(var qe=bn.stack.split(`
`),an=je.stack.split(`
`),Et=qe.length-1,kt=an.length-1;Et>=1&&kt>=0&&qe[Et]!==an[kt];)kt--;for(;Et>=1&&kt>=0;Et--,kt--)if(qe[Et]!==an[kt]){if(Et!==1||kt!==1)do if(Et--,kt--,kt<0||qe[Et]!==an[kt]){var On=`
`+qe[Et].replace(" at new "," at ");return z.displayName&&On.includes("<anonymous>")&&(On=On.replace("<anonymous>",z.displayName)),typeof z=="function"&&X.set(z,On),On}while(Et>=1&&kt>=0);break}}}finally{we=!1,xe.current=rt,ge(),Error.prepareStackTrace=Ze}var Fo=z?z.displayName||z.name:"",Bi=Fo?me(Fo):"";return typeof z=="function"&&X.set(z,Bi),Bi}function ie(z,se,ye){return K(z,!1)}function le(z){var se=z.prototype;return!!(se&&se.isReactComponent)}function ae(z,se,ye){if(z==null)return"";if(typeof z=="function")return K(z,le(z));if(typeof z=="string")return me(z);switch(z){case u:return me("Suspense");case d:return me("SuspenseList")}if(typeof z=="object")switch(z.$$typeof){case c:return ie(z.render);case m:return ae(z.type,se,ye);case f:{var je=z,Ze=je._payload,rt=je._init;try{return ae(rt(Ze),se,ye)}catch{}}}return""}var pe=Object.prototype.hasOwnProperty,$e={},ze=x.ReactDebugCurrentFrame;function We(z){if(z){var se=z._owner,ye=ae(z.type,z._source,se?se.type:null);ze.setExtraStackFrame(ye)}else ze.setExtraStackFrame(null)}function Rn(z,se,ye,je,Ze){{var rt=Function.call.bind(pe);for(var Ye in z)if(rt(z,Ye)){var qe=void 0;try{if(typeof z[Ye]!="function"){var an=Error((je||"React class")+": "+ye+" type `"+Ye+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof z[Ye]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw an.name="Invariant Violation",an}qe=z[Ye](se,Ye,je,ye,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Et){qe=Et}qe&&!(qe instanceof Error)&&(We(Ze),E("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",je||"React class",ye,Ye,typeof qe),We(null)),qe instanceof Error&&!(qe.message in $e)&&($e[qe.message]=!0,We(Ze),E("Failed %s type: %s",ye,qe.message),We(null))}}}var Fs=Array.isArray;function hs(z){return Fs(z)}function mt(z){{var se=typeof Symbol=="function"&&Symbol.toStringTag,ye=se&&z[Symbol.toStringTag]||z.constructor.name||"Object";return ye}}function Qn(z){try{return pn(z),!1}catch{return!0}}function pn(z){return""+z}function ee(z){if(Qn(z))return E("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",mt(z)),pn(z)}var Q=x.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0},Ie,Le,yt;yt={};function ce(z){if(pe.call(z,"ref")){var se=Object.getOwnPropertyDescriptor(z,"ref").get;if(se&&se.isReactWarning)return!1}return z.ref!==void 0}function ke(z){if(pe.call(z,"key")){var se=Object.getOwnPropertyDescriptor(z,"key").get;if(se&&se.isReactWarning)return!1}return z.key!==void 0}function Vt(z,se){if(typeof z.ref=="string"&&Q.current&&se&&Q.current.stateNode!==se){var ye=P(Q.current.type);yt[ye]||(E('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',P(Q.current.type),z.ref),yt[ye]=!0)}}function Vn(z,se){{var ye=function(){Ie||(Ie=!0,E("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ye.isReactWarning=!0,Object.defineProperty(z,"key",{get:ye,configurable:!0})}}function wt(z,se){{var ye=function(){Le||(Le=!0,E("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ye.isReactWarning=!0,Object.defineProperty(z,"ref",{get:ye,configurable:!0})}}var Wt=function(z,se,ye,je,Ze,rt,Ye){var qe={$$typeof:t,type:z,key:se,ref:ye,props:Ye,_owner:rt};return qe._store={},Object.defineProperty(qe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(qe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:je}),Object.defineProperty(qe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ze}),Object.freeze&&(Object.freeze(qe.props),Object.freeze(qe)),qe};function gn(z,se,ye,je,Ze){{var rt,Ye={},qe=null,an=null;ye!==void 0&&(ee(ye),qe=""+ye),ke(se)&&(ee(se.key),qe=""+se.key),ce(se)&&(an=se.ref,Vt(se,Ze));for(rt in se)pe.call(se,rt)&&!Ne.hasOwnProperty(rt)&&(Ye[rt]=se[rt]);if(z&&z.defaultProps){var Et=z.defaultProps;for(rt in Et)Ye[rt]===void 0&&(Ye[rt]=Et[rt])}if(qe||an){var kt=typeof z=="function"?z.displayName||z.name||"Unknown":z;qe&&Vn(Ye,kt),an&&wt(Ye,kt)}return Wt(z,qe,an,Ze,je,Q.current,Ye)}}var Vo=x.ReactCurrentOwner,ra=x.ReactDebugCurrentFrame;function Bs(z){if(z){var se=z._owner,ye=ae(z.type,z._source,se?se.type:null);ra.setExtraStackFrame(ye)}else ra.setExtraStackFrame(null)}var Oo;Oo=!1;function Lo(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function aa(){{if(Vo.current){var z=P(Vo.current.type);if(z)return`

Check the render method of \``+z+"`."}return""}}function cc(z){{if(z!==void 0){var se=z.fileName.replace(/^.*[\\\/]/,""),ye=z.lineNumber;return`

Check your code at `+se+":"+ye+"."}return""}}var la={};function uc(z){{var se=aa();if(!se){var ye=typeof z=="string"?z:z.displayName||z.name;ye&&(se=`

Check the top-level render call using <`+ye+">.")}return se}}function ca(z,se){{if(!z._store||z._store.validated||z.key!=null)return;z._store.validated=!0;var ye=uc(se);if(la[ye])return;la[ye]=!0;var je="";z&&z._owner&&z._owner!==Vo.current&&(je=" It was passed a child from "+P(z._owner.type)+"."),Bs(z),E('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ye,je),Bs(null)}}function ua(z,se){{if(typeof z!="object")return;if(hs(z))for(var ye=0;ye<z.length;ye++){var je=z[ye];Lo(je)&&ca(je,se)}else if(Lo(z))z._store&&(z._store.validated=!0);else if(z){var Ze=v(z);if(typeof Ze=="function"&&Ze!==z.entries)for(var rt=Ze.call(z),Ye;!(Ye=rt.next()).done;)Lo(Ye.value)&&ca(Ye.value,se)}}}function dc(z){{var se=z.type;if(se==null||typeof se=="string")return;var ye;if(typeof se=="function")ye=se.propTypes;else if(typeof se=="object"&&(se.$$typeof===c||se.$$typeof===m))ye=se.propTypes;else return;if(ye){var je=P(se);Rn(ye,z.props,"prop",je,z)}else if(se.PropTypes!==void 0&&!Oo){Oo=!0;var Ze=P(se);E("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ze||"Unknown")}typeof se.getDefaultProps=="function"&&!se.getDefaultProps.isReactClassApproved&&E("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function mc(z){{for(var se=Object.keys(z.props),ye=0;ye<se.length;ye++){var je=se[ye];if(je!=="children"&&je!=="key"){Bs(z),E("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",je),Bs(null);break}}z.ref!==null&&(Bs(z),E("Invalid attribute `ref` supplied to `React.Fragment`."),Bs(null))}}var da={};function fc(z,se,ye,je,Ze,rt){{var Ye=k(z);if(!Ye){var qe="";(z===void 0||typeof z=="object"&&z!==null&&Object.keys(z).length===0)&&(qe+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var an=cc(Ze);an?qe+=an:qe+=aa();var Et;z===null?Et="null":hs(z)?Et="array":z!==void 0&&z.$$typeof===t?(Et="<"+(P(z.type)||"Unknown")+" />",qe=" Did you accidentally export a JSX literal instead of a component?"):Et=typeof z,E("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Et,qe)}var kt=gn(z,se,ye,Ze,rt);if(kt==null)return kt;if(Ye){var On=se.children;if(On!==void 0)if(je)if(hs(On)){for(var Fo=0;Fo<On.length;Fo++)ua(On[Fo],z);Object.freeze&&Object.freeze(On)}else E("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ua(On,z)}if(pe.call(se,"key")){var Bi=P(z),bn=Object.keys(se).filter(function(Y2){return Y2!=="key"}),im=bn.length>0?"{key: someKey, "+bn.join(": ..., ")+": ...}":"{key: someKey}";if(!da[Bi+im]){var G2=bn.length>0?"{"+bn.join(": ..., ")+": ...}":"{}";E(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,im,Bi,G2,Bi),da[Bi+im]=!0}}return z===s?mc(kt):dc(kt),kt}}var hc=fc;bc.Fragment=s,bc.jsxDEV=hc}(),bc}var qb;function $C(){return qb||(qb=1,om.exports=UC()),om.exports}var l=$C(),vc={},Gb;function zC(){if(Gb)return vc;Gb=1;var e=N1();{var t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;vc.createRoot=function(n,s){t.usingClientEntryPoint=!0;try{return e.createRoot(n,s)}finally{t.usingClientEntryPoint=!1}},vc.hydrateRoot=function(n,s,i){t.usingClientEntryPoint=!0;try{return e.hydrateRoot(n,s,i)}finally{t.usingClientEntryPoint=!1}}}return vc}var WC=zC();const qC=Lr(WC),P1=b.createContext(void 0),GC=({children:e})=>{const[t,n]=b.useState(!1),s=()=>n(i=>!i);return l.jsxDEV(P1.Provider,{value:{sidebarCollapsed:t,toggleSidebar:s},children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/context/LayoutContext.tsx",lineNumber:14,columnNumber:5},void 0)},A1=()=>{const e=b.useContext(P1);if(!e)throw new Error("useLayout must be used within LayoutProvider");return e},_p=b.createContext({});function kp(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mp=typeof window<"u",j1=Mp?b.useLayoutEffect:b.useEffect,cd=b.createContext(null);function Cp(e,t){e.indexOf(t)===-1&&e.push(t)}function Pp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ti=(e,t,n)=>n>t?t:n<e?e:n;let Hr=()=>{},ni=()=>{};Hr=(e,t)=>{!e&&typeof console<"u"&&console.warn(t)},ni=(e,t)=>{if(!e)throw new Error(t)};const si={},I1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function R1(e){return typeof e=="object"&&e!==null}const V1=e=>/^0[^.\s]+$/u.test(e);function Ap(e){let t;return()=>(t===void 0&&(t=e()),t)}const qn=e=>e,YC=(e,t)=>n=>t(e(n)),Ul=(...e)=>e.reduce(YC),pl=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class jp{constructor(){this.subscriptions=[]}add(t){return Cp(this.subscriptions,t),()=>Pp(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=e=>e*1e3,Ss=e=>e/1e3;function O1(e,t){return t?e*(1e3/t):0}const Yb=new Set;function Ip(e,t,n){e||Yb.has(t)||(console.warn(t),Yb.add(t))}const L1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,KC=1e-7,XC=12;function JC(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=L1(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>KC&&++a<XC);return r}function $l(e,t,n,s){if(e===t&&n===s)return qn;const i=o=>JC(o,0,1,e,n);return o=>o===0||o===1?o:L1(i(o),t,s)}const F1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B1=e=>t=>1-e(1-t),H1=$l(.33,1.53,.69,.99),Rp=B1(H1),U1=F1(Rp),$1=e=>(e*=2)<1?.5*Rp(e):.5*(2-Math.pow(2,-10*(e-1))),Vp=e=>1-Math.sin(Math.acos(e)),z1=B1(Vp),W1=F1(Vp),QC=$l(.42,0,1,1),ZC=$l(0,0,.58,1),q1=$l(.42,0,.58,1),eP=e=>Array.isArray(e)&&typeof e[0]!="number",G1=e=>Array.isArray(e)&&typeof e[0]=="number",Kb={linear:qn,easeIn:QC,easeInOut:q1,easeOut:ZC,circIn:Vp,circInOut:W1,circOut:z1,backIn:Rp,backInOut:U1,backOut:H1,anticipate:$1},tP=e=>typeof e=="string",Xb=e=>{if(G1(e)){ni(e.length===4,"Cubic bezier arrays must contain four numerical values.");const[t,n,s,i]=e;return $l(t,n,s,i)}else if(tP(e))return ni(Kb[e]!==void 0,`Invalid easing type '${e}'`),Kb[e];return e},xc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Jb={value:null};function nP(e,t){let n=new Set,s=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(m){r.has(m)&&(d.schedule(m),e()),c++,m(a)}const d={schedule:(m,f=!1,h=!1)=>{const g=h&&i?n:s;return f&&r.add(m),g.has(m)||g.add(m),m},cancel:m=>{s.delete(m),r.delete(m)},process:m=>{if(a=m,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(u),t&&Jb.value&&Jb.value.frameloop[t].push(c),c=0,n.clear(),i=!1,o&&(o=!1,d.process(m))}};return d}const sP=40;function Y1(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=xc.reduce((N,D)=>(N[D]=nP(o,t?D:void 0),N),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:m,preRender:f,render:h,postRender:p}=r,g=()=>{const N=si.useManualTiming?i.timestamp:performance.now();n=!1,si.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(N-i.timestamp,sP),1)),i.timestamp=N,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),m.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(g))},v=()=>{n=!0,s=!0,i.isProcessing||e(g)};return{schedule:xc.reduce((N,D)=>{const w=r[D];return N[D]=(T,M=!1,_=!1)=>(n||v(),w.schedule(T,M,_)),N},{}),cancel:N=>{for(let D=0;D<xc.length;D++)r[xc[D]].cancel(N)},state:i,steps:r}}const{schedule:Nt,cancel:_i,state:Gt,steps:rm}=Y1(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let cu;function iP(){cu=void 0}const En={now:()=>(cu===void 0&&En.set(Gt.isProcessing||si.useManualTiming?Gt.timestamp:performance.now()),cu),set:e=>{cu=e,queueMicrotask(iP)}},K1=e=>t=>typeof t=="string"&&t.startsWith(e),Op=K1("--"),oP=K1("var(--"),Lp=e=>oP(e)?rP.test(e.split("/*")[0].trim()):!1,rP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ur={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gl={...Ur,transform:e=>ti(0,1,e)},Nc={...Ur,default:1},za=e=>Math.round(e*1e5)/1e5,Fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aP(e){return e==null}const lP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bp=(e,t)=>n=>!!(typeof n=="string"&&lP.test(n)&&n.startsWith(e)||t&&!aP(n)&&Object.prototype.hasOwnProperty.call(n,t)),X1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(Fp);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},cP=e=>ti(0,255,e),am={...Ur,transform:e=>Math.round(cP(e))},no={test:Bp("rgb","red"),parse:X1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+am.transform(e)+", "+am.transform(t)+", "+am.transform(n)+", "+za(gl.transform(s))+")"};function uP(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Bf={test:Bp("#"),parse:uP,transform:no.transform},zl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),di=zl("deg"),_s=zl("%"),Pe=zl("px"),dP=zl("vh"),mP=zl("vw"),Qb={..._s,parse:e=>_s.parse(e)/100,transform:e=>_s.transform(e*100)},lr={test:Bp("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+_s.transform(za(t))+", "+_s.transform(za(n))+", "+za(gl.transform(s))+")"},Jt={test:e=>no.test(e)||Bf.test(e)||lr.test(e),parse:e=>no.test(e)?no.parse(e):lr.test(e)?lr.parse(e):Bf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?no.transform(e):lr.transform(e)},fP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Fp))==null?void 0:t.length)||0)+(((n=e.match(fP))==null?void 0:n.length)||0)>0}const J1="number",Q1="color",pP="var",gP="var(",Zb="${}",bP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bl(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(bP,c=>(Jt.test(c)?(s.color.push(o),i.push(Q1),n.push(Jt.parse(c))):c.startsWith(gP)?(s.var.push(o),i.push(pP),n.push(c)):(s.number.push(o),i.push(J1),n.push(parseFloat(c))),++o,Zb)).split(Zb);return{values:n,split:a,indexes:s,types:i}}function Z1(e){return bl(e).values}function ew(e){const{split:t,types:n}=bl(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===J1?o+=za(i[r]):a===Q1?o+=Jt.transform(i[r]):o+=i[r]}return o}}const vP=e=>typeof e=="number"?0:e;function xP(e){const t=Z1(e);return ew(e)(t.map(vP))}const ki={test:hP,parse:Z1,createTransformer:ew,getAnimatableNone:xP};function lm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NP({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=lm(c,a,e+1/3),o=lm(c,a,e),r=lm(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function Mu(e,t){return n=>n>0?t:e}const vt=(e,t,n)=>e+(t-e)*n,cm=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},yP=[Bf,no,lr],wP=e=>yP.find(t=>t.test(e));function ev(e){const t=wP(e);if(Hr(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let n=t.parse(e);return t===lr&&(n=NP(n)),n}const tv=(e,t)=>{const n=ev(e),s=ev(t);if(!n||!s)return Mu(e,t);const i={...n};return o=>(i.red=cm(n.red,s.red,o),i.green=cm(n.green,s.green,o),i.blue=cm(n.blue,s.blue,o),i.alpha=vt(n.alpha,s.alpha,o),no.transform(i))},Hf=new Set(["none","hidden"]);function DP(e,t){return Hf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function EP(e,t){return n=>vt(e,t,n)}function Hp(e){return typeof e=="number"?EP:typeof e=="string"?Lp(e)?Mu:Jt.test(e)?tv:_P:Array.isArray(e)?tw:typeof e=="object"?Jt.test(e)?tv:TP:Mu}function tw(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>Hp(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function TP(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Hp(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function SP(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][s[o]],a=e.values[r]??0;n[i]=a,s[o]++}return n}const _P=(e,t)=>{const n=ki.createTransformer(t),s=bl(e),i=bl(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Hf.has(e)&&!i.values.length||Hf.has(t)&&!s.values.length?DP(e,t):Ul(tw(SP(s,i),i.values),n):(Hr(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Mu(e,t))};function nw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?vt(e,t,n):Hp(e)(e,t)}const kP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Nt.update(t,n),stop:()=>_i(t),now:()=>Gt.isProcessing?Gt.timestamp:En.now()}},sw=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=e(o/(i-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Cu=2e4;function Up(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Cu;)t+=n,s=e.next(t);return t>=Cu?1/0:t}function MP(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Up(s),Cu);return{type:"keyframes",ease:o=>s.next(i*o).value/t,duration:Ss(i)}}const CP=5;function iw(e,t,n){const s=Math.max(t-CP,0);return O1(n-e(s),t-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nv=.001;function PP({duration:e=bt.duration,bounce:t=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let i,o;Hr(e<=os(bt.maxDuration),"Spring duration must be 10 seconds or less");let r=1-t;r=ti(bt.minDamping,bt.maxDamping,r),e=ti(bt.minDuration,bt.maxDuration,Ss(e)),r<1?(i=u=>{const d=u*r,m=d*e,f=d-n,h=Uf(u,r),p=Math.exp(-m);return nv-f/h*p},o=u=>{const m=u*r*e,f=m*n+n,h=Math.pow(r,2)*Math.pow(u,2)*e,p=Math.exp(-m),g=Uf(Math.pow(u,2),r);return(-i(u)+nv>0?-1:1)*((f-h)*p)/g}):(i=u=>{const d=Math.exp(-u*e),m=(u-n)*e+1;return-.001+d*m},o=u=>{const d=Math.exp(-u*e),m=(n-u)*(e*e);return d*m});const a=5/e,c=jP(i,o,a);if(e=os(e),isNaN(c))return{stiffness:bt.stiffness,damping:bt.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:e}}}const AP=12;function jP(e,t,n){let s=n;for(let i=1;i<AP;i++)s=s-e(s)/t(s);return s}function Uf(e,t){return e*Math.sqrt(1-t*t)}const IP=["duration","bounce"],RP=["stiffness","damping","mass"];function sv(e,t){return t.some(n=>e[n]!==void 0)}function VP(e){let t={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...e};if(!sv(e,RP)&&sv(e,IP))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*ti(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:bt.mass,stiffness:i,damping:o}}else{const n=PP(e);t={...t,...n,mass:bt.mass},t.isResolvedFromDuration=!0}return t}function Pu(e=bt.visualDuration,t=bt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:m,velocity:f,isResolvedFromDuration:h}=VP({...n,velocity:-Ss(n.velocity||0)}),p=f||0,g=u/(2*Math.sqrt(c*d)),v=r-o,x=Ss(Math.sqrt(c/d)),E=Math.abs(v)<5;s||(s=E?bt.restSpeed.granular:bt.restSpeed.default),i||(i=E?bt.restDelta.granular:bt.restDelta.default);let N;if(g<1){const w=Uf(x,g);N=T=>{const M=Math.exp(-g*x*T);return r-M*((p+g*x*v)/w*Math.sin(w*T)+v*Math.cos(w*T))}}else if(g===1)N=w=>r-Math.exp(-x*w)*(v+(p+x*v)*w);else{const w=x*Math.sqrt(g*g-1);N=T=>{const M=Math.exp(-g*x*T),_=Math.min(w*T,300);return r-M*((p+g*x*v)*Math.sinh(_)+w*v*Math.cosh(_))/w}}const D={calculatedDuration:h&&m||null,next:w=>{const T=N(w);if(h)a.done=w>=m;else{let M=w===0?p:0;g<1&&(M=w===0?os(p):iw(N,w,T));const _=Math.abs(M)<=s,C=Math.abs(r-T)<=i;a.done=_&&C}return a.value=a.done?r:T,a},toString:()=>{const w=Math.min(Up(D),Cu),T=sw(M=>D.next(w*M).value,w,30);return w+"ms "+T},toTransition:()=>{}};return D}Pu.applyToOptions=e=>{const t=MP(e,100,Pu);return e.ease=t.ease,e.duration=os(t.duration),e.type="keyframes",e};function $f({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:u=.5,restSpeed:d}){const m=e[0],f={done:!1,value:m},h=_=>a!==void 0&&_<a||c!==void 0&&_>c,p=_=>a===void 0?c:c===void 0||Math.abs(a-_)<Math.abs(c-_)?a:c;let g=n*t;const v=m+g,x=r===void 0?v:r(v);x!==v&&(g=x-m);const E=_=>-g*Math.exp(-_/s),N=_=>x+E(_),D=_=>{const C=E(_),k=N(_);f.done=Math.abs(C)<=u,f.value=f.done?x:k};let w,T;const M=_=>{h(f.value)&&(w=_,T=Pu({keyframes:[f.value,p(f.value)],velocity:iw(N,_,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:_=>{let C=!1;return!T&&w===void 0&&(C=!0,D(_),M(_)),w!==void 0&&_>=w?T.next(_-w):(!C&&D(_),f)}}}function OP(e,t,n){const s=[],i=n||si.mix||nw,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||qn:t;a=Ul(c,a)}s.push(a)}return s}function LP(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(ni(o===t.length,"Both input and output ranges must be the same length"),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=OP(t,s,i),c=a.length,u=d=>{if(r&&d<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const f=pl(e[m],e[m+1],d);return a[m](f)};return n?d=>u(ti(e[0],e[o-1],d)):u}function FP(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=pl(0,t,s);e.push(vt(n,1,i))}}function BP(e){const t=[0];return FP(t,e.length-1),t}function HP(e,t){return e.map(n=>n*t)}function UP(e,t){return e.map(()=>t||q1).splice(0,e.length-1)}function cr({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=eP(s)?s.map(Xb):Xb(s),o={done:!1,value:t[0]},r=HP(n&&n.length===t.length?n:BP(t),e),a=LP(r,t,{ease:Array.isArray(i)?i:UP(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const $P=e=>e!==null;function $p(e,{repeat:t,repeatType:n="loop"},s,i=1){const o=e.filter($P),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||s===void 0?o[a]:s}const zP={decay:$f,inertia:$f,tween:cr,keyframes:cr,spring:Pu};function ow(e){typeof e.type=="string"&&(e.type=zP[e.type])}class zp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const WP=e=>e/100;class Wp extends zp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ow(t);const{type:n=cr,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:a}=t;const c=n||cr;c!==cr&&ni(a.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${a}`),c!==cr&&typeof a[0]!="number"&&(this.mixKeyframes=Ul(WP,nw(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=Up(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:m,repeatType:f,repeatDelay:h,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,D=s;if(m){const _=Math.min(this.currentTime,i)/a;let C=Math.floor(_),k=_%1;!k&&_>=1&&(k=1),k===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(f==="reverse"?(k=1-k,h&&(k-=h/a)):f==="mirror"&&(D=r)),N=ti(0,1,k)*a}const w=E?{done:!1,value:d[0]}:D.next(N);o&&(w.value=o(w.value));let{done:T}=w;!E&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return M&&p!==$f&&(w.value=$p(d,this.options,v,this.speed)),g&&g(w.value),M&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return Ss(this.calculatedDuration)}get time(){return Ss(this.currentTime)}set time(t){var n;t=os(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ss(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=kP,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(o=(i=this.options).onPlay)==null||o.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function qP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const so=e=>e*180/Math.PI,zf=e=>{const t=so(Math.atan2(e[1],e[0]));return Wf(t)},GP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zf,rotateZ:zf,skewX:e=>so(Math.atan(e[1])),skewY:e=>so(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wf=e=>(e=e%360,e<0&&(e+=360),e),iv=zf,ov=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),YP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ov,scaleY:rv,scale:e=>(ov(e)+rv(e))/2,rotateX:e=>Wf(so(Math.atan2(e[6],e[5]))),rotateY:e=>Wf(so(Math.atan2(-e[2],e[0]))),rotateZ:iv,rotate:iv,skewX:e=>so(Math.atan(e[4])),skewY:e=>so(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function qf(e){return e.includes("scale")?1:0}function Gf(e,t){if(!e||e==="none")return qf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=YP,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=GP,i=a}if(!i)return qf(t);const o=s[t],r=i[1].split(",").map(XP);return typeof o=="function"?o(r):r[o]}const KP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gf(n,t)};function XP(e){return parseFloat(e.trim())}const $r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zr=new Set($r),av=e=>e===Ur||e===Pe,JP=new Set(["x","y","z"]),QP=$r.filter(e=>!JP.has(e));function ZP(e){const t=[];return QP.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const mo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gf(t,"x"),y:(e,{transform:t})=>Gf(t,"y")};mo.translateX=mo.x;mo.translateY=mo.y;const fo=new Set;let Yf=!1,Kf=!1,Xf=!1;function rw(){if(Kf){const e=Array.from(fo).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=ZP(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var a;(a=s.getValue(o))==null||a.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kf=!1,Yf=!1,fo.forEach(e=>e.complete(Xf)),fo.clear()}function aw(){fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Kf=!0)})}function eA(){Xf=!0,aw(),rw(),Xf=!1}class qp{constructor(t,n,s,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),Yf||(Yf=!0,Nt.read(aw),Nt.resolveKeyframes(rw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const a=s.readValue(n,r);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}qP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tA=e=>e.startsWith("--");function nA(e,t,n){tA(t)?e.style.setProperty(t,n):e.style[t]=n}const sA=Ap(()=>window.ScrollTimeline!==void 0),iA={};function oA(e,t){const n=Ap(e);return()=>iA[t]??n()}const lw=oA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Aa=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,lv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Aa([0,.65,.55,1]),circOut:Aa([.55,0,1,.45]),backIn:Aa([.31,.01,.66,-.59]),backOut:Aa([.33,1.53,.69,.99])};function cw(e,t){if(e)return typeof e=="function"?lw()?sw(e,t):"ease-out":G1(e)?Aa(e):Array.isArray(e)?e.map(n=>cw(n,t)||lv.easeOut):lv[e]}function rA(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const m=cw(a,i);Array.isArray(m)&&(d.easing=m);const f={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function uw(e){return typeof e=="function"&&"applyToOptions"in e}function aA({type:e,...t}){return uw(e)&&lw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class lA extends zp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,ni(typeof t.type!="string",`animateMini doesn't support "type" as a string. Did you mean to import { spring } from "motion"?`);const u=aA(t);this.animation=rA(n,s,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=$p(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):nA(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ss(Number(t))}get time(){return Ss(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=os(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&sA()?(this.animation.timeline=t,qn):n(this)}}const dw={anticipate:$1,backInOut:U1,circInOut:W1};function cA(e){return e in dw}function uA(e){typeof e.ease=="string"&&cA(e.ease)&&(e.ease=dw[e.ease])}const cv=10;class dA extends lA{constructor(t){uA(t),ow(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Wp({...r,autoplay:!1}),c=os(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-cv).value,a.sample(c).value,cv),a.stop()}}const uv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ki.test(e)||e==="0")&&!e.startsWith("url("));function mA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fA(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=uv(i,t),a=uv(o,t);return Hr(r===a,`You are trying to animate ${t} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!r||!a?!1:mA(e)||(n==="spring"||uw(n))&&s}function Gp(e){return R1(e)&&"offsetHeight"in e}const hA=new Set(["opacity","clipPath","filter","transform"]),pA=Ap(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gA(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:o,type:r}=e;if(!Gp((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:c}=t.owner.getProps();return pA()&&n&&hA.has(n)&&(n!=="transform"||!c)&&!a&&!s&&i!=="mirror"&&o!==0&&r!=="inertia"}const bA=40;class vA extends zp{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:c,motionValue:u,element:d,...m}){var p;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=En.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,name:c,motionValue:u,element:d,...m},h=(d==null?void 0:d.KeyframeResolver)||qp;this.keyframeResolver=new h(a,(g,v,x)=>this.onKeyframesResolved(g,v,f,!x),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=En.now(),fA(t,o,r,a)||((si.instantAnimations||!c)&&(d==null||d($p(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},h=!u&&gA(f)?new dA({...f,element:f.motionValue.owner.current}):new Wp(f);h.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),eA()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const xA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NA(e){const t=xA.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}const yA=4;function mw(e,t,n=1){ni(n<=yA,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[s,i]=NA(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return I1(r)?parseFloat(r):r}return Lp(i)?mw(i,t,n+1):i}function Yp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const fw=new Set(["width","height","top","left","right","bottom",...$r]),wA={test:e=>e==="auto",parse:e=>e},hw=e=>t=>t.test(e),pw=[Ur,Pe,_s,di,mP,dP,wA],dv=e=>pw.find(hw(e));function DA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||V1(e):!0}const EA=new Set(["brightness","contrast","saturate","opacity"]);function TA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Fp)||[];if(!s)return e;const i=n.replace(s,"");let o=EA.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const SA=/\b([a-z-]*)\(.*?\)/gu,Jf={...ki,getAnimatableNone:e=>{const t=e.match(SA);return t?t.map(TA).join(" "):e}},mv={...Ur,transform:Math.round},_A={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:di,skewX:di,skewY:di,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:gl,originX:Qb,originY:Qb,originZ:Pe},Kp={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,..._A,zIndex:mv,fillOpacity:gl,strokeOpacity:gl,numOctaves:mv},kA={...Kp,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Jf,WebkitFilter:Jf},gw=e=>kA[e];function bw(e,t){let n=gw(e);return n!==Jf&&(n=ki),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const MA=new Set(["auto","none","0"]);function CA(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!MA.has(o)&&bl(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=bw(n,i)}class PA extends qp{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Lp(u))){const d=mw(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!fw.has(s)||t.length!==2)return;const[i,o]=t,r=dv(i),a=dv(o);if(r!==a)if(av(r)&&av(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else mo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||DA(t[i]))&&s.push(i);s.length&&CA(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=mo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function AA(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const vw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fv=30,jA=e=>!isNaN(parseFloat(e));class IA{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var r,a;const o=En.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return Ip(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jp);const s=this.events[t].add(n);return t==="change"?()=>{s(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fv);return O1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dr(e,t){return new IA(e,t)}const{schedule:Xp}=Y1(queueMicrotask,!1),Zn={x:!1,y:!1};function xw(){return Zn.x||Zn.y}function RA(e){return e==="x"||e==="y"?Zn[e]?null:(Zn[e]=!0,()=>{Zn[e]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}function Nw(e,t){const n=AA(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function hv(e){return!(e.pointerType==="touch"||xw())}function VA(e,t,n={}){const[s,i,o]=Nw(e,n),r=a=>{if(!hv(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const d=m=>{hv(m)&&(u(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return s.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const yw=(e,t)=>t?e===t?!0:yw(e,t.parentElement):!1,Jp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LA(e){return OA.has(e.tagName)||e.tabIndex!==-1}const uu=new WeakSet;function pv(e){return t=>{t.key==="Enter"&&e(t)}}function um(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const FA=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=pv(()=>{if(uu.has(n))return;um(n,"down");const i=pv(()=>{um(n,"up")}),o=()=>um(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function gv(e){return Jp(e)&&!xw()}function BA(e,t,n={}){const[s,i,o]=Nw(e,n),r=a=>{const c=a.currentTarget;if(!gv(a))return;uu.add(c);const u=t(c,a),d=(h,p)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),uu.has(c)&&uu.delete(c),gv(h)&&typeof u=="function"&&u(h,{success:p})},m=h=>{d(h,c===window||c===document||n.useGlobalTarget||yw(c,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),Gp(a)&&(a.addEventListener("focus",u=>FA(u,i)),!LA(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function ww(e){return R1(e)&&"ownerSVGElement"in e}function HA(e){return ww(e)&&e.tagName==="svg"}const Qt=e=>!!(e&&e.getVelocity),UA=[...pw,Jt,ki],$A=e=>UA.find(hw(e)),Qp=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class zA extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Gp(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WA({children:e,isPresent:t,anchorX:n}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:r}=b.useContext(Qp);return b.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:d,right:m}=o.current;if(t||!i.current||!a||!c)return;const f=n==="left"?`left: ${d}`:`right: ${m}`;i.current.dataset.motionPopId=s;const h=document.createElement("style");return r&&(h.nonce=r),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[t]),q.jsx(zA,{isPresent:t,childRef:i,sizeRef:o,children:b.cloneElement(e,{ref:i})})}const qA=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r,anchorX:a})=>{const c=kp(GA),u=b.useId();let d=!0,m=b.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const h of c.values())if(!h)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return o&&d&&(m={...m}),b.useMemo(()=>{c.forEach((f,h)=>c.set(h,!1))},[n]),b.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),r==="popLayout"&&(e=q.jsx(WA,{isPresent:n,anchorX:a,children:e})),q.jsx(cd.Provider,{value:m,children:e})};function GA(){return new Map}function Dw(e=!0){const t=b.useContext(cd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=b.useId();b.useEffect(()=>{if(e)return i(o)},[e]);const r=b.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const yc=e=>e.key||"";function bv(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const As=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:a="left"})=>{const[c,u]=Dw(r),d=b.useMemo(()=>bv(e),[e]),m=r&&!c?[]:d.map(yc),f=b.useRef(!0),h=b.useRef(d),p=kp(()=>new Map),[g,v]=b.useState(d),[x,E]=b.useState(d);j1(()=>{f.current=!1,h.current=d;for(let w=0;w<x.length;w++){const T=yc(x[w]);m.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[x,m.length,m.join("-")]);const N=[];if(d!==g){let w=[...d];for(let T=0;T<x.length;T++){const M=x[T],_=yc(M);m.includes(_)||(w.splice(T,0,M),N.push(M))}return o==="wait"&&N.length&&(w=N),E(bv(w)),v(d),null}o==="wait"&&x.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`);const{forceRender:D}=b.useContext(_p);return q.jsx(q.Fragment,{children:x.map(w=>{const T=yc(w),M=r&&!c?!1:d===x||m.includes(T),_=()=>{if(p.has(T))p.set(T,!0);else return;let C=!0;p.forEach(k=>{k||(C=!1)}),C&&(D==null||D(),E(h.current),r&&(u==null||u()),s&&s())};return q.jsx(qA,{isPresent:M,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,onExitComplete:M?void 0:_,anchorX:a,children:w},T)})})},Ew=b.createContext({strict:!1}),vv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Er={};for(const e in vv)Er[e]={isEnabled:t=>vv[e].some(n=>!!t[n])};function YA(e){for(const t in e)Er[t]={...Er[t],...e[t]}}const KA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Au(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KA.has(e)}let Tw=e=>!Au(e);function XA(e){e&&(Tw=t=>t.startsWith("on")?!Au(t):e(t))}try{XA(require("@emotion/is-prop-valid").default)}catch{}function JA(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Tw(i)||n===!0&&Au(i)||!t&&!Au(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function QA(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>(Ip(!1,"motion() is deprecated. Use motion.create() instead."),e(...s));return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ud=b.createContext({});function dd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vl(e){return typeof e=="string"||Array.isArray(e)}const Zp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eg=["initial",...Zp];function md(e){return dd(e.animate)||eg.some(t=>vl(e[t]))}function Sw(e){return!!(md(e)||e.variants)}function ZA(e,t){if(md(e)){const{initial:n,animate:s}=e;return{initial:n===!1||vl(n)?n:void 0,animate:vl(s)?s:void 0}}return e.inherit!==!1?t:{}}function e3(e){const{initial:t,animate:n}=ZA(e,b.useContext(ud));return b.useMemo(()=>({initial:t,animate:n}),[xv(t),xv(n)])}function xv(e){return Array.isArray(e)?e.join(" "):e}const t3=Symbol.for("motionComponentSymbol");function ur(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function n3(e,t,n){return b.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ur(n)&&(n.current=s))},[t])}const tg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),s3="framerAppearId",_w="data-"+tg(s3),kw=b.createContext({});function i3(e,t,n,s,i){var g,v;const{visualElement:o}=b.useContext(ud),r=b.useContext(Ew),a=b.useContext(cd),c=b.useContext(Qp).reducedMotion,u=b.useRef(null);s=s||r.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,m=b.useContext(kw);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&o3(u.current,n,i,m);const f=b.useRef(!1);b.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const h=n[_w],p=b.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,h)));return j1(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Xp.render(d.render),p.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,h)}),p.current=!1))}),d}function o3(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Mw(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&ur(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function Mw(e){if(e)return e.options.allowProjection!==!1?e.projection:Mw(e.parent)}function r3({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&YA(e);function o(a,c){let u;const d={...b.useContext(Qp),...a,layoutId:a3(a)},{isStatic:m}=d,f=e3(a),h=s(a,m);if(!m&&Mp){l3(d,e);const p=c3(d);u=p.MeasureLayout,f.visualElement=i3(i,h,d,t,p.ProjectionNode)}return q.jsxs(ud.Provider,{value:f,children:[u&&f.visualElement?q.jsx(u,{visualElement:f.visualElement,...d}):null,n(i,a,n3(h,f.visualElement,c),h,m,f.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const r=b.forwardRef(o);return r[t3]=i,r}function a3({layoutId:e}){const t=b.useContext(_p).id;return t&&e!==void 0?t+"-"+e:e}function l3(e,t){const n=b.useContext(Ew).strict;if(t&&n){const s="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";e.ignoreStrict?Hr(!1,s):ni(!1,s)}}function c3(e){const{drag:t,layout:n}=Er;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const xl={};function u3(e){for(const t in e)xl[t]=e[t],Op(t)&&(xl[t].isCSSVariable=!0)}function Cw(e,{layout:t,layoutId:n}){return zr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xl[e]||e==="opacity")}const d3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m3=$r.length;function f3(e,t,n){let s="",i=!0;for(let o=0;o<m3;o++){const r=$r[o],a=e[r];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(r.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=vw(a,Kp[r]);if(!c){i=!1;const d=d3[r]||r;s+=`${d}(${u}) `}n&&(t[r]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function ng(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const c in t){const u=t[c];if(zr.has(c)){r=!0;continue}else if(Op(c)){i[c]=u;continue}else{const d=vw(u,Kp[c]);c.startsWith("origin")?(a=!0,o[c]=d):s[c]=d}}if(t.transform||(r||n?s.transform=f3(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;s.transformOrigin=`${c} ${u} ${d}`}}const sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Pw(e,t,n){for(const s in t)!Qt(t[s])&&!Cw(s,n)&&(e[s]=t[s])}function h3({transformTemplate:e},t){return b.useMemo(()=>{const n=sg();return ng(n,t,e),Object.assign({},n.vars,n.style)},[t])}function p3(e,t){const n=e.style||{},s={};return Pw(s,n,e),Object.assign(s,h3(e,t)),s}function g3(e,t){const n={},s=p3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const b3={offset:"stroke-dashoffset",array:"stroke-dasharray"},v3={offset:"strokeDashoffset",array:"strokeDasharray"};function x3(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?b3:v3;e[o.offset]=Pe.transform(-s);const r=Pe.transform(t),a=Pe.transform(n);e[o.array]=`${r} ${a}`}function Aw(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},c,u,d){if(ng(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&x3(m,i,o,r,!1)}const jw=()=>({...sg(),attrs:{}}),Iw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function N3(e,t,n,s){const i=b.useMemo(()=>{const o=jw();return Aw(o,t,Iw(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Pw(o,e.style,e),i.style={...o,...i.style}}return i}const y3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ig(e){return typeof e!="string"||e.includes("-")?!1:!!(y3.indexOf(e)>-1||/[A-Z]/u.test(e))}function w3(e=!1){return(n,s,i,{latestValues:o},r)=>{const c=(ig(n)?N3:g3)(s,o,r,n),u=JA(s,typeof n=="string",e),d=n!==b.Fragment?{...u,...c,ref:i}:{},{children:m}=s,f=b.useMemo(()=>Qt(m)?m.get():m,[m]);return b.createElement(n,{...d,children:f})}}function Nv(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function og(e,t,n,s){if(typeof t=="function"){const[i,o]=Nv(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Nv(s);t=t(n!==void 0?n:e.custom,i,o)}return t}function du(e){return Qt(e)?e.get():e}function D3({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:E3(n,s,i,e),renderState:t()}}const Rw=e=>(t,n)=>{const s=b.useContext(ud),i=b.useContext(cd),o=()=>D3(e,t,s,i);return n?o():kp(o)};function E3(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=du(o[f]);let{initial:r,animate:a}=e;const c=md(e),u=Sw(e);t&&u&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||r===!1;const m=d?a:r;if(m&&typeof m!="boolean"&&!dd(m)){const f=Array.isArray(m)?m:[m];for(let h=0;h<f.length;h++){const p=og(e,f[h]);if(p){const{transitionEnd:g,transition:v,...x}=p;for(const E in x){let N=x[E];if(Array.isArray(N)){const D=d?N.length-1:0;N=N[D]}N!==null&&(i[E]=N)}for(const E in g)i[E]=g[E]}}}return i}function rg(e,t,n){var o;const{style:s}=e,i={};for(const r in s)(Qt(s[r])||t.style&&Qt(t.style[r])||Cw(r,e)||((o=n==null?void 0:n.getValue(r))==null?void 0:o.liveStyle)!==void 0)&&(i[r]=s[r]);return i}const T3={useVisualState:Rw({scrapeMotionValuesFromProps:rg,createRenderState:sg})};function Vw(e,t,n){const s=rg(e,t,n);for(const i in e)if(Qt(e[i])||Qt(t[i])){const o=$r.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}const S3={useVisualState:Rw({scrapeMotionValuesFromProps:Vw,createRenderState:jw})};function _3(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...ig(s)?S3:T3,preloadedFeatures:e,useRender:w3(i),createVisualElement:t,Component:s};return r3(r)}}function Nl(e,t,n){const s=e.getProps();return og(s,t,n!==void 0?n:s.custom,e)}const Qf=e=>Array.isArray(e);function k3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Dr(n))}function M3(e){return Qf(e)?e[e.length-1]||0:e}function C3(e,t){const n=Nl(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=M3(o[r]);k3(e,r,a)}}function P3(e){return!!(Qt(e)&&e.add)}function Zf(e,t){const n=e.getValue("willChange");if(P3(n))return n.add(t);if(!n&&si.WillChange){const s=new si.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Ow(e){return e.props[_w]}const A3=e=>e!==null;function j3(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(A3),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const I3={type:"spring",stiffness:500,damping:25,restSpeed:10},R3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),V3={type:"keyframes",duration:.8},O3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L3=(e,{keyframes:t})=>t.length>2?V3:zr.has(e)?e.startsWith("scale")?R3(t[1]):I3:O3;function F3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ag=(e,t,n,s={},i,o)=>r=>{const a=Yp(s,e)||{},c=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-os(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};F3(a)||Object.assign(d,L3(e,d)),d.duration&&(d.duration=os(d.duration)),d.repeatDelay&&(d.repeatDelay=os(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(m=!0)),(si.instantAnimations||si.skipAnimations)&&(m=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,m&&!o&&t.get()!==void 0){const f=j3(d.keyframes,a);if(f!==void 0){Nt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Wp(d):new vA(d)};function B3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Lw(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:r,...a}=t;s&&(o=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const m=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||u&&B3(u,d))continue;const h={delay:n,...Yp(o||{},d)},p=m.get();if(p!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===p&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const x=Ow(e);if(x){const E=window.MotionHandoffAnimation(x,d,Nt);E!==null&&(h.startTime=E,g=!0)}}Zf(e,d),m.start(ag(d,m,f,e.shouldReduceMotion&&fw.has(d)?{type:!1}:h,e,g));const v=m.animation;v&&c.push(v)}return r&&Promise.all(c).then(()=>{Nt.update(()=>{r&&C3(e,r)})}),c}function eh(e,t,n={}){var c;const s=Nl(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Lw(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:f}=i;return H3(e,t,d+u,m,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[o,r]:[r,o];return u().then(()=>d())}else return Promise.all([o(),r(n.delay)])}function H3(e,t,n=0,s=0,i=1,o){const r=[],a=(e.variantChildren.size-1)*s,c=i===1?(u=0)=>u*s:(u=0)=>a-u*s;return Array.from(e.variantChildren).sort(U3).forEach((u,d)=>{u.notify("AnimationStart",t),r.push(eh(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(r)}function U3(e,t){return e.sortNodePosition(t)}function $3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>eh(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=eh(e,t,n);else{const i=typeof t=="function"?Nl(e,t,n.custom):t;s=Promise.all(Lw(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Fw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const z3=eg.length;function Bw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Bw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<z3;n++){const s=eg[n],i=e.props[s];(vl(i)||i===!1)&&(t[s]=i)}return t}const W3=[...Zp].reverse(),q3=Zp.length;function G3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>$3(e,n,s)))}function Y3(e){let t=G3(e),n=yv(),s=!0;const i=c=>(u,d)=>{var f;const m=Nl(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:h,transitionEnd:p,...g}=m;u={...u,...g,...p}}return u};function o(c){t=c(e)}function r(c){const{props:u}=e,d=Bw(e.parent)||{},m=[],f=new Set;let h={},p=1/0;for(let v=0;v<q3;v++){const x=W3[v],E=n[x],N=u[x]!==void 0?u[x]:d[x],D=vl(N),w=x===c?E.isActive:null;w===!1&&(p=v);let T=N===d[x]&&N!==u[x]&&D;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),E.protectedKeys={...h},!E.isActive&&w===null||!N&&!E.prevProp||dd(N)||typeof N=="boolean")continue;const M=K3(E.prevProp,N);let _=M||x===c&&E.isActive&&!T&&D||v>p&&D,C=!1;const k=Array.isArray(N)?N:[N];let L=k.reduce(i(x),{});w===!1&&(L={});const{prevResolvedValues:B={}}=E,P={...B,...L},j=G=>{_=!0,f.has(G)&&(C=!0,f.delete(G)),E.needsAnimating[G]=!0;const $=e.getValue(G);$&&($.liveStyle=!1)};for(const G in P){const $=L[G],Z=B[G];if(h.hasOwnProperty(G))continue;let I=!1;Qf($)&&Qf(Z)?I=!Fw($,Z):I=$!==Z,I?$!=null?j(G):f.add(G):$!==void 0&&f.has(G)?j(G):E.protectedKeys[G]=!0}E.prevProp=N,E.prevResolvedValues=L,E.isActive&&(h={...h,...L}),s&&e.blockInitialAnimation&&(_=!1),_&&(!(T&&M)||C)&&m.push(...k.map(G=>({animation:G,options:{type:x}})))}if(f.size){const v={};if(typeof u.initial!="boolean"){const x=Nl(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(v.transition=x.transition)}f.forEach(x=>{const E=e.getBaseTarget(x),N=e.getValue(x);N&&(N.liveStyle=!0),v[x]=E??null}),m.push({animation:v})}let g=!!m.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(m):Promise.resolve()}function a(c,u){var m;if(n[c].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,u)}),n[c].isActive=u;const d=r(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=yv(),s=!0}}}function K3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fw(t,e):!1}function Hi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yv(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class Ii{constructor(t){this.isMounted=!1,this.node=t}update(){}}class X3 extends Ii{constructor(t){super(t),t.animationState||(t.animationState=Y3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let J3=0;class Q3 extends Ii{constructor(){super(...arguments),this.id=J3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Z3={animation:{Feature:X3},exit:{Feature:Q3}};function yl(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Wl(e){return{point:{x:e.pageX,y:e.pageY}}}const ej=e=>t=>Jp(t)&&e(t,Wl(t));function Wa(e,t,n,s){return yl(e,t,ej(n),s)}function Hw({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function tj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const Uw=1e-4,sj=1-Uw,ij=1+Uw,$w=.01,oj=0-$w,rj=0+$w;function dn(e){return e.max-e.min}function aj(e,t,n){return Math.abs(e-t)<=n}function wv(e,t,n,s=.5){e.origin=s,e.originPoint=vt(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=vt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sj&&e.scale<=ij||isNaN(e.scale))&&(e.scale=1),(e.translate>=oj&&e.translate<=rj||isNaN(e.translate))&&(e.translate=0)}function qa(e,t,n,s){wv(e.x,t.x,n.x,s?s.originX:void 0),wv(e.y,t.y,n.y,s?s.originY:void 0)}function Dv(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function lj(e,t,n){Dv(e.x,t.x,n.x),Dv(e.y,t.y,n.y)}function Ev(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function Ga(e,t,n){Ev(e.x,t.x,n.x),Ev(e.y,t.y,n.y)}const Tv=()=>({translate:0,scale:1,origin:0,originPoint:0}),dr=()=>({x:Tv(),y:Tv()}),Sv=()=>({min:0,max:0}),Tt=()=>({x:Sv(),y:Sv()});function Bn(e){return[e("x"),e("y")]}function dm(e){return e===void 0||e===1}function th({scale:e,scaleX:t,scaleY:n}){return!dm(e)||!dm(t)||!dm(n)}function Ki(e){return th(e)||zw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zw(e){return _v(e.x)||_v(e.y)}function _v(e){return e&&e!=="0%"}function ju(e,t,n){const s=e-n,i=t*s;return n+i}function kv(e,t,n,s,i){return i!==void 0&&(e=ju(e,i,s)),ju(e,n,s)+t}function nh(e,t=0,n=1,s,i){e.min=kv(e.min,t,n,s,i),e.max=kv(e.max,t,n,s,i)}function Ww(e,{x:t,y:n}){nh(e.x,t.translate,t.scale,t.originPoint),nh(e.y,n.translate,n.scale,n.originPoint)}const Mv=.999999999999,Cv=1.0000000000001;function cj(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&fr(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,Ww(e,r)),s&&Ki(o.latestValues)&&fr(e,o.latestValues))}t.x<Cv&&t.x>Mv&&(t.x=1),t.y<Cv&&t.y>Mv&&(t.y=1)}function mr(e,t){e.min=e.min+t,e.max=e.max+t}function Pv(e,t,n,s,i=.5){const o=vt(e.min,e.max,i);nh(e,t,n,o,s)}function fr(e,t){Pv(e.x,t.x,t.scaleX,t.scale,t.originX),Pv(e.y,t.y,t.scaleY,t.scale,t.originY)}function qw(e,t){return Hw(nj(e.getBoundingClientRect(),t))}function uj(e,t,n){const s=qw(e,n),{scroll:i}=t;return i&&(mr(s.x,i.offset.x),mr(s.y,i.offset.y)),s}const Gw=({current:e})=>e?e.ownerDocument.defaultView:null,Av=(e,t)=>Math.abs(e-t);function dj(e,t){const n=Av(e.x,t.x),s=Av(e.y,t.y);return Math.sqrt(n**2+s**2)}class Yw{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=fm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=dj(m.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=m,{timestamp:g}=Gt;this.history.push({...p,timestamp:g});const{onStart:v,onMove:x}=this.handlers;f||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=mm(f,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fm(m.type==="pointercancel"?this.lastMoveEventInfo:mm(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,v),p&&p(m,v)},!Jp(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const r=Wl(t),a=mm(r,this.transformPagePoint),{point:c}=a,{timestamp:u}=Gt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,fm(a,this.history)),this.removeListeners=Ul(Wa(this.contextWindow,"pointermove",this.handlePointerMove),Wa(this.contextWindow,"pointerup",this.handlePointerUp),Wa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function mm(e,t){return t?{point:t(e.point)}:e}function jv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fm({point:e},t){return{point:e,delta:jv(e,Kw(t)),offset:jv(e,mj(t)),velocity:fj(t,.1)}}function mj(e){return e[0]}function Kw(e){return e[e.length-1]}function fj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Kw(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>os(t)));)n--;if(!s)return{x:0,y:0};const o=Ss(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function hj(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?vt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?vt(n,e,s.max):Math.min(e,n)),e}function Iv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pj(e,{top:t,left:n,bottom:s,right:i}){return{x:Iv(e.x,n,i),y:Iv(e.y,t,s)}}function Rv(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function gj(e,t){return{x:Rv(e.x,t.x),y:Rv(e.y,t.y)}}function bj(e,t){let n=.5;const s=dn(e),i=dn(t);return i>s?n=pl(t.min,t.max-s,e.min):s>i&&(n=pl(e.min,e.max-i,t.min)),ti(0,1,n)}function vj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const sh=.35;function xj(e=sh){return e===!1?e=0:e===!0&&(e=sh),{x:Vv(e,"left","right"),y:Vv(e,"top","bottom")}}function Vv(e,t,n){return{min:Ov(e,t),max:Ov(e,n)}}function Ov(e,t){return typeof e=="number"?e:e[t]||0}const Nj=new WeakMap;class yj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wl(d).point)},o=(d,m)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RA(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(v=>{let x=this.getAxisMotionValue(v).get()||0;if(_s.test(x)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[v];N&&(x=dn(N)*(parseFloat(x)/100))}}this.originPoint[v]=x}),p&&Nt.postRender(()=>p(d,m)),Zf(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},r=(d,m)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=m;if(h&&this.currentDirection===null){this.currentDirection=wj(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),g&&g(d,m)},a=(d,m)=>this.stop(d,m),c=()=>Bn(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Yw(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Gw(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Nt.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!wc(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=hj(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&ur(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=pj(s.layoutBox,t):this.constraints=!1,this.elastic=xj(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bn(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=vj(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ur(t))return!1;const s=t.current;ni(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=uj(s,i.root,this.visualElement.getTransformPagePoint());let r=gj(i.layout.layoutBox,o);if(n){const a=n(tj(r));this.hasMutatedConstraints=!!a,a&&(r=Hw(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Bn(d=>{if(!wc(d,n,this.currentDirection))return;let m=c&&c[d]||{};r&&(m={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Zf(this.visualElement,t),s.start(ag(t,s,0,n,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Bn(n=>{const{drag:s}=this.getProps();if(!wc(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(t[n]-vt(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ur(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=bj({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Bn(r=>{if(!wc(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:u}=this.constraints[r];a.set(vt(c,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;Nj.set(this.visualElement,this);const t=this.visualElement.current,n=Wa(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ur(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Nt.read(s);const r=yl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bn(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=sh,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function wc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Dj extends Ii{constructor(t){super(t),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new yj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lv=e=>(t,n)=>{e&&Nt.postRender(()=>e(t,n))};class Ej extends Ii{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(t){this.session=new Yw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lv(t),onStart:Lv(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&Nt.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Wa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ma={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pe.test(e))e=parseFloat(e);else return e;const n=Fv(e,t.target.x),s=Fv(e,t.target.y);return`${n}% ${s}%`}},Tj={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=ki.parse(e);if(i.length>5)return s;const o=ki.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const u=vt(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}};class Sj extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;u3(_j),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),mu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:r}=s;return r&&(r.isPresent=o,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||Nt.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Xw(e){const[t,n]=Dw(),s=b.useContext(_p);return q.jsx(Sj,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(kw),isPresent:t,safeToRemove:n})}const _j={borderRadius:{...ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ma,borderTopRightRadius:ma,borderBottomLeftRadius:ma,borderBottomRightRadius:ma,boxShadow:Tj};function kj(e,t,n){const s=Qt(e)?e:Dr(e);return s.start(ag("",s,t,n)),s.animation}const Mj=(e,t)=>e.depth-t.depth;class Cj{constructor(){this.children=[],this.isDirty=!1}add(t){Cp(this.children,t),this.isDirty=!0}remove(t){Pp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mj),this.isDirty=!1,this.children.forEach(t)}}function Pj(e,t){const n=En.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(_i(s),e(o-t))};return Nt.setup(s,!0),()=>_i(s)}const Jw=["TopLeft","TopRight","BottomLeft","BottomRight"],Aj=Jw.length,Bv=e=>typeof e=="string"?parseFloat(e):e,Hv=e=>typeof e=="number"||Pe.test(e);function jj(e,t,n,s,i,o){i?(e.opacity=vt(0,n.opacity??1,Ij(s)),e.opacityExit=vt(t.opacity??1,0,Rj(s))):o&&(e.opacity=vt(t.opacity??1,n.opacity??1,s));for(let r=0;r<Aj;r++){const a=`border${Jw[r]}Radius`;let c=Uv(t,a),u=Uv(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Hv(c)===Hv(u)?(e[a]=Math.max(vt(Bv(c),Bv(u),s),0),(_s.test(u)||_s.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=vt(t.rotate||0,n.rotate||0,s))}function Uv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ij=Qw(0,.5,z1),Rj=Qw(.5,.95,qn);function Qw(e,t,n){return s=>s<e?0:s>t?1:n(pl(e,t,s))}function $v(e,t){e.min=t.min,e.max=t.max}function Ln(e,t){$v(e.x,t.x),$v(e.y,t.y)}function zv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Wv(e,t,n,s,i){return e-=t,e=ju(e,1/n,s),i!==void 0&&(e=ju(e,1/i,s)),e}function Vj(e,t=0,n=1,s=.5,i,o=e,r=e){if(_s.test(t)&&(t=parseFloat(t),t=vt(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=vt(o.min,o.max,s);e===o&&(a-=t),e.min=Wv(e.min,t,n,a,i),e.max=Wv(e.max,t,n,a,i)}function qv(e,t,[n,s,i],o,r){Vj(e,t[n],t[s],t[i],t.scale,o,r)}const Oj=["x","scaleX","originX"],Lj=["y","scaleY","originY"];function Gv(e,t,n,s){qv(e.x,t,Oj,n?n.x:void 0,s?s.x:void 0),qv(e.y,t,Lj,n?n.y:void 0,s?s.y:void 0)}function Yv(e){return e.translate===0&&e.scale===1}function Zw(e){return Yv(e.x)&&Yv(e.y)}function Kv(e,t){return e.min===t.min&&e.max===t.max}function Fj(e,t){return Kv(e.x,t.x)&&Kv(e.y,t.y)}function Xv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eD(e,t){return Xv(e.x,t.x)&&Xv(e.y,t.y)}function Jv(e){return dn(e.x)/dn(e.y)}function Qv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Bj{constructor(){this.members=[]}add(t){Cp(this.members,t),t.scheduleRender()}remove(t){if(Pp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hj(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:m,rotateY:f,skewX:h,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),m&&(s+=`rotateX(${m}deg) `),f&&(s+=`rotateY(${f}deg) `),h&&(s+=`skewX(${h}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const hm=["","X","Y","Z"],Uj={visibility:"hidden"},$j=1e3;let zj=0;function pm(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function tD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ow(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&tD(s)}function nD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=zj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gj),this.nodes.forEach(Qj),this.nodes.forEach(Zj),this.nodes.forEach(Yj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cj)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new jp),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=ww(r)&&!HA(r),this.instance=r;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d;const m=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Pj(m,250),mu.hasAnimatedSinceResize&&(mu.hasAnimatedSinceResize=!1,this.nodes.forEach(e0))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||iI,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!eD(this.targetLayout,h),E=!m&&f;if(this.options.layoutRoot||this.resumeFrom||E||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Yp(p,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(d,E)}else m||e0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eI),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zv);return}this.isUpdating||this.nodes.forEach(Xj),this.isUpdating=!1,this.nodes.forEach(Jj),this.nodes.forEach(Wj),this.nodes.forEach(qj),this.clearAllSnapshots();const a=En.now();Gt.delta=ti(0,1e3/60,a-Gt.timestamp),Gt.timestamp=a,Gt.isProcessing=!0,rm.update.process(Gt),rm.preRender.process(Gt),rm.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kj),this.sharedNodes.forEach(tI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Zw(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&this.instance&&(a||Ki(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),oI(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:r}=this.options;if(!r)return Tt();const a=r.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(rI))){const{scroll:d}=this.root;d&&(mr(a.x,d.offset.x),mr(a.y,d.offset.y))}return a}removeElementScroll(r){var c;const a=Tt();if(Ln(a,r),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:m,options:f}=d;d!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&Ln(a,r),mr(a.x,m.offset.x),mr(a.y,m.offset.y))}return a}applyTransform(r,a=!1){const c=Tt();Ln(c,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ki(d.latestValues)&&fr(c,d.latestValues)}return Ki(this.latestValues)&&fr(c,this.latestValues),c}removeTransform(r){const a=Tt();Ln(a,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ki(u.latestValues))continue;th(u.latestValues)&&u.updateSnapshot();const d=Tt(),m=u.measurePageBox();Ln(d,m),Gv(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ki(this.latestValues)&&Gv(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Ga(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),Ww(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Ga(this.relativeTargetOrigin,this.target,h.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||th(this.parent.latestValues)||zw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const r=this.getLead(),a=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ln(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;cj(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Tt());const{target:h}=r;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zv(this.prevProjectionDelta.x,this.projectionDelta.x),zv(this.prevProjectionDelta.y,this.projectionDelta.y)),qa(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Qv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dr(),this.projectionDelta=dr(),this.projectionDeltaWithTransform=dr()}setAnimationOrigin(r,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=dr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,v=this.getStack(),x=!v||v.members.length<=1,E=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(sI));this.animationProgress=0;let N;this.mixTargetDelta=D=>{const w=D/1e3;t0(m.x,r.x,w),t0(m.y,r.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ga(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nI(this.relativeTarget,this.relativeTargetOrigin,f,w),N&&Fj(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Tt()),Ln(N,this.relativeTarget)),g&&(this.animationValues=d,jj(d,u,this.latestValues,w,E,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{mu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dr(0)),this.currentAnimation=kj(this.motionValue,[0,1e3],{...r,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),r.onUpdate&&r.onUpdate(d)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($j),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=r;if(!(!a||!c||!u)){if(this!==r&&this.layout&&u&&sD(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Tt();const m=dn(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+m;const f=dn(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}Ln(a,c),fr(a,d),qa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Bj),this.sharedNodes.get(r).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var a;const{layoutId:r}=this.options;return r?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:r}=this.options;return r?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&pm("z",r,u,this.animationValues);for(let d=0;d<hm.length;d++)pm(`rotate${hm[d]}`,r,u,this.animationValues),pm(`skew${hm[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}getProjectionStyles(r){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Uj;const a={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=du(r==null?void 0:r.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=du(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=Hj(this.projectionDeltaWithTransform,this.treeScale,d),c&&(a.transform=c(d,a.transform));const{x:m,y:f}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in xl){if(d[h]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:v}=xl[h],x=a.transform==="none"?d[h]:p(d[h],u);if(g){const E=g.length;for(let N=0;N<E;N++)a[g[N]]=x}else v?this.options.visualElement.renderState.vars[h]=x:a[h]=x}return this.options.layoutId&&(a.pointerEvents=u===this?du(r==null?void 0:r.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Zv),this.root.sharedNodes.clear()}}}function Wj(e){e.updateLayout()}function qj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=t.source!==e.layout.source;o==="size"?Bn(m=>{const f=r?t.measuredBox[m]:t.layoutBox[m],h=dn(f);f.min=s[m].min,f.max=f.min+h}):sD(o,t.layoutBox,s)&&Bn(m=>{const f=r?t.measuredBox[m]:t.layoutBox[m],h=dn(s[m]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const a=dr();qa(a,s,t.layoutBox);const c=dr();r?qa(c,e.applyTransform(i,!0),t.measuredBox):qa(c,s,t.layoutBox);const u=!Zw(a);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:h}=m;if(f&&h){const p=Tt();Ga(p,t.layoutBox,f.layoutBox);const g=Tt();Ga(g,s,h.layoutBox),eD(p,g)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Gj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kj(e){e.clearSnapshot()}function Zv(e){e.clearMeasurements()}function Xj(e){e.isLayoutDirty=!1}function Jj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qj(e){e.resolveTargetDelta()}function Zj(e){e.calcProjection()}function eI(e){e.resetSkewAndRotation()}function tI(e){e.removeLeadSnapshot()}function t0(e,t,n){e.translate=vt(t.translate,0,n),e.scale=vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function n0(e,t,n,s){e.min=vt(t.min,n.min,s),e.max=vt(t.max,n.max,s)}function nI(e,t,n,s){n0(e.x,t.x,n.x,s),n0(e.y,t.y,n.y,s)}function sI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iI={duration:.45,ease:[.4,0,.1,1]},s0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),i0=s0("applewebkit/")&&!s0("chrome/")?Math.round:qn;function o0(e){e.min=i0(e.min),e.max=i0(e.max)}function oI(e){o0(e.x),o0(e.y)}function sD(e,t,n){return e==="position"||e==="preserve-aspect"&&!aj(Jv(t),Jv(n),.2)}function rI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const aI=nD({attachResizeListener:(e,t)=>yl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gm={current:void 0},iD=nD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gm.current){const e=new aI({});e.mount(window),e.setOptions({layoutScroll:!0}),gm.current=e}return gm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lI={pan:{Feature:Ej},drag:{Feature:Dj,ProjectionNode:iD,MeasureLayout:Xw}};function r0(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&Nt.postRender(()=>o(t,Wl(t)))}class cI extends Ii{mount(){const{current:t}=this.node;t&&(this.unmount=VA(t,(n,s)=>(r0(this.node,s,"Start"),i=>r0(this.node,i,"End"))))}unmount(){}}class uI extends Ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ul(yl(this.node.current,"focus",()=>this.onFocus()),yl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a0(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&Nt.postRender(()=>o(t,Wl(t)))}class dI extends Ii{mount(){const{current:t}=this.node;t&&(this.unmount=BA(t,(n,s)=>(a0(this.node,s,"Start"),(i,{success:o})=>a0(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ih=new WeakMap,bm=new WeakMap,mI=e=>{const t=ih.get(e.target);t&&t(e)},fI=e=>{e.forEach(mI)};function hI({root:e,...t}){const n=e||document;bm.has(n)||bm.set(n,{});const s=bm.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(fI,{root:e,...t})),s[i]}function pI(e,t,n){const s=hI(t);return ih.set(e,n),s.observe(e),()=>{ih.delete(e),s.unobserve(e)}}const gI={some:0,all:1};class bI extends Ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:gI[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),f=u?d:m;f&&f(c)};return pI(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vI(t,n))&&this.startObserver()}unmount(){}}function vI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xI={inView:{Feature:bI},tap:{Feature:dI},focus:{Feature:uI},hover:{Feature:cI}},NI={layout:{ProjectionNode:iD,MeasureLayout:Xw}},oh={current:null},oD={current:!1};function yI(){if(oD.current=!0,!!Mp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oh.current=e.matches;e.addListener(t),t()}else oh.current=!1}const wI=new WeakMap;function DI(e,t,n){for(const s in t){const i=t[s],o=n[s];if(Qt(i))e.addValue(s,i);else if(Qt(o))e.addValue(s,Dr(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,Dr(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const l0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EI{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=En.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Nt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=r;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=md(n),this.isVariantNode=Sw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const h=m[f];c[f]!==void 0&&Qt(h)&&h.set(c[f],!1)}}mount(t){this.current=t,wI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),oD.current||yI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oh.current,Ip(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=zr.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Er){const n=Er[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<l0.length;s++){const i=l0[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=DI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Dr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(I1(s)||V1(s))?s=parseFloat(s):!$A(s)&&ki.test(n)&&(s=bw(t,n)),this.setBaseTarget(t,Qt(s)?s.get():s)),Qt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=og(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Qt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class rD extends EI{constructor(){super(...arguments),this.KeyframeResolver=PA}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function aD(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}function TI(e){return window.getComputedStyle(e)}class SI extends rD{constructor(){super(...arguments),this.type="html",this.renderInstance=aD}readValueFromInstance(t,n){var s;if(zr.has(n))return(s=this.projection)!=null&&s.isProjecting?qf(n):KP(t,n);{const i=TI(t),o=(Op(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qw(t,n)}build(t,n,s){ng(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return rg(t,n,s)}}const lD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _I(e,t,n,s){aD(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(lD.has(i)?i:tg(i),t.attrs[i])}class kI extends rD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(zr.has(n)){const s=gw(n);return s&&s.default||0}return n=lD.has(n)?n:tg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Vw(t,n,s)}build(t,n,s){Aw(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){_I(t,n,s,i)}mount(t){this.isSVGTag=Iw(t.tagName),super.mount(t)}}const MI=(e,t)=>ig(e)?new kI(t):new SI(t,{allowProjection:e!==b.Fragment}),CI=_3({...Z3,...xI,...lI,...NI},MI),Be=QA(CI);function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function c0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cD(...e){return t=>{let n=!1;const s=e.map(i=>{const o=c0(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():c0(e[i],null)}}}}function Je(...e){return b.useCallback(cD(...e),e)}function PI(e,t){const n=b.createContext(t),s=o=>{const{children:r,...a}=o,c=b.useMemo(()=>a,Object.values(a));return q.jsx(n.Provider,{value:c,children:r})};s.displayName=e+"Provider";function i(o){const r=b.useContext(n);if(r)return r;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,i]}function Is(e,t=[]){let n=[];function s(o,r){const a=b.createContext(r),c=n.length;n=[...n,r];const u=m=>{var x;const{scope:f,children:h,...p}=m,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||a,v=b.useMemo(()=>p,Object.values(p));return q.jsx(g.Provider,{value:v,children:h})};u.displayName=o+"Provider";function d(m,f){var g;const h=((g=f==null?void 0:f[e])==null?void 0:g[c])||a,p=b.useContext(h);if(p)return p;if(r!==void 0)return r;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(r=>b.createContext(r));return function(a){const c=(a==null?void 0:a[e])||o;return b.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[s,AI(i,...t)]}function AI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const r=s.reduce((a,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...a,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Tr(e){const t=II(e),n=b.forwardRef((s,i)=>{const{children:o,...r}=s,a=b.Children.toArray(o),c=a.find(VI);if(c){const u=c.props.children,d=a.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return q.jsx(t,{...r,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return q.jsx(t,{...r,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var jI=Tr("Slot");function II(e){const t=b.forwardRef((n,s)=>{const{children:i,...o}=n;if(b.isValidElement(i)){const r=LI(i),a=OI(o,i.props);return i.type!==b.Fragment&&(a.ref=s?cD(s,r):r),b.cloneElement(i,a)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uD=Symbol("radix.slottable");function RI(e){const t=({children:n})=>q.jsx(q.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=uD,t}function VI(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uD}function OI(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function LI(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var FI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=FI.reduce((e,t)=>{const n=Tr(`Primitive.${t}`),s=b.forwardRef((i,o)=>{const{asChild:r,...a}=i,c=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(c,{...a,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function dD(e,t){e&&Fr.flushSync(()=>e.dispatchEvent(t))}function Rt(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function BI(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e);b.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var HI="DismissableLayer",rh="dismissableLayer.update",UI="dismissableLayer.pointerDownOutside",$I="dismissableLayer.focusOutside",u0,mD=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ql=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:r,onDismiss:a,...c}=e,u=b.useContext(mD),[d,m]=b.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=b.useState({}),p=Je(t,M=>m(M)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),E=d?g.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,D=E>=x,w=WI(M=>{const _=M.target,C=[...u.branches].some(k=>k.contains(_));!D||C||(i==null||i(M),r==null||r(M),M.defaultPrevented||a==null||a())},f),T=qI(M=>{const _=M.target;[...u.branches].some(k=>k.contains(_))||(o==null||o(M),r==null||r(M),M.defaultPrevented||a==null||a())},f);return BI(M=>{E===u.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},f),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(u0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),d0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=u0)}},[d,f,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),d0())},[d,u]),b.useEffect(()=>{const M=()=>h({});return document.addEventListener(rh,M),()=>document.removeEventListener(rh,M)},[]),q.jsx(Ae.div,{...c,ref:p,style:{pointerEvents:N?D?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,T.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,w.onPointerDownCapture)})});ql.displayName=HI;var zI="DismissableLayerBranch",fD=b.forwardRef((e,t)=>{const n=b.useContext(mD),s=b.useRef(null),i=Je(t,s);return b.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),q.jsx(Ae.div,{...e,ref:i})});fD.displayName=zI;function WI(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),s=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=a=>{if(a.target&&!s.current){let c=function(){hD(UI,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function qI(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),s=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!s.current&&hD($I,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function d0(){const e=new CustomEvent(rh);document.dispatchEvent(e)}function hD(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?dD(i,o):i.dispatchEvent(o)}var GI=ql,YI=fD,zt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},KI=No[" useId ".trim().toString()]||(()=>{}),XI=0;function Js(e){const[t,n]=b.useState(KI());return zt(()=>{n(s=>s??String(XI++))},[e]),t?`radix-${t}`:""}const JI=["top","right","bottom","left"],Mi=Math.min,Pn=Math.max,Iu=Math.round,Dc=Math.floor,ks=e=>({x:e,y:e}),QI={left:"right",right:"left",bottom:"top",top:"bottom"},ZI={start:"end",end:"start"};function ah(e,t,n){return Pn(e,Mi(t,n))}function ii(e,t){return typeof e=="function"?e(t):e}function oi(e){return e.split("-")[0]}function Wr(e){return e.split("-")[1]}function lg(e){return e==="x"?"y":"x"}function cg(e){return e==="y"?"height":"width"}function Qs(e){return["top","bottom"].includes(oi(e))?"y":"x"}function ug(e){return lg(Qs(e))}function eR(e,t,n){n===void 0&&(n=!1);const s=Wr(e),i=ug(e),o=cg(i);let r=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=Ru(r)),[r,Ru(r)]}function tR(e){const t=Ru(e);return[lh(e),t,lh(t)]}function lh(e){return e.replace(/start|end/g,t=>ZI[t])}function nR(e,t,n){const s=["left","right"],i=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?o:r;default:return[]}}function sR(e,t,n,s){const i=Wr(e);let o=nR(oi(e),n==="start",s);return i&&(o=o.map(r=>r+"-"+i),t&&(o=o.concat(o.map(lh)))),o}function Ru(e){return e.replace(/left|right|bottom|top/g,t=>QI[t])}function iR(e){return{top:0,right:0,bottom:0,left:0,...e}}function pD(e){return typeof e!="number"?iR(e):{top:e,right:e,bottom:e,left:e}}function Vu(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function m0(e,t,n){let{reference:s,floating:i}=e;const o=Qs(t),r=ug(t),a=cg(r),c=oi(t),u=o==="y",d=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,f=s[a]/2-i[a]/2;let h;switch(c){case"top":h={x:d,y:s.y-i.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:m};break;case"left":h={x:s.x-i.width,y:m};break;default:h={x:s.x,y:s.y}}switch(Wr(t)){case"start":h[r]-=f*(n&&u?-1:1);break;case"end":h[r]+=f*(n&&u?-1:1);break}return h}const oR=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:r}=n,a=o.filter(Boolean),c=await(r.isRTL==null?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:m}=m0(u,s,c),f=s,h={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:x}=a[g],{x:E,y:N,data:D,reset:w}=await x({x:d,y:m,initialPlacement:s,placement:f,strategy:i,middlewareData:h,rects:u,platform:r,elements:{reference:e,floating:t}});d=E??d,m=N??m,h={...h,[v]:{...h[v],...D}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(u=w.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:m}=m0(u,f,c)),g=-1)}return{x:d,y:m,placement:f,strategy:i,middlewareData:h}};async function wl(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:r,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:f=!1,padding:h=0}=ii(t,e),p=pD(h),v=a[f?m==="floating"?"reference":"floating":m],x=Vu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),E=m==="floating"?{x:s,y:i,width:r.floating.width,height:r.floating.height}:r.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),D=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},w=Vu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:N,strategy:c}):E);return{top:(x.top-w.top+p.top)/D.y,bottom:(w.bottom-x.bottom+p.bottom)/D.y,left:(x.left-w.left+p.left)/D.x,right:(w.right-x.right+p.right)/D.x}}const rR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:r,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=ii(e,t)||{};if(u==null)return{};const m=pD(d),f={x:n,y:s},h=ug(i),p=cg(h),g=await r.getDimensions(u),v=h==="y",x=v?"top":"left",E=v?"bottom":"right",N=v?"clientHeight":"clientWidth",D=o.reference[p]+o.reference[h]-f[h]-o.floating[p],w=f[h]-o.reference[h],T=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let M=T?T[N]:0;(!M||!await(r.isElement==null?void 0:r.isElement(T)))&&(M=a.floating[N]||o.floating[p]);const _=D/2-w/2,C=M/2-g[p]/2-1,k=Mi(m[x],C),L=Mi(m[E],C),B=k,P=M-g[p]-L,j=M/2-g[p]/2+_,R=ah(B,j,P),U=!c.arrow&&Wr(i)!=null&&j!==R&&o.reference[p]/2-(j<B?k:L)-g[p]/2<0,G=U?j<B?j-B:j-P:0;return{[h]:f[h]+G,data:{[h]:R,centerOffset:j-R-G,...U&&{alignmentOffset:G}},reset:U}}}),aR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:r,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=ii(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=oi(i),E=Qs(a),N=oi(a)===a,D=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=f||(N||!g?[Ru(a)]:tR(a)),T=p!=="none";!f&&T&&w.push(...sR(a,g,p,D));const M=[a,...w],_=await wl(t,v),C=[];let k=((s=o.flip)==null?void 0:s.overflows)||[];if(d&&C.push(_[x]),m){const R=eR(i,r,D);C.push(_[R[0]],_[R[1]])}if(k=[...k,{placement:i,overflows:C}],!C.every(R=>R<=0)){var L,B;const R=(((L=o.flip)==null?void 0:L.index)||0)+1,U=M[R];if(U){var P;const $=m==="alignment"?E!==Qs(U):!1,Z=((P=k[0])==null?void 0:P.overflows[0])>0;if(!$||Z)return{data:{index:R,overflows:k},reset:{placement:U}}}let G=(B=k.filter($=>$.overflows[0]<=0).sort(($,Z)=>$.overflows[1]-Z.overflows[1])[0])==null?void 0:B.placement;if(!G)switch(h){case"bestFit":{var j;const $=(j=k.filter(Z=>{if(T){const I=Qs(Z.placement);return I===E||I==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(I=>I>0).reduce((I,oe)=>I+oe,0)]).sort((Z,I)=>Z[1]-I[1])[0])==null?void 0:j[0];$&&(G=$);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function f0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function h0(e){return JI.some(t=>e[t]>=0)}const lR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=ii(e,t);switch(s){case"referenceHidden":{const o=await wl(t,{...i,elementContext:"reference"}),r=f0(o,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:h0(r)}}}case"escaped":{const o=await wl(t,{...i,altBoundary:!0}),r=f0(o,n.floating);return{data:{escapedOffsets:r,escaped:h0(r)}}}default:return{}}}}};async function cR(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),r=oi(n),a=Wr(n),c=Qs(n)==="y",u=["left","top"].includes(r)?-1:1,d=o&&c?-1:1,m=ii(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*d,y:f*u}:{x:f*u,y:h*d}}const uR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:r,middlewareData:a}=t,c=await cR(t,e);return r===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:r}}}}},dR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:v=>{let{x,y:E}=v;return{x,y:E}}},...c}=ii(e,t),u={x:n,y:s},d=await wl(t,c),m=Qs(oi(i)),f=lg(m);let h=u[f],p=u[m];if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",E=h+d[v],N=h-d[x];h=ah(E,h,N)}if(r){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",E=p+d[v],N=p-d[x];p=ah(E,p,N)}const g=a.fn({...t,[f]:h,[m]:p});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[f]:o,[m]:r}}}}}},mR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:o,middlewareData:r}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=ii(e,t),d={x:n,y:s},m=Qs(i),f=lg(m);let h=d[f],p=d[m];const g=ii(a,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=f==="y"?"height":"width",D=o.reference[f]-o.floating[N]+v.mainAxis,w=o.reference[f]+o.reference[N]-v.mainAxis;h<D?h=D:h>w&&(h=w)}if(u){var x,E;const N=f==="y"?"width":"height",D=["top","left"].includes(oi(i)),w=o.reference[m]-o.floating[N]+(D&&((x=r.offset)==null?void 0:x[m])||0)+(D?0:v.crossAxis),T=o.reference[m]+o.reference[N]+(D?0:((E=r.offset)==null?void 0:E[m])||0)-(D?v.crossAxis:0);p<w?p=w:p>T&&(p=T)}return{[f]:h,[m]:p}}}},fR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:o,platform:r,elements:a}=t,{apply:c=()=>{},...u}=ii(e,t),d=await wl(t,u),m=oi(i),f=Wr(i),h=Qs(i)==="y",{width:p,height:g}=o.floating;let v,x;m==="top"||m==="bottom"?(v=m,x=f===(await(r.isRTL==null?void 0:r.isRTL(a.floating))?"start":"end")?"left":"right"):(x=m,v=f==="end"?"top":"bottom");const E=g-d.top-d.bottom,N=p-d.left-d.right,D=Mi(g-d[v],E),w=Mi(p-d[x],N),T=!t.middlewareData.shift;let M=D,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(M=E),T&&!f){const k=Pn(d.left,0),L=Pn(d.right,0),B=Pn(d.top,0),P=Pn(d.bottom,0);h?_=p-2*(k!==0||L!==0?k+L:Pn(d.left,d.right)):M=g-2*(B!==0||P!==0?B+P:Pn(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:M});const C=await r.getDimensions(a.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function fd(){return typeof window<"u"}function qr(e){return gD(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rs(e){var t;return(t=(gD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gD(e){return fd()?e instanceof Node||e instanceof An(e).Node:!1}function as(e){return fd()?e instanceof Element||e instanceof An(e).Element:!1}function js(e){return fd()?e instanceof HTMLElement||e instanceof An(e).HTMLElement:!1}function p0(e){return!fd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}function Gl(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=ls(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function hR(e){return["table","td","th"].includes(qr(e))}function hd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function dg(e){const t=mg(),n=as(e)?ls(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function pR(e){let t=Ci(e);for(;js(t)&&!Sr(t);){if(dg(t))return t;if(hd(t))return null;t=Ci(t)}return null}function mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sr(e){return["html","body","#document"].includes(qr(e))}function ls(e){return An(e).getComputedStyle(e)}function pd(e){return as(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ci(e){if(qr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p0(e)&&e.host||Rs(e);return p0(t)?t.host:t}function bD(e){const t=Ci(e);return Sr(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&Gl(t)?t:bD(t)}function Dl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=bD(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),r=An(i);if(o){const a=ch(r);return t.concat(r,r.visualViewport||[],Gl(i)?i:[],a&&n?Dl(a):[])}return t.concat(i,Dl(i,[],n))}function ch(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vD(e){const t=ls(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=js(e),o=i?e.offsetWidth:n,r=i?e.offsetHeight:s,a=Iu(n)!==o||Iu(s)!==r;return a&&(n=o,s=r),{width:n,height:s,$:a}}function fg(e){return as(e)?e:e.contextElement}function br(e){const t=fg(e);if(!js(t))return ks(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=vD(t);let r=(o?Iu(n.width):n.width)/s,a=(o?Iu(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}const gR=ks(0);function xD(e){const t=An(e);return!mg()||!t.visualViewport?gR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function wo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=fg(e);let r=ks(1);t&&(s?as(s)&&(r=br(s)):r=br(e));const a=bR(o,n,s)?xD(o):ks(0);let c=(i.left+a.x)/r.x,u=(i.top+a.y)/r.y,d=i.width/r.x,m=i.height/r.y;if(o){const f=An(o),h=s&&as(s)?An(s):s;let p=f,g=ch(p);for(;g&&s&&h!==p;){const v=br(g),x=g.getBoundingClientRect(),E=ls(g),N=x.left+(g.clientLeft+parseFloat(E.paddingLeft))*v.x,D=x.top+(g.clientTop+parseFloat(E.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,m*=v.y,c+=N,u+=D,p=An(g),g=ch(p)}}return Vu({width:d,height:m,x:c,y:u})}function hg(e,t){const n=pd(e).scrollLeft;return t?t.left+n:wo(Rs(e)).left+n}function ND(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:hg(e,s)),o=s.top+t.scrollTop;return{x:i,y:o}}function vR(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",r=Rs(s),a=t?hd(t.floating):!1;if(s===r||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=ks(1);const d=ks(0),m=js(s);if((m||!m&&!o)&&((qr(s)!=="body"||Gl(r))&&(c=pd(s)),js(s))){const h=wo(s);u=br(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const f=r&&!m&&!o?ND(r,c,!0):ks(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function xR(e){return Array.from(e.getClientRects())}function NR(e){const t=Rs(e),n=pd(e),s=e.ownerDocument.body,i=Pn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Pn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let r=-n.scrollLeft+hg(e);const a=-n.scrollTop;return ls(s).direction==="rtl"&&(r+=Pn(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:r,y:a}}function yR(e,t){const n=An(e),s=Rs(e),i=n.visualViewport;let o=s.clientWidth,r=s.clientHeight,a=0,c=0;if(i){o=i.width,r=i.height;const u=mg();(!u||u&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:r,x:a,y:c}}function wR(e,t){const n=wo(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=js(e)?br(e):ks(1),r=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,u=s*o.y;return{width:r,height:a,x:c,y:u}}function g0(e,t,n){let s;if(t==="viewport")s=yR(e,n);else if(t==="document")s=NR(Rs(e));else if(as(t))s=wR(t,n);else{const i=xD(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Vu(s)}function yD(e,t){const n=Ci(e);return n===t||!as(n)||Sr(n)?!1:ls(n).position==="fixed"||yD(n,t)}function DR(e,t){const n=t.get(e);if(n)return n;let s=Dl(e,[],!1).filter(a=>as(a)&&qr(a)!=="body"),i=null;const o=ls(e).position==="fixed";let r=o?Ci(e):e;for(;as(r)&&!Sr(r);){const a=ls(r),c=dg(r);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gl(r)&&!c&&yD(e,r))?s=s.filter(d=>d!==r):i=a,r=Ci(r)}return t.set(e,s),s}function ER(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const r=[...n==="clippingAncestors"?hd(t)?[]:DR(t,this._c):[].concat(n),s],a=r[0],c=r.reduce((u,d)=>{const m=g0(t,d,i);return u.top=Pn(m.top,u.top),u.right=Mi(m.right,u.right),u.bottom=Mi(m.bottom,u.bottom),u.left=Pn(m.left,u.left),u},g0(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TR(e){const{width:t,height:n}=vD(e);return{width:t,height:n}}function SR(e,t,n){const s=js(t),i=Rs(t),o=n==="fixed",r=wo(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=ks(0);function u(){c.x=hg(i)}if(s||!s&&!o)if((qr(t)!=="body"||Gl(i))&&(a=pd(t)),s){const h=wo(t,!0,o,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&u();o&&!s&&i&&u();const d=i&&!s&&!o?ND(i,a):ks(0),m=r.left+a.scrollLeft-c.x-d.x,f=r.top+a.scrollTop-c.y-d.y;return{x:m,y:f,width:r.width,height:r.height}}function vm(e){return ls(e).position==="static"}function b0(e,t){if(!js(e)||ls(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Rs(e)===n&&(n=n.ownerDocument.body),n}function wD(e,t){const n=An(e);if(hd(e))return n;if(!js(e)){let i=Ci(e);for(;i&&!Sr(i);){if(as(i)&&!vm(i))return i;i=Ci(i)}return n}let s=b0(e,t);for(;s&&hR(s)&&vm(s);)s=b0(s,t);return s&&Sr(s)&&vm(s)&&!dg(s)?n:s||pR(e)||n}const _R=async function(e){const t=this.getOffsetParent||wD,n=this.getDimensions,s=await n(e.floating);return{reference:SR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function kR(e){return ls(e).direction==="rtl"}const MR={convertOffsetParentRelativeRectToViewportRelativeRect:vR,getDocumentElement:Rs,getClippingRect:ER,getOffsetParent:wD,getElementRects:_R,getClientRects:xR,getDimensions:TR,getScale:br,isElement:as,isRTL:kR};function DD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CR(e,t){let n=null,s;const i=Rs(e);function o(){var a;clearTimeout(s),(a=n)==null||a.disconnect(),n=null}function r(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:m,width:f,height:h}=u;if(a||t(),!f||!h)return;const p=Dc(m),g=Dc(i.clientWidth-(d+f)),v=Dc(i.clientHeight-(m+h)),x=Dc(d),N={rootMargin:-p+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Pn(0,Mi(1,c))||1};let D=!0;function w(T){const M=T[0].intersectionRatio;if(M!==c){if(!D)return r();M?r(!1,M):s=setTimeout(()=>{r(!1,1e-7)},1e3)}M===1&&!DD(u,e.getBoundingClientRect())&&r(),D=!1}try{n=new IntersectionObserver(w,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,N)}n.observe(e)}return r(!0),o}function PR(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=fg(e),d=i||o?[...u?Dl(u):[],...Dl(t)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const m=u&&a?CR(u,n):null;let f=-1,h=null;r&&(h=new ResizeObserver(x=>{let[E]=x;E&&E.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=h)==null||N.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,g=c?wo(e):null;c&&v();function v(){const x=wo(e);g&&!DD(g,x)&&n(),g=x,p=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),m==null||m(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const AR=uR,jR=dR,IR=aR,RR=fR,VR=lR,v0=rR,OR=mR,LR=(e,t,n)=>{const s=new Map,i={platform:MR,...n},o={...i.platform,_c:s};return oR(e,t,{...i,platform:o})};var fu=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Ou(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ou(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!Ou(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ED(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function x0(e,t){const n=ED(e);return Math.round(t*n)/n}function xm(e){const t=b.useRef(e);return fu(()=>{t.current=e}),t}function FR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:r}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=b.useState(s);Ou(f,s)||h(s);const[p,g]=b.useState(null),[v,x]=b.useState(null),E=b.useCallback($=>{$!==T.current&&(T.current=$,g($))},[]),N=b.useCallback($=>{$!==M.current&&(M.current=$,x($))},[]),D=o||p,w=r||v,T=b.useRef(null),M=b.useRef(null),_=b.useRef(d),C=c!=null,k=xm(c),L=xm(i),B=xm(u),P=b.useCallback(()=>{if(!T.current||!M.current)return;const $={placement:t,strategy:n,middleware:f};L.current&&($.platform=L.current),LR(T.current,M.current,$).then(Z=>{const I={...Z,isPositioned:B.current!==!1};j.current&&!Ou(_.current,I)&&(_.current=I,Fr.flushSync(()=>{m(I)}))})},[f,t,n,L,B]);fu(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m($=>({...$,isPositioned:!1})))},[u]);const j=b.useRef(!1);fu(()=>(j.current=!0,()=>{j.current=!1}),[]),fu(()=>{if(D&&(T.current=D),w&&(M.current=w),D&&w){if(k.current)return k.current(D,w,P);P()}},[D,w,P,k,C]);const R=b.useMemo(()=>({reference:T,floating:M,setReference:E,setFloating:N}),[E,N]),U=b.useMemo(()=>({reference:D,floating:w}),[D,w]),G=b.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const Z=x0(U.floating,d.x),I=x0(U.floating,d.y);return a?{...$,transform:"translate("+Z+"px, "+I+"px)",...ED(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:I}},[n,a,U.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:P,refs:R,elements:U,floatingStyles:G}),[d,P,R,U,G])}const BR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?v0({element:s.current,padding:i}).fn(n):{}:s?v0({element:s,padding:i}).fn(n):{}}}},HR=(e,t)=>({...AR(e),options:[e,t]}),UR=(e,t)=>({...jR(e),options:[e,t]}),$R=(e,t)=>({...OR(e),options:[e,t]}),zR=(e,t)=>({...IR(e),options:[e,t]}),WR=(e,t)=>({...RR(e),options:[e,t]}),qR=(e,t)=>({...VR(e),options:[e,t]}),GR=(e,t)=>({...BR(e),options:[e,t]});var YR="Arrow",TD=b.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...o}=e;return q.jsx(Ae.svg,{...o,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:q.jsx("polygon",{points:"0,0 30,0 15,10"})})});TD.displayName=YR;var KR=TD;function SD(e){const[t,n]=b.useState(void 0);return zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let r,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;r=u.inlineSize,a=u.blockSize}else r=e.offsetWidth,a=e.offsetHeight;n({width:r,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var pg="Popper",[_D,gd]=Is(pg),[XR,kD]=_D(pg),MD=e=>{const{__scopePopper:t,children:n}=e,[s,i]=b.useState(null);return q.jsx(XR,{scope:t,anchor:s,onAnchorChange:i,children:n})};MD.displayName=pg;var CD="PopperAnchor",PD=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,o=kD(CD,n),r=b.useRef(null),a=Je(t,r);return b.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||r.current)}),s?null:q.jsx(Ae.div,{...i,ref:a})});PD.displayName=CD;var gg="PopperContent",[JR,QR]=_D(gg),AD=b.forwardRef((e,t)=>{var ne,me,we,X,Y,K;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:r=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=e,v=kD(gg,n),[x,E]=b.useState(null),N=Je(t,ie=>E(ie)),[D,w]=b.useState(null),T=SD(D),M=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,C=s+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],B=L.length>0,P={padding:k,boundary:L.filter(eV),altBoundary:B},{refs:j,floatingStyles:R,placement:U,isPositioned:G,middlewareData:$}=FR({strategy:"fixed",placement:C,whileElementsMounted:(...ie)=>PR(...ie,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[HR({mainAxis:i+_,alignmentAxis:r}),c&&UR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?$R():void 0,...P}),c&&zR({...P}),WR({...P,apply:({elements:ie,rects:le,availableWidth:ae,availableHeight:pe})=>{const{width:$e,height:ze}=le.reference,We=ie.floating.style;We.setProperty("--radix-popper-available-width",`${ae}px`),We.setProperty("--radix-popper-available-height",`${pe}px`),We.setProperty("--radix-popper-anchor-width",`${$e}px`),We.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),D&&GR({element:D,padding:a}),tV({arrowWidth:M,arrowHeight:_}),f&&qR({strategy:"referenceHidden",...P})]}),[Z,I]=RD(U),oe=Rt(p);zt(()=>{G&&(oe==null||oe())},[G,oe]);const be=(ne=$.arrow)==null?void 0:ne.x,O=(me=$.arrow)==null?void 0:me.y,ue=((we=$.arrow)==null?void 0:we.centerOffset)!==0,[ge,xe]=b.useState();return zt(()=>{x&&xe(window.getComputedStyle(x).zIndex)},[x]),q.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:G?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(X=$.transformOrigin)==null?void 0:X.x,(Y=$.transformOrigin)==null?void 0:Y.y].join(" "),...((K=$.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:q.jsx(JR,{scope:n,placedSide:Z,onArrowChange:w,arrowX:be,arrowY:O,shouldHideArrow:ue,children:q.jsx(Ae.div,{"data-side":Z,"data-align":I,...g,ref:N,style:{...g.style,animation:G?void 0:"none"}})})})});AD.displayName=gg;var jD="PopperArrow",ZR={top:"bottom",right:"left",bottom:"top",left:"right"},ID=b.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,o=QR(jD,s),r=ZR[o.placedSide];return q.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:q.jsx(KR,{...i,ref:n,style:{...i.style,display:"block"}})})});ID.displayName=jD;function eV(e){return e!==null}var tV=e=>({name:"transformOrigin",options:e,fn(t){var v,x,E;const{placement:n,rects:s,middlewareData:i}=t,r=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=r?0:e.arrowWidth,c=r?0:e.arrowHeight,[u,d]=RD(n),m={start:"0%",center:"50%",end:"100%"}[d],f=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,h=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=r?m:`${f}px`,g=`${-c}px`):u==="top"?(p=r?m:`${f}px`,g=`${s.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=r?m:`${h}px`):u==="left"&&(p=`${s.floating.width+c}px`,g=r?m:`${h}px`),{data:{x:p,y:g}}}});function RD(e){const[t,n="center"]=e.split("-");return[t,n]}var VD=MD,OD=PD,LD=AD,FD=ID,nV="Portal",bd=b.forwardRef((e,t)=>{var a;const{container:n,...s}=e,[i,o]=b.useState(!1);zt(()=>o(!0),[]);const r=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return r?Q2.createPortal(q.jsx(Ae.div,{...s,ref:t}),r):null});bd.displayName=nV;function sV(e,t){return b.useReducer((n,s)=>t[n][s]??n,e)}var Kn=e=>{const{present:t,children:n}=e,s=iV(t),i=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),o=Je(s.ref,oV(i));return typeof n=="function"||s.isPresent?b.cloneElement(i,{ref:o}):null};Kn.displayName="Presence";function iV(e){const[t,n]=b.useState(),s=b.useRef(null),i=b.useRef(e),o=b.useRef("none"),r=e?"mounted":"unmounted",[a,c]=sV(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Ec(s.current);o.current=a==="mounted"?u:"none"},[a]),zt(()=>{const u=s.current,d=i.current;if(d!==e){const f=o.current,h=Ec(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),zt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,m=h=>{const g=Ec(s.current).includes(h.animationName);if(h.target===t&&g&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=h=>{h.target===t&&(o.current=Ec(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ec(e){return(e==null?void 0:e.animationName)||"none"}function oV(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rV=No[" useInsertionEffect ".trim().toString()]||zt;function Pi({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,o,r]=aV({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:i;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const m=d.current;m!==a&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,s])}const u=b.useCallback(d=>{var m;if(a){const f=lV(d)?d(e):d;f!==e&&((m=r.current)==null||m.call(r,f))}else o(d)},[a,e,o,r]);return[c,u]}function aV({defaultProp:e,onChange:t}){const[n,s]=b.useState(e),i=b.useRef(n),o=b.useRef(t);return rV(()=>{o.current=t},[t]),b.useEffect(()=>{var r;i.current!==n&&((r=o.current)==null||r.call(o,n),i.current=n)},[n,i]),[n,s,o]}function lV(e){return typeof e=="function"}var BD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cV="VisuallyHidden",vd=b.forwardRef((e,t)=>q.jsx(Ae.span,{...e,ref:t,style:{...BD,...e.style}}));vd.displayName=cV;var uV=vd,[xd,Cse]=Is("Tooltip",[gd]),Nd=gd(),HD="TooltipProvider",dV=700,uh="tooltip.open",[mV,bg]=xd(HD),UD=e=>{const{__scopeTooltip:t,delayDuration:n=dV,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=e,r=b.useRef(!0),a=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),q.jsx(mV,{scope:t,isOpenDelayedRef:r,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),r.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>r.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:o})};UD.displayName=HD;var El="Tooltip",[fV,yd]=xd(El),$D=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:i,onOpenChange:o,disableHoverableContent:r,delayDuration:a}=e,c=bg(El,e.__scopeTooltip),u=Nd(t),[d,m]=b.useState(null),f=Js(),h=b.useRef(0),p=r??c.disableHoverableContent,g=a??c.delayDuration,v=b.useRef(!1),[x,E]=Pi({prop:s,defaultProp:i??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(uh))):c.onClose(),o==null||o(M)},caller:El}),N=b.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),D=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,E(!0)},[E]),w=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,E(!1)},[E]),T=b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,E(!0),h.current=0},g)},[g,E]);return b.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),q.jsx(VD,{...u,children:q.jsx(fV,{scope:t,contentId:f,open:x,stateAttribute:N,trigger:d,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?T():D()},[c.isOpenDelayedRef,T,D]),onTriggerLeave:b.useCallback(()=>{p?w():(window.clearTimeout(h.current),h.current=0)},[w,p]),onOpen:D,onClose:w,disableHoverableContent:p,children:n})})};$D.displayName=El;var dh="TooltipTrigger",zD=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=yd(dh,n),o=bg(dh,n),r=Nd(n),a=b.useRef(null),c=Je(t,a,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),m=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),q.jsx(OD,{asChild:!0,...r,children:q.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:_e(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:_e(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:_e(e.onBlur,i.onClose),onClick:_e(e.onClick,i.onClose)})})});zD.displayName=dh;var hV="TooltipPortal",[Pse,pV]=xd(hV,{forceMount:void 0}),_r="TooltipContent",WD=b.forwardRef((e,t)=>{const n=pV(_r,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...o}=e,r=yd(_r,e.__scopeTooltip);return q.jsx(Kn,{present:s||r.open,children:r.disableHoverableContent?q.jsx(qD,{side:i,...o,ref:t}):q.jsx(gV,{side:i,...o,ref:t})})}),gV=b.forwardRef((e,t)=>{const n=yd(_r,e.__scopeTooltip),s=bg(_r,e.__scopeTooltip),i=b.useRef(null),o=Je(t,i),[r,a]=b.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:m}=s,f=b.useCallback(()=>{a(null),m(!1)},[m]),h=b.useCallback((p,g)=>{const v=p.currentTarget,x={x:p.clientX,y:p.clientY},E=yV(x,v.getBoundingClientRect()),N=wV(x,E),D=DV(g.getBoundingClientRect()),w=TV([...N,...D]);a(w),m(!0)},[m]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&d){const p=v=>h(v,d),g=v=>h(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,h,f]),b.useEffect(()=>{if(r){const p=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},E=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),N=!EV(x,r);E?f():N&&(f(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,r,u,f]),q.jsx(qD,{...e,ref:o})}),[bV,vV]=xd(El,{isInside:!1}),xV=RI("TooltipContent"),qD=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:r,...a}=e,c=yd(_r,n),u=Nd(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(uh,d),()=>document.removeEventListener(uh,d)),[d]),b.useEffect(()=>{if(c.trigger){const m=f=>{const h=f.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),q.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:q.jsxs(LD,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[q.jsx(xV,{children:s}),q.jsx(bV,{scope:n,isInside:!0,children:q.jsx(uV,{id:c.contentId,role:"tooltip",children:i||s})})]})})});WD.displayName=_r;var GD="TooltipArrow",NV=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Nd(n);return vV(GD,n).isInside?null:q.jsx(FD,{...i,...s,ref:t})});NV.displayName=GD;function yV(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,s,i,o)){case o:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function wV(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function DV(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function EV(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,r=t.length-1;o<t.length;r=o++){const a=t[o],c=t[r],u=a.x,d=a.y,m=c.x,f=c.y;d>s!=f>s&&n<(m-u)*(s-d)/(f-d)+u&&(i=!i)}return i}function TV(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),SV(t)}function SV(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const o=t[t.length-1],r=t[t.length-2];if((o.x-r.x)*(i.y-r.y)>=(o.y-r.y)*(i.x-r.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const o=n[n.length-1],r=n[n.length-2];if((o.x-r.x)*(i.y-r.y)>=(o.y-r.y)*(i.x-r.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _V=UD,kV=$D,MV=zD,YD=WD;const vg="-",CV=e=>{const t=AV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:r=>{const a=r.split(vg);return a[0]===""&&a.length!==1&&a.shift(),KD(a,t)||PV(r)},getConflictingClassGroupIds:(r,a)=>{const c=n[r]||[];return a&&s[r]?[...c,...s[r]]:c}}},KD=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?KD(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(vg);return(r=t.validators.find(({validator:a})=>a(o)))==null?void 0:r.classGroupId},N0=/^\[(.+)\]$/,PV=e=>{if(N0.test(e)){const t=N0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},AV=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const i in n)mh(n[i],s,i,t);return s},mh=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:y0(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(jV(i)){mh(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,r])=>{mh(r,y0(t,o),n,s)})})},y0=(e,t)=>{let n=e;return t.split(vg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},jV=e=>e.isThemeGetter,IV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(o,r)=>{n.set(o,r),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let r=n.get(o);if(r!==void 0)return r;if((r=s.get(o))!==void 0)return i(o,r),r},set(o,r){n.has(o)?n.set(o,r):i(o,r)}}},fh="!",hh=":",RV=hh.length,VV=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const o=[];let r=0,a=0,c=0,u;for(let p=0;p<i.length;p++){let g=i[p];if(r===0&&a===0){if(g===hh){o.push(i.slice(c,p)),c=p+RV;continue}if(g==="/"){u=p;continue}}g==="["?r++:g==="]"?r--:g==="("?a++:g===")"&&a--}const d=o.length===0?i:i.substring(c),m=OV(d),f=m!==d,h=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}};if(t){const i=t+hh,o=s;s=r=>r.startsWith(i)?o(r.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:r,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=o=>n({className:o,parseClassName:i})}return s},OV=e=>e.endsWith(fh)?e.substring(0,e.length-1):e.startsWith(fh)?e.substring(1):e,LV=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let o=[];return s.forEach(r=>{r[0]==="["||t[r]?(i.push(...o.sort(),r),o=[]):o.push(r)}),i.push(...o.sort()),i}},FV=e=>({cache:IV(e.cacheSize),parseClassName:VV(e),sortModifiers:LV(e),...CV(e)}),BV=/\s+/,HV=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:o}=t,r=[],a=e.trim().split(BV);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:m,modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(d);if(m){c=d+(c.length>0?" "+c:c);continue}let v=!!g,x=s(v?p.substring(0,g):p);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=s(p),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const E=o(f).join(":"),N=h?E+fh:E,D=N+x;if(r.includes(D))continue;r.push(D);const w=i(x,v);for(let T=0;T<w.length;++T){const M=w[T];r.push(N+M)}c=d+(c.length>0?" "+c:c)}return c};function UV(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=XD(t))&&(s&&(s+=" "),s+=n);return s}const XD=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=XD(e[s]))&&(n&&(n+=" "),n+=t);return n};function $V(e,...t){let n,s,i,o=r;function r(c){const u=t.reduce((d,m)=>m(d),e());return n=FV(u),s=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const u=s(c);if(u)return u;const d=HV(c,n);return i(c,d),d}return function(){return o(UV.apply(null,arguments))}}const At=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},JD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,QD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zV=/^\d+\/\d+$/,WV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>zV.test(e),Fe=e=>!!e&&!Number.isNaN(Number(e)),li=e=>!!e&&Number.isInteger(Number(e)),Nm=e=>e.endsWith("%")&&Fe(e.slice(0,-1)),Hs=e=>WV.test(e),XV=()=>!0,JV=e=>qV.test(e)&&!GV.test(e),ZD=()=>!1,QV=e=>YV.test(e),ZV=e=>KV.test(e),e5=e=>!Te(e)&&!Se(e),t5=e=>Gr(e,nE,ZD),Te=e=>JD.test(e),Ui=e=>Gr(e,sE,JV),ym=e=>Gr(e,r5,Fe),w0=e=>Gr(e,eE,ZD),n5=e=>Gr(e,tE,ZV),Tc=e=>Gr(e,iE,QV),Se=e=>QD.test(e),fa=e=>Yr(e,sE),s5=e=>Yr(e,a5),D0=e=>Yr(e,eE),i5=e=>Yr(e,nE),o5=e=>Yr(e,tE),Sc=e=>Yr(e,iE,!0),Gr=(e,t,n)=>{const s=JD.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Yr=(e,t,n=!1)=>{const s=QD.exec(e);return s?s[1]?t(s[1]):n:!1},eE=e=>e==="position"||e==="percentage",tE=e=>e==="image"||e==="url",nE=e=>e==="length"||e==="size"||e==="bg-size",sE=e=>e==="length",r5=e=>e==="number",a5=e=>e==="family-name",iE=e=>e==="shadow",l5=()=>{const e=At("color"),t=At("font"),n=At("text"),s=At("font-weight"),i=At("tracking"),o=At("leading"),r=At("breakpoint"),a=At("container"),c=At("spacing"),u=At("radius"),d=At("shadow"),m=At("inset-shadow"),f=At("text-shadow"),h=At("drop-shadow"),p=At("blur"),g=At("perspective"),v=At("aspect"),x=At("ease"),E=At("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...D(),Se,Te],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],_=()=>[Se,Te,c],C=()=>[Bo,"full","auto",..._()],k=()=>[li,"none","subgrid",Se,Te],L=()=>["auto",{span:["full",li,Se,Te]},li,Se,Te],B=()=>[li,"auto",Se,Te],P=()=>["auto","min","max","fr",Se,Te],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",..._()],G=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],$=()=>[e,Se,Te],Z=()=>[...D(),D0,w0,{position:[Se,Te]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",i5,t5,{size:[Se,Te]}],be=()=>[Nm,fa,Ui],O=()=>["","none","full",u,Se,Te],ue=()=>["",Fe,fa,Ui],ge=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Fe,Nm,D0,w0],me=()=>["","none",p,Se,Te],we=()=>["none",Fe,Se,Te],X=()=>["none",Fe,Se,Te],Y=()=>[Fe,Se,Te],K=()=>[Bo,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hs],breakpoint:[Hs],color:[XV],container:[Hs],"drop-shadow":[Hs],ease:["in","out","in-out"],font:[e5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hs],shadow:[Hs],spacing:["px",Fe],text:[Hs],"text-shadow":[Hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,Te,Se,v]}],container:["container"],columns:[{columns:[Fe,Te,Se,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[li,"auto",Se,Te]}],basis:[{basis:[Bo,"full","auto",a,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Bo,"auto","initial","none",Te]}],grow:[{grow:["",Fe,Se,Te]}],shrink:[{shrink:["",Fe,Se,Te]}],order:[{order:[li,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[a,"screen",...G()]}],"min-w":[{"min-w":[a,"screen","none",...G()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[r]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,fa,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,ym]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nm,Te]}],"font-family":[{font:[s5,Te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,Te]}],"line-clamp":[{"line-clamp":[Fe,"none",Se,ym]}],leading:[{leading:[o,..._()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",Se,Ui]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Fe,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},li,Se,Te],radial:["",Se,Te],conic:[li,Se,Te]},o5,n5]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:be()}],"gradient-via-pos":[{via:be()}],"gradient-to-pos":[{to:be()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,Se,Te]}],"outline-w":[{outline:["",Fe,fa,Ui]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",d,Sc,Tc]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",m,Sc,Tc]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Fe,Ui]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",f,Sc,Tc]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Fe,Se,Te]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:me()}],brightness:[{brightness:[Fe,Se,Te]}],contrast:[{contrast:[Fe,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",h,Sc,Tc]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Fe,Se,Te]}],"hue-rotate":[{"hue-rotate":[Fe,Se,Te]}],invert:[{invert:["",Fe,Se,Te]}],saturate:[{saturate:[Fe,Se,Te]}],sepia:[{sepia:["",Fe,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Fe,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",Se,Te]}],ease:[{ease:["linear","initial",x,Se,Te]}],delay:[{delay:[Fe,Se,Te]}],animate:[{animate:["none",E,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Se,Te]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Fe,fa,Ui,ym]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},c5=$V(l5);function Ce(...e){return c5(y1(e))}const ho=_V,po=kV,go=MV,Ei=b.forwardRef(({className:e,sideOffset:t=4,...n},s)=>l.jsxDEV(YD,{ref:s,sideOffset:t,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tooltip.tsx",lineNumber:15,columnNumber:3},void 0));Ei.displayName=YD.displayName;const u5=[{path:"/search",label:"Search",icon:"/icons/search.svg"},{path:"/opd",label:"OPD",icon:"/icons/opd.png"},{path:"/cdu",label:"CDU",icon:"/icons/cdu.png"},{path:"/inpatient",label:"Inpatient",icon:"/icons/inpatient.png"},{path:"/palliative",label:"Palliative",icon:"/icons/palliative.png"},{path:"/tools",label:"Tools",icon:"/icons/tools.png"},{path:"/handbook",label:"Handbook",icon:"/icons/handbook.png"}],d5=()=>{const{sidebarCollapsed:e,toggleSidebar:t}=A1(),n=us();return l.jsxDEV("div",{className:`
        fixed md:static top-0 left-0 h-screen
        ${e?"w-20":"w-64"}
        z-40 transition-all duration-300 ease-in-out
        bg-white/70 dark:bg-slate-900/90 backdrop-blur-md 
        border-r border-slate-200 dark:border-slate-800
        shadow-xl flex flex-col
      `,children:[l.jsxDEV("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsxDEV(Be.div,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},transition:{duration:.4},whileHover:{scale:1.05},className:"cursor-pointer",onClick:()=>n("/"),children:l.jsxDEV("img",{src:"/icons/mine.png",alt:"OncoVista Logo",className:`
              transition-all duration-300
              ${e?"w-8":"w-12"}
              h-auto rounded-full
              drop-shadow-[0_4px_8px_rgba(0,0,0,0.25)]
              dark:drop-shadow-[0_4px_8px_rgba(255,255,255,0.15)]
              hover:drop-shadow-[0_6px_12px_rgba(124,58,237,0.6)]
            `},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:49,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:40,columnNumber:9},void 0),l.jsxDEV("button",{onClick:t,className:"text-slate-500 dark:text-slate-300",children:e?l.jsxDEV(sC,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:63,columnNumber:31},void 0):l.jsxDEV(ss,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:63,columnNumber:52},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:39,columnNumber:7},void 0),l.jsxDEV("nav",{className:"flex flex-col gap-2 mt-4",children:u5.map(({path:s,label:i,icon:o})=>l.jsxDEV(ho,{delayDuration:0,children:l.jsxDEV(po,{children:[l.jsxDEV(go,{asChild:!0,children:l.jsxDEV(Z2,{to:s,children:({isActive:r})=>l.jsxDEV("div",{className:`relative group flex items-center gap-3 px-4 py-3 mx-2 rounded-lg transition-all duration-200
                        ${r?"bg-gradient-to-tr from-purple-600 to-indigo-600 text-white shadow-[0_0_10px_rgba(139,92,246,0.7)]":"text-slate-600 dark:text-slate-400 hover:text-white hover:bg-white/10"}
                      `,children:[l.jsxDEV("div",{className:"relative flex items-center justify-center min-w-[44px] min-h-[44px]",children:[r&&l.jsxDEV("div",{className:"absolute inset-0 rounded-full blur-lg bg-purple-500/30 scale-125 opacity-80"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:84,columnNumber:27},void 0),l.jsxDEV("img",{src:o,alt:i,title:i,"aria-label":i,className:`w-10 h-10 relative z-10 object-contain transition-all duration-300
                                    ${r?"drop-shadow-[0_0_12px_rgba(168,85,247,0.8)]":"drop-shadow-[0_2px_4px_rgba(0,0,0,0.25)] dark:drop-shadow-[0_2px_4px_rgba(255,255,255,0.15)]"}
                                    group-hover:drop-shadow-[0_4px_8px_rgba(124,58,237,0.6)] group-hover:scale-110`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:86,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:82,columnNumber:23},void 0),!e&&l.jsxDEV("span",{className:"font-medium text-sm",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:99,columnNumber:25},void 0),r&&l.jsxDEV("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1.5 bg-purple-500 rounded-r-md shadow-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:104,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:75,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:73,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:72,columnNumber:15},void 0),l.jsxDEV(Ei,{side:"right",className:"text-xs px-2 py-1",children:e&&i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:110,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:71,columnNumber:13},void 0)},s,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:70,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:68,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-auto mb-4 mx-auto w-8 h-8 rounded-full bg-purple-700/50 blur-xl"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:119,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:28,columnNumber:5},void 0)};var ph=function(e,t){return ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},ph(e,t)};function m5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ph(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Bt=function(){return Bt=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Bt.apply(this,arguments)};function f5(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Ho(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,[])).next())})}function Uo(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(u){return function(d){return c([u,d])}}function c(u){if(s)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(s=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{s=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ws(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n}var eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ng(e,t){return e(t={exports:{}},t.exports),t.exports}var Xi=Ng(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function s(){var i=this;this.locked=new Map,this.addToLocked=function(o,r){var a=i.locked.get(o);a===void 0?r===void 0?i.locked.set(o,[]):i.locked.set(o,[r]):r!==void 0&&(a.unshift(r),i.locked.set(o,a))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(r,a){i.isLocked(o)?i.addToLocked(o,r):(i.addToLocked(o),r())})},this.unlock=function(o){var r=i.locked.get(o);if(r!==void 0&&r.length!==0){var a=r.pop();i.locked.set(o,r),a!==void 0&&setTimeout(a,0)}else i.locked.delete(o)}}return s.getInstance=function(){return s.instance===void 0&&(s.instance=new s),s.instance},s}();t.default=function(){return n.getInstance()}});xg(Xi);var h5=xg(Ng(function(e,t){var n=eo&&eo.__awaiter||function(d,m,f,h){return new(f||(f=Promise))(function(p,g){function v(N){try{E(h.next(N))}catch(D){g(D)}}function x(N){try{E(h.throw(N))}catch(D){g(D)}}function E(N){N.done?p(N.value):new f(function(D){D(N.value)}).then(v,x)}E((h=h.apply(d,m||[])).next())})},s=eo&&eo.__generator||function(d,m){var f,h,p,g,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(E){return function(N){return function(D){if(f)throw new TypeError("Generator is already executing.");for(;v;)try{if(f=1,h&&(p=2&D[0]?h.return:D[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,D[1])).done)return p;switch(h=0,p&&(D=[2&D[0],p.value]),D[0]){case 0:case 1:p=D;break;case 4:return v.label++,{value:D[1],done:!1};case 5:v.label++,h=D[1],D=[0];continue;case 7:D=v.ops.pop(),v.trys.pop();continue;default:if(p=v.trys,!((p=p.length>0&&p[p.length-1])||D[0]!==6&&D[0]!==2)){v=0;continue}if(D[0]===3&&(!p||D[1]>p[0]&&D[1]<p[3])){v.label=D[1];break}if(D[0]===6&&v.label<p[1]){v.label=p[1],p=D;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(D);break}p[2]&&v.ops.pop(),v.trys.pop();continue}D=m.call(d,v)}catch(w){D=[6,w],h=0}finally{f=p=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([E,N])}}},i=eo;Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key",r={key:function(d){return n(i,void 0,void 0,function(){return s(this,function(m){throw new Error("Unsupported")})})},getItem:function(d){return n(i,void 0,void 0,function(){return s(this,function(m){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return s(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return n(i,void 0,void 0,function(){return s(this,function(m){throw new Error("Unsupported")})})},setItem:function(d,m){return n(i,void 0,void 0,function(){return s(this,function(f){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,m){return window.localStorage.setItem(d,m)}};function a(d){return new Promise(function(m){return setTimeout(m,d)})}function c(d){for(var m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",h=0;h<d;h++)f+=m[Math.floor(Math.random()*m.length)];return f}var u=function(){function d(m){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=m,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(m,f){return f===void 0&&(f=5e3),n(this,void 0,void 0,function(){var h,p,g,v,x,E,N;return s(this,function(D){switch(D.label){case 0:h=Date.now()+c(4),p=Date.now()+f,g=o+"-"+m,v=this.storageHandler===void 0?r:this.storageHandler,D.label=1;case 1:return Date.now()<p?[4,a(30)]:[3,8];case 2:return D.sent(),v.getItemSync(g)!==null?[3,5]:(x=this.id+"-"+m+"-"+h,[4,a(Math.floor(25*Math.random()))]);case 3:return D.sent(),v.setItemSync(g,JSON.stringify({id:this.id,iat:h,timeoutKey:x,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return D.sent(),(E=v.getItemSync(g))!==null&&(N=JSON.parse(E)).id===this.id&&N.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(g,h),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?r:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:D.sent(),D.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(m,f){return n(this,void 0,void 0,function(){var h=this;return s(this,function(p){return setTimeout(function(){return n(h,void 0,void 0,function(){var g,v,x;return s(this,function(E){switch(E.label){case 0:return[4,Xi.default().lock(f)];case 1:return E.sent(),this.acquiredIatSet.has(f)?(g=this.storageHandler===void 0?r:this.storageHandler,(v=g.getItemSync(m))===null?(Xi.default().unlock(f),[2]):((x=JSON.parse(v)).timeRefreshed=Date.now(),g.setItemSync(m,JSON.stringify(x)),Xi.default().unlock(f),this.refreshLockWhileAcquired(m,f),[2])):(Xi.default().unlock(f),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(m){return n(this,void 0,void 0,function(){return s(this,function(f){switch(f.label){case 0:return[4,new Promise(function(h){var p=!1,g=Date.now(),v=!1;function x(){if(v||(window.removeEventListener("storage",x),d.removeFromWaiting(x),clearTimeout(E),v=!0),!p){p=!0;var N=50-(Date.now()-g);N>0?setTimeout(h,N):h(null)}}window.addEventListener("storage",x),d.addToWaiting(x);var E=setTimeout(x,Math.max(0,m-Date.now()))})];case 1:return f.sent(),[2]}})})},d.addToWaiting=function(m){this.removeFromWaiting(m),d.waiters!==void 0&&d.waiters.push(m)},d.removeFromWaiting=function(m){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(f){return f!==m}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(m){return m()})},d.prototype.releaseLock=function(m){return n(this,void 0,void 0,function(){return s(this,function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(m)];case 1:return[2,f.sent()]}})})},d.prototype.releaseLock__private__=function(m){return n(this,void 0,void 0,function(){var f,h,p,g;return s(this,function(v){switch(v.label){case 0:return f=this.storageHandler===void 0?r:this.storageHandler,h=o+"-"+m,(p=f.getItemSync(h))===null?[2]:(g=JSON.parse(p)).id!==this.id?[3,2]:[4,Xi.default().lock(g.iat)];case 1:v.sent(),this.acquiredIatSet.delete(g.iat),f.removeItemSync(h),Xi.default().unlock(g.iat),d.notifyWaiters(),v.label=2;case 2:return[2]}})})},d.lockCorrector=function(m){for(var f=Date.now()-5e3,h=m,p=[],g=0;;){var v=h.keySync(g);if(v===null)break;p.push(v),g++}for(var x=!1,E=0;E<p.length;E++){var N=p[E];if(N.includes(o)){var D=h.getItemSync(N);if(D!==null){var w=JSON.parse(D);(w.timeRefreshed===void 0&&w.timeAcquired<f||w.timeRefreshed!==void 0&&w.timeRefreshed<f)&&(h.removeItemSync(N),x=!0)}}}x&&d.notifyWaiters()},d.waiters=void 0,d}();t.default=u}));const p5={timeoutInSeconds:60},oE={name:"auth0-spa-js",version:"2.1.3"},rE=()=>Date.now();let Cn=class gh extends Error{constructor(t,n){super(n),this.error=t,this.error_description=n,Object.setPrototypeOf(this,gh.prototype)}static fromPayload({error:t,error_description:n}){return new gh(t,n)}},g5=class aE extends Cn{constructor(t,n,s,i=null){super(t,n),this.state=s,this.appState=i,Object.setPrototypeOf(this,aE.prototype)}},bh=class lE extends Cn{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,lE.prototype)}},b5=class cE extends bh{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,cE.prototype)}},v5=class uE extends Cn{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,uE.prototype)}},x5=class dE extends Cn{constructor(t,n,s){super(t,n),this.mfa_token=s,Object.setPrototypeOf(this,dE.prototype)}},mE=class fE extends Cn{constructor(t,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${E0(t,["default"])}', scope: '${E0(n)}')`),this.audience=t,this.scope=n,Object.setPrototypeOf(this,fE.prototype)}};function E0(e,t=[]){return e&&!t.includes(e)?e:""}const hu=()=>window.crypto,wm=()=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let t="";return Array.from(hu().getRandomValues(new Uint8Array(43))).forEach(n=>t+=e[n%e.length]),t},T0=e=>btoa(e),vh=e=>{var{clientId:t}=e,n=ws(e,["clientId"]);return new URLSearchParams((s=>Object.keys(s).filter(i=>s[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:s[o]}),{}))(Object.assign({client_id:t},n))).toString()},S0=e=>(t=>decodeURIComponent(atob(t).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),N5=async(e,t)=>{const n=await fetch(e,t);return{ok:n.ok,json:await n.json()}},y5=async(e,t,n)=>{const s=new AbortController;let i;return t.signal=s.signal,Promise.race([N5(e,t),new Promise((o,r)=>{i=setTimeout(()=>{s.abort(),r(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})},w5=async(e,t,n,s,i,o,r)=>{return a={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:s,useFormData:r},c=o,new Promise(function(u,d){const m=new MessageChannel;m.port1.onmessage=function(f){f.data.error?d(new Error(f.data.error)):u(f.data),m.port1.close()},c.postMessage(a,[m.port2])});var a,c},D5=async(e,t,n,s,i,o,r=1e4)=>i?w5(e,t,n,s,r,i,o):y5(e,s,r);async function E5(e,t){var{baseUrl:n,timeout:s,audience:i,scope:o,auth0Client:r,useFormData:a}=e,c=ws(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const u=a?vh(c):JSON.stringify(c);return await async function(d,m,f,h,p,g,v){let x,E=null;for(let _=0;_<3;_++)try{x=await D5(d,f,h,p,g,v,m),E=null;break}catch(C){E=C}if(E)throw E;const N=x.json,{error:D,error_description:w}=N,T=ws(N,["error","error_description"]),{ok:M}=x;if(!M){const _=w||`HTTP error. Unable to fetch ${d}`;throw D==="mfa_required"?new x5(D,_,T.mfa_token):D==="missing_refresh_token"?new mE(f,h):new Cn(D||"request_error",_)}return T}(`${n}/oauth/token`,s,i||"default",o,{method:"POST",body:u,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(r||oE))}},t,a)}const _c=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t};let io=class xh{constructor(t,n="@@auth0spajs@@",s){this.prefix=n,this.suffix=s,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){const[n,s,i,o]=t.split("::");return new xh({clientId:s,scope:o,audience:i},n)}static fromCacheEntry(t){const{scope:n,audience:s,client_id:i}=t;return new xh({scope:n,audience:s,clientId:i})}},T5=class{set(t,n){localStorage.setItem(t,JSON.stringify(n))}get(t){const n=window.localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}},hE=class{constructor(){this.enclosedCache=function(){let t={};return{set(n,s){t[n]=s},get(n){const s=t[n];if(s)return s},remove(n){delete t[n]},allKeys:()=>Object.keys(t)}}()}},S5=class{constructor(t,n,s){this.cache=t,this.keyManifest=n,this.nowProvider=s||rE}async setIdToken(t,n,s){var i;const o=this.getIdTokenCacheKey(t);await this.cache.set(o,{id_token:n,decodedToken:s}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(o))}async getIdToken(t){const n=await this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!n&&t.scope&&t.audience){const s=await this.get(t);return!s||!s.id_token||!s.decodedToken?void 0:{id_token:s.id_token,decodedToken:s.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(t,n=0){var s;let i=await this.cache.get(t.toKey());if(!i){const a=await this.getCacheKeys();if(!a)return;const c=this.matchExistingCacheKey(t,a);c&&(i=await this.cache.get(c))}if(!i)return;const o=await this.nowProvider(),r=Math.floor(o/1e3);return i.expiresAt-n<r?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(t.toKey(),i),i.body):(await this.cache.remove(t.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(t.toKey()))):i.body}async set(t){var n;const s=new io({clientId:t.client_id,scope:t.scope,audience:t.audience}),i=await this.wrapCacheEntry(t);await this.cache.set(s.toKey(),i),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(s.toKey()))}async clear(t){var n;const s=await this.getCacheKeys();s&&(await s.filter(i=>!t||i.includes(t)).reduce(async(i,o)=>{await i,await this.cache.remove(o)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(t){const n=await this.nowProvider();return{body:t,expiresAt:Math.floor(n/1e3)+t.expires_in}}async getCacheKeys(){var t;return this.keyManifest?(t=await this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(t){return new io({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,n){return n.filter(s=>{var i;const o=io.fromKey(s),r=new Set(o.scope&&o.scope.split(" ")),a=((i=t.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&a.reduce((u,d)=>u&&r.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===t.clientId&&o.audience===t.audience&&c})[0]}},_5=class{constructor(t,n,s){this.storage=t,this.clientId=n,this.cookieDomain=s,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const ha=e=>typeof e=="number",k5=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],M5=e=>{if(!e.id_token)throw new Error("ID token is required but missing");const t=(o=>{const r=o.split("."),[a,c,u]=r;if(r.length!==3||!a||!c||!u)throw new Error("ID token could not be decoded");const d=JSON.parse(S0(c)),m={__raw:o},f={};return Object.keys(d).forEach(h=>{m[h]=d[h],k5.includes(h)||(f[h]=d[h])}),{encoded:{header:a,payload:c,signature:u},header:JSON.parse(S0(a)),claims:m,user:f}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!ha(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!ha(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ha(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=e.leeway||60,s=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(t.claims.exp+n),s>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${s}) is after expiration time (${i})`);if(t.claims.nbf!=null&&ha(t.claims.nbf)){const o=new Date(0);if(o.setUTCSeconds(t.claims.nbf-n),s<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${s}) is before ${o}`)}if(t.claims.auth_time!=null&&ha(t.claims.auth_time)){const o=new Date(0);if(o.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),s>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${s}) is after last auth at ${o}`)}if(e.organization){const o=e.organization.trim();if(o.startsWith("org_")){const r=o;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(r!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${r}", found "${t.claims.org_id}"`)}else{const r=o.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(r!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${r}", found "${t.claims.org_name}"`)}}return t};var oo=Ng(function(e,t){var n=eo&&eo.__assign||function(){return n=Object.assign||function(c){for(var u,d=1,m=arguments.length;d<m;d++)for(var f in u=arguments[d])Object.prototype.hasOwnProperty.call(u,f)&&(c[f]=u[f]);return c},n.apply(this,arguments)};function s(c,u){if(!u)return"";var d="; "+c;return u===!0?d:d+"="+u}function i(c,u,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(m){if(typeof m.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+864e5*m.expires),m.expires=f}return s("Expires",m.expires?m.expires.toUTCString():"")+s("Domain",m.domain)+s("Path",m.path)+s("Secure",m.secure)+s("SameSite",m.sameSite)}(d)}function o(c){for(var u={},d=c?c.split("; "):[],m=/(%[\dA-F]{2})+/gi,f=0;f<d.length;f++){var h=d[f].split("="),p=h.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{u[h[0].replace(m,decodeURIComponent)]=p.replace(m,decodeURIComponent)}catch{}}return u}function r(){return o(document.cookie)}function a(c,u,d){document.cookie=i(c,u,n({path:"/"},d))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=r,t.get=function(c){return r()[c]},t.set=a,t.remove=function(c,u){a(c,"",n(n({},u),{expires:-1}))}});xg(oo),oo.encode,oo.parse,oo.getAll;var C5=oo.get,pE=oo.set,gE=oo.remove;const or={get(e){const t=C5(e);if(t!==void 0)return JSON.parse(t)},save(e,t,n){let s={};window.location.protocol==="https:"&&(s={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(s.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(s.domain=n.cookieDomain),pE(e,JSON.stringify(t),s)},remove(e,t){let n={};t!=null&&t.cookieDomain&&(n.domain=t.cookieDomain),gE(e,n)}},P5={get(e){return or.get(e)||or.get(`_legacy_${e}`)},save(e,t,n){let s={};window.location.protocol==="https:"&&(s={secure:!0}),n!=null&&n.daysUntilExpire&&(s.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(s.domain=n.cookieDomain),pE(`_legacy_${e}`,JSON.stringify(t),s),or.save(e,t,n)},remove(e,t){let n={};t!=null&&t.cookieDomain&&(n.domain=t.cookieDomain),gE(e,n),or.remove(e,t),or.remove(`_legacy_${e}`,t)}},A5={get(e){if(typeof sessionStorage>"u")return;const t=sessionStorage.getItem(e);return t!=null?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function j5(e,t,n){var s=t===void 0?null:t,i=function(c,u){var d=atob(c);if(u){for(var m=new Uint8Array(d.length),f=0,h=d.length;f<h;++f)m[f]=d.charCodeAt(f);return String.fromCharCode.apply(null,new Uint16Array(m.buffer))}return d}(e,n!==void 0&&n),o=i.indexOf(`
`,10)+1,r=i.substring(o)+(s?"//# sourceMappingURL="+s:""),a=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(a)}var _0,k0,M0,Dm,I5=(_0="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",k0=null,M0=!1,function(e){return Dm=Dm||j5(_0,k0,M0),new Worker(Dm,e)});const Em={};class R5{constructor(t,n){this.cache=t,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(t){var n;const s=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);s.add(t),await this.cache.set(this.manifestKey,{keys:[...s]})}async remove(t){const n=await this.cache.get(this.manifestKey);if(n){const s=new Set(n.keys);return s.delete(t),s.size>0?await this.cache.set(this.manifestKey,{keys:[...s]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}}const V5={memory:()=>new hE().enclosedCache,localstorage:()=>new T5},C0=e=>V5[e],P0=e=>{const{openUrl:t,onRedirect:n}=e,s=ws(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},s),{openUrl:t===!1||t?t:n})},Tm=new h5;let O5=class{constructor(t){let n,s;if(this.userCache=new hE().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await Tm.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!hu())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(hu().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)s=t.cache;else{if(n=t.cacheLocation||"memory",!C0(n))throw new Error(`Invalid cache location "${n}"`);s=C0(n)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?or:P5,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(r=>`auth0.${r}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;const i=t.useCookiesForTransactions?this.cookieStorage:A5;var o;this.scope=_c("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new _5(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||rE,this.cacheManager=new S5(s,s.allKeys?void 0:new R5(s,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((r,a)=>r?r.startsWith("https://")?r:`https://${r}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new I5)}_url(t){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||oE)));return`${this.domainUrl}${t}&auth0Client=${n}`}_authorizeUrl(t){return this._url(`/authorize?${vh(t)}`)}async _verifyIdToken(t,n,s){const i=await this.nowProvider();return M5({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:n,organization:s,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(t,n,s){const i=T0(wm()),o=T0(wm()),r=wm(),a=(d=>{const m=new Uint8Array(d);return(f=>{const h={"+":"-","/":"_","=":""};return f.replace(/[+/=]/g,p=>h[p])})(window.btoa(String.fromCharCode(...Array.from(m))))})(await(async d=>await hu().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d)))(r)),c=((d,m,f,h,p,g,v,x)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),f),{scope:_c(m,f.scope),response_type:"code",response_mode:x||"query",state:h,nonce:p,redirect_uri:v||d.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,t,i,o,a,t.redirect_uri||this.options.authorizationParams.redirect_uri||s,n==null?void 0:n.response_mode),u=this._authorizeUrl(c);return{nonce:o,code_verifier:r,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:i,url:u}}async loginWithPopup(t,n){var s;if(t=t||{},!(n=n||{}).popup&&(n.popup=(a=>{const c=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${c},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;const o=await(a=>new Promise((c,u)=>{let d;const m=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(m),clearTimeout(f),window.removeEventListener("message",d,!1),u(new v5(a.popup)))},1e3),f=setTimeout(()=>{clearInterval(m),u(new b5(a.popup)),window.removeEventListener("message",d,!1)},1e3*(a.timeoutInSeconds||60));d=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(f),clearInterval(m),window.removeEventListener("message",d,!1),a.popup.close(),h.data.response.error)return u(Cn.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new Cn("state_mismatch","Invalid state");const r=((s=t.authorizationParams)===null||s===void 0?void 0:s.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:r})}async getUser(){var t;const n=await this._getIdTokenFromCache();return(t=n==null?void 0:n.decodedToken)===null||t===void 0?void 0:t.user}async getIdTokenClaims(){var t;const n=await this._getIdTokenFromCache();return(t=n==null?void 0:n.decodedToken)===null||t===void 0?void 0:t.claims}async loginWithRedirect(t={}){var n;const s=P0(t),{openUrl:i,fragment:o,appState:r}=s,a=ws(s,["openUrl","fragment","appState"]),c=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:d}=u,m=ws(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},m),{appState:r}),c&&{organization:c}));const f=o?`${d}#${o}`:d;i?await i(f):window.location.assign(f)}async handleRedirectCallback(t=window.location.href){const n=t.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:s,code:i,error:o,error_description:r}=(m=>{m.indexOf("#")>-1&&(m=m.substring(0,m.indexOf("#")));const f=new URLSearchParams(m);return{state:f.get("state"),code:f.get("code")||void 0,error:f.get("error")||void 0,error_description:f.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new Cn("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new g5(o,r||o,s,a.appState);if(!a.code_verifier||a.state&&a.state!==s)throw new Cn("state_mismatch","Invalid state");const c=a.organization,u=a.nonce,d=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:u,organization:c}),{appState:a.appState}}async checkSession(t){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(t)}catch{}}async getTokenSilently(t={}){var n;const s=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:_c(this.scope,(n=t.authorizationParams)===null||n===void 0?void 0:n.scope)})}),i=await((o,r)=>{let a=Em[r];return a||(a=o().finally(()=>{delete Em[r],a=null}),Em[r]=a),a})(()=>this._getTokenSilently(s),`${this.options.clientId}::${s.authorizationParams.audience}::${s.authorizationParams.scope}`);return t.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(t){const{cacheMode:n}=t,s=ws(t,["cacheMode"]);if(n!=="off"){const i=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(n!=="cache-only"){if(!await(async(i,o=3)=>{for(let r=0;r<o;r++)if(await i())return!0;return!1})(()=>Tm.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new bh;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const u=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(u)return u}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(s):await this._getTokenFromIFrame(s),{id_token:o,access_token:r,oauthTokenScope:a,expires_in:c}=i;return Object.assign(Object.assign({id_token:o,access_token:r},a?{scope:a}:null),{expires_in:c})}finally{await Tm.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(t={},n={}){var s;const i=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:_c(this.scope,(s=t.authorizationParams)===null||s===void 0?void 0:s.scope)})});return n=Object.assign(Object.assign({},p5),n),await this.loginWithPopup(i,n),(await this.cacheManager.get(new io({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const n=t.logoutParams||{},{federated:s}=n,i=ws(n,["federated"]),o=s?"&federated":"";return this._url(`/v2/logout?${vh(Object.assign({clientId:t.clientId},i))}`)+o}async logout(t={}){const n=P0(t),{openUrl:s}=n,i=ws(n,["openUrl"]);t.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const o=this._buildLogoutUrl(i);s?await s(o):s!==!1&&window.location.assign(o)}async _getTokenFromIFrame(t){const n=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),s=this.cookieStorage.get(this.orgHintCookieName);s&&!n.organization&&(n.organization=s);const{url:i,state:o,nonce:r,code_verifier:a,redirect_uri:c,scope:u,audience:d}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Cn("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const m=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,f=await((p,g,v=60)=>new Promise((x,E)=>{const N=window.document.createElement("iframe");N.setAttribute("width","0"),N.setAttribute("height","0"),N.style.display="none";const D=()=>{window.document.body.contains(N)&&(window.document.body.removeChild(N),window.removeEventListener("message",w,!1))};let w;const T=setTimeout(()=>{E(new bh),D()},1e3*v);w=function(M){if(M.origin!=g||!M.data||M.data.type!=="authorization_response")return;const _=M.source;_&&_.close(),M.data.response.error?E(Cn.fromPayload(M.data.response)):x(M.data.response),clearTimeout(T),window.removeEventListener("message",w,!1),setTimeout(D,2e3)},window.addEventListener("message",w,!1),window.document.body.appendChild(N),N.setAttribute("src",p)}))(i,this.domainUrl,m);if(o!==f.state)throw new Cn("state_mismatch","Invalid state");const h=await this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:a,code:f.code,grant_type:"authorization_code",redirect_uri:c,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:r,organization:n.organization});return Object.assign(Object.assign({},h),{scope:u,oauthTokenScope:h.scope,audience:d})}catch(m){throw m.error==="login_required"&&this.logout({openUrl:!1}),m}}async _getTokenUsingRefreshToken(t){const n=await this.cacheManager.get(new io({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw new mE(t.authorizationParams.audience||"default",t.authorizationParams.scope)}const s=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null;try{const o=await this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:s}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:t.authorizationParams.scope,oauthTokenScope:o.scope,audience:t.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw o}}async _saveEntryInCache(t){const{id_token:n,decodedToken:s}=t,i=ws(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:s}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const t=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new io({clientId:this.options.clientId,audience:t,scope:this.scope})),s=this.userCache.get("@@user@@");return n&&n.id_token===(s==null?void 0:s.id_token)?s:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:t,audience:n,clientId:s}){const i=await this.cacheManager.get(new io({scope:t,audience:n,clientId:s}),60);if(i&&i.access_token){const{access_token:o,oauthTokenScope:r,expires_in:a}=i,c=await this._getIdTokenFromCache();return c&&Object.assign(Object.assign({id_token:c.id_token,access_token:o},r?{scope:r}:null),{expires_in:a})}}async _requestToken(t,n){const{nonceIn:s,organization:i}=n||{},o=await E5(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},t),this.worker),r=await this._verifyIdToken(o.id_token,s,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:r,scope:t.scope,audience:t.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||r.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:r})}};var bE={isAuthenticated:!1,isLoading:!0},Us=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},L5=Bt(Bt({},bE),{buildAuthorizeUrl:Us,buildLogoutUrl:Us,getAccessTokenSilently:Us,getAccessTokenWithPopup:Us,getIdTokenClaims:Us,loginWithRedirect:Us,loginWithPopup:Us,logout:Us,handleRedirectCallback:Us}),vE=b.createContext(L5),A0=function(e){m5(t,e);function t(n,s){var i=e.call(this,s||n)||this;return i.error=n,i.error_description=s,Object.setPrototypeOf(i,t.prototype),i}return t}(Error),F5=/[?&]code=[^&]+/,B5=/[?&]state=[^&]+/,H5=/[?&]error=[^&]+/,U5=function(e){return e===void 0&&(e=window.location.search),(F5.test(e)||H5.test(e))&&B5.test(e)},xE=function(e){return function(t){return t instanceof Error?t:t!==null&&typeof t=="object"&&"error"in t&&typeof t.error=="string"?"error_description"in t&&typeof t.error_description=="string"?new A0(t.error,t.error_description):new A0(t.error):new Error(e)}},j0=xE("Login failed"),Sm=xE("Get access token failed"),NE=function(e){var t;e!=null&&e.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),e.authorizationParams=e.authorizationParams||{},e.authorizationParams.redirect_uri=e.redirectUri,delete e.redirectUri),!((t=e==null?void 0:e.authorizationParams)===null||t===void 0)&&t.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),e.authorizationParams.redirect_uri=e.authorizationParams.redirectUri,delete e.authorizationParams.redirectUri)},$5=function(e,t){switch(t.type){case"LOGIN_POPUP_STARTED":return Bt(Bt({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Bt(Bt({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return e.user===t.user?e:Bt(Bt({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return Bt(Bt({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return Bt(Bt({},e),{isLoading:!1,error:t.error})}},z5=function(e){return NE(e),Bt(Bt({},e),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},W5=function(e){window.history.replaceState({},document.title,(e==null?void 0:e.returnTo)||window.location.pathname)},q5=function(e){var t=e.children,n=e.skipRedirectCallback,s=e.onRedirectCallback,i=s===void 0?W5:s,o=e.context,r=o===void 0?vE:o,a=f5(e,["children","skipRedirectCallback","onRedirectCallback","context"]),c=b.useState(function(){return new O5(z5(a))})[0],u=b.useReducer($5,bE),d=u[0],m=u[1],f=b.useRef(!1),h=b.useCallback(function(T){return m({type:"ERROR",error:T}),T},[]);b.useEffect(function(){f.current||(f.current=!0,function(){return Ho(void 0,void 0,void 0,function(){var T,M,_;return Uo(this,function(C){switch(C.label){case 0:return C.trys.push([0,7,,8]),T=void 0,U5()&&!n?[4,c.handleRedirectCallback()]:[3,3];case 1:return M=C.sent().appState,[4,c.getUser()];case 2:return T=C.sent(),i(M,T),[3,6];case 3:return[4,c.checkSession()];case 4:return C.sent(),[4,c.getUser()];case 5:T=C.sent(),C.label=6;case 6:return m({type:"INITIALISED",user:T}),[3,8];case 7:return _=C.sent(),h(j0(_)),[3,8];case 8:return[2]}})})}())},[c,i,n,h]);var p=b.useCallback(function(T){return NE(T),c.loginWithRedirect(T)},[c]),g=b.useCallback(function(T,M){return Ho(void 0,void 0,void 0,function(){var _,C;return Uo(this,function(k){switch(k.label){case 0:m({type:"LOGIN_POPUP_STARTED"}),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,c.loginWithPopup(T,M)];case 2:return k.sent(),[3,4];case 3:return _=k.sent(),h(j0(_)),[2];case 4:return[4,c.getUser()];case 5:return C=k.sent(),m({type:"LOGIN_POPUP_COMPLETE",user:C}),[2]}})})},[c]),v=b.useCallback(function(T){return T===void 0&&(T={}),Ho(void 0,void 0,void 0,function(){return Uo(this,function(M){switch(M.label){case 0:return[4,c.logout(T)];case 1:return M.sent(),(T.openUrl||T.openUrl===!1)&&m({type:"LOGOUT"}),[2]}})})},[c]),x=b.useCallback(function(T){return Ho(void 0,void 0,void 0,function(){var M,_,C,k;return Uo(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,3,5]),[4,c.getTokenSilently(T)];case 1:return M=L.sent(),[3,5];case 2:throw _=L.sent(),Sm(_);case 3:return C=m,k={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return C.apply(void 0,[(k.user=L.sent(),k)]),[7];case 5:return[2,M]}})})},[c]),E=b.useCallback(function(T,M){return Ho(void 0,void 0,void 0,function(){var _,C,k,L;return Uo(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,3,5]),[4,c.getTokenWithPopup(T,M)];case 1:return _=B.sent(),[3,5];case 2:throw C=B.sent(),Sm(C);case 3:return k=m,L={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return k.apply(void 0,[(L.user=B.sent(),L)]),[7];case 5:return[2,_]}})})},[c]),N=b.useCallback(function(){return c.getIdTokenClaims()},[c]),D=b.useCallback(function(T){return Ho(void 0,void 0,void 0,function(){var M,_,C;return Uo(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,3,5]),[4,c.handleRedirectCallback(T)];case 1:return[2,k.sent()];case 2:throw M=k.sent(),Sm(M);case 3:return _=m,C={type:"HANDLE_REDIRECT_COMPLETE"},[4,c.getUser()];case 4:return _.apply(void 0,[(C.user=k.sent(),C)]),[7];case 5:return[2]}})})},[c]),w=b.useMemo(function(){return Bt(Bt({},d),{getAccessTokenSilently:x,getAccessTokenWithPopup:E,getIdTokenClaims:N,loginWithRedirect:p,loginWithPopup:g,logout:v,handleRedirectCallback:D})},[d,x,E,N,p,g,v,D]);return Ee.createElement(r.Provider,{value:w},t)},ds=function(e){return e===void 0&&(e=vE),b.useContext(e)};class G5{constructor(){Me(this,"contentIndex",[]);Me(this,"isIndexed",!1);Me(this,"indexingPromise",null)}async initialize(){if(!this.isIndexed){if(this.indexingPromise)return this.indexingPromise;this.indexingPromise=this.buildIndex(),await this.indexingPromise,this.isIndexed=!0}}async buildIndex(){console.log(" Building handbook search index...");const t=["medical-oncology","radiation-oncology","palliative-care"],n={"medical-oncology":"medical_oncology_handbook","radiation-oncology":"radiation_handbook","palliative-care":"palliative_handbook"};for(const s of t){const i=n[s];await this.indexSection(s,i)}console.log(` Search index built with ${this.contentIndex.length} items`)}async indexSection(t,n){try{const s=await fetch(`/public/${n}/toc.json`);if(!s.ok){console.warn(` Could not load TOC for ${t}`);return}const i=await s.json();await this.indexTocItems(i,t,n,""),await this.indexMarkdownFiles(t,n)}catch(s){console.error(` Error indexing section ${t}:`,s)}}async indexTocItems(t,n,s,i){for(const o of t)o.path&&await this.indexContentFile(o,n,s),o.items&&Array.isArray(o.items)&&await this.indexTocItems(o.items,n,s,i)}async indexContentFile(t,n,s){try{const i=`/public/${s}/${t.path}.json`,o=await fetch(i);if(!o.ok)return;const r=await o.json(),a=this.extractSearchableText(r),c={id:`${n}/${t.path}`,title:r.title||t.title,section:n,category:r.category||this.getSectionDisplayName(n),path:t.path,content:JSON.stringify(r),searchableText:a};this.contentIndex.push(c)}catch(i){console.warn(` Could not index ${t.path}:`,i)}}async indexMarkdownFiles(t,n){if(t!=="palliative-care")return;const s=["introduction","symptom-management","pain-control","medication-guide","assessment-tools","communication-skills","goals-of-care","psychosocial","ethical-issues","case-studies","bereavement"];for(const i of s)try{const o=`/public/${n}/sections/${i}.md`,r=await fetch(o);if(!r.ok)continue;const a=await r.text(),c=this.extractMarkdownTitle(a)||i.replace(/-/g," "),u={id:`${t}/sections/${i}`,title:c,section:t,category:this.getSectionDisplayName(t),path:`sections/${i}`,content:a,searchableText:this.cleanMarkdownText(a)};this.contentIndex.push(u)}catch(o){console.warn(` Could not index markdown ${i}:`,o)}}extractSearchableText(t){const n=[];return t.title&&n.push(t.title),t.summary&&n.push(t.summary),t.content&&Array.isArray(t.content)&&t.content.forEach(s=>{switch(s.type){case"paragraph":case"clinical_pearl":n.push(s.text||"");break;case"heading":n.push(s.text||"");break;case"list":s.items&&n.push(...s.items);break;case"table":s.headers&&n.push(...s.headers),s.rows&&s.rows.forEach(i=>{n.push(...i)});break}}),n.join(" ").toLowerCase()}extractMarkdownTitle(t){const n=t.match(/^#\s+(.+)$/m);return n?n[1]:null}cleanMarkdownText(t){return t.replace(/#{1,6}\s+/g,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1").replace(/<!--.*?-->/gs,"").toLowerCase()}getSectionDisplayName(t){return{"medical-oncology":"Medical Oncology","radiation-oncology":"Radiation Oncology","palliative-care":"Palliative Care"}[t]||t}async search(t,n={}){if(await this.initialize(),!t.trim())return[];const s=t.toLowerCase().split(/\s+/).filter(o=>o.length>1),i=[];for(const o of this.contentIndex){if(n.sections&&!n.sections.includes(o.section))continue;const r=this.calculateScore(o,s);if(r<(n.minScore||.1))continue;const a=this.findMatches(o,s),c=this.generateSnippet(o,s);i.push({id:o.id,title:o.title,section:o.section,category:o.category,path:o.path,content:n.includeContent?o.content:"",snippet:c,score:r,matches:a})}return i.sort((o,r)=>r.score-o.score),i.slice(0,n.maxResults||50)}calculateScore(t,n){let s=0;for(const i of n){t.title.toLowerCase().includes(i)&&(s+=3);const o=(t.searchableText.match(new RegExp(i,"g"))||[]).length;if(s+=o*1,n.length>1){const r=n.join(" ");t.searchableText.includes(r)&&(s+=5)}}return s/Math.sqrt(t.searchableText.length/1e3)}findMatches(t,n){const s=[];for(const i of n){const o=new RegExp(`\\b${i}\\b`,"gi");let r;for(;(r=o.exec(t.searchableText))!==null;){const a=Math.max(0,r.index-50),c=Math.min(t.searchableText.length,r.index+i.length+50),u=t.searchableText.slice(a,c);if(s.push({text:i,start:r.index,end:r.index+i.length,context:`...${u}...`}),s.length>=3)break}}return s}generateSnippet(t,n){for(const i of n){const o=t.searchableText.indexOf(i);if(o!==-1){const r=Math.max(0,o-100),a=Math.min(t.searchableText.length,o+100);let c=t.searchableText.slice(r,a);return r>0&&(c="..."+c),a<t.searchableText.length&&(c=c+"..."),c.slice(0,200)}}return t.searchableText.slice(0,200)+"..."}async getSuggestions(t,n=10){await this.initialize();const s=new Set,i=t.toLowerCase();for(const o of this.contentIndex){o.title.toLowerCase().includes(i)&&s.add(o.title);const r=o.searchableText.split(/\s+/);for(const a of r)a.length>3&&a.includes(i)&&s.add(a);if(s.size>=n)break}return Array.from(s).slice(0,n)}clearIndex(){this.contentIndex=[],this.isIndexed=!1,this.indexingPromise=null}}const Nh=new G5;function yE({onResultSelect:e,placeholder:t="Search handbook content...",showFilters:n=!0,defaultSection:s,className:i}){const[o,r]=b.useState(""),[a,c]=b.useState([]),[u,d]=b.useState(!1),[m,f]=b.useState(!1),[h,p]=b.useState(s||"all"),[g,v]=b.useState([]),[x,E]=b.useState([]),N=b.useRef(null),D=b.useRef(null),w=us();b.useEffect(()=>{const R=localStorage.getItem("handbook-recent-searches");if(R)try{v(JSON.parse(R))}catch{console.warn("Failed to load recent searches")}},[]);const T=b.useCallback(R=>{const U=R.trim();!U||U.length<3||v(G=>{const $=G.filter(I=>I!==U),Z=[U,...$].slice(0,5);return localStorage.setItem("handbook-recent-searches",JSON.stringify(Z)),Z})},[]),M=b.useCallback(R=>{const U=setTimeout(async()=>{if(!R.trim()){c([]),E([]);return}d(!0);try{const G={maxResults:20,minScore:.1};h!=="all"&&(G.sections=[h]);const $=await Nh.search(R,G);if(c($),R.length<10){const Z=await Nh.getSuggestions(R,5);E(Z)}else E([])}catch(G){console.error("Search error:",G),c([]),E([])}finally{d(!1)}},300);return()=>clearTimeout(U)},[h]);b.useEffect(()=>M(o),[o,M]);const _=b.useCallback(R=>{if(T(o),f(!1),r(""),e)e(R);else{const U=`/handbook/${R.section}/${R.path}`;w(U)}},[o,e,w,T]),C=b.useCallback(R=>{var U;r(R),(U=N.current)==null||U.focus()},[]),k=b.useCallback(R=>{var U;r(R),(U=N.current)==null||U.focus()},[]),L=b.useCallback(()=>{f(!0)},[]),B=b.useCallback(R=>{var U;(U=D.current)!=null&&U.contains(R.relatedTarget)||setTimeout(()=>f(!1),150)},[]),P=b.useCallback(()=>{var R;r(""),c([]),E([]),f(!1),(R=N.current)==null||R.focus()},[]),j=[{value:"all",label:"All Sections"},{value:"medical-oncology",label:"Medical Oncology"},{value:"radiation-oncology",label:"Radiation Oncology"},{value:"palliative-care",label:"Palliative Care"}];return l.jsxDEV("div",{className:Ce("relative w-full max-w-2xl",i),children:[l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsxDEV(yo,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:170,columnNumber:9},this),l.jsxDEV("input",{ref:N,type:"text",value:o,onChange:R=>r(R.target.value),onFocus:L,onBlur:B,placeholder:t,className:Ce("block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","placeholder-gray-500 dark:placeholder-gray-400","focus:ring-2 focus:ring-blue-500 focus:border-blue-500","dark:border-gray-600 dark:focus:border-blue-400","transition-all duration-200")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:174,columnNumber:9},this),l.jsxDEV("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?l.jsxDEV(ri,{className:"h-5 w-5 text-gray-400 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:195,columnNumber:13},this):o?l.jsxDEV("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsxDEV(ss,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:201,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:197,columnNumber:13},this):null},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:193,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:169,columnNumber:7},this),n&&l.jsxDEV("div",{className:"mt-2",children:l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Dp,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:211,columnNumber:13},this),l.jsxDEV("select",{value:h,onChange:R=>p(R.target.value),className:Ce("text-sm border border-gray-300 rounded-md px-2 py-1","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","dark:border-gray-600 focus:ring-1 focus:ring-blue-500"),children:j.map(R=>l.jsxDEV("option",{value:R.value,children:R.label},R.value,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:222,columnNumber:17},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:212,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:210,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:209,columnNumber:9},this),l.jsxDEV(As,{children:m&&l.jsxDEV(Be.div,{ref:D,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:Ce("absolute top-full left-0 right-0 mt-2 z-50","bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600","rounded-lg shadow-lg max-h-96 overflow-y-auto"),children:[!o&&g.length>0&&l.jsxDEV("div",{className:"p-3 border-b border-gray-200 dark:border-gray-600",children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxDEV(ko,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:250,columnNumber:19},this),l.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recent Searches"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:251,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:249,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-1",children:g.map((R,U)=>l.jsxDEV("button",{onClick:()=>k(R),className:Ce("block w-full text-left px-2 py-1 text-sm rounded","text-gray-600 dark:text-gray-400","hover:bg-gray-100 dark:hover:bg-gray-700"),children:R},U,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:257,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:248,columnNumber:15},this),o&&x.length>0&&l.jsxDEV("div",{className:"p-3 border-b border-gray-200 dark:border-gray-600",children:[l.jsxDEV("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Suggestions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:276,columnNumber:17},this),l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:x.map((R,U)=>l.jsxDEV("button",{onClick:()=>C(R),className:Ce("px-2 py-1 text-xs rounded-full","bg-blue-50 text-blue-700 hover:bg-blue-100","dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50"),children:R},U,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:281,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:279,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:275,columnNumber:15},this),a.length>0&&l.jsxDEV("div",{className:"p-2",children:[l.jsxDEV("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 px-2",children:["Results (",a.length,")"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:300,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-1",children:a.map(R=>l.jsxDEV("button",{onClick:()=>_(R),className:Ce("w-full text-left p-3 rounded-lg","hover:bg-gray-50 dark:hover:bg-gray-700","transition-colors duration-150"),children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(is,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:315,columnNumber:25},this),l.jsxDEV("div",{className:"flex-1 min-w-0",children:[l.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:R.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:317,columnNumber:27},this),l.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[R.category,"  ",R.section]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:320,columnNumber:27},this),l.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:R.snippet},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:323,columnNumber:27},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:316,columnNumber:25},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:314,columnNumber:23},this)},R.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:305,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:303,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:299,columnNumber:15},this),o&&!u&&a.length===0&&l.jsxDEV("div",{className:"p-8 text-center",children:[l.jsxDEV(is,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:337,columnNumber:17},this),l.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:['No results found for "',o,'"']},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:338,columnNumber:17},this),l.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Try different keywords or check spelling"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:341,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:336,columnNumber:15},this),!o&&g.length===0&&l.jsxDEV("div",{className:"p-8 text-center",children:[l.jsxDEV(yo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:350,columnNumber:17},this),l.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Start typing to search handbook content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:351,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:234,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:232,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:167,columnNumber:5},this)}function Y5({className:e}){const[t,n]=eC(),[s,i]=b.useState([]),[o,r]=b.useState(!1),[a,c]=b.useState("all"),[u,d]=b.useState("relevance"),[m,f]=b.useState("list"),h=us(),p=t.get("q")||"",g=["neutropenic fever","staging","palliative care","pain management","chemotherapy protocols","radiation therapy","tumor markers","emergency oncology"],v=[{title:"CAR-T Cell Therapy Guidelines",section:"medical-oncology",category:"Treatment Modalities",date:"2024-05-20"},{title:"Advanced Pain Control Techniques",section:"palliative-care",category:"Symptom Management",date:"2024-05-18"},{title:"SBRT Treatment Planning",section:"radiation-oncology",category:"Treatment Planning",date:"2024-05-15"}];b.useEffect(()=>{p&&x(p)},[p,a]);const x=async _=>{if(!_.trim()){i([]);return}r(!0);try{const C=await Nh.search(_,{sections:a==="all"?void 0:[a],maxResults:50,minScore:.05,includeContent:!1}),k=E(C,u);i(k)}catch(C){console.error("Search error:",C),i([])}finally{r(!1)}},E=(_,C)=>{switch(C){case"title":return[..._].sort((k,L)=>k.title.localeCompare(L.title));case"section":return[..._].sort((k,L)=>k.section.localeCompare(L.section));case"relevance":default:return _}},N=_=>{const C=`/handbook/${_.section}/${_.path}`;h(C)},D=_=>{n({q:_})},w=(_,C)=>{if(!C)return _;const k=C.toLowerCase().split(/\s+/);let L=_;return k.forEach(B=>{if(B.length>1){const P=new RegExp(`(${B})`,"gi");L=L.replace(P,"<mark>$1</mark>")}}),l.jsxDEV("span",{dangerouslySetInnerHTML:{__html:L}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:126,columnNumber:12},this)},T=_=>{switch(_){case"medical-oncology":return"";case"radiation-oncology":return"";case"palliative-care":return"";default:return""}},M=_=>{switch(_){case"medical-oncology":return"Medical Oncology";case"radiation-oncology":return"Radiation Oncology";case"palliative-care":return"Palliative Care";default:return _}};return l.jsxDEV("div",{className:Ce("min-h-screen bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800",e),children:[l.jsxDEV("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700 sticky top-0 z-40",children:l.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[l.jsxDEV("div",{className:"flex-1",children:[l.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Handbook Search"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:162,columnNumber:15},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Search across all oncology handbook content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:165,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:161,columnNumber:13},this),l.jsxDEV("div",{className:"flex-1 max-w-2xl",children:l.jsxDEV(yE,{placeholder:"Search treatments, guidelines, protocols...",showFilters:!1,onResultSelect:N},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:172,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:158,columnNumber:7},this),l.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsxDEV("div",{className:"lg:col-span-1",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsxDEV(Dp,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:190,columnNumber:19},this),"Filters"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:189,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Section"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:197,columnNumber:21},this),l.jsxDEV("select",{value:a,onChange:_=>c(_.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white",children:[l.jsxDEV("option",{value:"all",children:"All Sections"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:205,columnNumber:23},this),l.jsxDEV("option",{value:"medical-oncology",children:"Medical Oncology"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:206,columnNumber:23},this),l.jsxDEV("option",{value:"radiation-oncology",children:"Radiation Oncology"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:207,columnNumber:23},this),l.jsxDEV("option",{value:"palliative-care",children:"Palliative Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:208,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:200,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:196,columnNumber:19},this),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort by"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:214,columnNumber:21},this),l.jsxDEV("select",{value:u,onChange:_=>d(_.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white",children:[l.jsxDEV("option",{value:"relevance",children:"Relevance"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:222,columnNumber:23},this),l.jsxDEV("option",{value:"title",children:"Title"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:223,columnNumber:23},this),l.jsxDEV("option",{value:"section",children:"Section"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:224,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:217,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:213,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:188,columnNumber:15},this),l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsxDEV(iC,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:233,columnNumber:19},this),"Popular Searches"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:232,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-2",children:g.map((_,C)=>l.jsxDEV("button",{onClick:()=>D(_),className:"block w-full text-left text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline",children:_},C,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:238,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:231,columnNumber:15},this),l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsxDEV(ko,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:252,columnNumber:19},this),"Recent Additions"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:251,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-3",children:v.map((_,C)=>l.jsxDEV("div",{className:"text-sm",children:[l.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:_.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:258,columnNumber:23},this),l.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[M(_.section),"  ",_.date]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:261,columnNumber:23},this)]},C,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:257,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:185,columnNumber:11},this),l.jsxDEV("div",{className:"lg:col-span-3",children:p?l.jsxDEV("div",{children:[l.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:l.jsxDEV("div",{children:[l.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Search Results"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:316,columnNumber:21},this),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o?"Searching...":`${s.length} results for "${p}"`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:319,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:315,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:314,columnNumber:17},this),l.jsxDEV(As,{mode:"wait",children:o?l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-12",children:l.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:328,columnNumber:21},this):s.length>0?l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.map((_,C)=>l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:l.jsxDEV("button",{onClick:()=>N(_),className:"w-full text-left group",children:l.jsxDEV("div",{className:"flex items-start gap-4",children:[l.jsxDEV("div",{className:"text-2xl mt-1",children:T(_.section)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:356,columnNumber:31},this),l.jsxDEV("div",{className:"flex-1 min-w-0",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 mb-1",children:w(_.title,p)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:360,columnNumber:33},this),l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxDEV("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:M(_.section)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:364,columnNumber:35},this),l.jsxDEV("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",_.category]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:367,columnNumber:35},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:363,columnNumber:33},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:w(_.snippet,p)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:371,columnNumber:33},this),l.jsxDEV("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300",children:["Read more",l.jsxDEV(oC,{className:"h-3 w-3 ml-1 group-hover:translate-x-1 transition-transform"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:376,columnNumber:35},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:374,columnNumber:33},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:359,columnNumber:31},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:355,columnNumber:29},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:351,columnNumber:27},this)},_.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:344,columnNumber:25},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:337,columnNumber:21},this):l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[l.jsxDEV(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:391,columnNumber:23},this),l.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No results found"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:392,columnNumber:23},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try different keywords or check your spelling"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:395,columnNumber:23},this),l.jsxDEV("button",{onClick:()=>n({}),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Clear search"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:398,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:385,columnNumber:21},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:326,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:312,columnNumber:15},this):l.jsxDEV("div",{className:"text-center py-12",children:[l.jsxDEV(yo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:276,columnNumber:17},this),l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Search Handbook Content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:277,columnNumber:17},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Find specific treatments, guidelines, protocols, and clinical information across all handbook sections."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:280,columnNumber:17},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[{title:"Treatments",examples:["chemotherapy","immunotherapy","radiation"]},{title:"Guidelines",examples:["staging","protocols","pathways"]},{title:"Emergencies",examples:["neutropenic fever","SVC syndrome","TLS"]}].map((_,C)=>l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:_.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:292,columnNumber:23},this),l.jsxDEV("div",{className:"space-y-1",children:_.examples.map((k,L)=>l.jsxDEV("button",{onClick:()=>D(k),className:"block text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline",children:k},L,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:297,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:295,columnNumber:23},this)]},C,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:291,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:285,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:275,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:183,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:182,columnNumber:7},this),l.jsxDEV("style",{jsx:!0,children:`
        mark {
          background-color: #fef08a;
          color: #1f2937;
          padding: 1px 2px;
          border-radius: 2px;
        }
        .dark mark {
          background-color: #eab308;
          color: #111827;
        }
      `},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:414,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:156,columnNumber:5},this)}const I0={Search:yo},Lu=({className:e="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:t="Log In"})=>{const{loginWithRedirect:n,isLoading:s}=ds(),i=()=>{const o=window.location.pathname==="/callback"?"/dashboard":window.location.pathname+window.location.search;sessionStorage.setItem("auth_return_to",o),n({appState:{returnTo:o}})};return l.jsxDEV("button",{onClick:i,disabled:s,className:e,children:s?"Loading...":t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/LoginButton.tsx",lineNumber:32,columnNumber:5},void 0)},wd=({className:e="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:t="Log Out"})=>{const{logout:n,isLoading:s}=ds(),i=()=>{n({logoutParams:{returnTo:window.location.origin}})};return l.jsxDEV("button",{onClick:i,disabled:s,className:e,children:s?"Loading...":t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/LogoutButton.tsx",lineNumber:25,columnNumber:5},void 0)},K5=({timeoutMinutes:e=10,warningMinutes:t=2,onWarning:n,onLogout:s,enableWarning:i=!0}={})=>{const{logout:o,isAuthenticated:r}=ds(),[a,c]=b.useState(e*60),[u,d]=b.useState(!1),m=b.useRef(void 0),f=b.useRef(void 0),h=b.useRef(void 0),p=b.useRef(Date.now()),g=b.useCallback(()=>{p.current=Date.now(),c(e*60),d(!1),m.current&&clearTimeout(m.current),f.current&&clearTimeout(f.current),h.current&&clearInterval(h.current),r&&(i&&t>0&&(f.current=setTimeout(()=>{d(!0),n==null||n()},(e-t)*60*1e3)),m.current=setTimeout(()=>{v()},e*60*1e3),h.current=setInterval(()=>{const N=Math.floor((Date.now()-p.current)/1e3),D=Math.max(0,e*60-N);c(D),D<=0&&v()},1e3))},[e,t,i,n,r]),v=b.useCallback(()=>{s==null||s(),o({logoutParams:{returnTo:window.location.origin}})},[o,s]),x=b.useCallback(()=>{g()},[g]),E=b.useCallback(()=>{v()},[v]);return b.useEffect(()=>{if(!r)return;const N=["mousedown","mousemove","keypress","scroll","touchstart","click"],D=()=>{g()};return N.forEach(w=>{document.addEventListener(w,D,!0)}),g(),()=>{N.forEach(w=>{document.removeEventListener(w,D,!0)}),m.current&&clearTimeout(m.current),f.current&&clearTimeout(f.current),h.current&&clearInterval(h.current)}},[r,g]),b.useEffect(()=>{r||(m.current&&clearTimeout(m.current),f.current&&clearTimeout(f.current),h.current&&clearInterval(h.current),d(!1),c(e*60))},[r,e]),{timeRemaining:a,isWarningShown:u,extendSession:x,logout:E}};var X5=Object.defineProperty,J5=(e,t,n)=>t in e?X5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_m=(e,t,n)=>(J5(e,typeof t!="symbol"?t+"":t,n),n);let Q5=class{constructor(){_m(this,"current",this.detect()),_m(this,"handoffState","pending"),_m(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zs=new Q5,mn=(e,t)=>{Zs.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function yi(e){let t=b.useRef(e);return mn(()=>{t.current=e},[e]),t}let xt=function(e){let t=yi(e);return Ee.useCallback((...n)=>t.current(...n),[t])};function Yl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Dd(){let e=[],t={addEventListener(n,s,i,o){return n.addEventListener(s,i,o),t.add(()=>n.removeEventListener(s,i,o))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return t.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return Yl(()=>{s.current&&n[0]()}),t.add(()=>{s.current=!1})},style(n,s,i){let o=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:i}),this.add(()=>{Object.assign(n.style,{[s]:o})})},group(n){let s=Dd();return n(s),this.add(()=>s.dispose())},add(n){return e.push(n),()=>{let s=e.indexOf(n);if(s>=0)for(let i of e.splice(s,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Z5(){let[e]=b.useState(Dd);return b.useEffect(()=>()=>e.dispose(),[e]),e}function eO(){let e=typeof document>"u";return"useSyncExternalStore"in No?(t=>t.useSyncExternalStore)(No)(()=>()=>{},()=>!1,()=>!e):!1}function Ed(){let e=eO(),[t,n]=b.useState(Zs.isHandoffComplete);return t&&Zs.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{t!==!0&&n(!0)},[t]),b.useEffect(()=>Zs.handoff(),[]),e?!1:t}var R0;let Ri=(R0=Ee.useId)!=null?R0:function(){let e=Ed(),[t,n]=Ee.useState(e?()=>Zs.nextId():null);return mn(()=>{t===null&&n(Zs.nextId())},[t]),t!=null?""+t:void 0};function jn(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,jn),s}function yg(e){return Zs.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let yh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Yt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Yt||{}),hr=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(hr||{}),tO=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(tO||{});function nO(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(yh)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var wE=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(wE||{});function sO(e,t=0){var n;return e===((n=yg(e))==null?void 0:n.body)?!1:jn(t,{0(){return e.matches(yh)},1(){let s=e;for(;s!==null;){if(s.matches(yh))return!0;s=s.parentElement}return!1}})}var iO=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(iO||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bo(e){e==null||e.focus({preventScroll:!0})}let oO=["textarea","input"].join(",");function rO(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,oO))!=null?n:!1}function pr(e,t=n=>n){return e.slice().sort((n,s)=>{let i=t(n),o=t(s);if(i===null||o===null)return 0;let r=i.compareDocumentPosition(o);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ds(e,t,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,r=Array.isArray(e)?n?pr(e):e:nO(e);i.length>0&&r.length>1&&(r=r.filter(h=>!i.includes(h))),s=s??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,r.indexOf(s))-1;if(t&4)return Math.max(0,r.indexOf(s))+1;if(t&8)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,m=r.length,f;do{if(d>=m||d+m<=0)return 0;let h=c+d;if(t&16)h=(h+m)%m;else{if(h<0)return 3;if(h>=m)return 1}f=r[h],f==null||f.focus(u),d+=a}while(f!==o.activeElement);return t&6&&rO(f)&&f.select(),2}function DE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function aO(){return/Android/gi.test(window.navigator.userAgent)}function lO(){return DE()||aO()}function kc(e,t,n){let s=yi(t);b.useEffect(()=>{function i(o){s.current(o)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function EE(e,t,n){let s=yi(t);b.useEffect(()=>{function i(o){s.current(o)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function cO(e,t,n=!0){let s=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{s.current=n})},[n]);function i(r,a){if(!s.current||r.defaultPrevented)return;let c=a(r);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(m){return typeof m=="function"?d(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let d of u){if(d===null)continue;let m=d instanceof HTMLElement?d:d.current;if(m!=null&&m.contains(c)||r.composed&&r.composedPath().includes(m))return}return!sO(c,wE.Loose)&&c.tabIndex!==-1&&r.preventDefault(),t(r,c)}let o=b.useRef(null);kc("pointerdown",r=>{var a,c;s.current&&(o.current=((c=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:c[0])||r.target)},!0),kc("mousedown",r=>{var a,c;s.current&&(o.current=((c=(a=r.composedPath)==null?void 0:a.call(r))==null?void 0:c[0])||r.target)},!0),kc("click",r=>{lO()||o.current&&(i(r,()=>o.current),o.current=null)},!0),kc("touchend",r=>i(r,()=>r.target instanceof HTMLElement?r.target:null),!0),EE("blur",r=>i(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Kl(...e){return b.useMemo(()=>yg(...e),[...e])}function V0(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function uO(e,t){let[n,s]=b.useState(()=>V0(e));return mn(()=>{s(V0(e))},[e.type,e.as]),mn(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")},[n,t]),n}let TE=Symbol();function dO(e,t=!0){return Object.assign(e,{[TE]:t})}function Tn(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let n=xt(s=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(s):i.current=s)});return e.every(s=>s==null||(s==null?void 0:s[TE]))?void 0:n}function wg(e,t){let n=b.useRef([]),s=xt(e);b.useEffect(()=>{let i=[...n.current];for(let[o,r]of t.entries())if(n.current[o]!==r){let a=s(t,i);return n.current=t,a}},[s,...t])}function O0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Tl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Tl||{}),mO=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(mO||{});function fn({ourProps:e,theirProps:t,slot:n,defaultTag:s,features:i,visible:o=!0,name:r,mergeRefs:a}){a=a??fO;let c=SE(t,e);if(o)return Mc(c,n,s,r,a);let u=i??0;if(u&2){let{static:d=!1,...m}=c;if(d)return Mc(m,n,s,r,a)}if(u&1){let{unmount:d=!0,...m}=c;return jn(d?0:1,{0(){return null},1(){return Mc({...m,hidden:!0,style:{display:"none"}},n,s,r,a)}})}return Mc(c,n,s,r,a)}function Mc(e,t={},n,s,i){let{as:o=n,children:r,refName:a="ref",...c}=km(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof r=="function"?r(t):r;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let m={};if(t){let f=!1,h=[];for(let[p,g]of Object.entries(t))typeof g=="boolean"&&(f=!0),g===!0&&h.push(p);f&&(m["data-headlessui-state"]=h.join(" "))}if(o===b.Fragment&&Object.keys(L0(c)).length>0){if(!b.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let f=d.props,h=typeof(f==null?void 0:f.className)=="function"?(...g)=>O0(f==null?void 0:f.className(...g),c.className):O0(f==null?void 0:f.className,c.className),p=h?{className:h}:{};return b.cloneElement(d,Object.assign({},SE(d.props,L0(km(c,["ref"]))),m,u,{ref:i(d.ref,u.ref)},p))}return b.createElement(o,Object.assign({},km(c,["ref"]),o!==b.Fragment&&u,o!==b.Fragment&&m),d)}function Lse(){let e=b.useRef([]),t=b.useCallback(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return e.current=n,t}}function fO(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function SE(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let s of e)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):t[i]=s[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(t,{[s](i,...o){let r=n[s];for(let a of r){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function hn(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function L0(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function km(e,t=[]){let n=Object.assign({},e);for(let s of t)s in n&&delete n[s];return n}let hO="div";var Sl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Sl||{});function pO(e,t){var n;let{features:s=1,...i}=e,o={ref:t,"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return fn({ourProps:o,theirProps:i,slot:{},defaultTag:hO,name:"Hidden"})}let _l=hn(pO),Dg=b.createContext(null);Dg.displayName="OpenClosedContext";var ja=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ja||{});function gO(){return b.useContext(Dg)}function Fse({value:e,children:t}){return Ee.createElement(Dg.Provider,{value:e},t)}function bO(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let xi=[];bO(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&xi[0]!==t.target&&(xi.unshift(t.target),xi=xi.filter(n=>n!=null&&n.isConnected),xi.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function vO(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let s=(t==null?void 0:t.getAttribute("disabled"))==="";return s&&xO(n)?!1:s}function xO(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var Hn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Hn||{});function _E(e,t,n,s){let i=yi(n);b.useEffect(()=>{e=e??window;function o(r){i.current(r)}return e.addEventListener(t,o,s),()=>e.removeEventListener(t,o,s)},[e,t,s])}function Eg(){let e=b.useRef(!1);return mn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function kE(e){let t=xt(e),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,Yl(()=>{n.current&&t()})}),[t])}var Ia=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ia||{});function NO(){let e=b.useRef(0);return EE("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ME(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let yO="div";var CE=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(CE||{});function wO(e,t){let n=b.useRef(null),s=Tn(n,t),{initialFocus:i,containers:o,features:r=30,...a}=e;Ed()||(r=1);let c=Kl(n);TO({ownerDocument:c},!!(r&16));let u=SO({ownerDocument:c,container:n,initialFocus:i},!!(r&2));_O({ownerDocument:c,container:n,containers:o,previousActiveElement:u},!!(r&8));let d=NO(),m=xt(g=>{let v=n.current;v&&(x=>x())(()=>{jn(d.current,{[Ia.Forwards]:()=>{Ds(v,Yt.First,{skipElements:[g.relatedTarget]})},[Ia.Backwards]:()=>{Ds(v,Yt.Last,{skipElements:[g.relatedTarget]})}})})}),f=Z5(),h=b.useRef(!1),p={ref:s,onKeyDown(g){g.key=="Tab"&&(h.current=!0,f.requestAnimationFrame(()=>{h.current=!1}))},onBlur(g){let v=ME(o);n.current instanceof HTMLElement&&v.add(n.current);let x=g.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(PE(v,x)||(h.current?Ds(n.current,jn(d.current,{[Ia.Forwards]:()=>Yt.Next,[Ia.Backwards]:()=>Yt.Previous})|Yt.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&bo(g.target)))}};return Ee.createElement(Ee.Fragment,null,!!(r&4)&&Ee.createElement(_l,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Sl.Focusable}),fn({ourProps:p,theirProps:a,defaultTag:yO,name:"FocusTrap"}),!!(r&4)&&Ee.createElement(_l,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Sl.Focusable}))}let DO=hn(wO),pa=Object.assign(DO,{features:CE});function EO(e=!0){let t=b.useRef(xi.slice());return wg(([n],[s])=>{s===!0&&n===!1&&Yl(()=>{t.current.splice(0)}),s===!1&&n===!0&&(t.current=xi.slice())},[e,xi,t]),xt(()=>{var n;return(n=t.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function TO({ownerDocument:e},t){let n=EO(t);wg(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&bo(n())},[t]),kE(()=>{t&&bo(n())})}function SO({ownerDocument:e,container:t,initialFocus:n},s){let i=b.useRef(null),o=Eg();return wg(()=>{if(!s)return;let r=t.current;r&&Yl(()=>{if(!o.current)return;let a=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(r.contains(a)){i.current=a;return}n!=null&&n.current?bo(n.current):Ds(r,Yt.First)===hr.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[s]),i}function _O({ownerDocument:e,container:t,containers:n,previousActiveElement:s},i){let o=Eg();_E(e==null?void 0:e.defaultView,"focus",r=>{if(!i||!o.current)return;let a=ME(n);t.current instanceof HTMLElement&&a.add(t.current);let c=s.current;if(!c)return;let u=r.target;u&&u instanceof HTMLElement?PE(a,u)?(s.current=u,bo(u)):(r.preventDefault(),r.stopPropagation(),bo(c)):bo(s.current)},!0)}function PE(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let AE=b.createContext(!1);function kO(){return b.useContext(AE)}function wh(e){return Ee.createElement(AE.Provider,{value:e.force},e.children)}function MO(e){let t=kO(),n=b.useContext(jE),s=Kl(e),[i,o]=b.useState(()=>{if(!t&&n!==null||Zs.isServer)return null;let r=s==null?void 0:s.getElementById("headlessui-portal-root");if(r)return r;if(s===null)return null;let a=s.createElement("div");return a.setAttribute("id","headlessui-portal-root"),s.body.appendChild(a)});return b.useEffect(()=>{i!==null&&(s!=null&&s.body.contains(i)||s==null||s.body.appendChild(i))},[i,s]),b.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),i}let CO=b.Fragment;function PO(e,t){let n=e,s=b.useRef(null),i=Tn(dO(d=>{s.current=d}),t),o=Kl(s),r=MO(s),[a]=b.useState(()=>{var d;return Zs.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),c=b.useContext(Dh),u=Ed();return mn(()=>{!r||!a||r.contains(a)||(a.setAttribute("data-headlessui-portal",""),r.appendChild(a))},[r,a]),mn(()=>{if(a&&c)return c.register(a)},[c,a]),kE(()=>{var d;!r||!a||(a instanceof Node&&r.contains(a)&&r.removeChild(a),r.childNodes.length<=0&&((d=r.parentElement)==null||d.removeChild(r)))}),u?!r||!a?null:Fr.createPortal(fn({ourProps:{ref:i},theirProps:n,defaultTag:CO,name:"Portal"}),a):null}let AO=b.Fragment,jE=b.createContext(null);function jO(e,t){let{target:n,...s}=e,i={ref:Tn(t)};return Ee.createElement(jE.Provider,{value:n},fn({ourProps:i,theirProps:s,defaultTag:AO,name:"Popover.Group"}))}let Dh=b.createContext(null);function IO(){let e=b.useContext(Dh),t=b.useRef([]),n=xt(o=>(t.current.push(o),e&&e.register(o),()=>s(o))),s=xt(o=>{let r=t.current.indexOf(o);r!==-1&&t.current.splice(r,1),e&&e.unregister(o)}),i=b.useMemo(()=>({register:n,unregister:s,portals:t}),[n,s,t]);return[t,b.useMemo(()=>function({children:o}){return Ee.createElement(Dh.Provider,{value:i},o)},[i])]}let RO=hn(PO),VO=hn(jO),Eh=Object.assign(RO,{Group:VO});function OO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const LO=typeof Object.is=="function"?Object.is:OO,{useState:FO,useEffect:BO,useLayoutEffect:HO,useDebugValue:UO}=No;function $O(e,t,n){const s=t(),[{inst:i},o]=FO({inst:{value:s,getSnapshot:t}});return HO(()=>{i.value=s,i.getSnapshot=t,Mm(i)&&o({inst:i})},[e,s,t]),BO(()=>(Mm(i)&&o({inst:i}),e(()=>{Mm(i)&&o({inst:i})})),[e]),UO(s),s}function Mm(e){const t=e.getSnapshot,n=e.value;try{const s=t();return!LO(n,s)}catch{return!0}}function zO(e,t,n){return t()}const WO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qO=!WO,GO=qO?zO:$O,YO="useSyncExternalStore"in No?(e=>e.useSyncExternalStore)(No):GO;function KO(e){return YO(e.subscribe,e.getSnapshot,e.getSnapshot)}function XO(e,t){let n=e(),s=new Set;return{getSnapshot(){return n},subscribe(i){return s.add(i),()=>s.delete(i)},dispatch(i,...o){let r=t[i].call(n,...o);r&&(n=r,s.forEach(a=>a()))}}}function JO(){let e;return{before({doc:t}){var n;let s=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-s.clientWidth},after({doc:t,d:n}){let s=t.documentElement,i=s.clientWidth-s.offsetWidth,o=e-i;n.style(s,"paddingRight",`${o}px`)}}}function QO(){return DE()?{before({doc:e,d:t,meta:n}){function s(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Dd();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,r=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let c=a.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!s(d)&&(r=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let c=a.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement)if(s(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),t.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;o!==c&&window.scrollTo(0,o),r&&r.isConnected&&(r.scrollIntoView({block:"nearest"}),r=null)})})}}:{}}function ZO(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function e6(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ro=XO(()=>new Map,{PUSH(e,t){var n;let s=(n=this.get(e))!=null?n:{doc:e,count:0,d:Dd(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let s={doc:e,d:t,meta:e6(n)},i=[QO(),JO(),ZO()];i.forEach(({before:o})=>o==null?void 0:o(s)),i.forEach(({after:o})=>o==null?void 0:o(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ro.subscribe(()=>{let e=ro.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let s=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!s||!i&&s)&&ro.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ro.dispatch("TEARDOWN",n)}});function t6(e,t,n){let s=KO(ro),i=e?s.get(e):void 0,o=i?i.count>0:!1;return mn(()=>{if(!(!e||!t))return ro.dispatch("PUSH",e,n),()=>ro.dispatch("POP",e,n)},[t,e]),o}let Cm=new Map,ga=new Map;function F0(e,t=!0){mn(()=>{var n;if(!t)return;let s=typeof e=="function"?e():e.current;if(!s)return;function i(){var r;if(!s)return;let a=(r=ga.get(s))!=null?r:1;if(a===1?ga.delete(s):ga.set(s,a-1),a!==1)return;let c=Cm.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,Cm.delete(s))}let o=(n=ga.get(s))!=null?n:0;return ga.set(s,o+1),o!==0||(Cm.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0),i},[e,t])}function n6({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var s;let i=b.useRef((s=n==null?void 0:n.current)!=null?s:null),o=Kl(i),r=xt(()=>{var a,c,u;let d=[];for(let m of e)m!==null&&(m instanceof HTMLElement?d.push(m):"current"in m&&m.current instanceof HTMLElement&&d.push(m.current));if(t!=null&&t.current)for(let m of t.current)d.push(m);for(let m of(a=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])m!==document.body&&m!==document.head&&m instanceof HTMLElement&&m.id!=="headlessui-portal-root"&&(m.contains(i.current)||m.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(f=>m.contains(f))||d.push(m));return d});return{resolveContainers:r,contains:xt(a=>r().some(c=>c.contains(a))),mainTreeNodeRef:i,MainTreeNode:b.useMemo(()=>function(){return n!=null?null:Ee.createElement(_l,{features:Sl.Hidden,ref:i})},[i,n])}}let Tg=b.createContext(()=>{});Tg.displayName="StackContext";var Th=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Th||{});function s6(){return b.useContext(Tg)}function i6({children:e,onUpdate:t,type:n,element:s,enabled:i}){let o=s6(),r=xt((...a)=>{t==null||t(...a),o(...a)});return mn(()=>{let a=i===void 0||i===!0;return a&&r(0,n,s),()=>{a&&r(1,n,s)}},[r,n,s,i]),Ee.createElement(Tg.Provider,{value:r},e)}let IE=b.createContext(null);function RE(){let e=b.useContext(IE);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,RE),t}return e}function o6(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(n){let s=xt(o=>(t(r=>[...r,o]),()=>t(r=>{let a=r.slice(),c=a.indexOf(o);return c!==-1&&a.splice(c,1),a}))),i=b.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props}),[s,n.slot,n.name,n.props]);return Ee.createElement(IE.Provider,{value:i},n.children)},[t])]}let r6="p";function a6(e,t){let n=Ri(),{id:s=`headlessui-description-${n}`,...i}=e,o=RE(),r=Tn(t);mn(()=>o.register(s),[s,o.register]);let a={ref:r,...o.props,id:s};return fn({ourProps:a,theirProps:i,slot:o.slot||{},defaultTag:r6,name:o.name||"Description"})}let l6=hn(a6),c6=Object.assign(l6,{});var u6=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(u6||{}),d6=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(d6||{});let m6={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Fu=b.createContext(null);Fu.displayName="DialogContext";function Xl(e){let t=b.useContext(Fu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xl),n}return t}function f6(e,t,n=()=>[document.body]){t6(e,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function h6(e,t){return jn(t.type,m6,e,t)}let p6="div",g6=Tl.RenderStrategy|Tl.Static;function b6(e,t){let n=Ri(),{id:s=`headlessui-dialog-${n}`,open:i,onClose:o,initialFocus:r,role:a="dialog",__demoMode:c=!1,...u}=e,[d,m]=b.useState(0),f=b.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=gO();i===void 0&&h!==null&&(i=(h&ja.Open)===ja.Open);let p=b.useRef(null),g=Tn(p,t),v=Kl(p),x=e.hasOwnProperty("open")||h!==null,E=e.hasOwnProperty("onClose");if(!x&&!E)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!E)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let N=i?0:1,[D,w]=b.useReducer(h6,{titleId:null,descriptionId:null,panelRef:b.createRef()}),T=xt(()=>o(!1)),M=xt(Y=>w({type:0,id:Y})),_=Ed()?c?!1:N===0:!1,C=d>1,k=b.useContext(Fu)!==null,[L,B]=IO(),P={get current(){var Y;return(Y=D.panelRef.current)!=null?Y:p.current}},{resolveContainers:j,mainTreeNodeRef:R,MainTreeNode:U}=n6({portals:L,defaultContainers:[P]}),G=C?"parent":"leaf",$=h!==null?(h&ja.Closing)===ja.Closing:!1,Z=k||$?!1:_,I=b.useCallback(()=>{var Y,K;return(K=Array.from((Y=v==null?void 0:v.querySelectorAll("body > *"))!=null?Y:[]).find(ie=>ie.id==="headlessui-portal-root"?!1:ie.contains(R.current)&&ie instanceof HTMLElement))!=null?K:null},[R]);F0(I,Z);let oe=C?!0:_,be=b.useCallback(()=>{var Y,K;return(K=Array.from((Y=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?Y:[]).find(ie=>ie.contains(R.current)&&ie instanceof HTMLElement))!=null?K:null},[R]);F0(be,oe),cO(j,Y=>{Y.preventDefault(),T()},!(!_||C));let ue=!(C||N!==0);_E(v==null?void 0:v.defaultView,"keydown",Y=>{ue&&(Y.defaultPrevented||Y.key===Hn.Escape&&(Y.preventDefault(),Y.stopPropagation(),T()))}),f6(v,!($||N!==0||k),j),b.useEffect(()=>{if(N!==0||!p.current)return;let Y=new ResizeObserver(K=>{for(let ie of K){let le=ie.target.getBoundingClientRect();le.x===0&&le.y===0&&le.width===0&&le.height===0&&T()}});return Y.observe(p.current),()=>Y.disconnect()},[N,p,T]);let[xe,ne]=o6(),me=b.useMemo(()=>[{dialogState:N,close:T,setTitleId:M},D],[N,D,T,M]),we=b.useMemo(()=>({open:N===0}),[N]),X={ref:g,id:s,role:a,"aria-modal":N===0?!0:void 0,"aria-labelledby":D.titleId,"aria-describedby":xe};return Ee.createElement(i6,{type:"Dialog",enabled:N===0,element:p,onUpdate:xt((Y,K)=>{K==="Dialog"&&jn(Y,{[Th.Add]:()=>m(ie=>ie+1),[Th.Remove]:()=>m(ie=>ie-1)})})},Ee.createElement(wh,{force:!0},Ee.createElement(Eh,null,Ee.createElement(Fu.Provider,{value:me},Ee.createElement(Eh.Group,{target:p},Ee.createElement(wh,{force:!1},Ee.createElement(ne,{slot:we,name:"Dialog.Description"},Ee.createElement(pa,{initialFocus:r,containers:j,features:_?jn(G,{parent:pa.features.RestoreFocus,leaf:pa.features.All&~pa.features.FocusLock}):pa.features.None},Ee.createElement(B,null,fn({ourProps:X,theirProps:u,slot:we,defaultTag:p6,features:g6,visible:N===0,name:"Dialog"}))))))))),Ee.createElement(U,null))}let v6="div";function x6(e,t){let n=Ri(),{id:s=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:o,close:r}]=Xl("Dialog.Overlay"),a=Tn(t),c=xt(d=>{if(d.target===d.currentTarget){if(vO(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),r()}}),u=b.useMemo(()=>({open:o===0}),[o]);return fn({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:v6,name:"Dialog.Overlay"})}let N6="div";function y6(e,t){let n=Ri(),{id:s=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:o},r]=Xl("Dialog.Backdrop"),a=Tn(t);b.useEffect(()=>{if(r.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[r.panelRef]);let c=b.useMemo(()=>({open:o===0}),[o]);return Ee.createElement(wh,{force:!0},Ee.createElement(Eh,null,fn({ourProps:{ref:a,id:s,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:N6,name:"Dialog.Backdrop"})))}let w6="div";function D6(e,t){let n=Ri(),{id:s=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:o},r]=Xl("Dialog.Panel"),a=Tn(t,r.panelRef),c=b.useMemo(()=>({open:o===0}),[o]),u=xt(d=>{d.stopPropagation()});return fn({ourProps:{ref:a,id:s,onClick:u},theirProps:i,slot:c,defaultTag:w6,name:"Dialog.Panel"})}let E6="h2";function T6(e,t){let n=Ri(),{id:s=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:o,setTitleId:r}]=Xl("Dialog.Title"),a=Tn(t);b.useEffect(()=>(r(s),()=>r(null)),[s,r]);let c=b.useMemo(()=>({open:o===0}),[o]);return fn({ourProps:{ref:a,id:s},theirProps:i,slot:c,defaultTag:E6,name:"Dialog.Title"})}let S6=hn(b6),_6=hn(y6),k6=hn(D6),M6=hn(x6),C6=hn(T6),Pm=Object.assign(S6,{Backdrop:_6,Panel:k6,Overlay:M6,Title:C6,Description:c6});function P6({onFocus:e}){let[t,n]=b.useState(!0),s=Eg();return t?Ee.createElement(_l,{as:"button",type:"button",features:Sl.Focusable,onFocus:i=>{i.preventDefault();let o,r=50;function a(){if(r--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!s.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const VE=b.createContext(null);function A6(){return{groups:new Map,get(e,t){var n;let s=this.groups.get(e);s||(s=new Map,this.groups.set(e,s));let i=(n=s.get(t))!=null?n:0;s.set(t,i+1);let o=Array.from(s.keys()).indexOf(t);function r(){let a=s.get(t);a>1?s.set(t,a-1):s.delete(t)}return[o,r]}}}function j6({children:e}){let t=b.useRef(A6());return b.createElement(VE.Provider,{value:t},e)}function OE(e){let t=b.useContext(VE);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=I6(),[s,i]=t.current.get(e,n);return b.useEffect(()=>i,[]),s}function I6(){var e,t,n;let s=(n=(t=(e=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!s)return Symbol();let i=[],o=s;for(;o;)i.push(o.index),o=o.return;return"$."+i.join(".")}var R6=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(R6||{}),V6=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(V6||{}),O6=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(O6||{});let L6={0(e,t){var n;let s=pr(e.tabs,d=>d.current),i=pr(e.panels,d=>d.current),o=s.filter(d=>{var m;return!((m=d.current)!=null&&m.hasAttribute("disabled"))}),r={...e,tabs:s,panels:i};if(t.index<0||t.index>s.length-1){let d=jn(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>jn(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return r;let m=jn(d,{0:()=>s.indexOf(o[0]),1:()=>s.indexOf(o[o.length-1])});return{...r,selectedIndex:m===-1?e.selectedIndex:m}}let a=s.slice(0,t.index),c=[...s.slice(t.index),...a].find(d=>o.includes(d));if(!c)return r;let u=(n=s.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...r,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],s=pr([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=s.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:s,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:pr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Sg=b.createContext(null);Sg.displayName="TabsDataContext";function kr(e){let t=b.useContext(Sg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kr),n}return t}let _g=b.createContext(null);_g.displayName="TabsActionsContext";function kg(e){let t=b.useContext(_g);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kg),n}return t}function F6(e,t){return jn(t.type,L6,e,t)}let B6=b.Fragment;function H6(e,t){let{defaultIndex:n=0,vertical:s=!1,manual:i=!1,onChange:o,selectedIndex:r=null,...a}=e;const c=s?"vertical":"horizontal",u=i?"manual":"auto";let d=r!==null,m=yi({isControlled:d}),f=Tn(t),[h,p]=b.useReducer(F6,{info:m,selectedIndex:r??n,tabs:[],panels:[]}),g=b.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=yi(o||(()=>{})),x=yi(h.tabs),E=b.useMemo(()=>({orientation:c,activation:u,...h}),[c,u,h]),N=xt(C=>(p({type:1,tab:C}),()=>p({type:2,tab:C}))),D=xt(C=>(p({type:3,panel:C}),()=>p({type:4,panel:C}))),w=xt(C=>{T.current!==C&&v.current(C),d||p({type:0,index:C})}),T=yi(d?e.selectedIndex:h.selectedIndex),M=b.useMemo(()=>({registerTab:N,registerPanel:D,change:w}),[]);mn(()=>{p({type:0,index:r??n})},[r]),mn(()=>{if(T.current===void 0||h.tabs.length<=0)return;let C=pr(h.tabs,k=>k.current);C.some((k,L)=>h.tabs[L]!==k)&&w(C.indexOf(h.tabs[T.current]))});let _={ref:f};return Ee.createElement(j6,null,Ee.createElement(_g.Provider,{value:M},Ee.createElement(Sg.Provider,{value:E},E.tabs.length<=0&&Ee.createElement(P6,{onFocus:()=>{var C,k;for(let L of x.current)if(((C=L.current)==null?void 0:C.tabIndex)===0)return(k=L.current)==null||k.focus(),!0;return!1}}),fn({ourProps:_,theirProps:a,slot:g,defaultTag:B6,name:"Tabs"}))))}let U6="div";function $6(e,t){let{orientation:n,selectedIndex:s}=kr("Tab.List"),i=Tn(t);return fn({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:s},defaultTag:U6,name:"Tabs.List"})}let z6="button";function W6(e,t){var n,s;let i=Ri(),{id:o=`headlessui-tabs-tab-${i}`,...r}=e,{orientation:a,activation:c,selectedIndex:u,tabs:d,panels:m}=kr("Tab"),f=kg("Tab"),h=kr("Tab"),p=b.useRef(null),g=Tn(p,t);mn(()=>f.registerTab(p),[f,p]);let v=OE("tabs"),x=d.indexOf(p);x===-1&&(x=v);let E=x===u,N=xt(k=>{var L;let B=k();if(B===hr.Success&&c==="auto"){let P=(L=yg(p))==null?void 0:L.activeElement,j=h.tabs.findIndex(R=>R.current===P);j!==-1&&f.change(j)}return B}),D=xt(k=>{let L=d.map(B=>B.current).filter(Boolean);if(k.key===Hn.Space||k.key===Hn.Enter){k.preventDefault(),k.stopPropagation(),f.change(x);return}switch(k.key){case Hn.Home:case Hn.PageUp:return k.preventDefault(),k.stopPropagation(),N(()=>Ds(L,Yt.First));case Hn.End:case Hn.PageDown:return k.preventDefault(),k.stopPropagation(),N(()=>Ds(L,Yt.Last))}if(N(()=>jn(a,{vertical(){return k.key===Hn.ArrowUp?Ds(L,Yt.Previous|Yt.WrapAround):k.key===Hn.ArrowDown?Ds(L,Yt.Next|Yt.WrapAround):hr.Error},horizontal(){return k.key===Hn.ArrowLeft?Ds(L,Yt.Previous|Yt.WrapAround):k.key===Hn.ArrowRight?Ds(L,Yt.Next|Yt.WrapAround):hr.Error}}))===hr.Success)return k.preventDefault()}),w=b.useRef(!1),T=xt(()=>{var k;w.current||(w.current=!0,(k=p.current)==null||k.focus({preventScroll:!0}),f.change(x),Yl(()=>{w.current=!1}))}),M=xt(k=>{k.preventDefault()}),_=b.useMemo(()=>{var k;return{selected:E,disabled:(k=e.disabled)!=null?k:!1}},[E,e.disabled]),C={ref:g,onKeyDown:D,onMouseDown:M,onClick:T,id:o,role:"tab",type:uO(e,p),"aria-controls":(s=(n=m[x])==null?void 0:n.current)==null?void 0:s.id,"aria-selected":E,tabIndex:E?0:-1};return fn({ourProps:C,theirProps:r,slot:_,defaultTag:z6,name:"Tabs.Tab"})}let q6="div";function G6(e,t){let{selectedIndex:n}=kr("Tab.Panels"),s=Tn(t),i=b.useMemo(()=>({selectedIndex:n}),[n]);return fn({ourProps:{ref:s},theirProps:e,slot:i,defaultTag:q6,name:"Tabs.Panels"})}let Y6="div",K6=Tl.RenderStrategy|Tl.Static;function X6(e,t){var n,s,i,o;let r=Ri(),{id:a=`headlessui-tabs-panel-${r}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:m,panels:f}=kr("Tab.Panel"),h=kg("Tab.Panel"),p=b.useRef(null),g=Tn(p,t);mn(()=>h.registerPanel(p),[h,p,a]);let v=OE("panels"),x=f.indexOf(p);x===-1&&(x=v);let E=x===d,N=b.useMemo(()=>({selected:E}),[E]),D={ref:g,id:a,role:"tabpanel","aria-labelledby":(s=(n=m[x])==null?void 0:n.current)==null?void 0:s.id,tabIndex:E?c:-1};return!E&&((i=u.unmount)==null||i)&&!((o=u.static)!=null&&o)?Ee.createElement(_l,{as:"span","aria-hidden":"true",...D}):fn({ourProps:D,theirProps:u,slot:N,defaultTag:Y6,features:K6,visible:E,name:"Tabs.Panel"})}let J6=hn(W6),Q6=hn(H6),Z6=hn($6),e4=hn(G6),t4=hn(X6),pt=Object.assign(J6,{Group:Q6,List:Z6,Panels:e4,Panel:t4});const n4=({isOpen:e,timeRemaining:t,onExtendSession:n,onLogoutNow:s})=>{const i=o=>{const r=Math.floor(o/60),a=o%60;return`${r}:${a.toString().padStart(2,"0")}`};return l.jsxDEV(Pm,{open:e,onClose:()=>{},className:"relative z-50",children:[l.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:26,columnNumber:7},void 0),l.jsxDEV("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:l.jsxDEV(Pm.Panel,{className:"mx-auto max-w-md rounded-xl bg-white p-6 shadow-2xl ring-1 ring-gray-200",children:["          ",l.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[l.jsxDEV("div",{className:"flex-shrink-0",children:l.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:32,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:31,columnNumber:13},void 0),l.jsxDEV("div",{children:l.jsxDEV(Pm.Title,{className:"text-lg font-semibold text-gray-900",children:"Session Timeout Warning"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:35,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:34,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:30,columnNumber:118},void 0),l.jsxDEV("div",{className:"mb-6",children:[l.jsxDEV("p",{className:"text-gray-600 mb-3",children:"Your session will expire due to inactivity. You will be automatically logged out in:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:42,columnNumber:13},void 0),l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-amber-50 border-4 border-amber-200 mb-2",children:l.jsxDEV("span",{className:"text-2xl font-bold text-amber-700",children:i(t)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:48,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:47,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-sm text-gray-500",children:"minutes:seconds"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:52,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:46,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:41,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex gap-3",children:["            ",l.jsxDEV("button",{onClick:n,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[l.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:60,columnNumber:15},void 0),"Stay Logged In"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:56,columnNumber:51},void 0),l.jsxDEV("button",{onClick:s,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[l.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:67,columnNumber:15},void 0),"Logout Now"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:63,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:56,columnNumber:11},void 0),l.jsxDEV("div",{className:"mt-4 p-3 bg-amber-50 rounded-lg",children:l.jsxDEV("p",{className:"text-xs text-amber-800",children:[l.jsxDEV("strong",{children:"Security Notice:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:74,columnNumber:15},void 0)," This timeout helps protect your data when you step away from your computer."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:73,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:72,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:30,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:29,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutWarning.tsx",lineNumber:24,columnNumber:5},void 0)},LE=b.createContext(null),Mg=({children:e,timeoutMinutes:t=10,warningMinutes:n=2,showWarningModal:s=!0})=>{const{isAuthenticated:i}=ds(),{timeRemaining:o,isWarningShown:r,extendSession:a,logout:c}=K5({timeoutMinutes:t,warningMinutes:n,enableWarning:s,onWarning:()=>{"Notification"in window&&Notification.permission==="granted"&&new Notification("Session Timeout Warning",{body:`Your session will expire in ${n} minutes due to inactivity.`,icon:"/icons/mine.png"})},onLogout:()=>{console.log("User logged out due to inactivity")}}),u={timeRemaining:o,isWarningShown:r,extendSession:a,logout:c};return l.jsxDEV(LE.Provider,{value:u,children:[e,i&&s&&l.jsxDEV(n4,{isOpen:r,timeRemaining:o,onExtendSession:a,onLogoutNow:c},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/AutoLogoutProvider.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/AutoLogoutProvider.tsx",lineNumber:62,columnNumber:5},void 0)},FE=()=>{const e=b.useContext(LE);if(!e)throw new Error("useAutoLogoutContext must be used within an AutoLogoutProvider");return e},s4=()=>{const{timeRemaining:e,isWarningShown:t,extendSession:n}=FE();if(!t)return null;const s=i=>{const o=Math.floor(i/60),r=i%60;return`${o}:${r.toString().padStart(2,"0")}`};return l.jsxDEV("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-amber-50 border border-amber-200 rounded-lg text-amber-800 text-sm",children:[l.jsxDEV("span",{className:"text-amber-600",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutStatus.tsx",lineNumber:24,columnNumber:7},void 0),l.jsxDEV("span",{children:["Session expires in ",s(e)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutStatus.tsx",lineNumber:25,columnNumber:7},void 0),l.jsxDEV("button",{onClick:n,className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-amber-100 hover:bg-amber-200 rounded border border-amber-300 transition-colors",title:"Extend your session",children:[l.jsxDEV("span",{className:"text-amber-700",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutStatus.tsx",lineNumber:31,columnNumber:9},void 0),"Extend"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutStatus.tsx",lineNumber:26,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AutoLogoutStatus.tsx",lineNumber:23,columnNumber:5},void 0)},i4=()=>{const[e,t]=b.useState(()=>localStorage.getItem("theme")==="dark"),[n,s]=b.useState(new Date),[i,o]=b.useState(!1),r=us(),{isAuthenticated:a,isLoading:c,user:u}=ds();b.useEffect(()=>{const m=window.document.documentElement;e?(m.classList.add("dark"),localStorage.setItem("theme","dark")):(m.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),b.useEffect(()=>{const m=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(m)},[]);const d=()=>{r("/search")};return l.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-indigo-600 to-blue-500 dark:from-indigo-900 dark:to-blue-800 text-white shadow-lg transition-colors duration-200",children:[l.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[l.jsxDEV("div",{className:"flex-shrink-0 flex items-center gap-2",children:[l.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:51,columnNumber:13},void 0),l.jsxDEV("h1",{className:"text-xl font-semibold hidden sm:block",children:"Welcome to OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:50,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex items-center gap-6",children:[l.jsxDEV("div",{className:"hidden lg:block relative",children:i?l.jsxDEV("div",{className:"relative",children:l.jsxDEV(yE,{placeholder:"Quick search...",showFilters:!1,className:"w-64",onResultSelect:()=>o(!1)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:63,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:62,columnNumber:17},void 0):l.jsxDEV("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",title:"Quick search",children:[l.jsxDEV(I0.Search,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:75,columnNumber:19},void 0),l.jsxDEV("span",{className:"text-sm",children:"Search..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:76,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:71,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:60,columnNumber:13},void 0),l.jsxDEV("button",{onClick:d,className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",title:"Search handbook",children:l.jsxDEV(I0.Search,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:86,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:82,columnNumber:13},void 0),l.jsxDEV("div",{className:"hidden md:flex items-center gap-2",children:[l.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:89,columnNumber:15},void 0),l.jsxDEV("div",{className:"text-xl font-medium",children:n.toLocaleTimeString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:90,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:88,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:58,columnNumber:11},void 0),"          ",l.jsxDEV("div",{className:"flex items-center gap-4",children:[l.jsxDEV("button",{onClick:()=>t(!e),className:"p-2 rounded-full hover:bg-white/10 transition-colors",title:e?"Switch to light mode":"Switch to dark mode",children:l.jsxDEV("span",{className:"text-lg",children:e?"":""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:101,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:96,columnNumber:13},void 0),"            ",c?l.jsxDEV("div",{className:"text-white/80",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:104,columnNumber:15},void 0):a?l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV(s4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:108,columnNumber:17},void 0),l.jsxDEV("span",{className:"text-white/90 hidden sm:block",children:["Welcome, ",(u==null?void 0:u.name)||(u==null?void 0:u.email)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:110,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>r("/dashboard"),className:"px-3 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-colors text-sm font-medium",children:"Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:113,columnNumber:17},void 0),l.jsxDEV(wd,{className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:119,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:106,columnNumber:15},void 0):l.jsxDEV(Lu,{className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:95,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:48,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:47,columnNumber:7},void 0),i&&l.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>o(!1)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:130,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:46,columnNumber:5},void 0)},o4=e=>{const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t},r4=(e,t=100,n=!1)=>{const s=o4(e),i=b.useRef(),o=[t,n,s];function r(){i.current&&clearTimeout(i.current),i.current=void 0}b.useEffect(()=>r,o);function a(){i.current=void 0}return b.useCallback(function(){const c=arguments,{current:u}=i;if(u===void 0&&n)return i.current=setTimeout(a,t),s.current.apply(null,c);u&&clearTimeout(u),i.current=setTimeout(()=>{i.current=void 0,s.current.apply(null,c)},t)},o)},a4=(e,t,n)=>{const s=b.useState(e);return[s[0],r4(s[1],t,n)]};function Am(e,t,n,s){const i=b.useRef(n),o=b.useRef(s);b.useEffect(()=>{i.current=n,o.current=s}),b.useEffect(()=>{const r=e&&"current"in e?e.current:e;if(!r)return;let a=0;function c(...d){a||i.current.apply(this,d)}r.addEventListener(t,c);const u=o.current;return()=>{a=1,r.removeEventListener(t,c),u&&u()}},[e,t])}const l4={},Ya=typeof window>"u"?null:window,c4=Ya&&typeof Ya.visualViewport<"u"?Ya.visualViewport:null,B0=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],u4=function(e){e===void 0&&(e=l4);const{wait:t,leading:n,initialWidth:s=0,initialHeight:i=0}=e,[o,r]=a4(typeof document>"u"?[s,i]:B0,t,n),a=()=>r(B0);return Am(Ya,"resize",a),Am(c4,"resize",a),Am(Ya,"orientationchange",a),o},d4=e=>u4(e)[0],m4=({children:e})=>{const{sidebarCollapsed:t,toggleSidebar:n}=A1(),s=d4();return b.useEffect(()=>{s<768&&!t&&n()},[s]),l.jsxDEV("div",{className:"flex flex-col min-h-screen bg-background text-gray-900 dark:text-white transition-colors duration-300",children:[l.jsxDEV(i4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:20,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex flex-1",children:[l.jsxDEV(d5,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:22,columnNumber:9},void 0),l.jsxDEV("main",{className:"flex-1 p-6 mt-16",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:21,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:19,columnNumber:5},void 0)};var pu={exports:{}},f4=pu.exports,H0;function h4(){return H0||(H0=1,function(e,t){(function(s,i){e.exports=i()})(f4,function(){return function(){var n={"./packages/@logrocket/console/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=u(c("./packages/@logrocket/console/src/registerConsole.js")),m=d.default;a.default=m},"./packages/@logrocket/console/src/registerConsole.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=h;var d=u(c("./node_modules/@babel/runtime/helpers/typeof.js")),m=u(c("./packages/@logrocket/utils/src/enhanceFunc.ts")),f=c("./packages/@logrocket/exceptions/src/index.js");function h(p){var g=[],v=["log","warn","info","error","debug"];return v.forEach(function(x){g.push((0,m.default)(console,x,function(){for(var E=arguments.length,N=new Array(E),D=0;D<E;D++)N[D]=arguments[D];p.addEvent("lr.core.LogEvent",function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=w.isEnabled;if((0,d.default)(T)==="object"&&T[x]===!1||T===!1)return null;if(x==="error"&&w.shouldAggregateConsoleErrors)if(N&&N.length>=2&&N[0]==="ERROR"){var M="";try{M=" ".concat(N[1])}catch{}f.Capture.captureMessage(p,"".concat(N[0]).concat(M),N,{},!0)}else f.Capture.captureMessage(p,N[0],N,{},!0);return{logLevel:x.toUpperCase(),args:N}})}))}),function(){g.forEach(function(x){return x()})}}},"./packages/@logrocket/exceptions/src/Capture.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.captureMessage=h,a.captureException=p;var d=c("./packages/@logrocket/utils/src/scrubException.ts"),m=u(c("./packages/@logrocket/utils/src/TraceKit.js")),f=u(c("./packages/@logrocket/exceptions/src/stackTraceFromError.js"));function h(g,v,x){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,D={exceptionType:N?"CONSOLE":"MESSAGE",message:v,messageArgs:x,browserHref:window.location?window.location.href:""};(0,d.scrubException)(D,E),g.addEvent("lr.core.Exception",function(){return D})}function p(g,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"WINDOW",D=E||m.default.computeStackTrace(v),w={exceptionType:N,errorType:D.name,message:D.message,browserHref:window.location?window.location.href:""};(0,d.scrubException)(w,x);var T={_stackTrace:(0,f.default)(D)};g.addEvent("lr.core.Exception",function(){return w},T)}},"./packages/@logrocket/exceptions/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=c("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"registerExceptions",{enumerable:!0,get:function(){return m.default}}),a.Capture=void 0;var m=u(c("./packages/@logrocket/exceptions/src/registerExceptions.js")),f=p(c("./packages/@logrocket/exceptions/src/Capture.js"));a.Capture=f;function h(g){if(typeof WeakMap!="function")return null;var v=new WeakMap,x=new WeakMap;return(h=function(N){return N?x:v})(g)}function p(g,v){if(g&&g.__esModule)return g;if(g===null||d(g)!=="object"&&typeof g!="function")return{default:g};var x=h(v);if(x&&x.has(g))return x.get(g);var E={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in g)if(D!=="default"&&Object.prototype.hasOwnProperty.call(g,D)){var w=N?Object.getOwnPropertyDescriptor(g,D):null;w&&(w.get||w.set)?Object.defineProperty(E,D,w):E[D]=g[D]}return E.default=g,x&&x.set(g,E),E}},"./packages/@logrocket/exceptions/src/raven/raven.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),m=u(c("./node_modules/@babel/runtime/helpers/createClass.js")),f=u(c("./packages/@logrocket/utils/src/TraceKit.js")),h=Object.prototype;function p(D){return D===void 0}function g(D){return typeof D=="function"}function v(D,w){return h.hasOwnProperty.call(D,w)}function x(D,w,T,M){var _=D[w];D[w]=T(_),M&&M.push([D,w,_])}var E=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{};E.document;var N=function(){function D(w){var T=w.captureException;(0,d.default)(this,D),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=T,f.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,m.default)(D,[{key:"uninstall",value:function(){f.default.report.unsubscribe(this._errorHandler);for(var T;this._wrappedBuiltIns.length;){T=this._wrappedBuiltIns.shift();var M=T[0],_=T[1],C=T[2];M[_]=C}}},{key:"_errorHandler",value:function(T){this._ignoreOnError||this.captureException(T)}},{key:"_ignoreNextOnError",value:function(){var T=this;this._ignoreOnError+=1,setTimeout(function(){T._ignoreOnError-=1})}},{key:"context",value:function(T,M,_){return g(T)&&(_=M||[],M=T,T=void 0),this.wrap(T,M).apply(this,_)}},{key:"wrap",value:function(T,M,_){var C=this;if(p(M)&&!g(T))return T;if(g(T)&&(M=T,T=void 0),!g(M))return M;try{if(M.__lr__)return M;if(M.__lr_wrapper__)return M.__lr_wrapper__;if(!Object.isExtensible(M))return M}catch{return M}function k(){var B=[],P=arguments.length,j=!T||T&&T.deep!==!1;for(_&&g(_)&&_.apply(this,arguments);P--;)B[P]=j?C.wrap(T,arguments[P]):arguments[P];try{return M.apply(this,B)}catch(R){throw C._ignoreNextOnError(),C.captureException(f.default.computeStackTrace(R),T),R}}for(var L in M)v(M,L)&&(k[L]=M[L]);return k.prototype=M.prototype,M.__lr_wrapper__=k,k.__lr__=!0,k.__inner__=M,k}},{key:"_instrumentTryCatch",value:function(){var T=this,M=T._wrappedBuiltIns;function _(P){return function(j,R){for(var U=new Array(arguments.length),G=0;G<U.length;++G)U[G]=arguments[G];var $=U[0];return g($)&&(U[0]=T.wrap($)),P.apply?P.apply(this,U):P(U[0],U[1])}}function C(P){var j=E[P]&&E[P].prototype;j&&j.hasOwnProperty&&j.hasOwnProperty("addEventListener")&&(x(j,"addEventListener",function(R){return function(U,G,$,Z){try{G&&G.handleEvent&&(G.handleEvent=T.wrap(G.handleEvent))}catch{}var I;return R.call(this,U,T.wrap(G,void 0,I),$,Z)}},M),x(j,"removeEventListener",function(R){return function(U,G,$,Z){try{var I=G==null?void 0:G.__lr_wrapper__;I&&R.call(this,U,I,$,Z)}catch{}return R.call(this,U,G,$,Z)}},void 0))}x(E,"setTimeout",_,M),x(E,"setInterval",_,M),E.requestAnimationFrame&&x(E,"requestAnimationFrame",function(P){return function(j){return P(T.wrap(j))}},M);for(var k=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],L=0;L<k.length;L++)C(k[L]);var B=E.jQuery||E.$;B&&B.fn&&B.fn.ready&&x(B.fn,"ready",function(P){return function(j){return P.call(this,T.wrap(j))}},M)}}]),D}();a.default=N},"./packages/@logrocket/exceptions/src/registerExceptions.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=c("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var m=u(c("./packages/@logrocket/exceptions/src/raven/raven.js")),f=p(c("./packages/@logrocket/exceptions/src/Capture.js"));function h(v){if(typeof WeakMap!="function")return null;var x=new WeakMap,E=new WeakMap;return(h=function(D){return D?E:x})(v)}function p(v,x){if(v&&v.__esModule)return v;if(v===null||d(v)!=="object"&&typeof v!="function")return{default:v};var E=h(x);if(E&&E.has(v))return E.get(v);var N={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in v)if(w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)){var T=D?Object.getOwnPropertyDescriptor(v,w):null;T&&(T.get||T.set)?Object.defineProperty(N,w,T):N[w]=v[w]}return N.default=v,E&&E.set(v,N),N}function g(v){var x=new m.default({captureException:function(D){f.captureException(v,null,null,D)}}),E=function(D){D.reason instanceof Error?f.captureException(v,D.reason,null,null,"UNHANDLED_REJECTION"):v.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:D.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",E),function(){window.removeEventListener("unhandledrejection",E),x.uninstall()}}},"./packages/@logrocket/exceptions/src/stackTraceFromError.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;function c(u){function d(m){return m===null?void 0:m}return u.stack?u.stack.map(function(m){return{lineNumber:d(m.line),columnNumber:d(m.column),fileName:d(m.url),functionName:d(m.func)}}):void 0}},"./packages/@logrocket/network/src/fetchIntercept.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),m=c("./packages/@logrocket/network/src/registerXHR.js"),f=[];function h(x,E){for(var N=f.reduce(function(_,C){return[C].concat(_)},[]),D=arguments.length,w=new Array(D>2?D-2:0),T=2;T<D;T++)w[T-2]=arguments[T];var M=Promise.resolve(w);return N.forEach(function(_){var C=_.request,k=_.requestError;(C||k)&&(M=M.then(function(L){return C.apply(void 0,[E].concat((0,d.default)(L)))},function(L){return k.apply(void 0,[E].concat((0,d.default)(L)))}))}),M=M.then(function(_){(0,m.setActive)(!1);var C,k;try{C=x.apply(void 0,(0,d.default)(_))}catch(L){k=L}if((0,m.setActive)(!0),k)throw k;return C}),N.forEach(function(_){var C=_.response,k=_.responseError;(C||k)&&(M=M.then(function(L){return C(E,L)},function(L){return k&&k(E,L)}))}),M}function p(x){if(!(!x.fetch||!x.Promise)){var E=x.fetch.polyfill;x.fetch=function(N){var D=0;return function(){for(var w=arguments.length,T=new Array(w),M=0;M<w;M++)T[M]=arguments[M];return h.apply(void 0,[N,D++].concat(T))}}(x.fetch),E&&(x.fetch.polyfill=E)}}var g=!1,v={register:function(E){return g||(g=!0,p(window)),f.push(E),function(){var N=f.indexOf(E);N>=0&&f.splice(N,1)}},clear:function(){f=[]}};a.default=v},"./packages/@logrocket/network/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=N;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./node_modules/@babel/runtime/helpers/typeof.js")),f=u(c("./packages/@logrocket/network/src/registerFetch.js")),h=c("./packages/@logrocket/network/src/registerIonic.ts"),p=u(c("./packages/@logrocket/network/src/registerNetworkInformation.js")),g=u(c("./packages/@logrocket/network/src/registerXHR.js")),v=u(c("./packages/@logrocket/utils/src/mapValues.js"));function x(D,w){var T=Object.keys(D);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(D);w&&(M=M.filter(function(_){return Object.getOwnPropertyDescriptor(D,_).enumerable})),T.push.apply(T,M)}return T}function E(D){for(var w=1;w<arguments.length;w++){var T=arguments[w]!=null?arguments[w]:{};w%2?x(Object(T),!0).forEach(function(M){(0,d.default)(D,M,T[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(T)):x(Object(T)).forEach(function(M){Object.defineProperty(D,M,Object.getOwnPropertyDescriptor(T,M))})}return D}function N(D){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1,isDisabled:!1};if((w==null?void 0:w.isDisabled)===!0)return function(){};var T=w.isReactNative,M=w.shouldAugmentNPS,_=w.shouldParseXHRBlob,C={},k=function(Z){var I=4096e3,oe=Z;if((0,m.default)(Z)==="object"&&Z!=null){var be=Object.getPrototypeOf(Z);(be===Object.prototype||be===null)&&(oe=JSON.stringify(Z))}if(oe&&oe.length&&oe.length>I&&typeof oe=="string"){var O=oe.substring(0,1e3);return"".concat(O,` ... LogRocket truncating to first 1000 characters.
      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network`)}return Z},L=function(Z,I){var oe=I.method;D.addEvent("lr.network.RequestEvent",function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=be.isEnabled,ue=O===void 0?!0:O,ge=be.requestSanitizer,xe=ge===void 0?function(X){return X}:ge;if(!ue)return null;var ne=null;try{ne=xe(E(E({},I),{},{reqId:Z}))}catch(X){console.error(X)}if(ne){var me=ne.url;if(typeof document<"u"&&typeof document.createElement=="function"){var we=document.createElement("a");we.href=ne.url,me=we.href}return{reqId:Z,url:me,headers:(0,v.default)(ne.headers,function(X){return"".concat(X)}),body:k(ne.body),method:oe,referrer:ne.referrer||void 0,mode:ne.mode||void 0,credentials:ne.credentials||void 0}}return C[Z]=!0,null})},B=function(Z,I){var oe=I.method,be=I.status,O=I.responseType;D.addEvent("lr.network.ResponseEvent",function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ge=ue.isEnabled,xe=ge===void 0?!0:ge,ne=ue.responseSanitizer,me=ne===void 0?function(X){return X}:ne;if(xe){if(C[Z])return delete C[Z],null}else return null;var we=null;try{we=me(E(E({},I),{},{reqId:Z}))}catch(X){console.error(X)}return we?{reqId:Z,responseType:O,status:we.status,headers:(0,v.default)(we.headers,function(X){return"".concat(X)}),body:k(we.body),method:oe}:{reqId:Z,responseType:O,status:be,headers:{},body:null,method:oe}})},P=function(Z){return D.isDisabled||C[Z]===!0},j=(0,f.default)({addRequest:L,addResponse:B,isIgnored:P}),R=(0,g.default)({addRequest:L,addResponse:B,isIgnored:P,logger:D,shouldAugmentNPS:M,shouldParseXHRBlob:_}),U=(0,h.registerIonic)({addRequest:L,addResponse:B,isIgnored:P}),G=T?function(){}:(0,p.default)(D);return function(){G(),j(),R(),U()}}},"./packages/@logrocket/network/src/registerFetch.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./packages/@logrocket/utils/src/mapValues.js")),f=u(c("./packages/@logrocket/network/src/fetchIntercept.js"));function h(N,D){var w=Object.keys(N);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(N);D&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(N,M).enumerable})),w.push.apply(w,T)}return w}function p(N){for(var D=1;D<arguments.length;D++){var w=arguments[D]!=null?arguments[D]:{};D%2?h(Object(w),!0).forEach(function(T){(0,d.default)(N,T,w[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(w)):h(Object(w)).forEach(function(T){Object.defineProperty(N,T,Object.getOwnPropertyDescriptor(w,T))})}return N}function g(N){if(N==null||typeof N.forEach!="function")return N;var D={};return N.forEach(function(w,T){D[T]?D[T]="".concat(D[T],",").concat(w):D[T]="".concat(w)}),D}var v=function(D){return(0,m.default)(g(D),function(w){return"".concat(w)})};function x(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:N.url,headers:v(N.headers),method:N.method&&N.method.toUpperCase(),referrer:N.referrer||void 0,mode:N.mode||void 0,credentials:N.credentials||void 0}}function E(N){var D=N.addRequest,w=N.addResponse,T=N.isIgnored,M="fetch-",_={},C=f.default.register({request:function(L){for(var B=arguments.length,P=new Array(B>1?B-1:0),j=1;j<B;j++)P[j-1]=arguments[j];var R;if(typeof Request<"u"&&P[0]instanceof Request){var U;try{U=P[0].clone().text()}catch(G){U=Promise.resolve("LogRocket fetch error: ".concat(G.message))}R=U.then(function(G){return p(p({},x(P[0])),{},{body:G})},function(G){return p(p({},x(P[0])),{},{body:"LogRocket fetch error: ".concat(G.message)})})}else R=Promise.resolve(p(p({},x(P[1])),{},{url:"".concat(P[0]),body:(P[1]||{}).body}));return R.then(function(G){return _[L]=G.method,D("".concat(M).concat(L),G),P})},requestError:function(L,B){return Promise.reject(B)},response:function(L,B){var P,j;if(T("".concat(M).concat(L)))return B;if(B.headers.get("content-type")==="text/event-stream")j=Promise.resolve("LogRocket skipped consuming an event-stream body.");else{try{P=B.clone()}catch(Z){var R={url:B.url,responseType:B.type.toUpperCase(),status:B.status,headers:v(B.headers),body:"LogRocket fetch error: ".concat(Z.message),method:_[L]};return delete _[L],w("".concat(M).concat(L),R),B}try{if(window.TextDecoder&&P.body){var U=P.body.getReader(),G=new window.TextDecoder("utf-8"),$="";j=U.read().then(function Z(I){var oe=I.done,be=I.value;if(oe)return $;var O=be?G.decode(be,{stream:!0}):"";return $+=O,U.read().then(Z)})}else j=P.text()}catch(Z){j=Promise.resolve("LogRocket error reading body: ".concat(Z.message))}}return j.catch(function(Z){if(!(Z.name==="AbortError"&&Z instanceof DOMException))return"LogRocket error reading body: ".concat(Z.message)}).then(function(Z){var I={url:B.url,responseType:B.type.toUpperCase(),status:B.status,headers:v(B.headers),body:Z,method:_[L]};delete _[L],w("".concat(M).concat(L),I)}),B},responseError:function(L,B){var P={url:void 0,status:0,headers:{},body:"".concat(B)};return w("".concat(M).concat(L),P),Promise.reject(B)}});return C}},"./packages/@logrocket/network/src/registerIonic.ts":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.mergeHeaders=U,a.serializeQueryParams=be,a.appendQueryParamsString=O,a.processData=xe,a.registerIonic=we;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./node_modules/@babel/runtime/helpers/typeof.js")),f=u(c("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),h=u(c("./packages/@logrocket/utils/src/protectFunc.js"));function p(X,Y){var K=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!K){if(Array.isArray(X)||(K=g(X))||Y){K&&(X=K);var ie=0,le=function(){};return{s:le,n:function(){return ie>=X.length?{done:!0}:{done:!1,value:X[ie++]}},e:function(We){throw We},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae=!0,pe=!1,$e;return{s:function(){K=K.call(X)},n:function(){var We=K.next();return ae=We.done,We},e:function(We){pe=!0,$e=We},f:function(){try{!ae&&K.return!=null&&K.return()}finally{if(pe)throw $e}}}}function g(X,Y){if(X){if(typeof X=="string")return v(X,Y);var K=Object.prototype.toString.call(X).slice(8,-1);if(K==="Object"&&X.constructor&&(K=X.constructor.name),K==="Map"||K==="Set")return Array.from(X);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return v(X,Y)}}function v(X,Y){(Y==null||Y>X.length)&&(Y=X.length);for(var K=0,ie=new Array(Y);K<Y;K++)ie[K]=X[K];return ie}function x(X,Y){var K=Object.keys(X);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(X);Y&&(ie=ie.filter(function(le){return Object.getOwnPropertyDescriptor(X,le).enumerable})),K.push.apply(K,ie)}return K}function E(X){for(var Y=1;Y<arguments.length;Y++){var K=arguments[Y]!=null?arguments[Y]:{};Y%2?x(Object(K),!0).forEach(function(ie){(0,d.default)(X,ie,K[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(K)):x(Object(K)).forEach(function(ie){Object.defineProperty(X,ie,Object.getOwnPropertyDescriptor(K,ie))})}return X}var N=new Set(["get","put","post","patch","head","delete","options","upload","download"]),D=new Set(["urlencoded","json","utf8"]),w=new Set(["raw","multipart"]),T="ionic-",M=new Set(["desktop","mobileweb","pwa"]),_=new Set(["FormData"]),C=new Set,k=new Set(["string"]),L=new Set(["string","array"]),B={utf8:k,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:C};function P(X,Y,K){if(typeof Y!="string")throw new Error("".concat(K," must be one of: ").concat((0,f.default)(X).join(", ")));if(Y=Y.trim().toLowerCase(),!X.has(Y))throw new Error("".concat(K," must be one of: ").concat((0,f.default)(X).join(", ")));return Y}function j(X,Y,K){if((0,m.default)(X)!=="object")throw new Error(K);for(var ie=0,le=Object.keys(X);ie<le.length;ie++){var ae=le[ie];if(!Y.has((0,m.default)(X[ae])))throw new Error(K)}return X}function R(X,Y){var K=new URL(X),ie=K.host;return Y.getHeaders(ie)||null}function U(X,Y){return E(E({},X),Y)}function G(X,Y,K){var ie=K.getHeaders("*")||{},le=R(X,K)||{};return U(U(ie,le),Y)}function $(X,Y){return Y?encodeURIComponent(X):X}function Z(X,Y,K){return X.length?K?"".concat(encodeURIComponent(X),"[").concat(encodeURIComponent(Y),"]"):"".concat(X,"[").concat(Y,"]"):K?encodeURIComponent(Y):Y}function I(X,Y,K){var ie=[],le=p(Y),ae;try{for(le.s();!(ae=le.n()).done;){var pe=ae.value;if(Array.isArray(pe)){ie.push(I("".concat(X,"[]"),pe,K));continue}else if((0,m.default)(pe)==="object"){ie.push(oe("".concat(X,"[]").concat(pe),K,void 0));continue}ie.push("".concat(Z(X,"",K),"=").concat($(pe,K)))}}catch($e){le.e($e)}finally{le.f()}return ie.join("&")}function oe(X,Y,K){var ie=[];for(var le in Y)if(Y.hasOwnProperty(le)){var ae=X.length?"".concat(X,"[").concat(le,"]"):le;if(Array.isArray(Y[le])){ie.push(I(ae,Y[le],K));continue}else if((0,m.default)(Y[le])==="object"&&Y[le]!==null){ie.push(oe(ae,Y[le],K));continue}ie.push("".concat(Z(X,le,K),"=").concat($(Y[le],K)))}return ie.join("&")}function be(X,Y){return oe("",X,Y)}function O(X,Y){if(!X.length||!Y.length)return X;var K=new URL(X),ie=K.host,le=K.pathname,ae=K.search,pe=K.hash,$e=K.protocol;return"".concat($e,"//").concat(ie).concat(le).concat(ae.length?"".concat(ae,"&").concat(Y):"?".concat(Y)).concat(pe)}function ue(X){return B[X]||B.default}function ge(X){return X==="multipart"?_:C}function xe(X,Y){var K=(0,m.default)(X),ie=ue(Y),le=ge(Y);if(le.size>0){var ae=!1;if(le.forEach(function(pe){c.g[pe]&&X instanceof c.g[pe]&&(ae=!0)}),!ae)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,f.default)(le).join(", ")))}if(le.size===0&&!ie.has(K))throw new Error("TYPE_MISMATCH_DATA ".concat((0,f.default)(ie).join(", ")));switch(Y){case"utf8":return X;default:return JSON.stringify(X,void 0,2)}}function ne(X,Y){X=X||{};var K,ie=X.data;try{K=P(D,X.serializer||Y.getDataSerializer(),"serializer / data payload type")}catch{K=P(w,X.serializer||Y.getDataSerializer(),"serializer / data payload type"),ie={}}return{data:ie,filePath:X.filePath,followRedirect:X.followRedirect,headers:j(X.headers||{},k,"Invalid header type, must be string"),method:P(N,X.method||N[0],"method"),name:X.name,params:j(X.params||{},L,"Invalid param, must be of type string or array"),responseType:X.responseType,serializer:K,connectTimeout:X.connectTimeout,readTimeout:X.readTimeout,timeout:X.timeout}}var me=0;function we(X){var Y,K,ie,le=X.addRequest,ae=X.addResponse,pe=X.isIgnored,$e=(Y=window.cordova)===null||Y===void 0||(K=Y.plugin)===null||K===void 0?void 0:K.http,ze={},We=!1;if(typeof $e>"u")return function(){};var Rn=(ie=window.ionic)===null||ie===void 0?void 0:ie.platforms;if(typeof Rn<"u"&&typeof Rn.some=="function"&&Rn.some(function(mt){return M.has(mt)}))return function(){};var Fs=$e.sendRequest,hs=(0,h.default)(function(mt,Qn,pn){if(!pe("".concat(T).concat(pn)))try{var ee={url:mt.url||"",status:mt.status<600&&mt.status>=100?mt.status:0,headers:mt.headers||{},body:Qn?mt.data:mt.error,method:ze[pn].toUpperCase()};ae("".concat(T).concat(pn),ee)}catch(Ne){var Q={url:mt.url||"",status:mt.status<600&&mt.status>=100?mt.status:0,headers:mt.headers||{},body:"LogRocket fetch error: ".concat(Ne.message),method:ze[pn].toUpperCase()};ae("".concat(T).concat(pn),Q)}});return $e.sendRequest=function(mt,Qn,pn,ee){var Q=++me,Ne=function(Wt){We||(hs(Wt,!0,Q),delete ze[Q]),pn(Wt)},Ie=function(Wt){We||(hs(Wt,!1,Q),delete ze[Q]),ee(Wt)};if(!We)try{var Le=ne(Qn,$e),yt=O(mt,oe("",Le.params,!0)),ce=G(mt,Le.headers,$e),ke=Le.method||"get";ze[Q]=ke;var Vt={url:yt,method:ke.toUpperCase(),headers:ce||{},body:xe(Le.data||{},Le.serializer)};le("".concat(T).concat(Q),Vt)}catch(wt){var Vn={url:mt,method:(Qn.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(wt.message)};le("".concat(T).concat(Q),Vn)}return Fs(mt,Qn,Ne,Ie)},function(){We=!0,$e.sendRequest=Fs,ze={}}}},"./packages/@logrocket/network/src/registerNetworkInformation.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var c={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function u(d){var m=void 0;function f(){var h={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(h.effectiveType=c[window.navigator.connection.effectiveType]||"UNKNOWN"):h.effectiveType="NONE",!(m&&h.online===m.online&&h.effectiveType===m.effectiveType)&&(m=h,d.addEvent("lr.network.NetworkStatusEvent",function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.isEnabled,v=g===void 0?!0:g;return v?h:null}))}return setTimeout(f),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",f),window.addEventListener("online",f),window.addEventListener("offline",f),function(){window.removeEventListener("offline",f),window.removeEventListener("online",f),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",f)}}},"./packages/@logrocket/network/src/registerXHR.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.setActive=g,a.default=x;var d=u(c("./packages/@logrocket/utils/src/mapValues.js")),m=u(c("./packages/@logrocket/utils/src/enhanceFunc.ts")),f=u(c("./packages/@logrocket/utils/src/startsWith.js")),h=c("./packages/@logrocket/utils/src/constants/nps.js"),p=!0;function g(E){p=E}var v=0;function x(E){var N=E.addRequest,D=E.addResponse,w=E.isIgnored,T=E.logger,M=E.shouldAugmentNPS,_=M===void 0?!0:M,C=E.shouldParseXHRBlob,k=C===void 0?!1:C,L=XMLHttpRequest,B=new WeakMap,P=!1,j="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(U,G){var $=new L(U,G);if(!p)return $;B.set($,{xhrId:++v,headers:{}});var Z=$.open;function I(){for(var ue=arguments.length,ge=new Array(ue),xe=0;xe<ue;xe++)ge[xe]=arguments[xe];try{var ne=ge[1];if(window.URL&&typeof window.URL=="function"&&ne.search(h.WOOTRIC_RESPONSES_REGEX)===0){var me=new window.URL(T.recordingURL);me.searchParams.set("nps","wootric");var we=new window.URL(ne),X=we.searchParams.get("response[text]"),Y=X?"".concat(X,`

`):"";we.searchParams.set("response[text]","".concat(Y,"<").concat(me.href,"|View LogRocket session>")),ge[1]=we.href}}catch{}return Z.apply(this,ge)}var oe=$.send;function be(){for(var ue=arguments.length,ge=new Array(ue),xe=0;xe<ue;xe++)ge[xe]=arguments[xe];try{var ne=B.get($);if(window.URL&&typeof window.URL=="function"&&ne&&ne.url&&ne.url.search(h.DELIGHTED_RESPONSES_REGEX)===0&&ge.length&&ge[0].indexOf(h.DELIGHTED_FEEDBACK_PREFIX)!==-1){var me=new window.URL(T.recordingURL);me.searchParams.set("nps","delighted");var we=encodeURIComponent(me.href),X=ge[0].split("&").map(function(Y){if((0,f.default)(Y,h.DELIGHTED_FEEDBACK_PREFIX)){var K=Y===h.DELIGHTED_FEEDBACK_PREFIX;return"".concat(Y).concat(K?"":`

`,"<").concat(we,"|View LogRocket session>")}return Y}).join("&");ge[0]=X}}catch{}return oe.apply(this,ge)}_&&($.open=I,$.send=be),(0,m.default)($,"open",function(ue,ge){if(!P){var xe=B.get($);xe.method=ue,xe.url=ge}}),(0,m.default)($,"send",function(ue){if(!P){var ge=B.get($);if(ge){var xe={url:ge.url,method:ge.method&&ge.method.toUpperCase(),headers:(0,d.default)(ge.headers||{},function(ne){return ne.join(", ")}),body:ue};N("".concat(j).concat(ge.xhrId),xe)}}}),(0,m.default)($,"setRequestHeader",function(ue,ge){if(!P){var xe=B.get($);xe&&(xe.headers=xe.headers||{},xe.headers[ue]=xe.headers[ue]||[],xe.headers[ue].push(ge))}});var O={readystatechange:function(){if(!P&&$.readyState===4){var ge=B.get($);if(!ge||w("".concat(j).concat(ge.xhrId)))return;var xe=$.getAllResponseHeaders()||"",ne=xe.split(/[\r\n]+/).reduce(function(Y,K){var ie=Y,le=K.split(": ");if(le.length>0){var ae=le.shift(),pe=le.join(": ");Y[ae]?ie[ae]+=", ".concat(pe):ie[ae]=pe}return ie},{}),me;try{switch($.responseType){case"json":me=T._shouldCloneResponse?JSON.parse(JSON.stringify($.response)):$.response;break;case"arraybuffer":case"blob":{me=$.response;break}case"document":{me=$.responseXML;break}case"text":case"":{me=$.responseText;break}default:me=""}}catch{me="LogRocket: Error accessing response."}var we={url:ge.url,status:$.status,headers:ne,body:me,method:(ge.method||"").toUpperCase()};if(k&&we.body instanceof Blob){var X=new FileReader;X.readAsText(we.body),X.onload=function(){try{we.body=JSON.parse(X.result)}catch{}D("".concat(j).concat(ge.xhrId),we)}}else D("".concat(j).concat(ge.xhrId),we)}}};return Object.keys(O).forEach(function(ue){$.addEventListener(ue,O[ue])}),$},XMLHttpRequest.prototype=L.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(R){XMLHttpRequest[R]=L[R]}),function(){P=!0,XMLHttpRequest=L}}},"./packages/@logrocket/now/src/index.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=Date.now.bind(Date),u=c(),d=typeof performance<"u"&&performance.now?performance.now.bind(performance):function(){return c()-u};a.default=d},"./packages/@logrocket/redux/src/createEnhancer.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./packages/@logrocket/now/src/index.js"));function f(v,x){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(v);x&&(N=N.filter(function(D){return Object.getOwnPropertyDescriptor(v,D).enumerable})),E.push.apply(E,N)}return E}function h(v){for(var x=1;x<arguments.length;x++){var E=arguments[x]!=null?arguments[x]:{};x%2?f(Object(E),!0).forEach(function(N){(0,d.default)(v,N,E[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):f(Object(E)).forEach(function(N){Object.defineProperty(v,N,Object.getOwnPropertyDescriptor(E,N))})}return v}var p=0;function g(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=x.stateSanitizer,N=E===void 0?function(T){return T}:E,D=x.actionSanitizer,w=D===void 0?function(T){return T}:D;return function(T){return function(M,_,C){var k=T(M,_,C),L=k.dispatch,B=p++;v.addEvent("lr.redux.InitialState",function(){var j;try{j=N(k.getState())}catch(R){console.error(R.toString())}return{state:j,storeId:B}});var P=function(R){var U=(0,m.default)(),G,$;try{$=L(R)}catch(I){G=I}finally{var Z=(0,m.default)()-U;v.addEvent("lr.redux.ReduxAction",function(){var I=null,oe=null;try{I=N(k.getState()),oe=w(R)}catch(be){console.error(be.toString())}return I&&oe?{storeId:B,action:oe,duration:Z,stateDelta:I}:null})}if(G)throw G;return $};return h(h({},k),{},{dispatch:P})}}}},"./packages/@logrocket/redux/src/createMiddleware.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var d=u(c("./packages/@logrocket/now/src/index.js")),m=0;function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=p.stateSanitizer,v=g===void 0?function(N){return N}:g,x=p.actionSanitizer,E=x===void 0?function(N){return N}:x;return function(N){var D=m++;return h.addEvent("lr.redux.InitialState",function(){var w;try{w=v(N.getState())}catch(T){console.error(T.toString())}return{state:w,storeId:D}}),function(w){return function(T){var M=(0,d.default)(),_,C;try{C=w(T)}catch(L){_=L}finally{var k=(0,d.default)()-M;h.addEvent("lr.redux.ReduxAction",function(){var L=null,B=null;try{L=v(N.getState()),B=E(T)}catch(P){console.error(P.toString())}return L&&B?{storeId:D,action:B,duration:k,stateDelta:L}:null})}if(_)throw _;return C}}}}},"./packages/@logrocket/redux/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"createEnhancer",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"createMiddleware",{enumerable:!0,get:function(){return m.default}});var d=u(c("./packages/@logrocket/redux/src/createEnhancer.js")),m=u(c("./packages/@logrocket/redux/src/createMiddleware.js"))},"./packages/@logrocket/utils/src/TraceKit.js":function(r,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u={collectWindowErrors:!0,debug:!1},d=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{},m=[].slice,f="?",h=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function p(){return typeof document>"u"||typeof document.location>"u"?"":document.location.href}u.report=function(){var x=[],E=null,N=null,D=null;function w(U){B(),x.push(U)}function T(U){for(var G=x.length-1;G>=0;--G)x[G]===U&&x.splice(G,1)}function M(){P(),x=[]}function _(U,G){var $=null;if(!(G&&!u.collectWindowErrors)){for(var Z in x)if(x.hasOwnProperty(Z))try{x[Z].apply(null,[U].concat(m.call(arguments,2)))}catch(I){$=I}if($)throw $}}var C,k;function L(U,G,$,Z,I){var oe=null;if(D)u.computeStackTrace.augmentStackTraceWithInitialElement(D,G,$,U),j();else if(I)oe=u.computeStackTrace(I),_(oe,!0);else{var be={url:G,line:$,column:Z},O=void 0,ue=U,ge;if({}.toString.call(U)==="[object String]"){var ge=U.match(h);ge&&(O=ge[1],ue=ge[2])}be.func=f,oe={name:O,message:ue,url:p(),stack:[be]},_(oe,!0)}return C?C.apply(this,arguments):!1}function B(){k||(C=d.onerror,d.onerror=L,k=!0)}function P(){k&&(d.onerror=C,k=!1,C=void 0)}function j(){var U=D,G=E;E=null,D=null,N=null,_.apply(null,[U,!1].concat(G))}function R(U,G){var $=m.call(arguments,1);if(D){if(N===U)return;j()}var Z=u.computeStackTrace(U);if(D=Z,N=U,E=$,setTimeout(function(){N===U&&j()},Z.incomplete?2e3:0),G!==!1)throw U}return R.subscribe=w,R.unsubscribe=T,R.uninstall=M,R}(),u.computeStackTrace=function(){function x(w){if(!(typeof w.stack>"u"||!w.stack)){var T=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,M=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,C=w.stack.split(`
`),k=[],L,B;/^(.*) is undefined$/.exec(w.message);for(var P=0,j=C.length;P<j;++P){if(L=T.exec(C[P])){var R=L[2]&&L[2].indexOf("native")!==-1;B={url:R?null:L[2],func:L[1]||f,args:R?[L[2]]:[],line:L[3]?+L[3]:null,column:L[4]?+L[4]:null}}else if(L=_.exec(C[P]))B={url:L[2],func:L[1]||f,args:[],line:+L[3],column:L[4]?+L[4]:null};else if(L=M.exec(C[P]))B={url:L[3],func:L[1]||f,args:L[2]?L[2].split(","):[],line:L[4]?+L[4]:null,column:L[5]?+L[5]:null};else continue;!B.func&&B.line&&(B.func=f),k.push(B)}return k.length?(!k[0].column&&typeof w.columnNumber<"u"&&(k[0].column=w.columnNumber+1),{name:w.name,message:w.message,url:p(),stack:k}):null}}function E(w,T,M,_){var C={url:T,line:M};if(C.url&&C.line){if(w.incomplete=!1,C.func||(C.func=f),w.stack.length>0&&w.stack[0].url===C.url){if(w.stack[0].line===C.line)return!1;if(!w.stack[0].line&&w.stack[0].func===C.func)return w.stack[0].line=C.line,!1}return w.stack.unshift(C),w.partial=!0,!0}else w.incomplete=!0;return!1}function N(w,T){for(var M=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,_=[],C={},k=!1,L,B,P=N.caller;P&&!k;P=P.caller)if(!(P===D||P===u.report)){if(B={url:null,func:f,line:null,column:null},P.name?B.func=P.name:(L=M.exec(P.toString()))&&(B.func=L[1]),typeof B.func>"u")try{B.func=L.input.substring(0,L.input.indexOf("{"))}catch{}C[""+P]?k=!0:C[""+P]=!0,_.push(B)}T&&_.splice(0,T);var j={name:w.name,message:w.message,url:p(),stack:_};return E(j,w.sourceURL||w.fileName,w.line||w.lineNumber,w.message||w.description),j}function D(w,T){var M=null;T=T==null?0:+T;try{if(M=x(w),M)return M}catch(_){if(u.debug)throw _}try{if(M=N(w,T+1),M)return M}catch(_){if(u.debug)throw _}return{name:w.name,message:w.message,url:p()}}return D.augmentStackTraceWithInitialElement=E,D.computeStackTraceFromStackProp=x,D}();var g=u;a.default=g},"./packages/@logrocket/utils/src/constants/nps.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.DELIGHTED_FEEDBACK_PREFIX=a.DELIGHTED_RESPONSES_REGEX=a.WOOTRIC_RESPONSES_REGEX=void 0;var c=/^https:\/\/production.wootric.com\/responses/;a.WOOTRIC_RESPONSES_REGEX=c;var u=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;a.DELIGHTED_RESPONSES_REGEX=u;var d="comment=";a.DELIGHTED_FEEDBACK_PREFIX=d},"./packages/@logrocket/utils/src/createUnsubListener.ts":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.createUnsubListener=h,a.Handler=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),m=u(c("./node_modules/@babel/runtime/helpers/createClass.js")),f=function(){function p(g){(0,d.default)(this,p),this._value=void 0,this._value=g}return(0,m.default)(p,[{key:"get",value:function(){return this._value}},{key:"clear",value:function(){this._value=void 0}}]),p}();a.Handler=f;function h(p){return function(){p.clear()}}},"./packages/@logrocket/utils/src/enhanceFunc.ts":function(r,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var u=c("./packages/@logrocket/utils/src/createUnsubListener.ts"),d=function(){};function m(f,h,p){if(typeof f[h]!="function")return d;try{var g=function(){for(var N,D=arguments.length,w=new Array(D),T=0;T<D;T++)w[T]=arguments[T];var M=v.apply(this,w);return(N=x.get())===null||N===void 0||N.apply(this,w),M},v=f[h],x=new u.Handler(p);return f[h]=g,function(){x.clear(),f[h]===g&&(f[h]=v)}}catch{return d}}},"./packages/@logrocket/utils/src/logError.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=typeof console<"u"&&console.error&&console.error.bind,u=c?console.error.bind(console):function(){},d=u;a.default=d},"./packages/@logrocket/utils/src/mapValues.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;function c(u,d){if(u==null)return{};var m={};return Object.keys(u).forEach(function(f){m[f]=d(u[f])}),m}},"./packages/@logrocket/utils/src/protectFunc.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var d=u(c("./packages/@logrocket/utils/src/sendTelemetryData.js")),m=u(c("./packages/@logrocket/utils/src/logError.js"));function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};return function(){var g;try{g=h.apply(void 0,arguments)}catch(x){if(typeof window<"u"&&window._lrdebug)throw x;var v=p(x);(0,m.default)("LogRocket",x),(0,d.default)(x,v)}return g}}},"./packages/@logrocket/utils/src/scrubException.ts":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.scrubException=x;var d=u(c("./node_modules/@babel/runtime/helpers/typeof.js"));function m(E,N){var D=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!D){if(Array.isArray(E)||(D=f(E))||N){D&&(E=D);var w=0,T=function(){};return{s:T,n:function(){return w>=E.length?{done:!0}:{done:!1,value:E[w++]}},e:function(L){throw L},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,_=!1,C;return{s:function(){D=D.call(E)},n:function(){var L=D.next();return M=L.done,L},e:function(L){_=!0,C=L},f:function(){try{!M&&D.return!=null&&D.return()}finally{if(_)throw C}}}}function f(E,N){if(E){if(typeof E=="string")return h(E,N);var D=Object.prototype.toString.call(E).slice(8,-1);if(D==="Object"&&E.constructor&&(D=E.constructor.name),D==="Map"||D==="Set")return Array.from(E);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return h(E,N)}}function h(E,N){(N==null||N>E.length)&&(N=E.length);for(var D=0,w=new Array(N);D<N;D++)w[D]=E[D];return w}function p(E){return/boolean|number|string/.test((0,d.default)(E))}var g=["level","logger"],v=["tags","extra"];function x(E,N){if(N){var D=m(g),w;try{for(D.s();!(w=D.n()).done;){var T=w.value,M=N[T];p(M)&&(E[T]=M.toString())}}catch(G){D.e(G)}finally{D.f()}var _=m(v),C;try{for(_.s();!(C=_.n()).done;){for(var k=C.value,L=N[k]||{},B={},P=0,j=Object.keys(L);P<j.length;P++){var R=j[P],U=L[R];p(U)&&(B[R.toString()]=U.toString())}E[k]=B}}catch(G){_.e(G)}finally{_.f()}}}},"./packages/@logrocket/utils/src/sendTelemetryData.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.sendTelemetry=x,a.default=E;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./packages/@logrocket/utils/src/logError.js")),f=u(c("./packages/@logrocket/utils/src/TraceKit.js"));function h(N,D){var w=Object.keys(N);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(N);D&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(N,M).enumerable})),w.push.apply(w,T)}return w}function p(N){for(var D=1;D<arguments.length;D++){var w=arguments[D]!=null?arguments[D]:{};D%2?h(Object(w),!0).forEach(function(T){(0,d.default)(N,T,w[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(w)):h(Object(w)).forEach(function(T){Object.defineProperty(N,T,Object.getOwnPropertyDescriptor(w,T))})}return N}var g="13dd130ab9a04ef867cdb9bbbdb0a16c225358f2";function v(N){var D=window._lrXMLHttpRequest||XMLHttpRequest;try{var w,T,M=new D,_=N.message,C="https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793";M.open("POST",C),M.send(JSON.stringify(p({message:_,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":typeof navigator<"u"&&navigator.userAgent},url:typeof location<"u"&&location.href},release:g,environment:((w=window)===null||w===void 0||(T=w.__SDKCONFIG__)===null||T===void 0?void 0:T.scriptEnv)||"prod"},N)))}catch(k){(0,m.default)("Failed to send",k)}}function x(N,D){if(typeof window<"u"&&window._lrdebug)return void(0,m.default)(N);D&&D.extra&&D.extra.appID&&typeof D.extra.appID.indexOf=="function"&&D.extra.appID.indexOf("au2drp/")===0&&Math.random()>=.25||v(p({message:N},D))}function E(N,D){try{var w=N.message,T;try{T=JSON.stringify(D).slice(0,1e3)}catch{try{T="Could not stringify payload: ".concat(Object.prototype.toString.call(D))}catch{}}var M;try{M=f.default.computeStackTrace(N).stack.map(function(_){return{filename:_.url,lineno:_.line,colno:_.column,function:_.func||"?"}})}catch{}v({message:w,extra:{stringPayload:T},exception:{values:[{type:N.type,value:w,stacktrace:{frames:M}}]}})}catch(_){(0,m.default)("Failed to send",_)}}},"./packages/@logrocket/utils/src/startsWith.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;function c(u,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return u&&d&&u.substring(m,m+d.length)===d}},"./packages/logrocket/src/LogRocket.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.MAX_QUEUE_SIZE=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),m=u(c("./node_modules/@babel/runtime/helpers/createClass.js")),f=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),h=u(c("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=u(c("./packages/@logrocket/network/src/index.js")),g=c("./packages/@logrocket/exceptions/src/index.js"),v=u(c("./packages/@logrocket/console/src/index.js")),x=c("./packages/@logrocket/redux/src/index.js");function E(M,_){var C=Object.keys(M);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(M);_&&(k=k.filter(function(L){return Object.getOwnPropertyDescriptor(M,L).enumerable})),C.push.apply(C,k)}return C}function N(M){for(var _=1;_<arguments.length;_++){var C=arguments[_]!=null?arguments[_]:{};_%2?E(Object(C),!0).forEach(function(k){(0,f.default)(M,k,C[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(C)):E(Object(C)).forEach(function(k){Object.defineProperty(M,k,Object.getOwnPropertyDescriptor(C,k))})}return M}var D=1e3;a.MAX_QUEUE_SIZE=D;var w=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=_.ingestServer,k=(0,h.default)(_,["ingestServer"]);return C?N({serverURL:"".concat(C,"/i"),statsURL:"".concat(C,"/s")},k):k},T=function(){function M(){var _=this;(0,d.default)(this,M),this._buffer=[],["log","info","warn","error","debug"].forEach(function(C){_[C]=function(){for(var k=arguments.length,L=new Array(k),B=0;B<k;B++)L[B]=arguments[B];_.addEvent("lr.core.LogEvent",function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return C==="error"&&P.shouldAggregateConsoleErrors&&g.Capture.captureMessage(_,L[0],L,{},!0),{logLevel:C.toUpperCase(),args:L}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,m.default)(M,[{key:"addEvent",value:function(C,k){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=Date.now();this._run(function(P){P.addEvent(C,k,N(N({},L),{},{timeOverride:B}))})}},{key:"onLogger",value:function(C){for(this._logger=C;this._buffer.length>0;){var k=this._buffer.shift();k(this._logger)}}},{key:"_run",value:function(C){if(!this._isDisabled)if(this._logger)C(this._logger);else{if(this._buffer.length>=D){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(C.bind(this))}}},{key:"init",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var L,B=k.shouldAugmentNPS,P=B===void 0?!0:B,j=k.shouldParseXHRBlob,R=j===void 0?!1:j,U=k.shouldDetectExceptions,G=U===void 0?!0:U;G&&this._installed.push((0,g.registerExceptions)(this)),this._installed.push((0,p.default)(this,{shouldAugmentNPS:!!P,shouldParseXHRBlob:!!R,isDisabled:(k==null||(L=k.network)===null||L===void 0?void 0:L.isEnabled)===!1})),this._installed.push((0,v.default)(this)),this._isInitialized=!0,this._run(function($){$.init(C,w(k))})}}},{key:"start",value:function(){this._run(function(C){C.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(C){return C()}),this._buffer=[],this._run(function(C){C.uninstall()})}},{key:"identify",value:function(C,k){this._run(function(L){L.identify(C,k)})}},{key:"startNewSession",value:function(){this._run(function(C){C.startNewSession()})}},{key:"track",value:function(C,k){this._run(function(L){L.track(C,k)})}},{key:"getSessionURL",value:function(C){if(typeof C!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(k){k.getSessionURL?k.getSessionURL(C):C(k.recordingURL)})}},{key:"trackScrollEvent",value:function(C){this._logger&&this._logger.trackScrollEvent(C)}},{key:"getVersion",value:function(C){this._run(function(k){C(k.version)})}},{key:"captureMessage",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g.Capture.captureMessage(this,C,[C],k)}},{key:"captureException",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g.Capture.captureException(this,C,k)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,x.createEnhancer)(this,C)}},{key:"reduxMiddleware",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,x.createMiddleware)(this,C)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),M}();a.default=T},"./packages/logrocket/src/makeLogRocket.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=h;var d=u(c("./packages/logrocket/src/LogRocket.js")),m="LogRocket on React Native requires the LogRocket React Native specific SDK. See setup guide here https://docs.logrocket.com/reference/react-native.",f=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(v){return function(){return v.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(v){return function(x){return v(x)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return new d.default};if(typeof navigator<"u"&&navigator.product==="ReactNative")throw new Error(m);if(typeof window<"u"){if(window._disableLogRocket)return g();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var x=v();return p(x),x}}return f()}},"./packages/logrocket/src/setup.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.getDomainsAndEnv=p,a.setupBaseSDKCONFIG=g,a.default=v;var d=u(c("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),m=u(c("./packages/logrocket/src/makeLogRocket.js")),f={"cdn.logrocket.com":"https://r.logrocket.io","cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn.ingest-lr.com":"https://r.ingest-lr.com","cdn.lr-intake.com":"https://r.lr-intake.com","cdn.intake-lr.com":"https://r.intake-lr.com","cdn.logr-ingest.com":"https://r.logr-ingest.com","cdn.lrkt-in.com":"https://r.lrkt-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com","cdn-staging.ingest-lr.com":"https://staging-i.ingest-lr.com","cdn-staging.lr-intake.com":"https://staging-i.lr-intake.com","cdn-staging.intake-lr.com":"https://staging-i.intake-lr.com","cdn-staging.logr-ingest.com":"https://staging-i.logr-ingest.com","cdn-staging.lrkt-in.com":"https://staging-i.lrkt-in.com"};function h(x){return x.startsWith("cdn-staging")?"staging":x.startsWith("localhost")?"development":"prod"}function p(x){if(x==="script"||x==="shopify-pixel"){try{var E=document.currentScript,N=E.src.match(/^(https?:\/\/([^\\]+))\/.+$/),D=N&&N[2];if(D&&f[D])return{scriptEnv:h(D),scriptOrigin:N&&N[1],scriptIngest:f[D]}}catch{}return{scriptEnv:"prod",scriptOrigin:"https://cdn.logrocket.io"}}else return{scriptEnv:void 0,scriptOrigin:"https://cdn.lrkt-in.com",scriptIngest:"https://r.lrkt-in.com"}}function g(x){typeof window.__SDKCONFIG__>"u"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(x,"/i"),window.__SDKCONFIG__.statsURL="".concat(x,"/s")}function v(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=x.enterpriseServer,N=x.sdkVersion,D=N===void 0?"9.0.2":N,w=(0,d.default)(x,["enterpriseServer","sdkVersion"]),T=p(D),M=T.scriptEnv,_=T.scriptOrigin,C=T.scriptIngest,k=w.sdkServer||E,L=w.ingestServer||E||C,B=(0,m.default)(function(){var P=document.createElement("script");L&&(g(L),window.__SDKCONFIG__.scriptEnv=M),k?P.src="".concat(k,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?P.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?P.src=window._lrAsyncScript:P.src="".concat(_,"/logger-1.min.js"),P.async=!0,document.head.appendChild(P),P.onload=function(){typeof window._LRLogger=="function"?setTimeout(function(){B.onLogger(new window._LRLogger({sdkVersion:D}))}):(console.warn("LogRocket: script execution has been blocked by a product or service."),B.uninstall())},P.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),B.uninstall()}});return B}},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(r){function a(c,u){(u==null||u>c.length)&&(u=c.length);for(var d=0,m=new Array(u);d<u;d++)m[d]=c[d];return m}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function d(m){if(Array.isArray(m))return u(m)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(r){function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function d(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,u(g.key),g)}}function m(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),Object.defineProperty(f,"prototype",{writable:!1}),f}r.exports=m,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function d(m,f,h){return f=u(f),f in m?Object.defineProperty(m,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[f]=h,m}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(r){function a(c){return c&&c.__esModule?c:{default:c}}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(r){function a(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(r){function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function d(m,f){if(m==null)return{};var h=u(m,f),p,g;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);for(g=0;g<v.length;g++)p=v[g],!(f.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(m,p)&&(h[p]=m[p])}return h}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(r){function a(c,u){if(c==null)return{};var d={},m=Object.keys(c),f,h;for(h=0;h<m.length;h++)f=m[h],!(u.indexOf(f)>=0)&&(d[f]=c[f]);return d}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),d=c("./node_modules/@babel/runtime/helpers/iterableToArray.js"),m=c("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),f=c("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function h(p){return u(p)||d(p)||m(p)||f()}r.exports=h,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/typeof.js").default;function d(m,f){if(u(m)!=="object"||m===null)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var p=h.call(m,f||"default");if(u(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(m)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/typeof.js").default,d=c("./node_modules/@babel/runtime/helpers/toPrimitive.js");function m(f){var h=d(f,"string");return u(h)==="symbol"?h:String(h)}r.exports=m,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(r){function a(c){"@babel/helpers - typeof";return r.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r.exports.__esModule=!0,r.exports.default=r.exports,a(c)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function d(m,f){if(m){if(typeof m=="string")return u(m,f);var h=Object.prototype.toString.call(m).slice(8,-1);if(h==="Object"&&m.constructor&&(h=m.constructor.name),h==="Map"||h==="Set")return Array.from(m);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return u(m,f)}}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}},s={};function i(r){var a=s[r];if(a!==void 0)return a.exports;var c=s[r]={exports:{}};return n[r](c,c.exports,i),c.exports}(function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})();var o={};return function(){var r=o;/*!**********************************************!*\
  !*** ./packages/logrocket/src/module-npm.js ***!
  \**********************************************/var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=a(i("./packages/logrocket/src/setup.js")),u=(0,c.default)(),d=u;r.default=d}(),o=o.default,o}()})}(pu)),pu.exports}var p4=h4();const g4=Lr(p4),b4={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_AUTH0_AUDIENCE:"your-auth0-api-identifier",VITE_AUTH0_CALLBACK_URL:"http://localhost:3003/callback",VITE_AUTH0_CLIENT_ID:"oG0aJlsqUul3crrmzdLJJz7r9KvU8IHp",VITE_AUTH0_DOMAIN:"dev-bqgm5fdnyx1sdqja.us.auth0.com",VITE_AUTH0_REDIRECT_URI:"http://localhost:3003",VITE_GEMINI_API_KEY:"your-gemini-api-key-here",VITE_OPENAI_API_KEY:"your-openai-api-key-here",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcnNmeWxqZ2FibXh3eG1wYml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwNjc5NDAsImV4cCI6MjA1NzY0Mzk0MH0.VPnBZfe-BFSZ3L-YyWJUHYZz4fwt7uyY57KWYYAa3C4",VITE_SUPABASE_URL:"https://hdrsfyljgabmxwxmpbix.supabase.co",VITE_USER_NODE_ENV:"development"};function v4(e){return b4[`VITE_${e}`]}function x4(e,t,n={}){const{moduleName:s="global",retryCount:i=0,extra:o={}}=n;v4("NODE_ENV")==="development"&&(console.group("Error logged by logError utility:"),console.error("Error:",e),t&&console.error("Component Stack:",t.componentStack),console.error("Module:",s),console.error("Retry Count:",i),Object.keys(o).length>0&&console.error("Extra Information:",o),console.groupEnd()),g4.captureException(e,{tags:{module:s,errorName:e.name,errorType:e.constructor.name,retryCount:i.toString()},extra:{componentStack:(t==null?void 0:t.componentStack)||"No component stack available",...o}})}class st extends b.Component{constructor(n){super(n);Me(this,"handleReset",()=>{this.setState(n=>({hasError:!1,error:null,errorInfo:null,retryCount:n.retryCount+1,resetKey:n.resetKey+1,isDetailsOpen:!1,errorId:""}))});Me(this,"handleNavigateHome",()=>{window.location.href="/"});Me(this,"handleToggleDetails",()=>{this.setState(n=>({isDetailsOpen:!n.isDetailsOpen}))});Me(this,"renderErrorUI",()=>{var n;return l.jsxDEV("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1300,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",backgroundColor:"rgba(255,255,255,0.9)",backdropFilter:"blur(4px)"},children:l.jsxDEV("div",{style:{maxWidth:"600px",width:"100%",padding:"3rem",borderRadius:"1rem",backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem"},children:[l.jsxDEV("div",{style:{width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:"#ffebee"},children:l.jsxDEV(rC,{size:40,color:"#d32f2f"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:124,columnNumber:9},this),l.jsxDEV("h1",{style:{fontSize:"2rem",fontWeight:700,textAlign:"center",margin:0,color:"#1a1a1a"},children:this.props.moduleName?`Error in ${this.props.moduleName}`:"Something went wrong"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:136,columnNumber:9},this),l.jsxDEV("p",{style:{color:"#666",textAlign:"center",margin:0,fontSize:"1.1rem"},children:"Please try refreshing the page or contact support if the problem persists."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:146,columnNumber:9},this),this.state.error&&l.jsxDEV("div",{style:{width:"100%"},children:l.jsxDEV("details",{children:[l.jsxDEV("summary",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",textTransform:"none"},children:["Technical Details",l.jsxDEV(Br,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:158,columnNumber:15},this),l.jsxDEV("div",{"data-testid":"error-details-box",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f5f5f5",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[l.jsxDEV("div",{style:{marginBottom:"1rem"},children:[l.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:187,columnNumber:19},this),l.jsxDEV("pre",{style:{whiteSpace:"pre-wrap",margin:"0.5rem 0 0 0",color:"#d32f2f",backgroundColor:"white",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #ffcdd2"},children:this.state.error.toString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:188,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:186,columnNumber:17},this),((n=this.state.errorInfo)==null?void 0:n.componentStack)&&l.jsxDEV("div",{children:[l.jsxDEV("strong",{children:"Component Stack:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:203,columnNumber:21},this),l.jsxDEV("pre",{style:{whiteSpace:"pre-wrap",margin:"0.5rem 0 0 0",fontSize:"0.75rem",backgroundColor:"white",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #e0e0e0",maxHeight:"200px",overflow:"auto"},children:this.state.errorInfo.componentStack},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:204,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:202,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:156,columnNumber:11},this),l.jsxDEV("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[l.jsxDEV("button",{onClick:this.handleNavigateHome,"data-testid":"goHomeButton",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:"1px solid #ddd",borderRadius:"0.5rem",backgroundColor:"white",cursor:"pointer",fontSize:"1rem",transition:"all 0.2s"},children:[l.jsxDEV(aC,{size:18},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:247,columnNumber:13},this),"Go Home"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:231,columnNumber:11},this),l.jsxDEV("button",{onClick:this.handleReset,"data-testid":"tryAgainButton",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",backgroundColor:"#1976d2",color:"white",cursor:"pointer",fontSize:"1rem",transition:"all 0.2s"},children:[l.jsxDEV(w1,{size:18},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:268,columnNumber:13},this),"Try Again"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:251,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:224,columnNumber:9},this),l.jsxDEV("a",{href:"mailto:support@example.com",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#1976d2",textDecoration:"none",fontSize:"0.9rem",marginTop:"0.5rem"},children:[l.jsxDEV(lC,{size:18},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:285,columnNumber:11},this),"Contact support"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:273,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:112,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:98,columnNumber:5},this)});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,resetKey:0,isDetailsOpen:!1,errorId:""}}static getDerivedStateFromError(n){const s=`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:n,errorId:s}}componentDidCatch(n,s){const i={...s,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString(),stackTrace:n.stack,errorId:this.state.errorId};this.setState({error:n,errorInfo:s}),x4(n,s,{retryCount:this.state.retryCount,moduleName:this.props.moduleName,extra:i}),window.reportError&&window.reportError(this.props.moduleName||"Unknown",n,i),console.group(` Error Boundary Caught Error [${this.state.errorId}]`),console.error("Module:",this.props.moduleName),console.error("Error:",n),console.error("Component Stack:",s.componentStack),console.error("Enhanced Info:",i),console.groupEnd()}render(){return this.state.hasError?this.props.fallback||this.renderErrorUI():l.jsxDEV("div",{"data-testid":"recovered",children:this.props.children},this.state.resetKey,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:298,columnNumber:7},this)}}function N4(){const e=us();return b.useEffect(()=>{e("/handbook")},[e]),l.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Redirecting to handbook..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:14,columnNumber:9},this),l.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:"The page you're looking for doesn't exist."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:17,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:13,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:12,columnNumber:5},this)}const y4=()=>{const{isAuthenticated:e,isLoading:t,user:n}=ds();return t?l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:14,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:15,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:18,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:13,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:12,columnNumber:7},void 0):l.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600 text-white flex flex-col",children:["      ",l.jsxDEV("header",{className:"flex justify-between items-center px-8 py-4",children:[l.jsxDEV("h1",{className:"text-2xl font-bold tracking-tight",children:[l.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:30,columnNumber:11},void 0)," OncoVista"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:29,columnNumber:9},void 0),e?l.jsxDEV("div",{className:"flex items-center space-x-4",children:[l.jsxDEV("span",{className:"text-white/90",children:["Welcome, ",(n==null?void 0:n.name)||(n==null?void 0:n.email)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:36,columnNumber:13},void 0),l.jsxDEV(zs,{to:"/dashboard",className:"bg-green-600 text-white font-semibold px-5 py-2 rounded-md hover:bg-green-700 transition",children:"Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:37,columnNumber:13},void 0),l.jsxDEV(wd,{className:"bg-red-600 text-white font-semibold px-5 py-2 rounded-md hover:bg-red-700 transition"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:43,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:35,columnNumber:11},void 0):l.jsxDEV(Lu,{className:"bg-white text-indigo-700 font-semibold px-5 py-2 rounded-md hover:bg-indigo-100 transition"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:33,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:28,columnNumber:7},void 0),"      ",l.jsxDEV("main",{className:"flex flex-1 flex-col items-center justify-center text-center px-4",children:[l.jsxDEV("h2",{className:"text-4xl md:text-5xl font-extrabold mb-6 leading-tight",children:["AI-Powered Oncology Support",l.jsxDEV("br",{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:49,columnNumber:38},void 0),"For Modern Clinicians"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:48,columnNumber:9},void 0),l.jsxDEV("p",{className:"text-lg md:text-xl max-w-2xl mb-8 text-indigo-100",children:"Streamline your workflow with intelligent tools for diagnosis, treatment, and patient education  all in one place."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:52,columnNumber:9},void 0),e?l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV(zs,{to:"/dashboard",className:"bg-white text-indigo-700 hover:bg-indigo-100 px-6 py-3 rounded-lg text-lg font-medium transition",children:"Go to Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:68,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[l.jsxDEV(zs,{to:"/opd",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"OPD Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:81,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Outpatient Department resources"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:82,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:77,columnNumber:15},void 0),l.jsxDEV(zs,{to:"/cdu",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"CDU Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:89,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Clinical Decision Unit tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:90,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:85,columnNumber:15},void 0),l.jsxDEV(zs,{to:"/inpatient",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Inpatient"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:97,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Inpatient care management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:98,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:93,columnNumber:15},void 0),l.jsxDEV(zs,{to:"/palliative",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Palliative Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:105,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Palliative care resources"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:101,columnNumber:15},void 0),l.jsxDEV(zs,{to:"/tools",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:113,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Clinical calculators and tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:109,columnNumber:15},void 0),l.jsxDEV(zs,{to:"/handbook",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:121,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Clinical guidelines and protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:122,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:117,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:76,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:67,columnNumber:11},void 0):l.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 max-w-md mx-auto",children:[l.jsxDEV("h3",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:58,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-white/80 mb-6",children:"Please log in to access the oncology resources and tools."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:61,columnNumber:13},void 0),l.jsxDEV(Lu,{className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:57,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:47,columnNumber:7},void 0),l.jsxDEV("footer",{className:"text-center text-sm py-4 text-indigo-100",children:[" ",new Date().getFullYear()," OncoVista  Empowering Oncology Excellence"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:130,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:27,columnNumber:5},void 0)},BE=b.createContext(void 0),w4=({children:e})=>{const{user:t,isAuthenticated:n,isLoading:s,error:i,loginWithRedirect:o,logout:r,getAccessTokenSilently:a}=ds(),m={user:n&&t||null,isAuthenticated:n,isLoading:s,error:i,login:()=>{o({appState:{returnTo:window.location.pathname==="/callback"?"/dashboard":window.location.pathname+window.location.search}})},logout:()=>{r({logoutParams:{returnTo:"https://mwoncovista.netlify.app"}})},getAccessToken:async()=>{try{return await a()}catch(f){throw console.error("Error getting access token:",f),f}}};return l.jsxDEV(BE.Provider,{value:m,children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/context/UserContext.tsx",lineNumber:73,columnNumber:5},void 0)},D4=()=>{const e=b.useContext(BE);if(e===void 0)throw new Error("useUserContext must be used within a UserProvider");return e},HE=(e=!1)=>{const t=ds();if(e)try{const f=D4();return{user:f.user?{id:f.user.sub,name:f.user.name,email:f.user.email,picture:f.user.picture,emailVerified:f.user.email_verified,nickname:f.user.nickname,givenName:f.user.given_name,familyName:f.user.family_name,locale:f.user.locale,updatedAt:f.user.updated_at}:null,isAuthenticated:f.isAuthenticated,isLoading:f.isLoading,error:f.error,login:f.login,logout:f.logout,getAccessTokenSilently:f.getAccessToken,getIdTokenClaims:t.getIdTokenClaims}}catch{}const{user:n,isAuthenticated:s,isLoading:i,error:o,loginWithRedirect:r,logout:a,getAccessTokenSilently:c,getIdTokenClaims:u}=t,d=()=>{r({appState:{returnTo:window.location.pathname==="/callback"?"/dashboard":window.location.pathname+window.location.search}})},m=()=>{a({logoutParams:{returnTo:window.location.origin}})};return{user:n?{id:n.sub,name:n.name,email:n.email,picture:n.picture,emailVerified:n.email_verified,nickname:n.nickname,givenName:n.given_name,familyName:n.family_name,locale:n.locale,updatedAt:n.updated_at}:null,isAuthenticated:s,isLoading:i,error:o,login:d,logout:m,getAccessTokenSilently:c,getIdTokenClaims:u}},E4=()=>{const{user:e,isAuthenticated:t,isLoading:n}=HE();return n?l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:17,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:18,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:21,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:16,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:15,columnNumber:7},void 0):l.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600 p-8",children:l.jsxDEV("div",{className:"max-w-4xl mx-auto",children:l.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 shadow-xl",children:[l.jsxDEV("div",{className:"text-center mb-8",children:[l.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-2",children:" OncoVista Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:34,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-white/80 text-lg",children:"Welcome to your personalized oncology platform"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:35,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:33,columnNumber:11},void 0),t&&e?l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-white mb-4",children:"Your Profile"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:42,columnNumber:17},void 0),l.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.picture&&l.jsxDEV("img",{src:e.picture,alt:"Profile",className:"w-16 h-16 rounded-full border-2 border-white/20"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:45,columnNumber:21},void 0),l.jsxDEV("div",{className:"text-white",children:[l.jsxDEV("div",{className:"font-medium text-lg",children:e.name||"Anonymous User"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:52,columnNumber:21},void 0),l.jsxDEV("div",{className:"text-white/70",children:e.email},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:53,columnNumber:21},void 0),e.emailVerified&&l.jsxDEV("div",{className:"text-green-300 text-sm mt-1",children:" Email verified"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:55,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:51,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:41,columnNumber:15},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxDEV("button",{onClick:()=>window.location.href="/handbook",className:"bg-white/10 hover:bg-white/20 rounded-lg p-6 text-center transition-all border border-white/10 hover:border-white/20",children:[l.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:67,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white font-medium",children:"Medical Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:68,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white/70 text-sm",children:"Clinical guidelines & protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:69,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:63,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>window.location.href="/opd",className:"bg-white/10 hover:bg-white/20 rounded-lg p-6 text-center transition-all border border-white/10 hover:border-white/20",children:[l.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:76,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white font-medium",children:"OPD Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:77,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white/70 text-sm",children:"Outpatient workflows"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:78,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:72,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>window.location.href="/tools",className:"bg-white/10 hover:bg-white/20 rounded-lg p-6 text-center transition-all border border-white/10 hover:border-white/20",children:[l.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:85,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white font-medium",children:"Clinical Tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:86,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white/70 text-sm",children:"Calculators & utilities"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:87,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:81,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:62,columnNumber:15},void 0),l.jsxDEV("div",{className:"text-center",children:l.jsxDEV(wd,{className:"px-6 py-3 bg-red-500/20 hover:bg-red-500/30 text-white rounded-lg border border-red-500/30 hover:border-red-500/50 transition-all"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:39,columnNumber:13},void 0):l.jsxDEV("div",{className:"text-center space-y-6",children:[l.jsxDEV("div",{className:"text-white/80 text-lg",children:"Please sign in to access your personalized dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:98,columnNumber:15},void 0),l.jsxDEV(Lu,{className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-lg font-medium transition-all shadow-lg"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:32,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:31,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:30,columnNumber:5},void 0)},Mt=({children:e,fallback:t})=>{const{isAuthenticated:n,isLoading:s,loginWithRedirect:i}=ds();return s?l.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:23,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:24,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Authenticating..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:27,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:21,columnNumber:7},void 0):n?l.jsxDEV(l.Fragment,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:57,columnNumber:10},void 0):t||l.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center bg-white/10 backdrop-blur-lg rounded-lg p-8 max-w-md",children:[l.jsxDEV("div",{className:"text-white text-2xl font-bold mb-2",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:39,columnNumber:11},void 0),l.jsxDEV("h2",{className:"text-xl font-bold mb-4 text-white",children:"Authentication Required"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:40,columnNumber:11},void 0),l.jsxDEV("p",{className:"mb-6 text-white/80",children:"You need to be logged in to access this page."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:41,columnNumber:11},void 0),l.jsxDEV("button",{onClick:()=>i({appState:{returnTo:window.location.pathname+window.location.search}}),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium w-full",children:"Log In"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:42,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:38,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:37,columnNumber:7},void 0)},T4=()=>{const{user:e}=HE();return l.jsxDEV(Mt,{children:l.jsxDEV("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:l.jsxDEV("div",{className:"max-w-2xl mx-auto",children:l.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[l.jsxDEV("div",{className:"text-center mb-8",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:" Protected Page"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:19,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"This page is only accessible to authenticated users"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:22,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:18,columnNumber:13},void 0),e&&l.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 mb-6",children:[l.jsxDEV("h2",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-3",children:["Welcome, ",e.name||"User","!"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:29,columnNumber:17},void 0),l.jsxDEV("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:33,columnNumber:22},void 0)," ",e.email]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:33,columnNumber:19},void 0),l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"User ID:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:34,columnNumber:22},void 0)," ",e.id]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:34,columnNumber:19},void 0),e.picture&&l.jsxDEV("div",{className:"mt-4",children:l.jsxDEV("img",{src:e.picture,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-blue-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:37,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:36,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:32,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:28,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:"This is a demonstration of protected content. Only authenticated users can see this page. If you're seeing this, it means:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:49,columnNumber:15},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400 ml-4",children:[l.jsxDEV("li",{children:" You are successfully authenticated with Auth0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:54,columnNumber:17},void 0),l.jsxDEV("li",{children:" Your access token is valid"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:55,columnNumber:17},void 0),l.jsxDEV("li",{children:" The ProtectedRoute component is working correctly"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:56,columnNumber:17},void 0),l.jsxDEV("li",{children:" User information is being retrieved from Auth0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:53,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:48,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-8 text-center",children:l.jsxDEV(wd,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:62,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:61,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:17,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:16,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:14,columnNumber:5},void 0)},S4=()=>{const{isLoading:e,error:t,isAuthenticated:n,handleRedirectCallback:s}=ds(),i=us();return b.useEffect(()=>{!e&&n?(async()=>{try{if(!e&&!t){const r=sessionStorage.getItem("auth_return_to")||"/dashboard";sessionStorage.removeItem("auth_return_to"),console.log("Auth0 callback successful, redirecting to:",r),i(r,{replace:!0})}}catch(r){console.error("Auth0 callback processing error:",r),i("/",{replace:!0})}})():!e&&t&&(console.error("Auth0 callback error:",t),i("/",{replace:!0}))},[e,n,t,i]),t?l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center bg-white/10 backdrop-blur-lg rounded-lg p-8 max-w-md",children:[l.jsxDEV("div",{className:"text-red-400 text-xl font-bold mb-4",children:"Authentication Error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:45,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-white/80 mb-4",children:t.message},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:46,columnNumber:11},void 0),l.jsxDEV("button",{onClick:()=>i("/",{replace:!0}),className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Return Home"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:43,columnNumber:7},void 0):l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:61,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:62,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Completing authentication..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:65,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:60,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:59,columnNumber:5},void 0)},_4=()=>{const{timeRemaining:e,showWarning:t,extendSession:n,logout:s,isActive:i}=FE(),[o,r]=b.useState(0),a=u=>{const d=Math.floor(u/60),m=u%60;return`${d}:${m.toString().padStart(2,"0")}`},c=()=>{r(u=>u+1)};return l.jsxDEV("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:" Auto-Logout Test Page"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:33,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-blue-900 mb-4 flex items-center gap-2",children:[l.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:41,columnNumber:15},void 0)," Session Status"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:40,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"flex justify-between",children:[l.jsxDEV("span",{className:"text-blue-700",children:"Session Active:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:46,columnNumber:17},void 0),l.jsxDEV("span",{className:`font-medium ${i?"text-green-600":"text-red-600"}`,children:i?" Active":" Inactive"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:47,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:45,columnNumber:15},void 0),l.jsxDEV("div",{className:"flex justify-between",children:[l.jsxDEV("span",{className:"text-blue-700",children:"Time Remaining:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:53,columnNumber:17},void 0),l.jsxDEV("span",{className:"font-mono text-lg font-bold text-blue-900",children:a(e)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:52,columnNumber:15},void 0),l.jsxDEV("div",{className:"flex justify-between",children:[l.jsxDEV("span",{className:"text-blue-700",children:"Warning Shown:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:60,columnNumber:17},void 0),l.jsxDEV("span",{className:`font-medium ${t?"text-amber-600":"text-green-600"}`,children:t?" Yes":" No"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:61,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:59,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:44,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:39,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center gap-2",children:[l.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:71,columnNumber:15},void 0)," Test Controls"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:70,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("button",{onClick:c,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:["Simulate Activity (",o,")"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:75,columnNumber:15},void 0),l.jsxDEV("button",{onClick:n,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Extend Session"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:82,columnNumber:15},void 0),l.jsxDEV("button",{onClick:s,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:" Force Logout"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:37,columnNumber:9},void 0),l.jsxDEV("div",{className:"bg-amber-50 rounded-lg p-6 border border-amber-200",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-amber-900 mb-4 flex items-center gap-2",children:[l.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:102,columnNumber:13},void 0)," Test Instructions"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:101,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-amber-800 space-y-2",children:[l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"1. Automatic Activity Detection:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:106,columnNumber:16},void 0)," Move your mouse or press keys to reset the timer"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:106,columnNumber:13},void 0),l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"2. Session Timeout:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:107,columnNumber:16},void 0)," Default is 10 minutes, warning appears at 2 minutes remaining"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:107,columnNumber:13},void 0),l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"3. Warning Modal:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:108,columnNumber:16},void 0)," A modal will appear when time remaining is less than 2 minutes"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:108,columnNumber:13},void 0),l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"4. Status Display:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:109,columnNumber:16},void 0)," Check the header for the auto-logout status indicator"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:109,columnNumber:13},void 0),l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"5. Force Testing:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:110,columnNumber:16},void 0),' Use the "Force Logout" button to test logout functionality']},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:110,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:105,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:100,columnNumber:9},void 0),l.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200 mt-6",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:117,columnNumber:13},void 0)," Technical Details"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:116,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-gray-700 text-sm space-y-1",children:[l.jsxDEV("p",{children:" Auto-logout is configured for 10 minutes of inactivity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:121,columnNumber:13},void 0),l.jsxDEV("p",{children:" Warning appears 2 minutes before logout"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:122,columnNumber:13},void 0),l.jsxDEV("p",{children:" Activity is tracked via mouse movement, clicks, and keyboard events"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:123,columnNumber:13},void 0),l.jsxDEV("p",{children:" Session extension resets the timer back to full duration"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:124,columnNumber:13},void 0),l.jsxDEV("p",{children:" Logout uses Auth0's logout functionality"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:125,columnNumber:13},void 0),l.jsxDEV("p",{children:" Component is wrapped in AutoLogoutProvider for global state"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:120,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:115,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/AutoLogoutTest.tsx",lineNumber:31,columnNumber:5},void 0)},k4=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(null);b.useEffect(()=>{const c=localStorage.getItem("app_errors");if(c)try{t(JSON.parse(c))}catch(m){console.error("Failed to parse stored errors:",m)}const u=m=>{var h,p;const f={id:`unhandled_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),error:((h=m.error)==null?void 0:h.message)||m.message,stack:((p=m.error)==null?void 0:p.stack)||"No stack trace available",module:"Global",userAgent:navigator.userAgent,url:window.location.href,retryCount:0};t(g=>{const v=[f,...g].slice(0,50);return localStorage.setItem("app_errors",JSON.stringify(v)),v})},d=m=>{var h,p;const f={id:`rejection_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),error:((h=m.reason)==null?void 0:h.message)||String(m.reason),stack:((p=m.reason)==null?void 0:p.stack)||"No stack trace available",module:"Promise",userAgent:navigator.userAgent,url:window.location.href,retryCount:0};t(g=>{const v=[f,...g].slice(0,50);return localStorage.setItem("app_errors",JSON.stringify(v)),v})};return window.addEventListener("error",u),window.addEventListener("unhandledrejection",d),()=>{window.removeEventListener("error",u),window.removeEventListener("unhandledrejection",d)}},[]);const i=c=>{const u=`
Error ID: ${c.id}
Timestamp: ${c.timestamp}
Module: ${c.module}
URL: ${c.url}
User Agent: ${c.userAgent}
Retry Count: ${c.retryCount}

Error Message:
${c.error}

Stack Trace:
${c.stack}
    `.trim();navigator.clipboard.writeText(u).then(()=>{alert("Error details copied to clipboard!")})},o=()=>{const c=JSON.stringify(e,null,2),u=new Blob([c],{type:"application/json"}),d=URL.createObjectURL(u),m=document.createElement("a");m.href=d,m.download=`error-report-${new Date().toISOString().split("T")[0]}.json`,m.click(),URL.revokeObjectURL(d)},r=()=>{t([]),localStorage.removeItem("app_errors")},a=()=>{throw new Error("Test error from debug page")};return l.jsxDEV("div",{className:"p-6 max-w-6xl mx-auto",children:l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV(Qe,{className:"w-6 h-6 text-red-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:126,columnNumber:15},void 0),l.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Error Debug Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:125,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV("button",{onClick:a,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Test Error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:130,columnNumber:15},void 0),l.jsxDEV("button",{onClick:o,disabled:e.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[l.jsxDEV(Bl,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:141,columnNumber:17},void 0),"Download Report"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:136,columnNumber:15},void 0),l.jsxDEV("button",{onClick:r,disabled:e.length===0,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 flex items-center gap-2",children:[l.jsxDEV(w1,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:149,columnNumber:17},void 0),"Clear All"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:144,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:124,columnNumber:11},void 0),l.jsxDEV("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsxDEV("h3",{className:"font-semibold text-yellow-800",children:"Production Error Debugging"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:156,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-yellow-700 mt-1",children:"This page captures and displays all JavaScript errors that occur in the application. Use this to debug the production error you're experiencing."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:157,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:155,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:123,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-6",children:e.length===0?l.jsxDEV("div",{className:"text-center py-12",children:[l.jsxDEV(Qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:167,columnNumber:15},void 0),l.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No errors captured yet"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:168,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-600",children:'Navigate around the app to capture any errors that occur. Try clicking "Test Error" to verify the system is working.'},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:169,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:166,columnNumber:13},void 0):l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:["Captured Errors (",e.length,")"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:176,columnNumber:15},void 0),e.map(c=>l.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxDEV("div",{className:"p-4 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:()=>s(n===c.id?null:c.id),children:l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("div",{className:"flex-1",children:[l.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxDEV("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded",children:c.module},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:189,columnNumber:27},void 0),l.jsxDEV("span",{className:"text-sm text-gray-600",children:new Date(c.timestamp).toLocaleString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:192,columnNumber:27},void 0),l.jsxDEV("span",{className:"text-xs text-gray-500",children:["ID: ",c.id]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:195,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:188,columnNumber:25},void 0),l.jsxDEV("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.error},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:199,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:187,columnNumber:23},void 0),l.jsxDEV("button",{onClick:u=>{u.stopPropagation(),i(c)},className:"p-2 text-gray-400 hover:text-gray-600",title:"Copy error details",children:l.jsxDEV(D1,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:211,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:203,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:186,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:182,columnNumber:19},void 0),n===c.id&&l.jsxDEV("div",{className:"p-4 border-t border-gray-200 bg-white",children:l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"URL:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:220,columnNumber:27},void 0),l.jsxDEV("p",{className:"text-sm text-gray-900 break-all",children:c.url},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:221,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:219,columnNumber:25},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"User Agent:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:225,columnNumber:27},void 0),l.jsxDEV("p",{className:"text-sm text-gray-900 break-all",children:c.userAgent},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:226,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:224,columnNumber:25},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Error Message:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:230,columnNumber:27},void 0),l.jsxDEV("p",{className:"text-sm text-gray-900 font-mono bg-gray-50 p-2 rounded",children:c.error},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:231,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:229,columnNumber:25},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"text-sm font-medium text-gray-700",children:"Stack Trace:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:237,columnNumber:27},void 0),l.jsxDEV("pre",{className:"text-xs text-gray-900 font-mono bg-gray-50 p-2 rounded overflow-auto max-h-60",children:c.stack},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:238,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:236,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:218,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:217,columnNumber:21},void 0)]},c.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:181,columnNumber:17},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:175,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:164,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:122,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorDebugPage.tsx",lineNumber:121,columnNumber:5},void 0)};class M4{constructor(){Me(this,"errors",[]);Me(this,"maxErrors",100);Me(this,"storageKey","app_error_reports");this.initializeGlobalHandlers(),this.loadStoredErrors()}initializeGlobalHandlers(){window.addEventListener("error",t=>{this.captureError({error:t.error||new Error(t.message),module:"Global",additionalContext:{filename:t.filename,lineno:t.lineno,colno:t.colno,type:"unhandled_error"}})}),window.addEventListener("unhandledrejection",t=>{this.captureError({error:t.reason instanceof Error?t.reason:new Error(String(t.reason)),module:"Promise",additionalContext:{type:"unhandled_rejection",reason:t.reason}})}),window.reportError=(t,n,s)=>{this.captureError({error:n,module:t,additionalContext:{componentStack:s==null?void 0:s.componentStack,type:"react_error_boundary"}})}}loadStoredErrors(){try{const t=localStorage.getItem(this.storageKey);t&&(this.errors=JSON.parse(t))}catch(t){console.warn("Failed to load stored errors:",t)}}saveErrors(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.errors))}catch(t){console.warn("Failed to save errors to localStorage:",t)}}captureError({error:t,module:n="Unknown",additionalContext:s={}}){const i={id:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),error:t.message,stack:t.stack||"No stack trace available",module:n,userAgent:navigator.userAgent,url:window.location.href,retryCount:0,additionalContext:s};return this.errors.unshift(i),this.errors.length>this.maxErrors&&(this.errors=this.errors.slice(0,this.maxErrors)),this.saveErrors(),console.group(` Error Tracked [${i.id}]`),console.error("Module:",n),console.error("Error:",t),console.error("Additional Context:",s),console.error("Full Report:",i),console.groupEnd(),this.sendToExternalService(i),i.id}sendToExternalService(t){if(typeof window<"u"&&window.LogRocket)try{window.LogRocket.captureException(new Error(t.error),{tags:{module:t.module,errorId:t.id,url:t.url},extra:t.additionalContext})}catch(n){console.warn("Failed to send error to LogRocket:",n)}}getErrors(){return[...this.errors]}getErrorById(t){return this.errors.find(n=>n.id===t)}clearErrors(){this.errors=[],localStorage.removeItem(this.storageKey)}exportErrors(){return JSON.stringify(this.errors,null,2)}analyzeProductionError(t){const n={possibleCauses:[],suggestedActions:[],relatedComponents:[]};return t.includes("PZ")&&t.includes("FZ")&&(n.possibleCauses.push("Component rendering error in React tree"),n.possibleCauses.push("State update on unmounted component"),n.possibleCauses.push("Async operation completing after component unmount")),t.includes("router")&&(n.possibleCauses.push("Routing-related error"),n.possibleCauses.push("Navigation occurring during component lifecycle"),n.relatedComponents.push("AppRoutes","ProtectedRoute","BrowserRouter")),t.includes("div")&&t.includes("pt")&&(n.possibleCauses.push("DOM manipulation error"),n.possibleCauses.push("Component prop type mismatch")),n.suggestedActions.push("Check for memory leaks in useEffect cleanup"),n.suggestedActions.push("Verify all async operations have proper error handling"),n.suggestedActions.push("Review recent changes to routing configuration"),n.suggestedActions.push("Enable source maps for better debugging"),n.suggestedActions.push("Add more granular ErrorBoundaries around suspect components"),n}}const UE=new M4;typeof window<"u"&&(window.errorTracker=UE);const C4=()=>{const[e,t]=b.useState(`at PZ (https://mwoncovista.com/assets/index-DHUQ6z_J.js:293:11789)
    at div
    at s (https://mwoncovista.com/assets/index-DHUQ6z_J.js:10:6650)
    at FZ (https://mwoncovista.com/assets/index-DHUQ6z_J.js:293:36315)
    at pt (https://mwoncovista.com/assets/router-66oUNay2.js:3:3215)
    at ur (https://mwoncovista.com/assets/router-66oUNay2.js:3:6988)
    at div
    at a6 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:45:28180)
    at div
    at r6 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:45:27952)
    at z4 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:45:22150)
    at J4 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:45:24784)
    at div
    at div
    at Ge (https://mwoncovista.com/assets/index-DHUQ6z_J.js:56:1646)
    at See (https://mwoncovista.com/assets/index-DHUQ6z_J.js:368:1600)
    at Ct (https://mwoncovista.com/assets/index-DHUQ6z_J.js:56:16304)
    at div
    at Ge (https://mwoncovista.com/assets/index-DHUQ6z_J.js:56:1646)
    at pt (https://mwoncovista.com/assets/router-66oUNay2.js:3:3215)
    at ur (https://mwoncovista.com/assets/router-66oUNay2.js:3:6988)
    at gne
    at main
    at div
    at div
    at T6 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:45:37487)
    at u (https://mwoncovista.com/assets/index-DHUQ6z_J.js:10:76556)
    at u (https://mwoncovista.com/assets/index-DHUQ6z_J.js:10:76556)
    at a (https://mwoncovista.com/assets/index-DHUQ6z_J.js:118:809)
    at ik (https://mwoncovista.com/assets/index-DHUQ6z_J.js:118:1888)
    at f6 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:45:31347)
    at St (https://mwoncovista.com/assets/router-66oUNay2.js:3:6158)
    at sr (https://mwoncovista.com/assets/router-66oUNay2.js:3:15479)
    at rI (https://mwoncovista.com/assets/index-DHUQ6z_J.js:2:2003)
    at yne
    at div
    at Ge (https://mwoncovista.com/assets/index-DHUQ6z_J.js:56:1646)
    at P6 (https://mwoncovista.com/assets/index-DHUQ6z_J.js:56:10896)
    at xne (https://mwoncovista.com/assets/index-DHUQ6z_J.js:424:11744)
    at nM (https://mwoncovista.com/assets/index-DHUQ6z_J.js:31:17054)
    at vne (https://mwoncovista.com/assets/index-DHUQ6z_J.js:424:11844)`),[n,s]=b.useState(null),i=()=>{const a=UE.analyzeProductionError(e);s(a)},o=()=>{var c,u,d;const a=`
Production Error Analysis
========================

Stack Trace:
${e}

Possible Causes:
${((c=n==null?void 0:n.possibleCauses)==null?void 0:c.map((m,f)=>`${f+1}. ${m}`).join(`
`))||"None identified"}

Suggested Actions:
${((u=n==null?void 0:n.suggestedActions)==null?void 0:u.map((m,f)=>`${f+1}. ${m}`).join(`
`))||"None identified"}

Related Components:
${((d=n==null?void 0:n.relatedComponents)==null?void 0:d.join(", "))||"None identified"}

Generated: ${new Date().toISOString()}
    `.trim();navigator.clipboard.writeText(a).then(()=>{alert("Analysis copied to clipboard!")})},r=[{title:"Enable Source Maps in Production",description:"Add 'sourcemap: true' to vite.config.ts build options for better debugging",code:`build: {
  sourcemap: true, // Enable for production debugging
  // ... other options
}`},{title:"Add Granular Error Boundaries",description:"Wrap suspect components with ErrorBoundary to isolate errors",code:`<ErrorBoundary moduleName="Suspect Component">
  <SuspectComponent />
</ErrorBoundary>`},{title:"Check useEffect Cleanup",description:"Ensure all async operations are properly cleaned up",code:`useEffect(() => {
  let isMounted = true;
  
  asyncOperation().then(result => {
    if (isMounted) {
      setState(result);
    }
  });
  
  return () => {
    isMounted = false;
  };
}, []);`},{title:"Add Global Error Handler",description:"Capture unhandled errors for better tracking",code:`window.addEventListener('error', (event) => {
  console.error('Global error:', event.error);
  // Send to logging service
});`}];return l.jsxDEV("div",{className:"p-6 max-w-4xl mx-auto",children:l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:[l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV(Qe,{className:"w-6 h-6 text-red-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:128,columnNumber:13},void 0),l.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Production Error Analyzer"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:127,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Analyze minified production errors to identify potential causes and solutions."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:131,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:126,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Production Stack Trace"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:139,columnNumber:13},void 0),l.jsxDEV("textarea",{value:e,onChange:a=>t(a.target.value),className:"w-full h-40 p-3 border border-gray-300 rounded-lg font-mono text-sm",placeholder:"Paste your production error stack trace here..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:142,columnNumber:13},void 0),l.jsxDEV("button",{onClick:i,className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[l.jsxDEV(yo,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:152,columnNumber:15},void 0),"Analyze Error"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:138,columnNumber:11},void 0),n&&l.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Analysis Results"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:161,columnNumber:17},void 0),l.jsxDEV("button",{onClick:o,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 flex items-center gap-1",children:[l.jsxDEV(D1,{className:"w-3 h-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:166,columnNumber:19},void 0),"Copy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:162,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:160,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:"Possible Causes:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:173,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:n.possibleCauses.map((a,c)=>l.jsxDEV("li",{className:"text-gray-700",children:a},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:176,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:174,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:172,columnNumber:17},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:"Suggested Actions:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:182,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:n.suggestedActions.map((a,c)=>l.jsxDEV("li",{className:"text-gray-700",children:a},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:185,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:183,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:181,columnNumber:17},void 0),n.relatedComponents.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:"Related Components:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:192,columnNumber:21},void 0),l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:n.relatedComponents.map((a,c)=>l.jsxDEV("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded",children:a},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:195,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:193,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:191,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:171,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:159,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Common Solutions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:208,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-4",children:r.map((a,c)=>l.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:a.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:212,columnNumber:19},void 0),l.jsxDEV("p",{className:"text-gray-600 mb-3",children:a.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:213,columnNumber:19},void 0),l.jsxDEV("pre",{className:"bg-gray-50 p-3 rounded text-sm overflow-x-auto",children:l.jsxDEV("code",{children:a.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:215,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:214,columnNumber:19},void 0)]},c,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:211,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:207,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Debugging Steps"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:224,columnNumber:13},void 0),l.jsxDEV("ol",{className:"list-decimal list-inside space-y-1 text-yellow-700",children:[l.jsxDEV("li",{children:"Navigate to `/debug/errors` to see real-time error capture"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:226,columnNumber:15},void 0),l.jsxDEV("li",{children:"Reproduce the error to capture it with enhanced context"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:227,columnNumber:15},void 0),l.jsxDEV("li",{children:"Check browser network tab for failed requests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:228,columnNumber:15},void 0),l.jsxDEV("li",{children:"Verify all environment variables are properly set"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:229,columnNumber:15},void 0),l.jsxDEV("li",{children:"Test with different browsers and devices"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:230,columnNumber:15},void 0),l.jsxDEV("li",{children:"Check for console warnings before the error occurs"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:231,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:225,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:223,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:136,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProductionErrorAnalyzer.tsx",lineNumber:124,columnNumber:5},void 0)},U0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$0=y1,Td=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return $0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,r=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],m=o==null?void 0:o[u];if(d===null)return null;const f=U0(d)||U0(m);return i[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[m,f]=d;return f===void 0||(u[m]=f),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:m,className:f,...h}=d;return Object.entries(h).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...u,m,f]:u},[]);return $0(e,r,c,n==null?void 0:n.class,n==null?void 0:n.className)},P4=Td("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),It=b.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},o)=>{const r=s?jI:"button";return l.jsxDEV(r,{className:Ce(P4({variant:t,size:n,className:e})),ref:o,...i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/button.tsx",lineNumber:46,columnNumber:7},void 0)});It.displayName="Button";const Kt=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:Ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));Kt.displayName="Card";const Zt=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));Zt.displayName="CardHeader";const en=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("h3",{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));en.displayName="CardTitle";const $E=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("p",{ref:n,className:Ce("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0));$E.displayName="CardDescription";const tn=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:Ce("p-6 pt-0",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));tn.displayName="CardContent";const A4=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:Ce("flex items-center p-6 pt-0",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0));A4.displayName="CardFooter";const j4=()=>{const[e,t]=b.useState(""),n=()=>{t("JavaScript Error"),setTimeout(()=>{throw new Error("Test JavaScript Error - Similar to production PZ/FZ error")},100)},s=()=>{throw t("React Error"),new Error("Test React Component Error - ErrorBoundary test")},i=()=>{t("Promise Rejection"),Promise.reject(new Error("Test Promise Rejection - Async operation failure"))},o=()=>{t("Network Error"),fetch("/non-existent-endpoint").then(r=>{if(!r.ok)throw new Error(`Network Error: ${r.status}`)}).catch(r=>{throw console.error("Network operation failed:",r),r})};return l.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:l.jsxDEV(Kt,{children:[l.jsxDEV(Zt,{children:[l.jsxDEV(en,{children:"Error Tracking Test Page"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:47,columnNumber:11},void 0),l.jsxDEV($E,{children:"Test different types of errors to verify our enhanced error tracking system. Check the console and visit /debug/errors to see captured errors."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:48,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:46,columnNumber:9},void 0),l.jsxDEV(tn,{className:"space-y-4",children:[l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxDEV(It,{onClick:n,variant:"destructive",className:"h-20",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"font-semibold",children:"JavaScript Error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:61,columnNumber:17},void 0),l.jsxDEV("div",{className:"text-sm opacity-90",children:"Unhandled exception"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:62,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:55,columnNumber:13},void 0),l.jsxDEV(It,{onClick:s,variant:"destructive",className:"h-20",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"font-semibold",children:"React Error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:72,columnNumber:17},void 0),l.jsxDEV("div",{className:"text-sm opacity-90",children:"Component error (ErrorBoundary)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:73,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:71,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:66,columnNumber:13},void 0),l.jsxDEV(It,{onClick:i,variant:"destructive",className:"h-20",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"font-semibold",children:"Promise Rejection"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:83,columnNumber:17},void 0),l.jsxDEV("div",{className:"text-sm opacity-90",children:"Async operation failure"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:84,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:82,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:77,columnNumber:13},void 0),l.jsxDEV(It,{onClick:o,variant:"destructive",className:"h-20",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"font-semibold",children:"Network Error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:94,columnNumber:17},void 0),l.jsxDEV("div",{className:"text-sm opacity-90",children:"Failed HTTP request"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:95,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:93,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:88,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:54,columnNumber:11},void 0),e&&l.jsxDEV("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsxDEV("p",{className:"text-yellow-800",children:[l.jsxDEV("strong",{children:"Test Triggered:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:103,columnNumber:17},void 0)," ",e]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:102,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-sm text-yellow-600 mt-1",children:["Check the browser console and visit ",l.jsxDEV("a",{href:"/debug/errors",className:"underline font-medium",children:"/debug/errors"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:106,columnNumber:53},void 0)," to see the captured error details."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:105,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:101,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsxDEV("h3",{className:"font-semibold text-blue-800 mb-2",children:"Instructions:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:112,columnNumber:13},void 0),l.jsxDEV("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[l.jsxDEV("li",{children:"Open browser DevTools (F12) before triggering errors"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:114,columnNumber:15},void 0),l.jsxDEV("li",{children:["Open ",l.jsxDEV("a",{href:"/debug/errors",className:"underline font-medium",children:"/debug/errors"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:115,columnNumber:24},void 0)," in another tab"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:115,columnNumber:15},void 0),l.jsxDEV("li",{children:"Trigger an error using the buttons above"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:116,columnNumber:15},void 0),l.jsxDEV("li",{children:"Check console for enhanced error logging"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:117,columnNumber:15},void 0),l.jsxDEV("li",{children:"Verify error appears in the debug errors page"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:118,columnNumber:15},void 0),l.jsxDEV("li",{children:"Note the unique error ID and enhanced context"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:119,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:111,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:53,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:45,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ErrorTestPage.tsx",lineNumber:44,columnNumber:5},void 0)};function I4({children:e,componentName:t}){try{return l.jsxDEV(l.Fragment,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorWrapper.tsx",lineNumber:10,columnNumber:12},this)}catch(n){return console.error(`Error in ${t||"component"}:`,n),l.jsxDEV("div",{className:"p-4 bg-red-50 text-red-600 border border-red-200 rounded mt-4",children:[" Failed to load ",t||"component","."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorWrapper.tsx",lineNumber:14,columnNumber:7},this)}}const R4=[{id:"medical-oncology",title:"Medical Oncology",description:"Clinical oncology chapters, diagnosis, treatment, supportive care, emergencies, and reference tools.",icon:is,isImage:!1,path:"/handbook/medical-oncology"},{id:"radiation-oncology",title:"Radiation Oncology",description:"Detailed protocols for radiation therapy, treatment planning, dosimetry, and management of radiation-related effects.",icon:E1,isImage:!1,path:"/handbook/radiation-oncology"},{id:"palliative-care",title:"Palliative Care",description:"Guidelines for symptom management, pain control, and improving quality of life for patients with advanced cancer.",icon:Hl,isImage:!1,path:"/handbook/palliative-care"}],V4=()=>l.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800",children:l.jsxDEV("div",{className:"p-8 max-w-7xl mx-auto",children:[l.jsxDEV("h1",{className:"text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-blue-500",children:"OncoVista Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:37,columnNumber:9},void 0),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-12 text-lg max-w-2xl",children:"Select a section to explore detailed oncology guidelines and protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:40,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-3 gap-8",children:R4.map(e=>l.jsxDEV(zs,{to:e.path,className:`group block p-6 bg-white dark:bg-slate-800 rounded-xl\r
                shadow-sm hover:shadow-md transition-all duration-300\r
                border border-gray-100 dark:border-gray-700\r
                hover:border-purple-100 dark:hover:border-purple-900/50\r
                relative overflow-hidden`,children:[l.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br from-purple-50/50 to-blue-50/50 \r
                dark:from-purple-900/10 dark:to-blue-900/10\r
                opacity-0 group-hover:opacity-100 transition-opacity`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:55,columnNumber:15},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:`mb-4 p-3 rounded-lg inline-block \r
                  bg-gradient-to-br from-purple-100 to-blue-100\r
                  dark:from-purple-900/50 dark:to-blue-900/50`,children:l.jsxDEV(e.icon,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:64,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:61,columnNumber:17},void 0),l.jsxDEV("h2",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:67,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:e.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:60,columnNumber:15},void 0)]},e.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:46,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:44,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-16 grid md:grid-cols-3 gap-8",children:[l.jsxDEV("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("div",{className:"p-3 rounded-lg inline-block bg-blue-100 dark:bg-blue-900/30 mb-4",children:l.jsxDEV(is,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:84,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:83,columnNumber:13},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Comprehensive Content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:86,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Evidence-based guidelines and protocols for oncology practice"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:82,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("div",{className:"p-3 rounded-lg inline-block bg-purple-100 dark:bg-purple-900/30 mb-4",children:l.jsxDEV(E1,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:96,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:95,columnNumber:13},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Treatment Planning"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:98,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed guidance for radiation therapy and palliative care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:94,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("div",{className:"p-3 rounded-lg inline-block bg-rose-100 dark:bg-rose-900/30 mb-4",children:l.jsxDEV(Hl,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:108,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:107,columnNumber:13},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Patient-Centered Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:110,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Focus on quality of life and holistic patient management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:35,columnNumber:5},void 0),O4=({entry:e,depth:t,isExpanded:n,isActive:s,section:i,activeTopicId:o,onToggle:r,onSelect:a})=>{var m,f,h,p;const c=e.items&&e.items.length>0,u=e.path&&o===e.path,d=c&&((m=e.items)==null?void 0:m.some(g=>{var v;return g.path===o||((v=g.items)==null?void 0:v.some(x=>x.path===o))}));return l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("button",{onClick:()=>c?r():e.path&&a(e.path),className:Ce("w-full text-left group flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200","hover:bg-slate-100 dark:hover:bg-slate-800",(u||d)&&"bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30",t>0&&"ml-4"),children:[c&&l.jsxDEV(Be.div,{initial:!1,animate:{rotate:n?90:0},transition:{duration:.2},className:Ce("text-slate-400",d&&"text-indigo-500 dark:text-indigo-400"),children:l.jsxDEV(cC,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:62,columnNumber:11},void 0),l.jsxDEV("span",{className:Ce("flex-1 text-sm transition-colors",c?"font-semibold":"font-normal",u||d?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-300","group-hover:text-indigo-600 dark:group-hover:text-indigo-400"),children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:74,columnNumber:9},void 0),((f=e.path)==null?void 0:f.includes("new"))&&l.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:"New"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:89,columnNumber:11},void 0),((h=e.path)==null?void 0:h.includes("updated"))&&l.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full",children:"Updated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:94,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:51,columnNumber:7},void 0),c&&l.jsxDEV(As,{initial:!1,children:n&&l.jsxDEV(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxDEV("div",{className:"relative pl-4 before:absolute before:left-2 before:top-0 before:h-full before:w-px before:bg-slate-200 dark:before:bg-slate-700",children:(p=e.items)==null?void 0:p.map((g,v)=>l.jsxDEV(zE,{entry:g,depth:t+1,section:i,activeTopicId:o,onSelect:a},`${g.title}-${v}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:112,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:110,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:103,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:50,columnNumber:5},void 0)},zE=({entry:e,depth:t,section:n,activeTopicId:s,onSelect:i})=>{const[o,r]=b.useState(()=>s?e.items?e.items.some(c=>{var u;return c.path===s||((u=c.items)==null?void 0:u.some(d=>d.path===s))}):!1:t===0);e.items&&e.items.length>0;const a=e.path===s;return l.jsxDEV(O4,{entry:e,depth:t,isExpanded:o,isActive:a,section:n,activeTopicId:s,onToggle:()=>r(!o),onSelect:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:159,columnNumber:5},void 0)},L4=({section:e,tocData:t,activeTopicId:n,onTopicClick:s})=>{const[i,o]=b.useState(""),r=b.useCallback(c=>{e&&c&&s(e,c)},[e,s]),a=b.useMemo(()=>{if(!i)return t;const c=i.toLowerCase(),u=d=>d.reduce((m,f)=>{if(f.title.toLowerCase().includes(c))m.push(f);else if(f.items){const h=u(f.items);h.length>0&&m.push({...f,items:h})}return m},[]);return u(t)},[t,i]);return l.jsxDEV("div",{className:"w-80 flex-shrink-0 border-r border-slate-200 dark:border-slate-800",children:[l.jsxDEV("div",{className:"sticky top-0 z-10 p-4 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800",children:l.jsxDEV("div",{className:"relative",children:[l.jsxDEV(yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:213,columnNumber:11},void 0),l.jsxDEV("input",{type:"text",placeholder:"Search topics...",value:i,onChange:c=>o(c.target.value),className:`w-full pl-9 pr-4 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-700 \r
                     bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100\r
                     placeholder:text-slate-400 dark:placeholder:text-slate-500\r
                     focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400\r
                     transition-all duration-200`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:214,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:212,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:211,columnNumber:7},void 0),l.jsxDEV("div",{className:`h-[calc(100vh-4rem)] p-4 space-y-2 overflow-y-auto \r
                    scrollbar-thin scrollbar-track-transparent\r
                    scrollbar-thumb-slate-200 hover:scrollbar-thumb-slate-300\r
                    dark:scrollbar-thumb-slate-700 dark:hover:scrollbar-thumb-slate-600\r
                    scroll-smooth`,children:a.length===0?l.jsxDEV("div",{className:"flex items-center gap-2 p-4 text-sm text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[l.jsxDEV(Ps,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:236,columnNumber:13},void 0),l.jsxDEV("span",{children:"No matching topics found"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:235,columnNumber:11},void 0):a.map((c,u)=>l.jsxDEV(zE,{entry:c,depth:0,section:e,activeTopicId:n,onSelect:r},`${c.title}-${u}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:241,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:229,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:209,columnNumber:5},void 0)};class F4 extends Error{constructor(n,s,i,o,r){super(n);Me(this,"name","Assertion");Me(this,"code","ERR_ASSERTION");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=s,this.expected=i,this.generated=r,this.operator=o}}function W(e,t){WE(!!e,!1,!0,"ok","Expected value to be truthy",t)}function Sh(e){WE(!1,!1,!0,"ok","Unreachable",e)}function WE(e,t,n,s,i,o){if(!e)throw o instanceof Error?o:new F4(o||i,t,n,s,!o)}function z0(e){const t=[],n=String(e||"");let s=n.indexOf(","),i=0,o=!1;for(;!o;){s===-1&&(s=n.length,o=!0);const r=n.slice(i,s).trim();(r||!o)&&t.push(r),i=s+1,s=n.indexOf(",",i)}return t}function qE(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const B4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U4={};function W0(e,t){return(U4.jsx?H4:B4).test(e)}const $4=/[ \t\n\f\r]/g;function z4(e){return typeof e=="object"?e.type==="text"?q0(e.value):!1:q0(e)}function q0(e){return e.replace($4,"")===""}let Jl=class{constructor(t,n,s){this.normal=n,this.property=t,s&&(this.space=s)}};Jl.prototype.normal={};Jl.prototype.property={};Jl.prototype.space=void 0;function GE(e,t){const n={},s={};for(const i of e)Object.assign(n,i.property),Object.assign(s,i.normal);return new Jl(n,s,t)}function kl(e){return e.toLowerCase()}let Sn=class{constructor(t,n){this.attribute=n,this.property=t}};Sn.prototype.attribute="";Sn.prototype.booleanish=!1;Sn.prototype.boolean=!1;Sn.prototype.commaOrSpaceSeparated=!1;Sn.prototype.commaSeparated=!1;Sn.prototype.defined=!1;Sn.prototype.mustUseProperty=!1;Sn.prototype.number=!1;Sn.prototype.overloadedBoolean=!1;Sn.prototype.property="";Sn.prototype.spaceSeparated=!1;Sn.prototype.space=void 0;let W4=0;const Ve=Mo(),Ct=Mo(),_h=Mo(),fe=Mo(),ct=Mo(),vr=Mo(),_n=Mo();function Mo(){return 2**++W4}const kh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:Ct,commaOrSpaceSeparated:_n,commaSeparated:vr,number:fe,overloadedBoolean:_h,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),jm=Object.keys(kh);let Cg=class extends Sn{constructor(t,n,s,i){let o=-1;if(super(t,n),G0(this,"space",i),typeof s=="number")for(;++o<jm.length;){const r=jm[o];G0(this,jm[o],(s&kh[r])===kh[r])}}};Cg.prototype.defined=!0;function G0(e,t,n){n&&(e[t]=n)}function Kr(e){const t={},n={};for(const[s,i]of Object.entries(e.properties)){const o=new Cg(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),t[s]=o,n[kl(s)]=s,n[kl(o.attribute)]=s}return new Jl(t,n,e.space)}const YE=Kr({properties:{ariaActiveDescendant:null,ariaAtomic:Ct,ariaAutoComplete:null,ariaBusy:Ct,ariaChecked:Ct,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:Ct,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:Ct,ariaFlowTo:ct,ariaGrabbed:Ct,ariaHasPopup:null,ariaHidden:Ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:fe,ariaLive:null,ariaModal:Ct,ariaMultiLine:Ct,ariaMultiSelectable:Ct,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:Ct,ariaReadOnly:Ct,ariaRelevant:null,ariaRequired:Ct,ariaRoleDescription:ct,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:Ct,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function KE(e,t){return t in e?e[t]:t}function XE(e,t){return KE(e,t.toLowerCase())}const q4=Kr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vr,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:ct,autoFocus:Ve,autoPlay:Ve,blocking:ct,capture:null,charSet:null,checked:Ve,cite:null,className:ct,cols:fe,colSpan:null,content:null,contentEditable:Ct,controls:Ve,controlsList:ct,coords:fe|vr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:_h,draggable:Ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:ct,height:fe,hidden:_h,high:fe,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:ct,itemRef:ct,itemScope:Ve,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:fe,pattern:null,ping:ct,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:ct,required:Ve,reversed:Ve,rows:fe,rowSpan:fe,sandbox:ct,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:Ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:Ct,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:Ct,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:XE}),G4=Kr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_n,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vr,g2:vr,glyphName:vr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:_n,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_n,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_n,rev:_n,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_n,requiredFeatures:_n,requiredFonts:_n,requiredFormats:_n,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:_n,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_n,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_n,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:KE}),JE=Kr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),QE=Kr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:XE}),ZE=Kr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Y4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},K4=/[A-Z]/g,Y0=/-[a-z]/g,X4=/^data[-\w.:]+$/i;function Pg(e,t){const n=kl(t);let s=t,i=Sn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&X4.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Y0,Q4);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Y0.test(o)){let r=o.replace(K4,J4);r.charAt(0)!=="-"&&(r="-"+r),t="data"+r}}i=Cg}return new i(s,t)}function J4(e){return"-"+e.toLowerCase()}function Q4(e){return e.charAt(1).toUpperCase()}const Sd=GE([YE,q4,JE,QE,ZE],"html"),Xr=GE([YE,G4,JE,QE,ZE],"svg");function K0(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function eT(e){return e.join(" ").trim()}var $o={},Im,X0;function Z4(){if(X0)return Im;X0=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,r=/^[;\s]*/,a=/^\s+|\s+$/g,c=`
`,u="/",d="*",m="",f="comment",h="declaration";Im=function(g,v){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];v=v||{};var x=1,E=1;function N(P){var j=P.match(t);j&&(x+=j.length);var R=P.lastIndexOf(c);E=~R?P.length-R:E+P.length}function D(){var P={line:x,column:E};return function(j){return j.position=new w(P),_(),j}}function w(P){this.start=P,this.end={line:x,column:E},this.source=v.source}w.prototype.content=g;function T(P){var j=new Error(v.source+":"+x+":"+E+": "+P);if(j.reason=P,j.filename=v.source,j.line=x,j.column=E,j.source=g,!v.silent)throw j}function M(P){var j=P.exec(g);if(j){var R=j[0];return N(R),g=g.slice(R.length),j}}function _(){M(n)}function C(P){var j;for(P=P||[];j=k();)j!==!1&&P.push(j);return P}function k(){var P=D();if(!(u!=g.charAt(0)||d!=g.charAt(1))){for(var j=2;m!=g.charAt(j)&&(d!=g.charAt(j)||u!=g.charAt(j+1));)++j;if(j+=2,m===g.charAt(j-1))return T("End of comment missing");var R=g.slice(2,j-2);return E+=2,N(R),g=g.slice(j),E+=2,P({type:f,comment:R})}}function L(){var P=D(),j=M(s);if(j){if(k(),!M(i))return T("property missing ':'");var R=M(o),U=P({type:h,property:p(j[0].replace(e,m)),value:R?p(R[0].replace(e,m)):m});return M(r),U}}function B(){var P=[];C(P);for(var j;j=L();)j!==!1&&(P.push(j),C(P));return P}return _(),B()};function p(g){return g?g.replace(a,m):m}return Im}var J0;function eL(){if(J0)return $o;J0=1;var e=$o&&$o.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($o,"__esModule",{value:!0}),$o.default=n;var t=e(Z4());function n(s,i){var o=null;if(!s||typeof s!="string")return o;var r=(0,t.default)(s),a=typeof i=="function";return r.forEach(function(c){if(c.type==="declaration"){var u=c.property,d=c.value;a?i(u,d,c):d&&(o=o||{},o[u]=d)}}),o}return $o}var ba={},Q0;function tL(){if(Q0)return ba;Q0=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},r=function(u,d){return d.toUpperCase()},a=function(u,d){return"".concat(d,"-")},c=function(u,d){return d===void 0&&(d={}),o(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(i,a):u=u.replace(s,a),u.replace(t,r))};return ba.camelCase=c,ba}var va,Z0;function nL(){if(Z0)return va;Z0=1;var e=va&&va.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(eL()),n=tL();function s(i,o){var r={};return!i||typeof i!="string"||(0,t.default)(i,function(a,c){a&&c&&(r[(0,n.camelCase)(a,o)]=c)}),r}return s.default=s,va=s,va}var sL=nL();const iL=Lr(sL),_d=tT("end"),Vs=tT("start");function tT(e){return t;function t(n){const s=n&&n.position&&n.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function oL(e){const t=Vs(e),n=_d(e);if(t&&n)return{start:t,end:n}}function Ka(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ex(e.position):"start"in e||"end"in e?ex(e):"line"in e||"column"in e?Mh(e):""}function Mh(e){return tx(e&&e.line)+":"+tx(e&&e.column)}function ex(e){return Mh(e&&e.start)+"-"+Mh(e&&e.end)}function tx(e){return e&&typeof e=="number"?e:1}class on extends Error{constructor(t,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let i="",o={},r=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(r=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?o.ruleId=s:(o.source=s.slice(0,c),o.ruleId=s.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Ka(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=r&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}on.prototype.file="";on.prototype.name="";on.prototype.reason="";on.prototype.message="";on.prototype.stack="";on.prototype.column=void 0;on.prototype.line=void 0;on.prototype.ancestors=void 0;on.prototype.cause=void 0;on.prototype.fatal=void 0;on.prototype.place=void 0;on.prototype.ruleId=void 0;on.prototype.source=void 0;const Ag={}.hasOwnProperty,rL=new Map,aL=/[A-Z]/g,lL=new Set(["table","tbody","thead","tfoot","tr"]),cL=new Set(["td","th"]),nT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uL(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=vL(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=bL(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Xr:Sd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=sT(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function sT(e,t,n){if(t.type==="element")return dL(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mL(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return hL(e,t,n);if(t.type==="mdxjsEsm")return fL(e,t);if(t.type==="root")return pL(e,t,n);if(t.type==="text")return gL(e,t)}function dL(e,t,n){const s=e.schema;let i=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=Xr,e.schema=i),e.ancestors.push(t);const o=oT(e,t.tagName,!1),r=xL(e,t);let a=Ig(e,t);return lL.has(t.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!z4(c):!0})),iT(e,r,o,t),jg(r,a),e.ancestors.pop(),e.schema=s,e.create(t,o,r,n)}function mL(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return W(s.type==="ExpressionStatement"),e.evaluater.evaluateExpression(s.expression)}Ml(e,t.position)}function fL(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ml(e,t.position)}function hL(e,t,n){const s=e.schema;let i=s;t.name==="svg"&&s.space==="html"&&(i=Xr,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:oT(e,t.name,!0),r=NL(e,t),a=Ig(e,t);return iT(e,r,o,t),jg(r,a),e.ancestors.pop(),e.schema=s,e.create(t,o,r,n)}function pL(e,t,n){const s={};return jg(s,Ig(e,t)),e.create(t,e.Fragment,s,n)}function gL(e,t){return t.value}function iT(e,t,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=s)}function jg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function bL(e,t,n){return s;function s(i,o,r,a){const u=Array.isArray(r.children)?n:t;return a?u(o,r,a):u(o,r)}}function vL(e,t){return n;function n(s,i,o,r){const a=Array.isArray(o.children),c=Vs(s);return t(i,o,r,a,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function xL(e,t){const n={};let s,i;for(i in t.properties)if(i!=="children"&&Ag.call(t.properties,i)){const o=yL(e,i,t.properties[i]);if(o){const[r,a]=o;e.tableCellAlignToStyle&&r==="align"&&typeof a=="string"&&cL.has(t.tagName)?s=a:n[r]=a}}if(s){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function NL(e,t){const n={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const o=s.data.estree.body[0];W(o.type==="ExpressionStatement");const r=o.expression;W(r.type==="ObjectExpression");const a=r.properties[0];W(a.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Ml(e,t.position);else{const i=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const a=s.value.data.estree.body[0];W(a.type==="ExpressionStatement"),o=e.evaluater.evaluateExpression(a.expression)}else Ml(e,t.position);else o=s.value===null?!0:s.value;n[i]=o}return n}function Ig(e,t){const n=[];let s=-1;const i=e.passKeys?new Map:rL;for(;++s<t.children.length;){const o=t.children[s];let r;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const u=i.get(c)||0;r=c+"-"+u,i.set(c,u+1)}}const a=sT(e,o,r);a!==void 0&&n.push(a)}return n}function yL(e,t,n){const s=Pg(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?qE(n):eT(n)),s.property==="style"){let i=typeof n=="object"?n:wL(e,String(n));return e.stylePropertyNameCase==="css"&&(i=DL(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&s.space?Y4[s.property]||s.property:s.attribute,n]}}function wL(e,t){try{return iL(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,i=new on("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=nT+"#cannot-parse-style-attribute",i}}function oT(e,t,n){let s;if(!n)s={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,r;for(;++o<i.length;){const a=W0(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};r=r?{type:"MemberExpression",object:r,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}W(r,"always a result"),s=r}else s=W0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const i=s.value;return Ag.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(s);Ml(e)}function Ml(e,t){const n=new on("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=nT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function DL(e){const t={};let n;for(n in e)Ag.call(e,n)&&(t[EL(n)]=e[n]);return t}function EL(e){let t=e.replace(aL,TL);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TL(e){return"-"+e.toLowerCase()}const Rm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},SL={};function Rg(e,t){const n=SL,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rT(e,s,i)}function rT(e,t,n){if(_L(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return nx(e.children,t,n)}return Array.isArray(e)?nx(e,t,n):""}function nx(e,t,n){const s=[];let i=-1;for(;++i<e.length;)s[i]=rT(e[i],t,n);return s.join("")}function _L(e){return!!(e&&typeof e=="object")}const sx=document.createElement("i");function Vg(e){const t="&"+e+";";sx.innerHTML=t;const n=sx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const S={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseH:72,uppercaseW:87,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseH:104,lowercaseW:119,lowercaseX:120,leftCurlyBrace:123,verticalBar:124,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},ve={attentionSideAfter:2,atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},A={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},ys={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:""};function In(e,t,n,s){const i=e.length;let o=0,r;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,s.length<ve.v8MaxSafeChunkSize)r=Array.from(s),r.unshift(t,n),e.splice(...r);else for(n&&e.splice(t,n);o<s.length;)r=s.slice(o,o+ve.v8MaxSafeChunkSize),r.unshift(t,0),e.splice(...r),o+=ve.v8MaxSafeChunkSize,t+=ve.v8MaxSafeChunkSize}function Un(e,t){return e.length>0?(In(e,e.length,0,t),e):t}const ix={}.hasOwnProperty;function aT(e){const t={};let n=-1;for(;++n<e.length;)kL(t,e[n]);return t}function kL(e,t){let n;for(n in t){const i=(ix.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let r;if(o)for(r in o){ix.call(i,r)||(i[r]=[]);const a=o[r];ML(i[r],Array.isArray(a)?a:a?[a]:[])}}}function ML(e,t){let n=-1;const s=[];for(;++n<t.length;)(t[n].add==="after"?e:s).push(t[n]);In(e,0,0,s)}function lT(e,t){const n=Number.parseInt(e,t);return n<S.ht||n===S.vt||n>S.cr&&n<S.space||n>S.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?ys.replacementCharacter:String.fromCodePoint(n)}function rs(e){return e.replace(/[\t\n\r ]+/g,ys.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const un=Vi(/[A-Za-z]/),nn=Vi(/[\dA-Za-z]/),CL=Vi(/[#-'*+\--9=?A-Z^-~]/);function Bu(e){return e!==null&&(e<S.space||e===S.del)}const Ch=Vi(/\d/),PL=Vi(/[\dA-Fa-f]/),AL=Vi(/[!-/:-@[-`{-~]/);function De(e){return e!==null&&e<S.horizontalTab}function at(e){return e!==null&&(e<S.nul||e===S.space)}function Ue(e){return e===S.horizontalTab||e===S.virtualSpace||e===S.space}const kd=Vi(new RegExp("\\p{P}|\\p{S}","u")),Do=Vi(/\s/);function Vi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Jr(e){const t=[];let n=-1,s=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let r="";if(o===S.percentSign&&nn(e.charCodeAt(n+1))&&nn(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(r=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(r=String.fromCharCode(o,a),i=1):r=ys.replacementCharacter}else r=String.fromCharCode(o);r&&(t.push(e.slice(s,n),encodeURIComponent(r)),s=n+i+1,r=""),i&&(n+=i,i=0)}return t.join("")+e.slice(s)}function Xe(e,t,n,s){const i=s?s-1:Number.POSITIVE_INFINITY;let o=0;return r;function r(c){return Ue(c)?(e.enter(n),a(c)):t(c)}function a(c){return Ue(c)&&o++<i?(e.consume(c),a):(e.exit(n),t(c))}}const jL={tokenize:IL};function IL(e){const t=e.attempt(this.parser.constructs.contentInitial,s,i);let n;return t;function s(a){if(W(a===S.eof||De(a),"expected eol or eof"),a===S.eof){e.consume(a);return}return e.enter(A.lineEnding),e.consume(a),e.exit(A.lineEnding),Xe(e,t,A.linePrefix)}function i(a){return W(a!==S.eof&&!De(a),"expected anything other than a line ending or EOF"),e.enter(A.paragraph),o(a)}function o(a){const c=e.enter(A.chunkText,{contentType:ve.contentTypeText,previous:n});return n&&(n.next=c),n=c,r(a)}function r(a){if(a===S.eof){e.exit(A.chunkText),e.exit(A.paragraph),e.consume(a);return}return De(a)?(e.consume(a),e.exit(A.chunkText),o):(e.consume(a),r)}}const RL={tokenize:VL},ox={tokenize:OL};function VL(e){const t=this,n=[];let s=0,i,o,r;return a;function a(N){if(s<n.length){const D=n[s];return t.containerState=D[1],W(D[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(D[0].continuation,c,u)(N)}return u(N)}function c(N){if(W(t.containerState,"expected `containerState` to be defined after continuation"),s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const D=t.events.length;let w=D,T;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type===A.chunkFlow){T=t.events[w][1].end;break}W(T,"could not find previous flow chunk"),x(s);let M=D;for(;M<t.events.length;)t.events[M][1].end={...T},M++;return In(t.events,w+1,0,t.events.slice(D)),t.events.length=M,u(N)}return a(N)}function u(N){if(s===n.length){if(!i)return f(N);if(i.currentConstruct&&i.currentConstruct.concrete)return p(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ox,d,m)(N)}function d(N){return i&&E(),x(s),f(N)}function m(N){return t.parser.lazy[t.now().line]=s!==n.length,r=t.now().offset,p(N)}function f(N){return t.containerState={},e.attempt(ox,h,p)(N)}function h(N){return W(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),W(t.containerState,"expected `containerState` to be defined on tokenizer"),s++,n.push([t.currentConstruct,t.containerState]),f(N)}function p(N){if(N===S.eof){i&&E(),x(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter(A.chunkFlow,{_tokenizer:i,contentType:ve.contentTypeFlow,previous:o}),g(N)}function g(N){if(N===S.eof){v(e.exit(A.chunkFlow),!0),x(0),e.consume(N);return}return De(N)?(e.consume(N),v(e.exit(A.chunkFlow)),s=0,t.interrupt=void 0,a):(e.consume(N),g)}function v(N,D){W(i,"expected `childFlow` to be defined when continuing");const w=t.sliceStream(N);if(D&&w.push(null),N.previous=o,o&&(o.next=N),o=N,i.defineSkip(N.start),i.write(w),t.parser.lazy[N.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<r&&(!i.events[T][1].end||i.events[T][1].end.offset>r))return;const M=t.events.length;let _=M,C,k;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type===A.chunkFlow){if(C){k=t.events[_][1].end;break}C=!0}for(W(k,"could not find previous flow chunk"),x(s),T=M;T<t.events.length;)t.events[T][1].end={...k},T++;In(t.events,_+1,0,t.events.slice(M)),t.events.length=T}}function x(N){let D=n.length;for(;D-- >N;){const w=n[D];t.containerState=w[1],W(w[0].exit,"expected `exit` to be defined on container construct"),w[0].exit.call(t,e)}n.length=N}function E(){W(t.containerState,"expected `containerState` to be defined when closing flow"),W(i,"expected `childFlow` to be defined when closing it"),i.write([S.eof]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function OL(e,t,n){return W(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,e.attempt(this.parser.constructs.document,t,n),A.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize)}function Mr(e){if(e===S.eof||at(e)||Do(e))return ve.characterGroupWhitespace;if(kd(e))return ve.characterGroupPunctuation}function Md(e,t,n){const s=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!s.includes(o)&&(t=o(t,n),s.push(o))}return t}const Ph={name:"attention",resolveAll:LL,tokenize:FL};function LL(e,t){let n=-1,s,i,o,r,a,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(s=n;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&t.sliceSerialize(e[s][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[s][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[s][1].end.offset-e[s][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[s][1].end},f={...e[n][1].start};rx(m,-c),rx(f,c),r={type:c>1?A.strongSequence:A.emphasisSequence,start:m,end:{...e[s][1].end}},a={type:c>1?A.strongSequence:A.emphasisSequence,start:{...e[n][1].start},end:f},o={type:c>1?A.strongText:A.emphasisText,start:{...e[s][1].end},end:{...e[n][1].start}},i={type:c>1?A.strong:A.emphasis,start:{...r.start},end:{...a.end}},e[s][1].end={...r.start},e[n][1].start={...a.end},u=[],e[s][1].end.offset-e[s][1].start.offset&&(u=Un(u,[["enter",e[s][1],t],["exit",e[s][1],t]])),u=Un(u,[["enter",i,t],["enter",r,t],["exit",r,t],["enter",o,t]]),W(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),u=Un(u,Md(t.parser.constructs.insideSpan.null,e.slice(s+1,n),t)),u=Un(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Un(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,In(e,s-1,n-s+3,u),n=s+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function FL(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,i=Mr(s);let o;return r;function r(c){return W(c===S.asterisk||c===S.underscore,"expected asterisk or underscore"),o=c,e.enter("attentionSequence"),a(c)}function a(c){if(c===o)return e.consume(c),a;const u=e.exit("attentionSequence"),d=Mr(c);W(n,"expected `attentionMarkers` to be populated");const m=!d||d===ve.characterGroupPunctuation&&i||n.includes(c),f=!i||i===ve.characterGroupPunctuation&&d||n.includes(s);return u._open=!!(o===S.asterisk?m:m&&(i||!f)),u._close=!!(o===S.asterisk?f:f&&(d||!m)),t(c)}}function rx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const BL={name:"autolink",tokenize:HL};function HL(e,t,n){let s=0;return i;function i(h){return W(h===S.lessThan,"expected `<`"),e.enter(A.autolink),e.enter(A.autolinkMarker),e.consume(h),e.exit(A.autolinkMarker),e.enter(A.autolinkProtocol),o}function o(h){return un(h)?(e.consume(h),r):h===S.atSign?n(h):u(h)}function r(h){return h===S.plusSign||h===S.dash||h===S.dot||nn(h)?(s=1,a(h)):u(h)}function a(h){return h===S.colon?(e.consume(h),s=0,c):(h===S.plusSign||h===S.dash||h===S.dot||nn(h))&&s++<ve.autolinkSchemeSizeMax?(e.consume(h),a):(s=0,u(h))}function c(h){return h===S.greaterThan?(e.exit(A.autolinkProtocol),e.enter(A.autolinkMarker),e.consume(h),e.exit(A.autolinkMarker),e.exit(A.autolink),t):h===S.eof||h===S.space||h===S.lessThan||Bu(h)?n(h):(e.consume(h),c)}function u(h){return h===S.atSign?(e.consume(h),d):CL(h)?(e.consume(h),u):n(h)}function d(h){return nn(h)?m(h):n(h)}function m(h){return h===S.dot?(e.consume(h),s=0,d):h===S.greaterThan?(e.exit(A.autolinkProtocol).type=A.autolinkEmail,e.enter(A.autolinkMarker),e.consume(h),e.exit(A.autolinkMarker),e.exit(A.autolink),t):f(h)}function f(h){if((h===S.dash||nn(h))&&s++<ve.autolinkDomainSizeMax){const p=h===S.dash?f:m;return e.consume(h),p}return n(h)}}const Ql={partial:!0,tokenize:UL};function UL(e,t,n){return s;function s(o){return Ue(o)?Xe(e,i,A.linePrefix)(o):i(o)}function i(o){return o===S.eof||De(o)?t(o):n(o)}}const cT={continuation:{tokenize:zL},exit:WL,name:"blockQuote",tokenize:$L};function $L(e,t,n){const s=this;return i;function i(r){if(r===S.greaterThan){const a=s.containerState;return W(a,"expected `containerState` to be defined in container"),a.open||(e.enter(A.blockQuote,{_container:!0}),a.open=!0),e.enter(A.blockQuotePrefix),e.enter(A.blockQuoteMarker),e.consume(r),e.exit(A.blockQuoteMarker),o}return n(r)}function o(r){return Ue(r)?(e.enter(A.blockQuotePrefixWhitespace),e.consume(r),e.exit(A.blockQuotePrefixWhitespace),e.exit(A.blockQuotePrefix),t):(e.exit(A.blockQuotePrefix),t(r))}}function zL(e,t,n){const s=this;return i;function i(r){return Ue(r)?(W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,o,A.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize)(r)):o(r)}function o(r){return e.attempt(cT,t,n)(r)}}function WL(e){e.exit(A.blockQuote)}const uT={name:"characterEscape",tokenize:qL};function qL(e,t,n){return s;function s(o){return W(o===S.backslash,"expected `\\`"),e.enter(A.characterEscape),e.enter(A.escapeMarker),e.consume(o),e.exit(A.escapeMarker),i}function i(o){return AL(o)?(e.enter(A.characterEscapeValue),e.consume(o),e.exit(A.characterEscapeValue),e.exit(A.characterEscape),t):n(o)}}const dT={name:"characterReference",tokenize:GL};function GL(e,t,n){const s=this;let i=0,o,r;return a;function a(m){return W(m===S.ampersand,"expected `&`"),e.enter(A.characterReference),e.enter(A.characterReferenceMarker),e.consume(m),e.exit(A.characterReferenceMarker),c}function c(m){return m===S.numberSign?(e.enter(A.characterReferenceMarkerNumeric),e.consume(m),e.exit(A.characterReferenceMarkerNumeric),u):(e.enter(A.characterReferenceValue),o=ve.characterReferenceNamedSizeMax,r=nn,d(m))}function u(m){return m===S.uppercaseX||m===S.lowercaseX?(e.enter(A.characterReferenceMarkerHexadecimal),e.consume(m),e.exit(A.characterReferenceMarkerHexadecimal),e.enter(A.characterReferenceValue),o=ve.characterReferenceHexadecimalSizeMax,r=PL,d):(e.enter(A.characterReferenceValue),o=ve.characterReferenceDecimalSizeMax,r=Ch,d(m))}function d(m){if(m===S.semicolon&&i){const f=e.exit(A.characterReferenceValue);return r===nn&&!Vg(s.sliceSerialize(f))?n(m):(e.enter(A.characterReferenceMarker),e.consume(m),e.exit(A.characterReferenceMarker),e.exit(A.characterReference),t)}return r(m)&&i++<o?(e.consume(m),d):n(m)}}const ax={partial:!0,tokenize:KL},lx={concrete:!0,name:"codeFenced",tokenize:YL};function YL(e,t,n){const s=this,i={partial:!0,tokenize:w};let o=0,r=0,a;return c;function c(T){return u(T)}function u(T){W(T===S.graveAccent||T===S.tilde,"expected `` ` `` or `~`");const M=s.events[s.events.length-1];return o=M&&M[1].type===A.linePrefix?M[2].sliceSerialize(M[1],!0).length:0,a=T,e.enter(A.codeFenced),e.enter(A.codeFencedFence),e.enter(A.codeFencedFenceSequence),d(T)}function d(T){return T===a?(r++,e.consume(T),d):r<ve.codeFencedSequenceSizeMin?n(T):(e.exit(A.codeFencedFenceSequence),Ue(T)?Xe(e,m,A.whitespace)(T):m(T))}function m(T){return T===S.eof||De(T)?(e.exit(A.codeFencedFence),s.interrupt?t(T):e.check(ax,g,D)(T)):(e.enter(A.codeFencedFenceInfo),e.enter(A.chunkString,{contentType:ve.contentTypeString}),f(T))}function f(T){return T===S.eof||De(T)?(e.exit(A.chunkString),e.exit(A.codeFencedFenceInfo),m(T)):Ue(T)?(e.exit(A.chunkString),e.exit(A.codeFencedFenceInfo),Xe(e,h,A.whitespace)(T)):T===S.graveAccent&&T===a?n(T):(e.consume(T),f)}function h(T){return T===S.eof||De(T)?m(T):(e.enter(A.codeFencedFenceMeta),e.enter(A.chunkString,{contentType:ve.contentTypeString}),p(T))}function p(T){return T===S.eof||De(T)?(e.exit(A.chunkString),e.exit(A.codeFencedFenceMeta),m(T)):T===S.graveAccent&&T===a?n(T):(e.consume(T),p)}function g(T){return W(De(T),"expected eol"),e.attempt(i,D,v)(T)}function v(T){return W(De(T),"expected eol"),e.enter(A.lineEnding),e.consume(T),e.exit(A.lineEnding),x}function x(T){return o>0&&Ue(T)?Xe(e,E,A.linePrefix,o+1)(T):E(T)}function E(T){return T===S.eof||De(T)?e.check(ax,g,D)(T):(e.enter(A.codeFlowValue),N(T))}function N(T){return T===S.eof||De(T)?(e.exit(A.codeFlowValue),E(T)):(e.consume(T),N)}function D(T){return e.exit(A.codeFenced),t(T)}function w(T,M,_){let C=0;return k;function k(R){return W(De(R),"expected eol"),T.enter(A.lineEnding),T.consume(R),T.exit(A.lineEnding),L}function L(R){return W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),T.enter(A.codeFencedFence),Ue(R)?Xe(T,B,A.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize)(R):B(R)}function B(R){return R===a?(T.enter(A.codeFencedFenceSequence),P(R)):_(R)}function P(R){return R===a?(C++,T.consume(R),P):C>=r?(T.exit(A.codeFencedFenceSequence),Ue(R)?Xe(T,j,A.whitespace)(R):j(R)):_(R)}function j(R){return R===S.eof||De(R)?(T.exit(A.codeFencedFence),M(R)):_(R)}}}function KL(e,t,n){const s=this;return i;function i(r){return r===S.eof?n(r):(W(De(r),"expected eol"),e.enter(A.lineEnding),e.consume(r),e.exit(A.lineEnding),o)}function o(r){return s.parser.lazy[s.now().line]?n(r):t(r)}}const Vm={name:"codeIndented",tokenize:JL},XL={partial:!0,tokenize:QL};function JL(e,t,n){const s=this;return i;function i(u){return W(Ue(u)),e.enter(A.codeIndented),Xe(e,o,A.linePrefix,ve.tabSize+1)(u)}function o(u){const d=s.events[s.events.length-1];return d&&d[1].type===A.linePrefix&&d[2].sliceSerialize(d[1],!0).length>=ve.tabSize?r(u):n(u)}function r(u){return u===S.eof?c(u):De(u)?e.attempt(XL,r,c)(u):(e.enter(A.codeFlowValue),a(u))}function a(u){return u===S.eof||De(u)?(e.exit(A.codeFlowValue),r(u)):(e.consume(u),a)}function c(u){return e.exit(A.codeIndented),t(u)}}function QL(e,t,n){const s=this;return i;function i(r){return s.parser.lazy[s.now().line]?n(r):De(r)?(e.enter(A.lineEnding),e.consume(r),e.exit(A.lineEnding),i):Xe(e,o,A.linePrefix,ve.tabSize+1)(r)}function o(r){const a=s.events[s.events.length-1];return a&&a[1].type===A.linePrefix&&a[2].sliceSerialize(a[1],!0).length>=ve.tabSize?t(r):De(r)?i(r):n(r)}}const ZL={name:"codeText",previous:mT,resolve:eF,tokenize:tF};function eF(e){let t=e.length-4,n=3,s,i;if((e[n][1].type===A.lineEnding||e[n][1].type==="space")&&(e[t][1].type===A.lineEnding||e[t][1].type==="space")){for(s=n;++s<t;)if(e[s][1].type===A.codeTextData){e[n][1].type=A.codeTextPadding,e[t][1].type=A.codeTextPadding,n+=2,t-=2;break}}for(s=n-1,t++;++s<=t;)i===void 0?s!==t&&e[s][1].type!==A.lineEnding&&(i=s):(s===t||e[s][1].type===A.lineEnding)&&(e[i][1].type=A.codeTextData,s!==i+2&&(e[i][1].end=e[s-1][1].end,e.splice(i+2,s-i-2),t-=s-i-2,s=i+2),i=void 0);return e}function mT(e){return e!==S.graveAccent||this.events[this.events.length-1][1].type===A.characterEscape}function tF(e,t,n){const s=this;let i=0,o,r;return a;function a(f){return W(f===S.graveAccent,"expected `` ` ``"),W(mT.call(s,s.previous),"expected correct previous"),e.enter(A.codeText),e.enter(A.codeTextSequence),c(f)}function c(f){return f===S.graveAccent?(e.consume(f),i++,c):(e.exit(A.codeTextSequence),u(f))}function u(f){return f===S.eof?n(f):f===S.space?(e.enter("space"),e.consume(f),e.exit("space"),u):f===S.graveAccent?(r=e.enter(A.codeTextSequence),o=0,m(f)):De(f)?(e.enter(A.lineEnding),e.consume(f),e.exit(A.lineEnding),u):(e.enter(A.codeTextData),d(f))}function d(f){return f===S.eof||f===S.space||f===S.graveAccent||De(f)?(e.exit(A.codeTextData),u(f)):(e.consume(f),d)}function m(f){return f===S.graveAccent?(e.consume(f),o++,m):o===i?(e.exit(A.codeTextSequence),e.exit(A.codeText),t(f)):(r.type=A.codeTextData,d(f))}}class nF{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,n,s){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return s&&xa(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),xa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),xa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);xa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);xa(this.left,n.reverse())}}}function xa(e,t){let n=0;if(t.length<ve.v8MaxSafeChunkSize)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+ve.v8MaxSafeChunkSize)),n+=ve.v8MaxSafeChunkSize}function fT(e){const t={};let n=-1,s,i,o,r,a,c,u;const d=new nF(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(s=d.get(n),n&&s[1].type===A.chunkFlow&&d.get(n-1)[1].type===A.listItemPrefix&&(W(s[1]._tokenizer,"expected `_tokenizer` on subtokens"),c=s[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type===A.lineEndingBlank&&(o+=2),o<c.length&&c[o][1].type===A.content))for(;++o<c.length&&c[o][1].type!==A.content;)c[o][1].type===A.chunkText&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,sF(d,n)),n=t[n],u=!0);else if(s[1]._container){for(o=n,i=void 0;o--;)if(r=d.get(o),r[1].type===A.lineEnding||r[1].type===A.lineEndingBlank)r[0]==="enter"&&(i&&(d.get(i)[1].type=A.lineEndingBlank),r[1].type=A.lineEnding,i=o);else if(!(r[1].type===A.linePrefix||r[1].type===A.listItemIndent))break;i&&(s[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(s),d.splice(i,n-i+1,a))}}return In(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function sF(e,t){const n=e.get(t)[1],s=e.get(t)[2];let i=t-1;const o=[];W(n.contentType,"expected `contentType` on subtokens");let r=n._tokenizer;r||(r=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(r._contentTypeTextTrailing=!0));const a=r.events,c=[],u={};let d,m,f=-1,h=n,p=0,g=0;const v=[g];for(;h;){for(;e.get(++i)[1]!==h;);W(!m||h.previous===m,"expected previous to match"),W(!m||m.next===h,"expected next to match"),o.push(i),h._tokenizer||(d=s.sliceStream(h),h.next||d.push(S.eof),m&&r.defineSkip(h.start),h._isInFirstContentOfListItem&&(r._gfmTasklistFirstContentOfListItem=!0),r.write(d),h._isInFirstContentOfListItem&&(r._gfmTasklistFirstContentOfListItem=void 0)),m=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(W(h,"expected a current token"),g=f+1,v.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(r.events=[],h?(h._tokenizer=void 0,h.previous=void 0,W(!h.next,"expected no next token")):v.pop(),f=v.length;f--;){const x=a.slice(v[f],v[f+1]),E=o.pop();W(E!==void 0,"expected a start position when splicing"),c.push([E,E+x.length-1]),e.splice(E,2,x)}for(c.reverse(),f=-1;++f<c.length;)u[p+c[f][0]]=p+c[f][1],p+=c[f][1]-c[f][0]-1;return u}const iF={resolve:rF,tokenize:aF},oF={partial:!0,tokenize:lF};function rF(e){return fT(e),e}function aF(e,t){let n;return s;function s(a){return W(a!==S.eof&&!De(a),"expected no eof or eol"),e.enter(A.content),n=e.enter(A.chunkContent,{contentType:ve.contentTypeContent}),i(a)}function i(a){return a===S.eof?o(a):De(a)?e.check(oF,r,o)(a):(e.consume(a),i)}function o(a){return e.exit(A.chunkContent),e.exit(A.content),t(a)}function r(a){return W(De(a),"expected eol"),e.consume(a),e.exit(A.chunkContent),W(n,"expected previous token"),n.next=e.enter(A.chunkContent,{contentType:ve.contentTypeContent,previous:n}),n=n.next,i}}function lF(e,t,n){const s=this;return i;function i(r){return W(De(r),"expected a line ending"),e.exit(A.chunkContent),e.enter(A.lineEnding),e.consume(r),e.exit(A.lineEnding),Xe(e,o,A.linePrefix)}function o(r){if(r===S.eof||De(r))return n(r);W(s.parser.constructs.disable.null,"expected `disable.null` to be populated");const a=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type===A.linePrefix&&a[2].sliceSerialize(a[1],!0).length>=ve.tabSize?t(r):e.interrupt(s.parser.constructs.flow,n,t)(r)}}function hT(e,t,n,s,i,o,r,a,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(x){return x===S.lessThan?(e.enter(s),e.enter(i),e.enter(o),e.consume(x),e.exit(o),f):x===S.eof||x===S.space||x===S.rightParenthesis||Bu(x)?n(x):(e.enter(s),e.enter(r),e.enter(a),e.enter(A.chunkString,{contentType:ve.contentTypeString}),g(x))}function f(x){return x===S.greaterThan?(e.enter(o),e.consume(x),e.exit(o),e.exit(i),e.exit(s),t):(e.enter(a),e.enter(A.chunkString,{contentType:ve.contentTypeString}),h(x))}function h(x){return x===S.greaterThan?(e.exit(A.chunkString),e.exit(a),f(x)):x===S.eof||x===S.lessThan||De(x)?n(x):(e.consume(x),x===S.backslash?p:h)}function p(x){return x===S.lessThan||x===S.greaterThan||x===S.backslash?(e.consume(x),h):h(x)}function g(x){return!d&&(x===S.eof||x===S.rightParenthesis||at(x))?(e.exit(A.chunkString),e.exit(a),e.exit(r),e.exit(s),t(x)):d<u&&x===S.leftParenthesis?(e.consume(x),d++,g):x===S.rightParenthesis?(e.consume(x),d--,g):x===S.eof||x===S.space||x===S.leftParenthesis||Bu(x)?n(x):(e.consume(x),x===S.backslash?v:g)}function v(x){return x===S.leftParenthesis||x===S.rightParenthesis||x===S.backslash?(e.consume(x),g):g(x)}}function pT(e,t,n,s,i,o){const r=this;let a=0,c;return u;function u(h){return W(h===S.leftSquareBracket,"expected `[`"),e.enter(s),e.enter(i),e.consume(h),e.exit(i),e.enter(o),d}function d(h){return a>ve.linkReferenceSizeMax||h===S.eof||h===S.leftSquareBracket||h===S.rightSquareBracket&&!c||h===S.caret&&!a&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):h===S.rightSquareBracket?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(s),t):De(h)?(e.enter(A.lineEnding),e.consume(h),e.exit(A.lineEnding),d):(e.enter(A.chunkString,{contentType:ve.contentTypeString}),m(h))}function m(h){return h===S.eof||h===S.leftSquareBracket||h===S.rightSquareBracket||De(h)||a++>ve.linkReferenceSizeMax?(e.exit(A.chunkString),d(h)):(e.consume(h),c||(c=!Ue(h)),h===S.backslash?f:m)}function f(h){return h===S.leftSquareBracket||h===S.backslash||h===S.rightSquareBracket?(e.consume(h),a++,m):m(h)}}function gT(e,t,n,s,i,o){let r;return a;function a(f){return f===S.quotationMark||f===S.apostrophe||f===S.leftParenthesis?(e.enter(s),e.enter(i),e.consume(f),e.exit(i),r=f===S.leftParenthesis?S.rightParenthesis:f,c):n(f)}function c(f){return f===r?(e.enter(i),e.consume(f),e.exit(i),e.exit(s),t):(e.enter(o),u(f))}function u(f){return f===r?(e.exit(o),c(r)):f===S.eof?n(f):De(f)?(e.enter(A.lineEnding),e.consume(f),e.exit(A.lineEnding),Xe(e,u,A.linePrefix)):(e.enter(A.chunkString,{contentType:ve.contentTypeString}),d(f))}function d(f){return f===r||f===S.eof||De(f)?(e.exit(A.chunkString),u(f)):(e.consume(f),f===S.backslash?m:d)}function m(f){return f===r||f===S.backslash?(e.consume(f),d):d(f)}}function Xa(e,t){let n;return s;function s(i){return De(i)?(e.enter(A.lineEnding),e.consume(i),e.exit(A.lineEnding),n=!0,s):Ue(i)?Xe(e,s,n?A.linePrefix:A.lineSuffix)(i):t(i)}}const cF={name:"definition",tokenize:dF},uF={partial:!0,tokenize:mF};function dF(e,t,n){const s=this;let i;return o;function o(h){return e.enter(A.definition),r(h)}function r(h){return W(h===S.leftSquareBracket,"expected `[`"),pT.call(s,e,a,n,A.definitionLabel,A.definitionLabelMarker,A.definitionLabelString)(h)}function a(h){return i=rs(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),h===S.colon?(e.enter(A.definitionMarker),e.consume(h),e.exit(A.definitionMarker),c):n(h)}function c(h){return at(h)?Xa(e,u)(h):u(h)}function u(h){return hT(e,d,n,A.definitionDestination,A.definitionDestinationLiteral,A.definitionDestinationLiteralMarker,A.definitionDestinationRaw,A.definitionDestinationString)(h)}function d(h){return e.attempt(uF,m,m)(h)}function m(h){return Ue(h)?Xe(e,f,A.whitespace)(h):f(h)}function f(h){return h===S.eof||De(h)?(e.exit(A.definition),s.parser.defined.push(i),t(h)):n(h)}}function mF(e,t,n){return s;function s(a){return at(a)?Xa(e,i)(a):n(a)}function i(a){return gT(e,o,n,A.definitionTitle,A.definitionTitleMarker,A.definitionTitleString)(a)}function o(a){return Ue(a)?Xe(e,r,A.whitespace)(a):r(a)}function r(a){return a===S.eof||De(a)?t(a):n(a)}}const fF={name:"hardBreakEscape",tokenize:hF};function hF(e,t,n){return s;function s(o){return W(o===S.backslash,"expected `\\`"),e.enter(A.hardBreakEscape),e.consume(o),i}function i(o){return De(o)?(e.exit(A.hardBreakEscape),t(o)):n(o)}}const pF={name:"headingAtx",resolve:gF,tokenize:bF};function gF(e,t){let n=e.length-2,s=3,i,o;return e[s][1].type===A.whitespace&&(s+=2),n-2>s&&e[n][1].type===A.whitespace&&(n-=2),e[n][1].type===A.atxHeadingSequence&&(s===n-1||n-4>s&&e[n-2][1].type===A.whitespace)&&(n-=s+1===n?2:4),n>s&&(i={type:A.atxHeadingText,start:e[s][1].start,end:e[n][1].end},o={type:A.chunkText,start:e[s][1].start,end:e[n][1].end,contentType:ve.contentTypeText},In(e,s,n-s+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function bF(e,t,n){let s=0;return i;function i(d){return e.enter(A.atxHeading),o(d)}function o(d){return W(d===S.numberSign,"expected `#`"),e.enter(A.atxHeadingSequence),r(d)}function r(d){return d===S.numberSign&&s++<ve.atxHeadingOpeningFenceSizeMax?(e.consume(d),r):d===S.eof||at(d)?(e.exit(A.atxHeadingSequence),a(d)):n(d)}function a(d){return d===S.numberSign?(e.enter(A.atxHeadingSequence),c(d)):d===S.eof||De(d)?(e.exit(A.atxHeading),t(d)):Ue(d)?Xe(e,a,A.whitespace)(d):(e.enter(A.atxHeadingText),u(d))}function c(d){return d===S.numberSign?(e.consume(d),c):(e.exit(A.atxHeadingSequence),a(d))}function u(d){return d===S.eof||d===S.numberSign||at(d)?(e.exit(A.atxHeadingText),a(d)):(e.consume(d),u)}}const vF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cx=["pre","script","style","textarea"],xF={concrete:!0,name:"htmlFlow",resolveTo:wF,tokenize:DF},NF={partial:!0,tokenize:TF},yF={partial:!0,tokenize:EF};function wF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type===A.htmlFlow););return t>1&&e[t-2][1].type===A.linePrefix&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function DF(e,t,n){const s=this;let i,o,r,a,c;return u;function u(O){return d(O)}function d(O){return W(O===S.lessThan,"expected `<`"),e.enter(A.htmlFlow),e.enter(A.htmlFlowData),e.consume(O),m}function m(O){return O===S.exclamationMark?(e.consume(O),f):O===S.slash?(e.consume(O),o=!0,g):O===S.questionMark?(e.consume(O),i=ve.htmlInstruction,s.interrupt?t:I):un(O)?(W(O!==null),e.consume(O),r=String.fromCharCode(O),v):n(O)}function f(O){return O===S.dash?(e.consume(O),i=ve.htmlComment,h):O===S.leftSquareBracket?(e.consume(O),i=ve.htmlCdata,a=0,p):un(O)?(e.consume(O),i=ve.htmlDeclaration,s.interrupt?t:I):n(O)}function h(O){return O===S.dash?(e.consume(O),s.interrupt?t:I):n(O)}function p(O){const ue=ve.cdataOpeningString;return O===ue.charCodeAt(a++)?(e.consume(O),a===ue.length?s.interrupt?t:B:p):n(O)}function g(O){return un(O)?(W(O!==null),e.consume(O),r=String.fromCharCode(O),v):n(O)}function v(O){if(O===S.eof||O===S.slash||O===S.greaterThan||at(O)){const ue=O===S.slash,ge=r.toLowerCase();return!ue&&!o&&cx.includes(ge)?(i=ve.htmlRaw,s.interrupt?t(O):B(O)):vF.includes(r.toLowerCase())?(i=ve.htmlBasic,ue?(e.consume(O),x):s.interrupt?t(O):B(O)):(i=ve.htmlComplete,s.interrupt&&!s.parser.lazy[s.now().line]?n(O):o?E(O):N(O))}return O===S.dash||nn(O)?(e.consume(O),r+=String.fromCharCode(O),v):n(O)}function x(O){return O===S.greaterThan?(e.consume(O),s.interrupt?t:B):n(O)}function E(O){return Ue(O)?(e.consume(O),E):k(O)}function N(O){return O===S.slash?(e.consume(O),k):O===S.colon||O===S.underscore||un(O)?(e.consume(O),D):Ue(O)?(e.consume(O),N):k(O)}function D(O){return O===S.dash||O===S.dot||O===S.colon||O===S.underscore||nn(O)?(e.consume(O),D):w(O)}function w(O){return O===S.equalsTo?(e.consume(O),T):Ue(O)?(e.consume(O),w):N(O)}function T(O){return O===S.eof||O===S.lessThan||O===S.equalsTo||O===S.greaterThan||O===S.graveAccent?n(O):O===S.quotationMark||O===S.apostrophe?(e.consume(O),c=O,M):Ue(O)?(e.consume(O),T):_(O)}function M(O){return O===c?(e.consume(O),c=null,C):O===S.eof||De(O)?n(O):(e.consume(O),M)}function _(O){return O===S.eof||O===S.quotationMark||O===S.apostrophe||O===S.slash||O===S.lessThan||O===S.equalsTo||O===S.greaterThan||O===S.graveAccent||at(O)?w(O):(e.consume(O),_)}function C(O){return O===S.slash||O===S.greaterThan||Ue(O)?N(O):n(O)}function k(O){return O===S.greaterThan?(e.consume(O),L):n(O)}function L(O){return O===S.eof||De(O)?B(O):Ue(O)?(e.consume(O),L):n(O)}function B(O){return O===S.dash&&i===ve.htmlComment?(e.consume(O),U):O===S.lessThan&&i===ve.htmlRaw?(e.consume(O),G):O===S.greaterThan&&i===ve.htmlDeclaration?(e.consume(O),oe):O===S.questionMark&&i===ve.htmlInstruction?(e.consume(O),I):O===S.rightSquareBracket&&i===ve.htmlCdata?(e.consume(O),Z):De(O)&&(i===ve.htmlBasic||i===ve.htmlComplete)?(e.exit(A.htmlFlowData),e.check(NF,be,P)(O)):O===S.eof||De(O)?(e.exit(A.htmlFlowData),P(O)):(e.consume(O),B)}function P(O){return e.check(yF,j,be)(O)}function j(O){return W(De(O)),e.enter(A.lineEnding),e.consume(O),e.exit(A.lineEnding),R}function R(O){return O===S.eof||De(O)?P(O):(e.enter(A.htmlFlowData),B(O))}function U(O){return O===S.dash?(e.consume(O),I):B(O)}function G(O){return O===S.slash?(e.consume(O),r="",$):B(O)}function $(O){if(O===S.greaterThan){const ue=r.toLowerCase();return cx.includes(ue)?(e.consume(O),oe):B(O)}return un(O)&&r.length<ve.htmlRawSizeMax?(W(O!==null),e.consume(O),r+=String.fromCharCode(O),$):B(O)}function Z(O){return O===S.rightSquareBracket?(e.consume(O),I):B(O)}function I(O){return O===S.greaterThan?(e.consume(O),oe):O===S.dash&&i===ve.htmlComment?(e.consume(O),I):B(O)}function oe(O){return O===S.eof||De(O)?(e.exit(A.htmlFlowData),be(O)):(e.consume(O),oe)}function be(O){return e.exit(A.htmlFlow),t(O)}}function EF(e,t,n){const s=this;return i;function i(r){return De(r)?(e.enter(A.lineEnding),e.consume(r),e.exit(A.lineEnding),o):n(r)}function o(r){return s.parser.lazy[s.now().line]?n(r):t(r)}}function TF(e,t,n){return s;function s(i){return W(De(i),"expected a line ending"),e.enter(A.lineEnding),e.consume(i),e.exit(A.lineEnding),e.attempt(Ql,t,n)}}const SF={name:"htmlText",tokenize:_F};function _F(e,t,n){const s=this;let i,o,r;return a;function a(I){return W(I===S.lessThan,"expected `<`"),e.enter(A.htmlText),e.enter(A.htmlTextData),e.consume(I),c}function c(I){return I===S.exclamationMark?(e.consume(I),u):I===S.slash?(e.consume(I),w):I===S.questionMark?(e.consume(I),N):un(I)?(e.consume(I),_):n(I)}function u(I){return I===S.dash?(e.consume(I),d):I===S.leftSquareBracket?(e.consume(I),o=0,p):un(I)?(e.consume(I),E):n(I)}function d(I){return I===S.dash?(e.consume(I),h):n(I)}function m(I){return I===S.eof?n(I):I===S.dash?(e.consume(I),f):De(I)?(r=m,G(I)):(e.consume(I),m)}function f(I){return I===S.dash?(e.consume(I),h):m(I)}function h(I){return I===S.greaterThan?U(I):I===S.dash?f(I):m(I)}function p(I){const oe=ve.cdataOpeningString;return I===oe.charCodeAt(o++)?(e.consume(I),o===oe.length?g:p):n(I)}function g(I){return I===S.eof?n(I):I===S.rightSquareBracket?(e.consume(I),v):De(I)?(r=g,G(I)):(e.consume(I),g)}function v(I){return I===S.rightSquareBracket?(e.consume(I),x):g(I)}function x(I){return I===S.greaterThan?U(I):I===S.rightSquareBracket?(e.consume(I),x):g(I)}function E(I){return I===S.eof||I===S.greaterThan?U(I):De(I)?(r=E,G(I)):(e.consume(I),E)}function N(I){return I===S.eof?n(I):I===S.questionMark?(e.consume(I),D):De(I)?(r=N,G(I)):(e.consume(I),N)}function D(I){return I===S.greaterThan?U(I):N(I)}function w(I){return un(I)?(e.consume(I),T):n(I)}function T(I){return I===S.dash||nn(I)?(e.consume(I),T):M(I)}function M(I){return De(I)?(r=M,G(I)):Ue(I)?(e.consume(I),M):U(I)}function _(I){return I===S.dash||nn(I)?(e.consume(I),_):I===S.slash||I===S.greaterThan||at(I)?C(I):n(I)}function C(I){return I===S.slash?(e.consume(I),U):I===S.colon||I===S.underscore||un(I)?(e.consume(I),k):De(I)?(r=C,G(I)):Ue(I)?(e.consume(I),C):U(I)}function k(I){return I===S.dash||I===S.dot||I===S.colon||I===S.underscore||nn(I)?(e.consume(I),k):L(I)}function L(I){return I===S.equalsTo?(e.consume(I),B):De(I)?(r=L,G(I)):Ue(I)?(e.consume(I),L):C(I)}function B(I){return I===S.eof||I===S.lessThan||I===S.equalsTo||I===S.greaterThan||I===S.graveAccent?n(I):I===S.quotationMark||I===S.apostrophe?(e.consume(I),i=I,P):De(I)?(r=B,G(I)):Ue(I)?(e.consume(I),B):(e.consume(I),j)}function P(I){return I===i?(e.consume(I),i=void 0,R):I===S.eof?n(I):De(I)?(r=P,G(I)):(e.consume(I),P)}function j(I){return I===S.eof||I===S.quotationMark||I===S.apostrophe||I===S.lessThan||I===S.equalsTo||I===S.graveAccent?n(I):I===S.slash||I===S.greaterThan||at(I)?C(I):(e.consume(I),j)}function R(I){return I===S.slash||I===S.greaterThan||at(I)?C(I):n(I)}function U(I){return I===S.greaterThan?(e.consume(I),e.exit(A.htmlTextData),e.exit(A.htmlText),t):n(I)}function G(I){return W(r,"expected return state"),W(De(I),"expected eol"),e.exit(A.htmlTextData),e.enter(A.lineEnding),e.consume(I),e.exit(A.lineEnding),$}function $(I){return W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ue(I)?Xe(e,Z,A.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize)(I):Z(I)}function Z(I){return e.enter(A.htmlTextData),r(I)}}const Og={name:"labelEnd",resolveAll:PF,resolveTo:AF,tokenize:jF},kF={tokenize:IF},MF={tokenize:RF},CF={tokenize:VF};function PF(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),s.type===A.labelImage||s.type===A.labelLink||s.type===A.labelEnd){const i=s.type===A.labelImage?4:2;s.type=A.data,t+=i}}return e.length!==n.length&&In(e,0,e.length,n),e}function AF(e,t){let n=e.length,s=0,i,o,r,a;for(;n--;)if(i=e[n][1],o){if(i.type===A.link||i.type===A.labelLink&&i._inactive)break;e[n][0]==="enter"&&i.type===A.labelLink&&(i._inactive=!0)}else if(r){if(e[n][0]==="enter"&&(i.type===A.labelImage||i.type===A.labelLink)&&!i._balanced&&(o=n,i.type!==A.labelLink)){s=2;break}}else i.type===A.labelEnd&&(r=n);W(o!==void 0,"`open` is supposed to be found"),W(r!==void 0,"`close` is supposed to be found");const c={type:e[o][1].type===A.labelLink?A.link:A.image,start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:A.label,start:{...e[o][1].start},end:{...e[r][1].end}},d={type:A.labelText,start:{...e[o+s+2][1].end},end:{...e[r-2][1].start}};return a=[["enter",c,t],["enter",u,t]],a=Un(a,e.slice(o+1,o+s+3)),a=Un(a,[["enter",d,t]]),W(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),a=Un(a,Md(t.parser.constructs.insideSpan.null,e.slice(o+s+4,r-3),t)),a=Un(a,[["exit",d,t],e[r-2],e[r-1],["exit",u,t]]),a=Un(a,e.slice(r+1)),a=Un(a,[["exit",c,t]]),In(e,o,e.length,a),e}function jF(e,t,n){const s=this;let i=s.events.length,o,r;for(;i--;)if((s.events[i][1].type===A.labelImage||s.events[i][1].type===A.labelLink)&&!s.events[i][1]._balanced){o=s.events[i][1];break}return a;function a(f){return W(f===S.rightSquareBracket,"expected `]`"),o?o._inactive?m(f):(r=s.parser.defined.includes(rs(s.sliceSerialize({start:o.end,end:s.now()}))),e.enter(A.labelEnd),e.enter(A.labelMarker),e.consume(f),e.exit(A.labelMarker),e.exit(A.labelEnd),c):n(f)}function c(f){return f===S.leftParenthesis?e.attempt(kF,d,r?d:m)(f):f===S.leftSquareBracket?e.attempt(MF,d,r?u:m)(f):r?d(f):m(f)}function u(f){return e.attempt(CF,d,m)(f)}function d(f){return t(f)}function m(f){return o._balanced=!0,n(f)}}function IF(e,t,n){return s;function s(m){return W(m===S.leftParenthesis,"expected left paren"),e.enter(A.resource),e.enter(A.resourceMarker),e.consume(m),e.exit(A.resourceMarker),i}function i(m){return at(m)?Xa(e,o)(m):o(m)}function o(m){return m===S.rightParenthesis?d(m):hT(e,r,a,A.resourceDestination,A.resourceDestinationLiteral,A.resourceDestinationLiteralMarker,A.resourceDestinationRaw,A.resourceDestinationString,ve.linkResourceDestinationBalanceMax)(m)}function r(m){return at(m)?Xa(e,c)(m):d(m)}function a(m){return n(m)}function c(m){return m===S.quotationMark||m===S.apostrophe||m===S.leftParenthesis?gT(e,u,n,A.resourceTitle,A.resourceTitleMarker,A.resourceTitleString)(m):d(m)}function u(m){return at(m)?Xa(e,d)(m):d(m)}function d(m){return m===S.rightParenthesis?(e.enter(A.resourceMarker),e.consume(m),e.exit(A.resourceMarker),e.exit(A.resource),t):n(m)}}function RF(e,t,n){const s=this;return i;function i(a){return W(a===S.leftSquareBracket,"expected left bracket"),pT.call(s,e,o,r,A.reference,A.referenceMarker,A.referenceString)(a)}function o(a){return s.parser.defined.includes(rs(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function r(a){return n(a)}}function VF(e,t,n){return s;function s(o){return W(o===S.leftSquareBracket,"expected left bracket"),e.enter(A.reference),e.enter(A.referenceMarker),e.consume(o),e.exit(A.referenceMarker),i}function i(o){return o===S.rightSquareBracket?(e.enter(A.referenceMarker),e.consume(o),e.exit(A.referenceMarker),e.exit(A.reference),t):n(o)}}const OF={name:"labelStartImage",resolveAll:Og.resolveAll,tokenize:LF};function LF(e,t,n){const s=this;return i;function i(a){return W(a===S.exclamationMark,"expected `!`"),e.enter(A.labelImage),e.enter(A.labelImageMarker),e.consume(a),e.exit(A.labelImageMarker),o}function o(a){return a===S.leftSquareBracket?(e.enter(A.labelMarker),e.consume(a),e.exit(A.labelMarker),e.exit(A.labelImage),r):n(a)}function r(a){return a===S.caret&&"_hiddenFootnoteSupport"in s.parser.constructs?n(a):t(a)}}const FF={name:"labelStartLink",resolveAll:Og.resolveAll,tokenize:BF};function BF(e,t,n){const s=this;return i;function i(r){return W(r===S.leftSquareBracket,"expected `[`"),e.enter(A.labelLink),e.enter(A.labelMarker),e.consume(r),e.exit(A.labelMarker),e.exit(A.labelLink),o}function o(r){return r===S.caret&&"_hiddenFootnoteSupport"in s.parser.constructs?n(r):t(r)}}const Om={name:"lineEnding",tokenize:HF};function HF(e,t){return n;function n(s){return W(De(s),"expected eol"),e.enter(A.lineEnding),e.consume(s),e.exit(A.lineEnding),Xe(e,t,A.linePrefix)}}const gu={name:"thematicBreak",tokenize:UF};function UF(e,t,n){let s=0,i;return o;function o(u){return e.enter(A.thematicBreak),r(u)}function r(u){return W(u===S.asterisk||u===S.dash||u===S.underscore,"expected `*`, `-`, or `_`"),i=u,a(u)}function a(u){return u===i?(e.enter(A.thematicBreakSequence),c(u)):s>=ve.thematicBreakMarkerCountMin&&(u===S.eof||De(u))?(e.exit(A.thematicBreak),t(u)):n(u)}function c(u){return u===i?(e.consume(u),s++,c):(e.exit(A.thematicBreakSequence),Ue(u)?Xe(e,a,A.whitespace)(u):a(u))}}const yn={continuation:{tokenize:qF},exit:YF,name:"list",tokenize:WF},$F={partial:!0,tokenize:KF},zF={partial:!0,tokenize:GF};function WF(e,t,n){const s=this,i=s.events[s.events.length-1];let o=i&&i[1].type===A.linePrefix?i[2].sliceSerialize(i[1],!0).length:0,r=0;return a;function a(h){W(s.containerState,"expected state");const p=s.containerState.type||(h===S.asterisk||h===S.plusSign||h===S.dash?A.listUnordered:A.listOrdered);if(p===A.listUnordered?!s.containerState.marker||h===s.containerState.marker:Ch(h)){if(s.containerState.type||(s.containerState.type=p,e.enter(p,{_container:!0})),p===A.listUnordered)return e.enter(A.listItemPrefix),h===S.asterisk||h===S.dash?e.check(gu,n,u)(h):u(h);if(!s.interrupt||h===S.digit1)return e.enter(A.listItemPrefix),e.enter(A.listItemValue),c(h)}return n(h)}function c(h){return W(s.containerState,"expected state"),Ch(h)&&++r<ve.listItemValueSizeMax?(e.consume(h),c):(!s.interrupt||r<2)&&(s.containerState.marker?h===s.containerState.marker:h===S.rightParenthesis||h===S.dot)?(e.exit(A.listItemValue),u(h)):n(h)}function u(h){return W(s.containerState,"expected state"),W(h!==S.eof,"eof (`null`) is not a marker"),e.enter(A.listItemMarker),e.consume(h),e.exit(A.listItemMarker),s.containerState.marker=s.containerState.marker||h,e.check(Ql,s.interrupt?n:d,e.attempt($F,f,m))}function d(h){return W(s.containerState,"expected state"),s.containerState.initialBlankLine=!0,o++,f(h)}function m(h){return Ue(h)?(e.enter(A.listItemPrefixWhitespace),e.consume(h),e.exit(A.listItemPrefixWhitespace),f):n(h)}function f(h){return W(s.containerState,"expected state"),s.containerState.size=o+s.sliceSerialize(e.exit(A.listItemPrefix),!0).length,t(h)}}function qF(e,t,n){const s=this;return W(s.containerState,"expected state"),s.containerState._closeFlow=void 0,e.check(Ql,i,o);function i(a){return W(s.containerState,"expected state"),W(typeof s.containerState.size=="number","expected size"),s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Xe(e,t,A.listItemIndent,s.containerState.size+1)(a)}function o(a){return W(s.containerState,"expected state"),s.containerState.furtherBlankLines||!Ue(a)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,r(a)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(zF,t,r)(a))}function r(a){return W(s.containerState,"expected state"),s.containerState._closeFlow=!0,s.interrupt=void 0,W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,e.attempt(yn,t,n),A.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize)(a)}}function GF(e,t,n){const s=this;return W(s.containerState,"expected state"),W(typeof s.containerState.size=="number","expected size"),Xe(e,i,A.listItemIndent,s.containerState.size+1);function i(o){W(s.containerState,"expected state");const r=s.events[s.events.length-1];return r&&r[1].type===A.listItemIndent&&r[2].sliceSerialize(r[1],!0).length===s.containerState.size?t(o):n(o)}}function YF(e){W(this.containerState,"expected state"),W(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function KF(e,t,n){const s=this;return W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,i,A.listItemPrefixWhitespace,s.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize+1);function i(o){const r=s.events[s.events.length-1];return!Ue(o)&&r&&r[1].type===A.listItemPrefixWhitespace?t(o):n(o)}}const ux={name:"setextUnderline",resolveTo:XF,tokenize:JF};function XF(e,t){let n=e.length,s,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type===A.content){s=n;break}e[n][1].type===A.paragraph&&(i=n)}else e[n][1].type===A.content&&e.splice(n,1),!o&&e[n][1].type===A.definition&&(o=n);W(i!==void 0,"expected a `text` index to be found"),W(s!==void 0,"expected a `text` index to be found"),W(e[s][2]===t,"enter context should be same"),W(e[e.length-1][2]===t,"enter context should be same");const r={type:A.setextHeading,start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type=A.setextHeadingText,o?(e.splice(i,0,["enter",r,t]),e.splice(o+1,0,["exit",e[s][1],t]),e[s][1].end={...e[o][1].end}):e[s][1]=r,e.push(["exit",r,t]),e}function JF(e,t,n){const s=this;let i;return o;function o(u){let d=s.events.length,m;for(W(u===S.dash||u===S.equalsTo,"expected `=` or `-`");d--;)if(s.events[d][1].type!==A.lineEnding&&s.events[d][1].type!==A.linePrefix&&s.events[d][1].type!==A.content){m=s.events[d][1].type===A.paragraph;break}return!s.parser.lazy[s.now().line]&&(s.interrupt||m)?(e.enter(A.setextHeadingLine),i=u,r(u)):n(u)}function r(u){return e.enter(A.setextHeadingLineSequence),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit(A.setextHeadingLineSequence),Ue(u)?Xe(e,c,A.lineSuffix)(u):c(u))}function c(u){return u===S.eof||De(u)?(e.exit(A.setextHeadingLine),t(u)):n(u)}}const QF={tokenize:ZF};function ZF(e){const t=this,n=e.attempt(Ql,s,e.attempt(this.parser.constructs.flowInitial,i,Xe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(iF,i)),A.linePrefix)));return n;function s(o){if(W(o===S.eof||De(o),"expected eol or eof"),o===S.eof){e.consume(o);return}return e.enter(A.lineEndingBlank),e.consume(o),e.exit(A.lineEndingBlank),t.currentConstruct=void 0,n}function i(o){if(W(o===S.eof||De(o),"expected eol or eof"),o===S.eof){e.consume(o);return}return e.enter(A.lineEnding),e.consume(o),e.exit(A.lineEnding),t.currentConstruct=void 0,n}}const e7={resolveAll:vT()},t7=bT("string"),n7=bT("text");function bT(e){return{resolveAll:vT(e==="text"?s7:void 0),tokenize:t};function t(n){const s=this,i=this.parser.constructs[e],o=n.attempt(i,r,a);return r;function r(d){return u(d)?o(d):a(d)}function a(d){if(d===S.eof){n.consume(d);return}return n.enter(A.data),n.consume(d),c}function c(d){return u(d)?(n.exit(A.data),o(d)):(n.consume(d),c)}function u(d){if(d===S.eof)return!0;const m=i[d];let f=-1;if(m)for(W(Array.isArray(m),"expected `disable.null` to be populated");++f<m.length;){const h=m[f];if(!h.previous||h.previous.call(s,s.previous))return!0}return!1}}}function vT(e){return t;function t(n,s){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type===A.data&&(o=i,i++):(!n[i]||n[i][1].type!==A.data)&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,s):n}}function s7(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===A.lineEnding)&&e[n-1][1].type===A.data){const s=e[n-1][1],i=t.sliceStream(s);let o=i.length,r=-1,a=0,c;for(;o--;){const u=i[o];if(typeof u=="string"){for(r=u.length;u.charCodeAt(r-1)===S.space;)a++,r--;if(r)break;r=-1}else if(u===S.horizontalTab)c=!0,a++;else if(u!==S.virtualSpace){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||c||a<ve.hardBreakPrefixSizeMin?A.lineSuffix:A.hardBreakTrailing,start:{_bufferIndex:o?r:s.start._bufferIndex+r,_index:s.start._index+o,line:s.end.line,column:s.end.column-a,offset:s.end.offset-a},end:{...s.end}};s.end={...u.start},s.start.offset===s.end.offset?Object.assign(s,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const i7={[S.asterisk]:yn,[S.plusSign]:yn,[S.dash]:yn,[S.digit0]:yn,[S.digit1]:yn,[S.digit2]:yn,[S.digit3]:yn,[S.digit4]:yn,[S.digit5]:yn,[S.digit6]:yn,[S.digit7]:yn,[S.digit8]:yn,[S.digit9]:yn,[S.greaterThan]:cT},o7={[S.leftSquareBracket]:cF},r7={[S.horizontalTab]:Vm,[S.virtualSpace]:Vm,[S.space]:Vm},a7={[S.numberSign]:pF,[S.asterisk]:gu,[S.dash]:[ux,gu],[S.lessThan]:xF,[S.equalsTo]:ux,[S.underscore]:gu,[S.graveAccent]:lx,[S.tilde]:lx},l7={[S.ampersand]:dT,[S.backslash]:uT},c7={[S.carriageReturn]:Om,[S.lineFeed]:Om,[S.carriageReturnLineFeed]:Om,[S.exclamationMark]:OF,[S.ampersand]:dT,[S.asterisk]:Ph,[S.lessThan]:[BL,SF],[S.leftSquareBracket]:FF,[S.backslash]:[fF,uT],[S.rightSquareBracket]:Og,[S.underscore]:Ph,[S.graveAccent]:ZL},u7={null:[Ph,e7]},d7={null:[S.asterisk,S.underscore]},m7={null:[]},f7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:d7,contentInitial:o7,disable:m7,document:i7,flow:a7,flowInitial:r7,insideSpan:u7,string:l7,text:c7},Symbol.toStringTag,{value:"Module"}));var Cc={exports:{}},Lm,dx;function h7(){if(dx)return Lm;dx=1;var e=1e3,t=e*60,n=t*60,s=n*24,i=s*7,o=s*365.25;Lm=function(d,m){m=m||{};var f=typeof d;if(f==="string"&&d.length>0)return r(d);if(f==="number"&&isFinite(d))return m.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function r(d){if(d=String(d),!(d.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(m){var f=parseFloat(m[1]),h=(m[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*s;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(d){var m=Math.abs(d);return m>=s?Math.round(d/s)+"d":m>=n?Math.round(d/n)+"h":m>=t?Math.round(d/t)+"m":m>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var m=Math.abs(d);return m>=s?u(d,m,s,"day"):m>=n?u(d,m,n,"hour"):m>=t?u(d,m,t,"minute"):m>=e?u(d,m,e,"second"):d+" ms"}function u(d,m,f,h){var p=m>=f*1.5;return Math.round(d/f)+" "+h+(p?"s":"")}return Lm}var Fm,mx;function p7(){if(mx)return Fm;mx=1;function e(t){s.debug=s,s.default=s,s.coerce=u,s.disable=a,s.enable=o,s.enabled=c,s.humanize=h7(),s.destroy=d,Object.keys(t).forEach(m=>{s[m]=t[m]}),s.names=[],s.skips=[],s.formatters={};function n(m){let f=0;for(let h=0;h<m.length;h++)f=(f<<5)-f+m.charCodeAt(h),f|=0;return s.colors[Math.abs(f)%s.colors.length]}s.selectColor=n;function s(m){let f,h=null,p,g;function v(...x){if(!v.enabled)return;const E=v,N=Number(new Date),D=N-(f||N);E.diff=D,E.prev=f,E.curr=N,f=N,x[0]=s.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let w=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(M,_)=>{if(M==="%%")return"%";w++;const C=s.formatters[_];if(typeof C=="function"){const k=x[w];M=C.call(E,k),x.splice(w,1),w--}return M}),s.formatArgs.call(E,x),(E.log||s.log).apply(E,x)}return v.namespace=m,v.useColors=s.useColors(),v.color=s.selectColor(m),v.extend=i,v.destroy=s.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==s.namespaces&&(p=s.namespaces,g=s.enabled(m)),g),set:x=>{h=x}}),typeof s.init=="function"&&s.init(v),v}function i(m,f){const h=s(this.namespace+(typeof f>"u"?":":f)+m);return h.log=this.log,h}function o(m){s.save(m),s.namespaces=m,s.names=[],s.skips=[];const f=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?s.skips.push(h.slice(1)):s.names.push(h)}function r(m,f){let h=0,p=0,g=-1,v=0;for(;h<m.length;)if(p<f.length&&(f[p]===m[h]||f[p]==="*"))f[p]==="*"?(g=p,v=h,p++):(h++,p++);else if(g!==-1)p=g+1,v++,h=v;else return!1;for(;p<f.length&&f[p]==="*";)p++;return p===f.length}function a(){const m=[...s.names,...s.skips.map(f=>"-"+f)].join(",");return s.enable(""),m}function c(m){for(const f of s.skips)if(r(m,f))return!1;for(const f of s.names)if(r(m,f))return!0;return!1}function u(m){return m instanceof Error?m.stack||m.message:m}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}return Fm=e,Fm}var fx;function g7(){return fx||(fx=1,function(e,t){var n={};t.formatArgs=i,t.save=o,t.load=r,t.useColors=s,t.storage=a(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let m=0,f=0;u[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(m++,h==="%c"&&(f=m))}),u.splice(f,0,d)}t.log=console.debug||console.log||(()=>{});function o(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function r(){let u;try{u=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}function a(){try{return localStorage}catch{}}e.exports=p7()(t);const{formatters:c}=e.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}(Cc,Cc.exports)),Cc.exports}var b7=g7();const v7=Lr(b7),$i=v7("micromark");function x7(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let r=[],a=[],c=!0;const u={attempt:C(M),check:C(_),consume:D,enter:w,exit:T,interrupt:C(_,{interrupt:!0})},d={code:S.eof,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:S.eof,sliceSerialize:p,sliceStream:g,write:h};let m=t.tokenize.call(d,u),f;return t.resolveAll&&o.push(t),d;function h(P){return r=Un(r,P),E(),r[r.length-1]!==S.eof?[]:(k(t,0),d.events=Md(o,d.events,d),d.events)}function p(P,j){return y7(g(P),j)}function g(P){return N7(r,P)}function v(){const{_bufferIndex:P,_index:j,line:R,column:U,offset:G}=s;return{_bufferIndex:P,_index:j,line:R,column:U,offset:G}}function x(P){i[P.line]=P.column,B(),$i("position: define skip: `%j`",s)}function E(){let P;for(;s._index<r.length;){const j=r[s._index];if(typeof j=="string")for(P=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===P&&s._bufferIndex<j.length;)N(j.charCodeAt(s._bufferIndex));else N(j)}}function N(P){W(c===!0,"expected character to be consumed"),c=void 0,$i("main: passing `%s` to %s",P,m&&m.name),f=P,W(typeof m=="function","expected state"),m=m(P)}function D(P){W(P===f,"expected given code to equal expected code"),$i("consume: `%s`",P),W(c===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),W(P===null?d.events.length===0||d.events[d.events.length-1][0]==="exit":d.events[d.events.length-1][0]==="enter","expected last token to be open"),De(P)?(s.line++,s.column=1,s.offset+=P===S.carriageReturnLineFeed?2:1,B(),$i("position: after eol: `%j`",s)):P!==S.virtualSpace&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===r[s._index].length&&(s._bufferIndex=-1,s._index++)),d.previous=P,c=!0}function w(P,j){const R=j||{};return R.type=P,R.start=v(),W(typeof P=="string","expected string type"),W(P.length>0,"expected non-empty string"),$i("enter: `%s`",P),d.events.push(["enter",R,d]),a.push(R),R}function T(P){W(typeof P=="string","expected string type"),W(P.length>0,"expected non-empty string");const j=a.pop();return W(j,"cannot close w/o open tokens"),j.end=v(),W(P===j.type,"expected exit token to match current token"),W(!(j.start._index===j.end._index&&j.start._bufferIndex===j.end._bufferIndex),"expected non-empty token (`"+P+"`)"),$i("exit: `%s`",j.type),d.events.push(["exit",j,d]),j}function M(P,j){k(P,j.from)}function _(P,j){j.restore()}function C(P,j){return R;function R(U,G,$){let Z,I,oe,be;return Array.isArray(U)?ue(U):"tokenize"in U?ue([U]):O(U);function O(me){return we;function we(X){const Y=X!==null&&me[X],K=X!==null&&me.null,ie=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(K)?K:K?[K]:[]];return ue(ie)(X)}}function ue(me){return Z=me,I=0,me.length===0?(W($,"expected `bogusState` to be given"),$):ge(me[I])}function ge(me){return we;function we(X){return be=L(),oe=me,me.partial||(d.currentConstruct=me),W(d.parser.constructs.disable.null,"expected `disable.null` to be populated"),me.name&&d.parser.constructs.disable.null.includes(me.name)?ne(X):me.tokenize.call(j?Object.assign(Object.create(d),j):d,u,xe,ne)(X)}}function xe(me){return W(me===f,"expected code"),c=!0,P(oe,be),G}function ne(me){return W(me===f,"expected code"),c=!0,be.restore(),++I<Z.length?ge(Z[I]):$}}}function k(P,j){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&In(d.events,j,d.events.length-j,P.resolve(d.events.slice(j),d)),P.resolveTo&&(d.events=P.resolveTo(d.events,d)),W(P.partial||d.events.length===0||d.events[d.events.length-1][0]==="exit","expected last token to end")}function L(){const P=v(),j=d.previous,R=d.currentConstruct,U=d.events.length,G=Array.from(a);return{from:U,restore:$};function $(){s=P,d.previous=j,d.currentConstruct=R,d.events.length=U,a=G,B(),$i("position: restore: `%j`",s)}}function B(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}function N7(e,t){const n=t.start._index,s=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let r;if(n===i)W(o>-1,"expected non-negative end buffer index"),W(s>-1,"expected non-negative start buffer index"),r=[e[n].slice(s,o)];else{if(r=e.slice(n,i),s>-1){const a=r[0];typeof a=="string"?r[0]=a.slice(s):(W(s===0,"expected `startBufferIndex` to be `0`"),r.shift())}o>0&&r.push(e[i].slice(0,o))}return r}function y7(e,t){let n=-1;const s=[];let i;for(;++n<e.length;){const o=e[n];let r;if(typeof o=="string")r=o;else switch(o){case S.carriageReturn:{r=ys.cr;break}case S.lineFeed:{r=ys.lf;break}case S.carriageReturnLineFeed:{r=ys.cr+ys.lf;break}case S.horizontalTab:{r=t?ys.space:ys.ht;break}case S.virtualSpace:{if(!t&&i)continue;r=ys.space;break}default:W(typeof o=="number","expected number"),r=String.fromCharCode(o)}i=o===S.horizontalTab,s.push(r)}return s.join("")}function w7(e){const s={constructs:aT([f7,...(e||{}).extensions||[]]),content:i(jL),defined:[],document:i(RL),flow:i(QF),lazy:{},string:i(t7),text:i(n7)};return s;function i(o){return r;function r(a){return x7(s,o,a)}}}function D7(e){for(;!fT(e););return e}const hx=/[\0\t\n\r]/g;function E7(){let e=1,t="",n=!0,s;return i;function i(o,r,a){const c=[];let u,d,m,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(r||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===S.byteOrderMarker&&m++,n=void 0);m<o.length;){if(hx.lastIndex=m,u=hx.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){t=o.slice(m);break}if(h===S.lf&&m===f&&s)c.push(S.carriageReturnLineFeed),s=void 0;else switch(s&&(c.push(S.carriageReturn),s=void 0),m<f&&(c.push(o.slice(m,f)),e+=f-m),h){case S.nul:{c.push(S.replacementCharacter),e++;break}case S.ht:{for(d=Math.ceil(e/ve.tabSize)*ve.tabSize,c.push(S.horizontalTab);e++<d;)c.push(S.virtualSpace);break}case S.lf:{c.push(S.lineFeed),e=1;break}default:s=!0,e=1}m=f+1}return a&&(s&&c.push(S.carriageReturn),t&&c.push(t),c.push(S.eof)),c}}const T7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function S7(e){return e.replace(T7,_7)}function _7(e,t,n){if(t)return t;if(n.charCodeAt(0)===S.numberSign){const i=n.charCodeAt(1),o=i===S.lowercaseX||i===S.uppercaseX;return lT(n.slice(o?2:1),o?ve.numericBaseHexadecimal:ve.numericBaseDecimal)}return Vg(n)||e}const xT={}.hasOwnProperty;function k7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),M7(n)(D7(w7(n).document().write(E7()(e,t,!0))))}function M7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(We),autolinkProtocol:C,autolinkEmail:C,atxHeading:o(ae),blockQuote:o(X),characterEscape:C,characterReference:C,codeFenced:o(Y),codeFencedFenceInfo:r,codeFencedFenceMeta:r,codeIndented:o(Y,r),codeText:o(K,r),codeTextData:C,data:C,codeFlowValue:C,definition:o(ie),definitionDestinationString:r,definitionLabelString:r,definitionTitleString:r,emphasis:o(le),hardBreakEscape:o(pe),hardBreakTrailing:o(pe),htmlFlow:o($e,r),htmlFlowData:C,htmlText:o($e,r),htmlTextData:C,image:o(ze),label:r,link:o(We),listItem:o(Fs),listItemValue:f,listOrdered:o(Rn,m),listUnordered:o(Rn),paragraph:o(hs),reference:O,referenceString:r,resourceDestinationString:r,resourceTitleString:r,setextHeading:o(ae),strong:o(mt),thematicBreak:o(pn)},exit:{atxHeading:c(),atxHeadingSequence:w,autolink:c(),autolinkEmail:we,autolinkProtocol:me,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:xe,characterReference:ne,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:c(x),codeText:c(R),codeTextData:k,data:k,definition:c(),definitionDestinationString:D,definitionLabelString:E,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(P),htmlFlowData:k,htmlText:c(j),htmlTextData:k,image:c(G),label:Z,labelText:$,lineEnding:L,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ue,resourceDestinationString:I,resourceTitleString:oe,resource:be,setextHeading:c(_),setextHeadingLineSequence:M,setextHeadingText:T,strong:c(),thematicBreak:c()}};NT(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(ee){let Q={type:"root",children:[]};const Ne={stack:[Q],tokenStack:[],config:t,enter:a,exit:u,buffer:r,resume:d,data:n},Ie=[];let Le=-1;for(;++Le<ee.length;)if(ee[Le][1].type===A.listOrdered||ee[Le][1].type===A.listUnordered)if(ee[Le][0]==="enter")Ie.push(Le);else{const yt=Ie.pop();W(typeof yt=="number","expected list ot be open"),Le=i(ee,yt,Le)}for(Le=-1;++Le<ee.length;){const yt=t[ee[Le][0]];xT.call(yt,ee[Le][1].type)&&yt[ee[Le][1].type].call(Object.assign({sliceSerialize:ee[Le][2].sliceSerialize},Ne),ee[Le][1])}if(Ne.tokenStack.length>0){const yt=Ne.tokenStack[Ne.tokenStack.length-1];(yt[1]||px).call(Ne,void 0,yt[0])}for(Q.position={start:ci(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:ci(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)Q=t.transforms[Le](Q)||Q;return Q}function i(ee,Q,Ne){let Ie=Q-1,Le=-1,yt=!1,ce,ke,Vt,Vn;for(;++Ie<=Ne;){const wt=ee[Ie];switch(wt[1].type){case A.listUnordered:case A.listOrdered:case A.blockQuote:{wt[0]==="enter"?Le++:Le--,Vn=void 0;break}case A.lineEndingBlank:{wt[0]==="enter"&&(ce&&!Vn&&!Le&&!Vt&&(Vt=Ie),Vn=void 0);break}case A.linePrefix:case A.listItemValue:case A.listItemMarker:case A.listItemPrefix:case A.listItemPrefixWhitespace:break;default:Vn=void 0}if(!Le&&wt[0]==="enter"&&wt[1].type===A.listItemPrefix||Le===-1&&wt[0]==="exit"&&(wt[1].type===A.listUnordered||wt[1].type===A.listOrdered)){if(ce){let Wt=Ie;for(ke=void 0;Wt--;){const gn=ee[Wt];if(gn[1].type===A.lineEnding||gn[1].type===A.lineEndingBlank){if(gn[0]==="exit")continue;ke&&(ee[ke][1].type=A.lineEndingBlank,yt=!0),gn[1].type=A.lineEnding,ke=Wt}else if(!(gn[1].type===A.linePrefix||gn[1].type===A.blockQuotePrefix||gn[1].type===A.blockQuotePrefixWhitespace||gn[1].type===A.blockQuoteMarker||gn[1].type===A.listItemIndent))break}Vt&&(!ke||Vt<ke)&&(ce._spread=!0),ce.end=Object.assign({},ke?ee[ke][1].start:wt[1].end),ee.splice(ke||Ie,0,["exit",ce,wt[2]]),Ie++,Ne++}if(wt[1].type===A.listItemPrefix){const Wt={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};ce=Wt,ee.splice(Ie,0,["enter",Wt,wt[2]]),Ie++,Ne++,Vt=void 0,Vn=!0}}}return ee[Q][1]._spread=yt,Ne}function o(ee,Q){return Ne;function Ne(Ie){a.call(this,ee(Ie),Ie),Q&&Q.call(this,Ie)}}function r(){this.stack.push({type:"fragment",children:[]})}function a(ee,Q,Ne){const Ie=this.stack[this.stack.length-1];W(Ie,"expected `parent`"),W("children"in Ie,"expected `parent`"),Ie.children.push(ee),this.stack.push(ee),this.tokenStack.push([Q,Ne||void 0]),ee.position={start:ci(Q.start),end:void 0}}function c(ee){return Q;function Q(Ne){ee&&ee.call(this,Ne),u.call(this,Ne)}}function u(ee,Q){const Ne=this.stack.pop();W(Ne,"expected `node`");const Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==ee.type&&(Q?Q.call(this,ee,Ie[0]):(Ie[1]||px).call(this,ee,Ie[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Ka({start:ee.start,end:ee.end})+"): its not open");W(Ne.type!=="fragment","unexpected fragment `exit`ed"),W(Ne.position,"expected `position` to be defined"),Ne.position.end=ci(ee.end)}function d(){return Rg(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function f(ee){if(this.data.expectingFirstListItemValue){const Q=this.stack[this.stack.length-2];W(Q,"expected nodes on stack"),W(Q.type==="list","expected list on stack"),Q.start=Number.parseInt(this.sliceSerialize(ee),ve.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function h(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.lang=ee}function p(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.meta=ee}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.value=ee.replace(/(\r?\n|\r)$/g,"")}function E(ee){const Q=this.resume(),Ne=this.stack[this.stack.length-1];W(Ne,"expected node on stack"),W(Ne.type==="definition","expected definition on stack"),Ne.label=Q,Ne.identifier=rs(this.sliceSerialize(ee)).toLowerCase()}function N(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="definition","expected definition on stack"),Q.title=ee}function D(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="definition","expected definition on stack"),Q.url=ee}function w(ee){const Q=this.stack[this.stack.length-1];if(W(Q,"expected node on stack"),W(Q.type==="heading","expected heading on stack"),!Q.depth){const Ne=this.sliceSerialize(ee).length;W(Ne===1||Ne===2||Ne===3||Ne===4||Ne===5||Ne===6,"expected `depth` between `1` and `6`"),Q.depth=Ne}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function M(ee){const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="heading","expected heading on stack"),Q.depth=this.sliceSerialize(ee).codePointAt(0)===S.equalsTo?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function C(ee){const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W("children"in Q,"expected parent on stack");const Ne=Q.children;let Ie=Ne[Ne.length-1];(!Ie||Ie.type!=="text")&&(Ie=Qn(),Ie.position={start:ci(ee.start),end:void 0},Ne.push(Ie)),this.stack.push(Ie)}function k(ee){const Q=this.stack.pop();W(Q,"expected a `node` to be on the stack"),W("value"in Q,"expected a `literal` to be on the stack"),W(Q.position,"expected `node` to have an open position"),Q.value+=this.sliceSerialize(ee),Q.position.end=ci(ee.end)}function L(ee){const Q=this.stack[this.stack.length-1];if(W(Q,"expected `node`"),this.data.atHardBreak){W("children"in Q,"expected `parent`");const Ne=Q.children[Q.children.length-1];W(Ne.position,"expected tail to have a starting position"),Ne.position.end=ci(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Q.type)&&(C.call(this,ee),k.call(this,ee))}function B(){this.data.atHardBreak=!0}function P(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="html","expected html on stack"),Q.value=ee}function j(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="html","expected html on stack"),Q.value=ee}function R(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="inlineCode","expected inline code on stack"),Q.value=ee}function U(){const ee=this.stack[this.stack.length-1];if(W(ee,"expected node on stack"),W(ee.type==="link","expected link on stack"),this.data.inReference){const Q=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=Q,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function G(){const ee=this.stack[this.stack.length-1];if(W(ee,"expected node on stack"),W(ee.type==="image","expected image on stack"),this.data.inReference){const Q=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=Q,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function $(ee){const Q=this.sliceSerialize(ee),Ne=this.stack[this.stack.length-2];W(Ne,"expected ancestor on stack"),W(Ne.type==="image"||Ne.type==="link","expected image or link on stack"),Ne.label=S7(Q),Ne.identifier=rs(Q).toLowerCase()}function Z(){const ee=this.stack[this.stack.length-1];W(ee,"expected node on stack"),W(ee.type==="fragment","expected fragment on stack");const Q=this.resume(),Ne=this.stack[this.stack.length-1];if(W(Ne,"expected node on stack"),W(Ne.type==="image"||Ne.type==="link","expected image or link on stack"),this.data.inReference=!0,Ne.type==="link"){const Ie=ee.children;Ne.children=Ie}else Ne.alt=Q}function I(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="image"||Q.type==="link","expected image or link on stack"),Q.url=ee}function oe(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="image"||Q.type==="link","expected image or link on stack"),Q.title=ee}function be(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function ue(ee){const Q=this.resume(),Ne=this.stack[this.stack.length-1];W(Ne,"expected node on stack"),W(Ne.type==="image"||Ne.type==="link","expected image reference or link reference on stack"),Ne.label=Q,Ne.identifier=rs(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function ge(ee){W(ee.type==="characterReferenceMarkerNumeric"||ee.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=ee.type}function xe(ee){const Q=this.sliceSerialize(ee),Ne=this.data.characterReferenceType;let Ie;if(Ne)Ie=lT(Q,Ne===A.characterReferenceMarkerNumeric?ve.numericBaseDecimal:ve.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const yt=Vg(Q);W(yt!==!1,"expected reference to decode"),Ie=yt}const Le=this.stack[this.stack.length-1];W(Le,"expected `node`"),W("value"in Le,"expected `node.value`"),Le.value+=Ie}function ne(ee){const Q=this.stack.pop();W(Q,"expected `node`"),W(Q.position,"expected `node.position`"),Q.position.end=ci(ee.end)}function me(ee){k.call(this,ee);const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="link","expected link on stack"),Q.url=this.sliceSerialize(ee)}function we(ee){k.call(this,ee);const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="link","expected link on stack"),Q.url="mailto:"+this.sliceSerialize(ee)}function X(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function $e(){return{type:"html",value:""}}function ze(){return{type:"image",title:null,url:"",alt:null}}function We(){return{type:"link",title:null,url:"",children:[]}}function Rn(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Fs(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function hs(){return{type:"paragraph",children:[]}}function mt(){return{type:"strong",children:[]}}function Qn(){return{type:"text",value:""}}function pn(){return{type:"thematicBreak"}}}function ci(e){return{line:e.line,column:e.column,offset:e.offset}}function NT(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?NT(e,s):C7(e,s)}}function C7(e,t){let n;for(n in t)if(xT.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function px(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ka({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ka({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ka({start:t.start,end:t.end})+") is still open")}function P7(e){const t=this;t.parser=n;function n(s){return k7(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function A7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function j7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function I7(e,t){const n=t.value?t.value+`
`:"",s={};t.lang&&(s.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function R7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),i=Jr(s.toLowerCase()),o=e.footnoteOrder.indexOf(s);let r,a=e.footnoteCounts.get(s);a===void 0?(a=0,e.footnoteOrder.push(s),r=e.footnoteOrder.length):r=o+1,a+=1,e.footnoteCounts.set(s,a);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(r)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function L7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function yT(e,t){const n=t.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const r=i[i.length-1];return r&&r.type==="text"?r.value+=s:i.push({type:"text",value:s}),i}function B7(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return yT(e,t);const i={src:Jr(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function H7(e,t){const n={src:Jr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)}function U7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)}function $7(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return yT(e,t);const i={href:Jr(s.url||"")};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function z7(e,t){const n={href:Jr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function W7(e,t,n){const s=e.all(t),i=n?q7(n):wT(t),o={},r=[];if(typeof t.checked=="boolean"){const d=s[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},s.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<s.length;){const d=s[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&r.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?r.push(...d.children):r.push(d)}const c=s[s.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&r.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:r};return e.patch(t,u),e.applyData(t,u)}function q7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=wT(n[s])}return t}function wT(e){const t=e.spread;return t??e.children.length>1}function G7(e,t){const n={},s=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<s.length;){const r=s[i];if(r.type==="element"&&r.tagName==="li"&&r.properties&&Array.isArray(r.properties.className)&&r.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function Y7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function X7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function J7(e,t){const n=e.all(t),s=n.shift(),i=[];if(s){const r={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],r),i.push(r)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Vs(t.children[1]),c=_d(t.children[t.children.length-1]);a&&c&&(r.position={start:a,end:c}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function Q7(e,t,n){const s=n?n.children:void 0,o=(s?s.indexOf(t):1)===0?"th":"td",r=n&&n.type==="table"?n.align:void 0,a=r?r.length:t.children.length;let c=-1;const u=[];for(;++c<a;){const m=t.children[c],f={},h=r?r[c]:void 0;h&&(f.align=h);let p={type:"element",tagName:o,properties:f,children:[]};m&&(p.children=e.all(m),e.patch(m,p),p=e.applyData(m,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Z7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const gx=9,bx=32;function e9(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),i=0;const o=[];for(;s;)o.push(vx(t.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=n.exec(t);return o.push(vx(t.slice(i),i>0,!1)),o.join("")}function vx(e,t,n){let s=0,i=e.length;if(t){let o=e.codePointAt(s);for(;o===gx||o===bx;)s++,o=e.codePointAt(s)}if(n){let o=e.codePointAt(i-1);for(;o===gx||o===bx;)i--,o=e.codePointAt(i-1)}return i>s?e.slice(s,i):""}function t9(e,t){const n={type:"text",value:e9(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function n9(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const s9={blockquote:A7,break:j7,code:I7,delete:R7,emphasis:V7,footnoteReference:O7,heading:L7,html:F7,imageReference:B7,image:H7,inlineCode:U7,linkReference:$7,link:z7,listItem:W7,list:G7,paragraph:Y7,root:K7,strong:X7,table:J7,tableCell:Z7,tableRow:Q7,text:t9,thematicBreak:n9,toml:Pc,yaml:Pc,definition:Pc,footnoteDefinition:Pc};function Pc(){}const DT=-1,Cd=0,Ja=1,Hu=2,Lg=3,Fg=4,Bg=5,Hg=6,ET=7,TT=8,xx=typeof self=="object"?self:globalThis,i9=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),s=i=>{if(e.has(i))return e.get(i);const[o,r]=t[i];switch(o){case Cd:case DT:return n(r,i);case Ja:{const a=n([],i);for(const c of r)a.push(s(c));return a}case Hu:{const a=n({},i);for(const[c,u]of r)a[s(c)]=s(u);return a}case Lg:return n(new Date(r),i);case Fg:{const{source:a,flags:c}=r;return n(new RegExp(a,c),i)}case Bg:{const a=n(new Map,i);for(const[c,u]of r)a.set(s(c),s(u));return a}case Hg:{const a=n(new Set,i);for(const c of r)a.add(s(c));return a}case ET:{const{name:a,message:c}=r;return n(new xx[a](c),i)}case TT:return n(BigInt(r),i);case"BigInt":return n(Object(BigInt(r)),i);case"ArrayBuffer":return n(new Uint8Array(r).buffer,r);case"DataView":{const{buffer:a}=new Uint8Array(r);return n(new DataView(a),r)}}return n(new xx[o](r),i)};return s},Nx=e=>i9(new Map,e)(0),zo="",{toString:o9}={},{keys:r9}=Object,Na=e=>{const t=typeof e;if(t!=="object"||!e)return[Cd,t];const n=o9.call(e).slice(8,-1);switch(n){case"Array":return[Ja,zo];case"Object":return[Hu,zo];case"Date":return[Lg,zo];case"RegExp":return[Fg,zo];case"Map":return[Bg,zo];case"Set":return[Hg,zo];case"DataView":return[Ja,n]}return n.includes("Array")?[Ja,n]:n.includes("Error")?[ET,n]:[Hu,n]},Ac=([e,t])=>e===Cd&&(t==="function"||t==="symbol"),a9=(e,t,n,s)=>{const i=(r,a)=>{const c=s.push(r)-1;return n.set(a,c),c},o=r=>{if(n.has(r))return n.get(r);let[a,c]=Na(r);switch(a){case Cd:{let d=r;switch(c){case"bigint":a=TT,d=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([DT],r)}return i([a,d],r)}case Ja:{if(c){let f=r;return c==="DataView"?f=new Uint8Array(r.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(r)),i([c,[...f]],r)}const d=[],m=i([a,d],r);for(const f of r)d.push(o(f));return m}case Hu:{if(c)switch(c){case"BigInt":return i([c,r.toString()],r);case"Boolean":case"Number":case"String":return i([c,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const d=[],m=i([a,d],r);for(const f of r9(r))(e||!Ac(Na(r[f])))&&d.push([o(f),o(r[f])]);return m}case Lg:return i([a,r.toISOString()],r);case Fg:{const{source:d,flags:m}=r;return i([a,{source:d,flags:m}],r)}case Bg:{const d=[],m=i([a,d],r);for(const[f,h]of r)(e||!(Ac(Na(f))||Ac(Na(h))))&&d.push([o(f),o(h)]);return m}case Hg:{const d=[],m=i([a,d],r);for(const f of r)(e||!Ac(Na(f)))&&d.push(o(f));return m}}const{message:u}=r;return i([a,{name:c,message:u}],r)};return o},yx=(e,{json:t,lossy:n}={})=>{const s=[];return a9(!(t||n),!!t,new Map,s)(e),s},Cr=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Nx(yx(e,t)):structuredClone(e):(e,t)=>Nx(yx(e,t));function l9(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function c9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function u9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||l9,s=e.options.footnoteBackLabel||c9,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",r=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),m=String(u.identifier).toUpperCase(),f=Jr(m.toLowerCase());let h=0;const p=[],g=e.footnoteCounts.get(m);for(;g!==void 0&&++h<=g;){p.length>0&&p.push({type:"text",value:" "});let E=typeof n=="string"?n:n(c,h);typeof E=="string"&&(E={type:"text",value:E}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,h),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const E=v.children[v.children.length-1];E&&E.type==="text"?E.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,x),a.push(x)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Cr(r),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const Pd=function(e){if(e==null)return h9;if(typeof e=="function")return Ad(e);if(typeof e=="object")return Array.isArray(e)?d9(e):m9(e);if(typeof e=="string")return f9(e);throw new Error("Expected function, string, or object as test")};function d9(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Pd(e[n]);return Ad(s);function s(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function m9(e){const t=e;return Ad(n);function n(s){const i=s;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function f9(e){return Ad(t);function t(n){return n&&n.type===e}}function Ad(e){return t;function t(n,s,i){return!!(p9(n)&&e.call(this,n,typeof s=="number"?s:void 0,i||void 0))}}function h9(){return!0}function p9(e){return e!==null&&typeof e=="object"&&"type"in e}const ST=[],g9=!0,Ah=!1,b9="skip";function _T(e,t,n,s){let i;typeof t=="function"&&typeof n!="function"?(s=n,n=t):i=t;const o=Pd(i),r=s?-1:1;a(e,void 0,[])();function a(c,u,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const h=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=ST,p,g,v;if((!t||o(c,u,d[d.length-1]||void 0))&&(h=v9(n(c,d)),h[0]===Ah))return h;if("children"in c&&c.children){const x=c;if(x.children&&h[0]!==b9)for(g=(s?x.children.length:-1)+r,v=d.concat(x);g>-1&&g<x.children.length;){const E=x.children[g];if(p=a(E,g,v)(),p[0]===Ah)return p;g=typeof p[1]=="number"?p[1]:g+r}}return h}}}function v9(e){return Array.isArray(e)?e:typeof e=="number"?[g9,e]:e==null?ST:[e]}function jd(e,t,n,s){let i,o,r;typeof t=="function"&&typeof n!="function"?(o=void 0,r=t,i=n):(o=t,r=n,i=s),_T(e,o,a,i);function a(c,u){const d=u[u.length-1],m=d?d.children.indexOf(c):void 0;return r(c,m,d)}}const jh={}.hasOwnProperty,x9={};function N9(e,t){const n=t||x9,s=new Map,i=new Map,o=new Map,r={...s9,...n.handlers},a={all:u,applyData:w9,definitionById:s,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:r,one:c,options:n,patch:y9,wrap:E9};return jd(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?s:i,f=String(d.identifier).toUpperCase();m.has(f)||m.set(f,d)}}),a;function c(d,m){const f=d.type,h=a.handlers[f];if(jh.call(a.handlers,f)&&h)return h(a,d,m);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in d){const{children:g,...v}=d,x=Cr(v);return x.children=a.all(d),x}return Cr(d)}return(a.options.unknownHandler||D9)(a,d,m)}function u(d){const m=[];if("children"in d){const f=d.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],d);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=wx(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=wx(g.value))}Array.isArray(p)?m.push(...p):m.push(p)}}}return m}}function y9(e,t){e.position&&(t.position=oL(e))}function w9(e,t){let n=t;if(e&&e.data){const s=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const r="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:r}}n.type==="element"&&o&&Object.assign(n.properties,Cr(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function D9(e,t){const n=t.data||{},s="value"in t&&!(jh.call(n,"hProperties")||jh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function E9(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:`
`});++s<e.length;)s&&n.push({type:"text",value:`
`}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function wx(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Dx(e,t){const n=N9(e,t),s=n.one(e,void 0),i=u9(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&(W("children"in o),o.children.push({type:"text",value:`
`},i)),o}function T9(e,t){return e&&"run"in e?async function(n,s){const i=Dx(n,{file:s,...t});await e.run(i,s)}:function(n,s){return Dx(n,{file:s,...e||t})}}function Ex(e){if(e)throw e}var Bm,Tx;function S9(){if(Tx)return Bm;Tx=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var d=e.call(u,"constructor"),m=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!m)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},r=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},a=function(u,d){if(d==="__proto__")if(e.call(u,d)){if(s)return s(u,d).value}else return;return u[d]};return Bm=function c(){var u,d,m,f,h,p,g=arguments[0],v=1,x=arguments.length,E=!1;for(typeof g=="boolean"&&(E=g,g=arguments[1]||{},v=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});v<x;++v)if(u=arguments[v],u!=null)for(d in u)m=a(g,d),f=a(u,d),g!==f&&(E&&f&&(o(f)||(h=i(f)))?(h?(h=!1,p=m&&i(m)?m:[]):p=m&&o(m)?m:{},r(g,{name:d,newValue:c(E,p,f)})):typeof f<"u"&&r(g,{name:d,newValue:f}));return g},Bm}var _9=S9();const Hm=Lr(_9);function Ih(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function k9(){const e=[],t={run:n,use:s};return t;function n(...i){let o=-1;const r=i.pop();if(typeof r!="function")throw new TypeError("Expected function as last argument, not "+r);a(null,...i);function a(c,...u){const d=e[++o];let m=-1;if(c){r(c);return}for(;++m<i.length;)(u[m]===null||u[m]===void 0)&&(u[m]=i[m]);i=u,d?M9(d,a)(...u):r(null,...u)}}function s(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function M9(e,t){let n;return s;function s(...r){const a=e.length>r.length;let c;a&&r.push(i);try{c=e.apply(this,r)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(r,...a){n||(n=!0,t(r,...a))}function o(r){i(null,r)}}const xs={basename:C9,dirname:P9,extname:A9,join:j9,sep:"/"};function C9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zl(e);let n=0,s=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1);return s<0?"":e.slice(n,s)}if(t===e)return"";let r=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(s=i):(a=-1,s=r));return n===s?s=r:s<0&&(s=e.length),e.slice(n,s)}function P9(e){if(Zl(e),e.length===0)return".";let t=-1,n=e.length,s;for(;--n;)if(e.codePointAt(n)===47){if(s){t=n;break}}else s||(s=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function A9(e){Zl(e);let t=e.length,n=-1,s=0,i=-1,o=0,r;for(;t--;){const a=e.codePointAt(t);if(a===47){if(r){s=t+1;break}continue}n<0&&(r=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===s+1?"":e.slice(i,n)}function j9(...e){let t=-1,n;for(;++t<e.length;)Zl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":I9(n)}function I9(e){Zl(e);const t=e.codePointAt(0)===47;let n=R9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function R9(e,t){let n="",s=0,i=-1,o=0,r=-1,a,c;for(;++r<=e.length;){if(r<e.length)a=e.codePointAt(r);else{if(a===47)break;a=47}if(a===47){if(!(i===r-1||o===1))if(i!==r-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",s=0):(n=n.slice(0,c),s=n.length-1-n.lastIndexOf("/")),i=r,o=0;continue}}else if(n.length>0){n="",s=0,i=r,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+e.slice(i+1,r):n=e.slice(i+1,r),s=r-i-1;i=r,o=0}else a===46&&o>-1?o++:o=-1}return n}function Zl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const V9={cwd:O9};function O9(){return"/"}function Rh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function L9(e){if(typeof e=="string")e=new URL(e);else if(!Rh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return F9(e)}function F9(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const s=t.codePointAt(n+2);if(s===70||s===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Um=["history","path","basename","stem","extname","dirname"];class kT{constructor(t){let n;t?Rh(t)?n={path:t}:typeof t=="string"||B9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":V9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<Um.length;){const o=Um[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Um.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?xs.basename(this.path):void 0}set basename(t){zm(t,"basename"),$m(t,"basename"),this.path=xs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?xs.dirname(this.path):void 0}set dirname(t){Sx(this.basename,"dirname"),this.path=xs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?xs.extname(this.path):void 0}set extname(t){if($m(t,"extname"),Sx(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Rh(t)&&(t=L9(t)),zm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?xs.basename(this.path,this.extname):void 0}set stem(t){zm(t,"stem"),$m(t,"stem"),this.path=xs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,s){const i=this.message(t,n,s);throw i.fatal=!0,i}info(t,n,s){const i=this.message(t,n,s);return i.fatal=void 0,i}message(t,n,s){const i=new on(t,n,s);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function $m(e,t){if(e&&e.includes(xs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xs.sep+"`")}function zm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Sx(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function B9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const H9=function(e){const s=this.constructor.prototype,i=s[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,s),o},U9={}.hasOwnProperty;class Ug extends H9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=k9()}copy(){const t=new Ug;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];t.use(...s)}return t.data(Hm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Gm("data",this.frozen),this.namespace[t]=n,this):U9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Gm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const i=n.call(t,...s);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=jc(t),s=this.parser||this.Parser;return Wm("parse",s),s(String(n),n)}process(t,n){const s=this;return this.freeze(),Wm("process",this.parser||this.Parser),qm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,r){const a=jc(t),c=s.parse(a);s.run(c,a,function(d,m,f){if(d||!m||!f)return u(d);const h=m,p=s.stringify(h,f);W9(p)?f.value=p:f.result=p,u(d,f)});function u(d,m){d||!m?r(d):o?o(m):(W(n,"`done` is defined if `resolve` is not"),n(void 0,m))}}}processSync(t){let n=!1,s;return this.freeze(),Wm("processSync",this.parser||this.Parser),qm("processSync",this.compiler||this.Compiler),this.process(t,i),kx("processSync","process",n),W(s,"we either bailed on an error or have a tree"),s;function i(o,r){n=!0,Ex(o),s=r}}run(t,n,s){_x(t),this.freeze();const i=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(r,a){W(typeof n!="function","`file` cant be a `done` anymore, we checked");const c=jc(n);i.run(t,c,u);function u(d,m,f){const h=m||t;d?a(d):r?r(h):(W(s,"`done` is defined if `resolve` is not"),s(void 0,h,f))}}}runSync(t,n){let s=!1,i;return this.run(t,n,o),kx("runSync","run",s),W(i,"we either bailed on an error or have a tree"),i;function o(r,a){Ex(r),i=a,s=!0}}stringify(t,n){this.freeze();const s=jc(n),i=this.compiler||this.Compiler;return qm("stringify",i),_x(t),i(t,s)}use(t,...n){const s=this.attachers,i=this.namespace;if(Gm("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):r(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...m]=u;c(d,m)}else r(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function r(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Hm(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const m=u[d];o(m)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let m=-1,f=-1;for(;++m<s.length;)if(s[m][0]===u){f=m;break}if(f===-1)s.push([u,...d]);else if(d.length>0){let[h,...p]=d;const g=s[f][1];Ih(g)&&Ih(h)&&(h=Hm(!0,g,h)),s[f]=[u,h,...p]}}}}const $9=new Ug().freeze();function Wm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function qm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Gm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _x(e){if(!Ih(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function kx(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function jc(e){return z9(e)?e:new kT(e)}function z9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function W9(e){return typeof e=="string"||q9(e)}function q9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const G9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Mx=[],Cx={allowDangerousHtml:!0},Y9=/^(https?|ircs?|mailto|xmpp)$/i,K9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function X9(e){const t=J9(e),n=Q9(e);return Z9(t.runSync(t.parse(n),n),e)}function J9(e){const t=e.rehypePlugins||Mx,n=e.remarkPlugins||Mx,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Cx}:Cx;return $9().use(P7).use(n).use(T9,s).use(t)}function Q9(e){const t=e.children||"",n=new kT;return typeof t=="string"?n.value=t:Sh("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function Z9(e,t){const n=t.allowedElements,s=t.allowElement,i=t.components,o=t.disallowedElements,r=t.skipHtml,a=t.unwrapDisallowed,c=t.urlTransform||e8;for(const d of K9)Object.hasOwn(t,d.from)&&Sh("Unexpected `"+d.from+"` prop, "+(d.to?"use `"+d.to+"` instead":"remove it")+" (see <"+G9+"#"+d.id+"> for more info)");return n&&o&&Sh("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),jd(e,u),uL(e,{Fragment:q.Fragment,components:i,ignoreInvalidStyle:!0,jsx:q.jsx,jsxs:q.jsxs,passKeys:!0,passNode:!0});function u(d,m,f){if(d.type==="raw"&&f&&typeof m=="number")return r?f.children.splice(m,1):f.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let h;for(h in Rm)if(Object.hasOwn(Rm,h)&&Object.hasOwn(d.properties,h)){const p=d.properties[h],g=Rm[h];(g===null||g.includes(d.tagName))&&(d.properties[h]=c(String(p||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!h&&s&&typeof m=="number"&&(h=!s(d,m,f)),h&&f&&typeof m=="number")return a&&d.children?f.children.splice(m,1,...d.children):f.children.splice(m,1),m}}}function e8(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||s!==-1&&t>s||Y9.test(e.slice(0,t))?e:""}const Px=/[#.]/g;function t8(e,t){const n=e||"",s={};let i=0,o,r;for(;i<n.length;){Px.lastIndex=i;const a=Px.exec(n),c=n.slice(i,a?a.index:n.length);c&&(o?o==="#"?s.id=c:Array.isArray(s.className)?s.className.push(c):s.className=[c]:r=c,i+=c.length),a&&(o=a[0],i++)}return{type:"element",tagName:r||t||"div",properties:s,children:[]}}function MT(e,t,n){const s=n?o8(n):void 0;function i(o,r,...a){let c;if(o==null){c={type:"root",children:[]};const u=r;a.unshift(u)}else{c=t8(o,t);const u=c.tagName.toLowerCase(),d=s?s.get(u):void 0;if(c.tagName=d||u,n8(r))a.unshift(r);else for(const[m,f]of Object.entries(r))s8(e,c.properties,m,f)}for(const u of a)Vh(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function n8(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const s of n){const i=t[s];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const r of o)if(typeof r!="number"&&typeof r!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function s8(e,t,n,s){const i=Pg(e,n);let o;if(s!=null){if(typeof s=="number"){if(Number.isNaN(s))return;o=s}else typeof s=="boolean"?o=s:typeof s=="string"?i.spaceSeparated?o=K0(s):i.commaSeparated?o=z0(s):i.commaOrSpaceSeparated?o=K0(z0(s).join(" ")):o=Ax(i,i.property,s):Array.isArray(s)?o=[...s]:o=i.property==="style"?i8(s):String(s);if(Array.isArray(o)){const r=[];for(const a of o)r.push(Ax(i,i.property,a));o=r}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function Vh(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Vh(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Vh(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Ax(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||kl(n)===kl(t)))return!0}return n}function i8(e){const t=[];for(const[n,s]of Object.entries(e))t.push([n,s].join(": "));return t.join("; ")}function o8(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const r8=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],a8=MT(Sd,"div"),l8=MT(Xr,"g",r8);function c8(e){const t=String(e),n=[];return{toOffset:i,toPoint:s};function s(o){if(typeof o=="number"&&o>-1&&o<=t.length){let r=0;for(;;){let a=n[r];if(a===void 0){const c=jx(t,n[r-1]);a=c===-1?t.length+1:c+1,n[r]=a}if(a>o)return{line:r+1,column:o-(r>0?n[r-1]:0)+1,offset:o};r++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const a=n[n.length-1],c=jx(t,a),u=c===-1?t.length+1:c+1;if(a===u)break;n.push(u)}const r=(o.line>1?n[o.line-2]:0)+o.column-1;if(r<n[o.line-1])return r}}}function jx(e,t){const n=e.indexOf("\r",t),s=e.indexOf(`
`,t);return s===-1?n:n===-1||n+1===s?s:n<s?n:s}const ao={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},CT={}.hasOwnProperty,u8=Object.prototype;function d8(e,t){const n=t||{};return $g({file:n.file||void 0,location:!1,schema:n.space==="svg"?Xr:Sd,verbose:n.verbose||!1},e)}function $g(e,t){let n;switch(t.nodeName){case"#comment":{const s=t;return n={type:"comment",value:s.data},bu(e,s,n),n}case"#document":case"#document-fragment":{const s=t,i="mode"in s?s.mode==="quirks"||s.mode==="limited-quirks":!1;if(n={type:"root",children:PT(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),r=c8(o),a=r.toPoint(0),c=r.toPoint(o.length);W(a,"expected `start`"),W(c,"expected `end`"),n.position={start:a,end:c}}return n}case"#documentType":{const s=t;return n={type:"doctype"},bu(e,s,n),n}case"#text":{const s=t;return n={type:"text",value:s.value},bu(e,s,n),n}default:return n=m8(e,t),n}}function PT(e,t){let n=-1;const s=[];for(;++n<t.length;){const i=$g(e,t[n]);s.push(i)}return s}function m8(e,t){const n=e.schema;e.schema=t.namespaceURI===ao.svg?Xr:Sd;let s=-1;const i={};for(;++s<t.attrs.length;){const a=t.attrs[s],c=(a.prefix?a.prefix+":":"")+a.name;CT.call(u8,c)||(i[c]=a.value)}const r=(e.schema.space==="svg"?l8:a8)(t.tagName,i,PT(e,t.childNodes));if(bu(e,t,r),r.tagName==="template"){const a=t,c=a.sourceCodeLocation,u=c&&c.startTag&&gr(c.startTag),d=c&&c.endTag&&gr(c.endTag),m=$g(e,a.content);u&&d&&e.file&&(m.position={start:u.end,end:d.start}),r.content=m}return e.schema=n,r}function bu(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const s=f8(e,n,t.sourceCodeLocation);s&&(e.location=!0,n.position=s)}}function f8(e,t,n){const s=gr(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(s&&!n.endTag&&i&&i.position&&i.position.end&&(s.end=Object.assign({},i.position.end)),e.verbose){const o={};let r;if(n.attrs)for(r in n.attrs)CT.call(n.attrs,r)&&(o[Pg(e.schema,r).property]=gr(n.attrs[r]));W(n.startTag,"a start tag should exist");const a=gr(n.startTag),c=n.endTag?gr(n.endTag):void 0,u={opening:a};c&&(u.closing=c),u.properties=o,t.data={position:u}}}return s}function gr(e){const t=Ix({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Ix({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Ix(e){return e.line&&e.column?e:void 0}class ec{constructor(t,n,s){this.property=t,this.normal=n,s&&(this.space=s)}}ec.prototype.property={};ec.prototype.normal={};ec.prototype.space=null;function AT(e,t){const n={},s={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(s,e[i].normal);return new ec(n,s,t)}function Oh(e){return e.toLowerCase()}class Xn{constructor(t,n){this.property=t,this.attribute=n}}Xn.prototype.space=null;Xn.prototype.boolean=!1;Xn.prototype.booleanish=!1;Xn.prototype.overloadedBoolean=!1;Xn.prototype.number=!1;Xn.prototype.commaSeparated=!1;Xn.prototype.spaceSeparated=!1;Xn.prototype.commaOrSpaceSeparated=!1;Xn.prototype.mustUseProperty=!1;Xn.prototype.defined=!1;let h8=0;const Re=Co(),Pt=Co(),jT=Co(),he=Co(),ut=Co(),xr=Co(),kn=Co();function Co(){return 2**++h8}const Lh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:Pt,commaOrSpaceSeparated:kn,commaSeparated:xr,number:he,overloadedBoolean:jT,spaceSeparated:ut},Symbol.toStringTag,{value:"Module"})),Ym=Object.keys(Lh);class zg extends Xn{constructor(t,n,s,i){let o=-1;if(super(t,n),Rx(this,"space",i),typeof s=="number")for(;++o<Ym.length;){const r=Ym[o];Rx(this,Ym[o],(s&Lh[r])===Lh[r])}}}zg.prototype.defined=!0;function Rx(e,t,n){n&&(e[t]=n)}const p8={}.hasOwnProperty;function Qr(e){const t={},n={};let s;for(s in e.properties)if(p8.call(e.properties,s)){const i=e.properties[s],o=new zg(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),t[s]=o,n[Oh(s)]=s,n[Oh(o.attribute)]=s}return new ec(t,n,e.space)}const IT=Qr({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),RT=Qr({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function VT(e,t){return t in e?e[t]:t}function OT(e,t){return VT(e,t.toLowerCase())}const LT=Qr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:OT,properties:{xmlns:null,xmlnsXLink:null}}),FT=Qr({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Pt,ariaAutoComplete:null,ariaBusy:Pt,ariaChecked:Pt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:ut,ariaCurrent:null,ariaDescribedBy:ut,ariaDetails:null,ariaDisabled:Pt,ariaDropEffect:ut,ariaErrorMessage:null,ariaExpanded:Pt,ariaFlowTo:ut,ariaGrabbed:Pt,ariaHasPopup:null,ariaHidden:Pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ut,ariaLevel:he,ariaLive:null,ariaModal:Pt,ariaMultiLine:Pt,ariaMultiSelectable:Pt,ariaOrientation:null,ariaOwns:ut,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:Pt,ariaReadOnly:Pt,ariaRelevant:null,ariaRequired:Pt,ariaRoleDescription:ut,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:Pt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null}}),g8=Qr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:OT,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xr,acceptCharset:ut,accessKey:ut,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:ut,autoFocus:Re,autoPlay:Re,blocking:ut,capture:null,charSet:null,checked:Re,cite:null,className:ut,cols:he,colSpan:null,content:null,contentEditable:Pt,controls:Re,controlsList:ut,coords:he|xr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:jT,draggable:Pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:ut,height:he,hidden:Re,high:he,href:null,hrefLang:null,htmlFor:ut,httpEquiv:ut,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:ut,itemRef:ut,itemScope:Re,itemType:ut,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:he,pattern:null,ping:ut,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:ut,required:Re,reversed:Re,rows:he,rowSpan:he,sandbox:ut,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:Pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:Pt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ut,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:Pt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:he,security:null,unselectable:null}}),b8=Qr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:VT,properties:{about:kn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:ut,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xr,g2:xr,glyphName:xr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ut,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kn,rev:kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kn,requiredFeatures:kn,requiredFonts:kn,requiredFormats:kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),v8=/^data[-\w.:]+$/i,Vx=/-[a-z]/g,x8=/[A-Z]/g;function N8(e,t){const n=Oh(t);let s=t,i=Xn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&v8.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Vx,w8);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Vx.test(o)){let r=o.replace(x8,y8);r.charAt(0)!=="-"&&(r="-"+r),t="data"+r}}i=zg}return new i(s,t)}function y8(e){return"-"+e.toLowerCase()}function w8(e){return e.charAt(1).toUpperCase()}const D8=AT([RT,IT,LT,FT,g8],"html"),BT=AT([RT,IT,LT,FT,b8],"svg"),Ox={}.hasOwnProperty;function HT(e,t){const n=t||{};function s(i,...o){let r=s.invalid;const a=s.handlers;if(i&&Ox.call(i,e)){const c=String(i[e]);r=Ox.call(a,c)?a[c]:s.unknown}if(r)return r.call(this,i,...o)}return s.handlers=n.handlers||{},s.invalid=n.invalid,s.unknown=n.unknown,s}const E8={},T8={}.hasOwnProperty,UT=HT("type",{handlers:{root:_8,element:A8,text:C8,comment:P8,doctype:M8}});function S8(e,t){const s=(t||E8).space;return UT(e,s==="svg"?BT:D8)}function _8(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Wg(e.children,n,t),Zr(e,n),n}function k8(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Wg(e.children,n,t),Zr(e,n),n}function M8(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Zr(e,t),t}function C8(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Zr(e,t),t}function P8(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Zr(e,t),t}function A8(e,t){const n=t;let s=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=BT);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&T8.call(e.properties,o)){const c=j8(s,o,e.properties[o]);c&&i.push(c)}}const r=s.space;W(r);const a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:ao[r],childNodes:[],parentNode:null};return a.childNodes=Wg(e.children,a,s),Zr(e,a),e.tagName==="template"&&e.content&&(a.content=k8(e.content,s)),a}function j8(e,t,n){const s=N8(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&s.boolean)return;Array.isArray(n)&&(n=s.commaSeparated?qE(n):eT(n));const i={name:s.attribute,value:n===!0?"":String(n)};if(s.space&&s.space!=="html"&&s.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=s.attribute.slice(0,o)),i.namespace=ao[s.space]}return i}function Wg(e,t,n){let s=-1;const i=[];if(e)for(;++s<e.length;){const o=UT(e[s],n);o.parentNode=t,i.push(o)}return i}function Zr(e,t){const n=e.position;n&&n.start&&n.end&&(W(typeof n.start.offset=="number"),W(typeof n.end.offset=="number"),t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const I8=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],R8=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ht="";var V;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(V||(V={}));const vn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function $T(e){return e>=55296&&e<=57343}function V8(e){return e>=56320&&e<=57343}function O8(e,t){return(e-55296)*1024+9216+t}function zT(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function WT(e){return e>=64976&&e<=65007||R8.has(e)}var te;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(te||(te={}));const L8=65536;class F8{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=L8,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:s,col:i,offset:o}=this,r=i+n,a=o+n;return{code:t,startLine:s,endLine:s,startCol:r,endCol:r,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(V8(n))return this.pos++,this._addGap(),O8(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,V.EOF;return this._err(te.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let s=0;s<t.length;s++)if((this.html.charCodeAt(this.pos+s)|32)!==t.charCodeAt(s))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,V.EOF;const s=this.html.charCodeAt(n);return s===V.CARRIAGE_RETURN?V.LINE_FEED:s}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,V.EOF;let t=this.html.charCodeAt(this.pos);return t===V.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,V.LINE_FEED):t===V.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,$T(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===V.LINE_FEED||t===V.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){zT(t)?this._err(te.controlCharacterInInputStream):WT(t)&&this._err(te.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var He;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(He||(He={}));function qT(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const B8=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),H8=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function U8(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=H8.get(e))!==null&&t!==void 0?t:e}var Ht;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ht||(Ht={}));const $8=32;var wi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(wi||(wi={}));function Fh(e){return e>=Ht.ZERO&&e<=Ht.NINE}function z8(e){return e>=Ht.UPPER_A&&e<=Ht.UPPER_F||e>=Ht.LOWER_A&&e<=Ht.LOWER_F}function W8(e){return e>=Ht.UPPER_A&&e<=Ht.UPPER_Z||e>=Ht.LOWER_A&&e<=Ht.LOWER_Z||Fh(e)}function q8(e){return e===Ht.EQUALS||W8(e)}var Lt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Lt||(Lt={}));var Ks;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ks||(Ks={}));class G8{constructor(t,n,s){this.decodeTree=t,this.emitCodePoint=n,this.errors=s,this.state=Lt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ks.Strict}startEntity(t){this.decodeMode=t,this.state=Lt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Lt.EntityStart:return t.charCodeAt(n)===Ht.NUM?(this.state=Lt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Lt.NamedEntity,this.stateNamedEntity(t,n));case Lt.NumericStart:return this.stateNumericStart(t,n);case Lt.NumericDecimal:return this.stateNumericDecimal(t,n);case Lt.NumericHex:return this.stateNumericHex(t,n);case Lt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|$8)===Ht.LOWER_X?(this.state=Lt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Lt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,s,i){if(n!==s){const o=s-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const s=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Fh(i)||z8(i))n+=1;else return this.addToNumericResult(t,s,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,s,n,16),-1}stateNumericDecimal(t,n){const s=n;for(;n<t.length;){const i=t.charCodeAt(n);if(Fh(i))n+=1;else return this.addToNumericResult(t,s,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,s,n,10),-1}emitNumericEntity(t,n){var s;if(this.consumed<=n)return(s=this.errors)===null||s===void 0||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ht.SEMI)this.consumed+=1;else if(this.decodeMode===Ks.Strict)return 0;return this.emitCodePoint(U8(this.result),this.consumed),this.errors&&(t!==Ht.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:s}=this;let i=s[this.treeIndex],o=(i&wi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const r=t.charCodeAt(n);if(this.treeIndex=Y8(s,i,this.treeIndex+Math.max(1,o),r),this.treeIndex<0)return this.result===0||this.decodeMode===Ks.Attribute&&(o===0||q8(r))?0:this.emitNotTerminatedNamedEntity();if(i=s[this.treeIndex],o=(i&wi.VALUE_LENGTH)>>14,o!==0){if(r===Ht.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ks.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:s}=this,i=(s[n]&wi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,s){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~wi.VALUE_LENGTH:i[t+1],s),n===3&&this.emitCodePoint(i[t+2],s),s}end(){var t;switch(this.state){case Lt.NamedEntity:return this.result!==0&&(this.decodeMode!==Ks.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Lt.NumericDecimal:return this.emitNumericEntity(0,2);case Lt.NumericHex:return this.emitNumericEntity(0,3);case Lt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Lt.EntityStart:return 0}}}function Y8(e,t,n,s){const i=(t&wi.BRANCH_LENGTH)>>7,o=t&wi.JUMP_TABLE;if(i===0)return o!==0&&s===o?n:-1;if(o){const c=s-o;return c<0||c>=i?-1:e[n+c]-1}let r=n,a=r+i-1;for(;r<=a;){const c=r+a>>>1,u=e[c];if(u<s)r=c+1;else if(u>s)a=c-1;else return e[c+i]}return-1}var re;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(re||(re={}));var vo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(vo||(vo={}));var $n;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})($n||($n={}));var J;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(J||(J={}));var y;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(y||(y={}));const K8=new Map([[J.A,y.A],[J.ADDRESS,y.ADDRESS],[J.ANNOTATION_XML,y.ANNOTATION_XML],[J.APPLET,y.APPLET],[J.AREA,y.AREA],[J.ARTICLE,y.ARTICLE],[J.ASIDE,y.ASIDE],[J.B,y.B],[J.BASE,y.BASE],[J.BASEFONT,y.BASEFONT],[J.BGSOUND,y.BGSOUND],[J.BIG,y.BIG],[J.BLOCKQUOTE,y.BLOCKQUOTE],[J.BODY,y.BODY],[J.BR,y.BR],[J.BUTTON,y.BUTTON],[J.CAPTION,y.CAPTION],[J.CENTER,y.CENTER],[J.CODE,y.CODE],[J.COL,y.COL],[J.COLGROUP,y.COLGROUP],[J.DD,y.DD],[J.DESC,y.DESC],[J.DETAILS,y.DETAILS],[J.DIALOG,y.DIALOG],[J.DIR,y.DIR],[J.DIV,y.DIV],[J.DL,y.DL],[J.DT,y.DT],[J.EM,y.EM],[J.EMBED,y.EMBED],[J.FIELDSET,y.FIELDSET],[J.FIGCAPTION,y.FIGCAPTION],[J.FIGURE,y.FIGURE],[J.FONT,y.FONT],[J.FOOTER,y.FOOTER],[J.FOREIGN_OBJECT,y.FOREIGN_OBJECT],[J.FORM,y.FORM],[J.FRAME,y.FRAME],[J.FRAMESET,y.FRAMESET],[J.H1,y.H1],[J.H2,y.H2],[J.H3,y.H3],[J.H4,y.H4],[J.H5,y.H5],[J.H6,y.H6],[J.HEAD,y.HEAD],[J.HEADER,y.HEADER],[J.HGROUP,y.HGROUP],[J.HR,y.HR],[J.HTML,y.HTML],[J.I,y.I],[J.IMG,y.IMG],[J.IMAGE,y.IMAGE],[J.INPUT,y.INPUT],[J.IFRAME,y.IFRAME],[J.KEYGEN,y.KEYGEN],[J.LABEL,y.LABEL],[J.LI,y.LI],[J.LINK,y.LINK],[J.LISTING,y.LISTING],[J.MAIN,y.MAIN],[J.MALIGNMARK,y.MALIGNMARK],[J.MARQUEE,y.MARQUEE],[J.MATH,y.MATH],[J.MENU,y.MENU],[J.META,y.META],[J.MGLYPH,y.MGLYPH],[J.MI,y.MI],[J.MO,y.MO],[J.MN,y.MN],[J.MS,y.MS],[J.MTEXT,y.MTEXT],[J.NAV,y.NAV],[J.NOBR,y.NOBR],[J.NOFRAMES,y.NOFRAMES],[J.NOEMBED,y.NOEMBED],[J.NOSCRIPT,y.NOSCRIPT],[J.OBJECT,y.OBJECT],[J.OL,y.OL],[J.OPTGROUP,y.OPTGROUP],[J.OPTION,y.OPTION],[J.P,y.P],[J.PARAM,y.PARAM],[J.PLAINTEXT,y.PLAINTEXT],[J.PRE,y.PRE],[J.RB,y.RB],[J.RP,y.RP],[J.RT,y.RT],[J.RTC,y.RTC],[J.RUBY,y.RUBY],[J.S,y.S],[J.SCRIPT,y.SCRIPT],[J.SEARCH,y.SEARCH],[J.SECTION,y.SECTION],[J.SELECT,y.SELECT],[J.SOURCE,y.SOURCE],[J.SMALL,y.SMALL],[J.SPAN,y.SPAN],[J.STRIKE,y.STRIKE],[J.STRONG,y.STRONG],[J.STYLE,y.STYLE],[J.SUB,y.SUB],[J.SUMMARY,y.SUMMARY],[J.SUP,y.SUP],[J.TABLE,y.TABLE],[J.TBODY,y.TBODY],[J.TEMPLATE,y.TEMPLATE],[J.TEXTAREA,y.TEXTAREA],[J.TFOOT,y.TFOOT],[J.TD,y.TD],[J.TH,y.TH],[J.THEAD,y.THEAD],[J.TITLE,y.TITLE],[J.TR,y.TR],[J.TRACK,y.TRACK],[J.TT,y.TT],[J.U,y.U],[J.UL,y.UL],[J.SVG,y.SVG],[J.VAR,y.VAR],[J.WBR,y.WBR],[J.XMP,y.XMP]]);function ea(e){var t;return(t=K8.get(e))!==null&&t!==void 0?t:y.UNKNOWN}const de=y,X8={[re.HTML]:new Set([de.ADDRESS,de.APPLET,de.AREA,de.ARTICLE,de.ASIDE,de.BASE,de.BASEFONT,de.BGSOUND,de.BLOCKQUOTE,de.BODY,de.BR,de.BUTTON,de.CAPTION,de.CENTER,de.COL,de.COLGROUP,de.DD,de.DETAILS,de.DIR,de.DIV,de.DL,de.DT,de.EMBED,de.FIELDSET,de.FIGCAPTION,de.FIGURE,de.FOOTER,de.FORM,de.FRAME,de.FRAMESET,de.H1,de.H2,de.H3,de.H4,de.H5,de.H6,de.HEAD,de.HEADER,de.HGROUP,de.HR,de.HTML,de.IFRAME,de.IMG,de.INPUT,de.LI,de.LINK,de.LISTING,de.MAIN,de.MARQUEE,de.MENU,de.META,de.NAV,de.NOEMBED,de.NOFRAMES,de.NOSCRIPT,de.OBJECT,de.OL,de.P,de.PARAM,de.PLAINTEXT,de.PRE,de.SCRIPT,de.SECTION,de.SELECT,de.SOURCE,de.STYLE,de.SUMMARY,de.TABLE,de.TBODY,de.TD,de.TEMPLATE,de.TEXTAREA,de.TFOOT,de.TH,de.THEAD,de.TITLE,de.TR,de.TRACK,de.UL,de.WBR,de.XMP]),[re.MATHML]:new Set([de.MI,de.MO,de.MN,de.MS,de.MTEXT,de.ANNOTATION_XML]),[re.SVG]:new Set([de.TITLE,de.FOREIGN_OBJECT,de.DESC]),[re.XLINK]:new Set,[re.XML]:new Set,[re.XMLNS]:new Set},Bh=new Set([de.H1,de.H2,de.H3,de.H4,de.H5,de.H6]);J.STYLE,J.SCRIPT,J.XMP,J.IFRAME,J.NOEMBED,J.NOFRAMES,J.PLAINTEXT;var F;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(F||(F={}));const St={DATA:F.DATA,RCDATA:F.RCDATA,RAWTEXT:F.RAWTEXT,SCRIPT_DATA:F.SCRIPT_DATA,PLAINTEXT:F.PLAINTEXT,CDATA_SECTION:F.CDATA_SECTION};function J8(e){return e>=V.DIGIT_0&&e<=V.DIGIT_9}function Ra(e){return e>=V.LATIN_CAPITAL_A&&e<=V.LATIN_CAPITAL_Z}function Q8(e){return e>=V.LATIN_SMALL_A&&e<=V.LATIN_SMALL_Z}function mi(e){return Q8(e)||Ra(e)}function Lx(e){return mi(e)||J8(e)}function Ic(e){return e+32}function GT(e){return e===V.SPACE||e===V.LINE_FEED||e===V.TABULATION||e===V.FORM_FEED}function Fx(e){return GT(e)||e===V.SOLIDUS||e===V.GREATER_THAN_SIGN}function Z8(e){return e===V.NULL?te.nullCharacterReference:e>1114111?te.characterReferenceOutsideUnicodeRange:$T(e)?te.surrogateCharacterReference:WT(e)?te.noncharacterCharacterReference:zT(e)||e===V.CARRIAGE_RETURN?te.controlCharacterReference:null}class eB{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=F.DATA,this.returnState=F.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new F8(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new G8(B8,(s,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(s)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(te.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:s=>{this._err(te.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+s)},validateNumericCharacterReference:s=>{const i=Z8(s);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var s,i;(i=(s=this.handler).onParseError)===null||i===void 0||i.call(s,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,s){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||s==null||s()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:He.START_TAG,tagName:"",tagID:y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:He.END_TAG,tagName:"",tagID:y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:He.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:He.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const s=this.currentToken;if(qT(s,this.currentAttr.name)===null){if(s.attrs.push(this.currentAttr),s.location&&this.currentLocation){const i=(t=(n=s.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(te.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ea(t.tagName),t.type===He.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(te.endTagWithAttributes),t.selfClosing&&this._err(te.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case He.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case He.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case He.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:He.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=GT(t)?He.WHITESPACE_CHARACTER:t===V.NULL?He.NULL_CHARACTER:He.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(He.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=F.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ks.Attribute:Ks.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===F.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case F.DATA:{this._stateData(t);break}case F.RCDATA:{this._stateRcdata(t);break}case F.RAWTEXT:{this._stateRawtext(t);break}case F.SCRIPT_DATA:{this._stateScriptData(t);break}case F.PLAINTEXT:{this._statePlaintext(t);break}case F.TAG_OPEN:{this._stateTagOpen(t);break}case F.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case F.TAG_NAME:{this._stateTagName(t);break}case F.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case F.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case F.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case F.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case F.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case F.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case F.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case F.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case F.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case F.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case F.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case F.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case F.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case F.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case F.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case F.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case F.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case F.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case F.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case F.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case F.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case F.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case F.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case F.BOGUS_COMMENT:{this._stateBogusComment(t);break}case F.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case F.COMMENT_START:{this._stateCommentStart(t);break}case F.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case F.COMMENT:{this._stateComment(t);break}case F.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case F.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case F.COMMENT_END:{this._stateCommentEnd(t);break}case F.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case F.DOCTYPE:{this._stateDoctype(t);break}case F.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case F.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case F.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case F.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case F.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case F.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case F.CDATA_SECTION:{this._stateCdataSection(t);break}case F.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case F.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case F.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case F.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case V.LESS_THAN_SIGN:{this.state=F.TAG_OPEN;break}case V.AMPERSAND:{this._startCharacterReference();break}case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitCodePoint(t);break}case V.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case V.AMPERSAND:{this._startCharacterReference();break}case V.LESS_THAN_SIGN:{this.state=F.RCDATA_LESS_THAN_SIGN;break}case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case V.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case V.LESS_THAN_SIGN:{this.state=F.RAWTEXT_LESS_THAN_SIGN;break}case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case V.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_LESS_THAN_SIGN;break}case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case V.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case V.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(mi(t))this._createStartTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case V.EXCLAMATION_MARK:{this.state=F.MARKUP_DECLARATION_OPEN;break}case V.SOLIDUS:{this.state=F.END_TAG_OPEN;break}case V.QUESTION_MARK:{this._err(te.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t);break}case V.EOF:{this._err(te.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(te.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=F.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(mi(t))this._createEndTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case V.GREATER_THAN_SIGN:{this._err(te.missingEndTagName),this.state=F.DATA;break}case V.EOF:{this._err(te.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(te.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this.state=F.BEFORE_ATTRIBUTE_NAME;break}case V.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.tagName+=ht;break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Ra(t)?Ic(t):t)}}_stateRcdataLessThanSign(t){t===V.SOLIDUS?this.state=F.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){mi(t)?(this.state=F.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=F.BEFORE_ATTRIBUTE_NAME,!1;case V.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=F.SELF_CLOSING_START_TAG,!1;case V.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=F.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===V.SOLIDUS?this.state=F.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){mi(t)?(this.state=F.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case V.SOLIDUS:{this.state=F.SCRIPT_DATA_END_TAG_OPEN;break}case V.EXCLAMATION_MARK:{this.state=F.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=F.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){mi(t)?(this.state=F.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===V.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===V.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case V.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case V.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case V.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(ht);break}case V.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case V.HYPHEN_MINUS:{this._emitChars("-");break}case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case V.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(ht);break}case V.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===V.SOLIDUS?this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:mi(t)?(this._emitChars("<"),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){mi(t)?(this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(vn.SCRIPT,!1)&&Fx(this.preprocessor.peek(vn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<vn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case V.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case V.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case V.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ht);break}case V.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case V.HYPHEN_MINUS:{this._emitChars("-");break}case V.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case V.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ht);break}case V.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===V.SOLIDUS?(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(vn.SCRIPT,!1)&&Fx(this.preprocessor.peek(vn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<vn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.SOLIDUS:case V.GREATER_THAN_SIGN:case V.EOF:{this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case V.EQUALS_SIGN:{this._err(te.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=F.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:case V.SOLIDUS:case V.GREATER_THAN_SIGN:case V.EOF:{this._leaveAttrName(),this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case V.EQUALS_SIGN:{this._leaveAttrName(),this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case V.QUOTATION_MARK:case V.APOSTROPHE:case V.LESS_THAN_SIGN:{this._err(te.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.name+=ht;break}default:this.currentAttr.name+=String.fromCodePoint(Ra(t)?Ic(t):t)}}_stateAfterAttributeName(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case V.EQUALS_SIGN:{this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.QUOTATION_MARK:{this.state=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case V.APOSTROPHE:{this.state=F.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case V.GREATER_THAN_SIGN:{this._err(te.missingAttributeValue),this.state=F.DATA,this.emitCurrentTagToken();break}default:this.state=F.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case V.QUOTATION_MARK:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case V.AMPERSAND:{this._startCharacterReference();break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.value+=ht;break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case V.APOSTROPHE:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case V.AMPERSAND:{this._startCharacterReference();break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.value+=ht;break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case V.AMPERSAND:{this._startCharacterReference();break}case V.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case V.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.value+=ht;break}case V.QUOTATION_MARK:case V.APOSTROPHE:case V.LESS_THAN_SIGN:case V.EQUALS_SIGN:case V.GRAVE_ACCENT:{this._err(te.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case V.SOLIDUS:{this._leaveAttrValue(),this.state=F.SELF_CLOSING_START_TAG;break}case V.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this._err(te.missingWhitespaceBetweenAttributes),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case V.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=F.DATA,this.emitCurrentTagToken();break}case V.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this._err(te.unexpectedSolidusInTag),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case V.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.data+=ht;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(vn.DASH_DASH,!0)?(this._createCommentToken(vn.DASH_DASH.length+1),this.state=F.COMMENT_START):this._consumeSequenceIfMatch(vn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(vn.DOCTYPE.length+1),this.state=F.DOCTYPE):this._consumeSequenceIfMatch(vn.CDATA_START,!0)?this.inForeignNode?this.state=F.CDATA_SECTION:(this._err(te.cdataInHtmlContent),this._createCommentToken(vn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=F.BOGUS_COMMENT):this._ensureHibernation()||(this._err(te.incorrectlyOpenedComment),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case V.HYPHEN_MINUS:{this.state=F.COMMENT_START_DASH;break}case V.GREATER_THAN_SIGN:{this._err(te.abruptClosingOfEmptyComment),this.state=F.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case V.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case V.GREATER_THAN_SIGN:{this._err(te.abruptClosingOfEmptyComment),this.state=F.DATA,this.emitCurrentComment(n);break}case V.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case V.HYPHEN_MINUS:{this.state=F.COMMENT_END_DASH;break}case V.LESS_THAN_SIGN:{n.data+="<",this.state=F.COMMENT_LESS_THAN_SIGN;break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.data+=ht;break}case V.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case V.EXCLAMATION_MARK:{n.data+="!",this.state=F.COMMENT_LESS_THAN_SIGN_BANG;break}case V.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===V.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=F.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===V.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=F.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==V.GREATER_THAN_SIGN&&t!==V.EOF&&this._err(te.nestedComment),this.state=F.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case V.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case V.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case V.EXCLAMATION_MARK:{this.state=F.COMMENT_END_BANG;break}case V.HYPHEN_MINUS:{n.data+="-";break}case V.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case V.HYPHEN_MINUS:{n.data+="--!",this.state=F.COMMENT_END_DASH;break}case V.GREATER_THAN_SIGN:{this._err(te.incorrectlyClosedComment),this.state=F.DATA,this.emitCurrentComment(n);break}case V.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=F.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_NAME;break}case V.GREATER_THAN_SIGN:{this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case V.EOF:{this._err(te.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingWhitespaceBeforeDoctypeName),this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Ra(t))this._createDoctypeToken(String.fromCharCode(Ic(t))),this.state=F.DOCTYPE_NAME;else switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.NULL:{this._err(te.unexpectedNullCharacter),this._createDoctypeToken(ht),this.state=F.DOCTYPE_NAME;break}case V.GREATER_THAN_SIGN:{this._err(te.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.EOF:{this._err(te.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=F.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this.state=F.AFTER_DOCTYPE_NAME;break}case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.name+=ht;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Ra(t)?Ic(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(vn.PUBLIC,!1)?this.state=F.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(vn.SYSTEM,!1)?this.state=F.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(te.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.QUOTATION_MARK:{this._err(te.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case V.APOSTROPHE:{this._err(te.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case V.GREATER_THAN_SIGN:{this._err(te.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.QUOTATION_MARK:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case V.APOSTROPHE:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case V.GREATER_THAN_SIGN:{this._err(te.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case V.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.publicId+=ht;break}case V.GREATER_THAN_SIGN:{this._err(te.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case V.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.publicId+=ht;break}case V.GREATER_THAN_SIGN:{this._err(te.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this.state=F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case V.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.QUOTATION_MARK:{this._err(te.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.APOSTROPHE:{this._err(te.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.QUOTATION_MARK:{this._err(te.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.APOSTROPHE:{this._err(te.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.GREATER_THAN_SIGN:{this._err(te.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case V.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case V.GREATER_THAN_SIGN:{this._err(te.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case V.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.systemId+=ht;break}case V.GREATER_THAN_SIGN:{this._err(te.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case V.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case V.NULL:{this._err(te.unexpectedNullCharacter),n.systemId+=ht;break}case V.GREATER_THAN_SIGN:{this._err(te.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case V.SPACE:case V.LINE_FEED:case V.TABULATION:case V.FORM_FEED:break;case V.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case V.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case V.NULL:{this._err(te.unexpectedNullCharacter);break}case V.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case V.RIGHT_SQUARE_BRACKET:{this.state=F.CDATA_SECTION_BRACKET;break}case V.EOF:{this._err(te.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===V.RIGHT_SQUARE_BRACKET?this.state=F.CDATA_SECTION_END:(this._emitChars("]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case V.GREATER_THAN_SIGN:{this.state=F.DATA;break}case V.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(V.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Lx(this.preprocessor.peek(1))?F.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Lx(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===V.SEMICOLON&&this._err(te.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const YT=new Set([y.DD,y.DT,y.LI,y.OPTGROUP,y.OPTION,y.P,y.RB,y.RP,y.RT,y.RTC]),Bx=new Set([...YT,y.CAPTION,y.COLGROUP,y.TBODY,y.TD,y.TFOOT,y.TH,y.THEAD,y.TR]),Uu=new Set([y.APPLET,y.CAPTION,y.HTML,y.MARQUEE,y.OBJECT,y.TABLE,y.TD,y.TEMPLATE,y.TH]),tB=new Set([...Uu,y.OL,y.UL]),nB=new Set([...Uu,y.BUTTON]),Hx=new Set([y.ANNOTATION_XML,y.MI,y.MN,y.MO,y.MS,y.MTEXT]),Ux=new Set([y.DESC,y.FOREIGN_OBJECT,y.TITLE]),sB=new Set([y.TR,y.TEMPLATE,y.HTML]),iB=new Set([y.TBODY,y.TFOOT,y.THEAD,y.TEMPLATE,y.HTML]),oB=new Set([y.TABLE,y.TEMPLATE,y.HTML]),rB=new Set([y.TD,y.TH]);class aB{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,s){this.treeAdapter=n,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=y.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===y.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const s=this._indexOf(t);this.items[s]=n,s===this.stackTop&&(this.current=n)}insertAfter(t,n,s){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,s),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==re.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const s=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(s,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Bh,re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(rB,re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===n)return s;return-1}clearBackTo(t,n){const s=this._indexOfTagNames(t,n);this.shortenToLength(s+1)}clearBackToTableContext(){this.clearBackTo(oB,re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(iB,re.HTML)}clearBackToTableRowContext(){this.clearBackTo(sB,re.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===y.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===y.HTML}hasInDynamicScope(t,n){for(let s=this.stackTop;s>=0;s--){const i=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case re.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case re.SVG:{if(Ux.has(i))return!1;break}case re.MATHML:{if(Hx.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Uu)}hasInListItemScope(t){return this.hasInDynamicScope(t,tB)}hasInButtonScope(t){return this.hasInDynamicScope(t,nB)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case re.HTML:{if(Bh.has(n))return!0;if(Uu.has(n))return!1;break}case re.SVG:{if(Ux.has(n))return!1;break}case re.MATHML:{if(Hx.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case y.TABLE:case y.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===re.HTML)switch(this.tagIDs[t]){case y.TBODY:case y.THEAD:case y.TFOOT:return!0;case y.TABLE:case y.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case y.OPTION:case y.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&YT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Bx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Bx.has(this.currentTagId);)this.pop()}}const Km=3;var Es;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Es||(Es={}));const $x={type:Es.Marker};class lB{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const s=[],i=n.length,o=this.treeAdapter.getTagName(t),r=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const c=this.entries[a];if(c.type===Es.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===r){const d=this.treeAdapter.getAttrList(u);d.length===i&&s.push({idx:a,attrs:d})}}return s}_ensureNoahArkCondition(t){if(this.entries.length<Km)return;const n=this.treeAdapter.getAttrList(t),s=this._getNoahArkConditionCandidates(t,n);if(s.length<Km)return;const i=new Map(n.map(r=>[r.name,r.value]));let o=0;for(let r=0;r<s.length;r++){const a=s[r];a.attrs.every(c=>i.get(c.name)===c.value)&&(o+=1,o>=Km&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift($x)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Es.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const s=this.entries.indexOf(this.bookmark);this.entries.splice(s,0,{type:Es.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf($x);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(s=>s.type===Es.Marker||this.treeAdapter.getTagName(s.element)===t);return n&&n.type===Es.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Es.Element&&n.element===t)}}const fi={createDocument(){return{nodeName:"#document",mode:$n.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const s=e.childNodes.indexOf(n);e.childNodes.splice(s,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,s){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=s;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:s,parentNode:null};fi.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(fi.isTextNode(n)){n.value+=t;return}}fi.appendChild(e,fi.createTextNode(t))},insertTextBefore(e,t,n){const s=e.childNodes[e.childNodes.indexOf(n)-1];s&&fi.isTextNode(s)?s.value+=t:fi.insertBefore(e,fi.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(s=>s.name));for(let s=0;s<t.length;s++)n.has(t[s].name)||e.attrs.push(t[s])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},KT="html",cB="about:legacy-compat",uB="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",XT=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],dB=[...XT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],mB=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),JT=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],fB=[...JT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function zx(e,t){return t.some(n=>e.startsWith(n))}function hB(e){return e.name===KT&&e.publicId===null&&(e.systemId===null||e.systemId===cB)}function pB(e){if(e.name!==KT)return $n.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===uB)return $n.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),mB.has(n))return $n.QUIRKS;let s=t===null?dB:XT;if(zx(n,s))return $n.QUIRKS;if(s=t===null?JT:fB,zx(n,s))return $n.LIMITED_QUIRKS}return $n.NO_QUIRKS}const Wx={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},gB="definitionurl",bB="definitionURL",vB=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),xB=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:re.XMLNS}]]),NB=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),yB=new Set([y.B,y.BIG,y.BLOCKQUOTE,y.BODY,y.BR,y.CENTER,y.CODE,y.DD,y.DIV,y.DL,y.DT,y.EM,y.EMBED,y.H1,y.H2,y.H3,y.H4,y.H5,y.H6,y.HEAD,y.HR,y.I,y.IMG,y.LI,y.LISTING,y.MENU,y.META,y.NOBR,y.OL,y.P,y.PRE,y.RUBY,y.S,y.SMALL,y.SPAN,y.STRONG,y.STRIKE,y.SUB,y.SUP,y.TABLE,y.TT,y.U,y.UL,y.VAR]);function wB(e){const t=e.tagID;return t===y.FONT&&e.attrs.some(({name:s})=>s===vo.COLOR||s===vo.SIZE||s===vo.FACE)||yB.has(t)}function QT(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===gB){e.attrs[t].name=bB;break}}function ZT(e){for(let t=0;t<e.attrs.length;t++){const n=vB.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function qg(e){for(let t=0;t<e.attrs.length;t++){const n=xB.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function DB(e){const t=NB.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ea(e.tagName))}function EB(e,t){return t===re.MATHML&&(e===y.MI||e===y.MO||e===y.MN||e===y.MS||e===y.MTEXT)}function TB(e,t,n){if(t===re.MATHML&&e===y.ANNOTATION_XML){for(let s=0;s<n.length;s++)if(n[s].name===vo.ENCODING){const i=n[s].value.toLowerCase();return i===Wx.TEXT_HTML||i===Wx.APPLICATION_XML}}return t===re.SVG&&(e===y.FOREIGN_OBJECT||e===y.DESC||e===y.TITLE)}function SB(e,t,n,s){return(!s||s===re.HTML)&&TB(e,t,n)||(!s||s===re.MATHML)&&EB(e,t)}const _B="hidden",kB=8,MB=3;var H;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(H||(H={}));const CB={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},eS=new Set([y.TABLE,y.TBODY,y.TFOOT,y.THEAD,y.TR]),qx={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:fi,onParseError:null};class Gx{constructor(t,n,s=null,i=null){this.fragmentContext=s,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=H.INITIAL,this.originalInsertionMode=H.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...qx,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new eB(this.options,this),this.activeFormattingElements=new lB(this.treeAdapter),this.fragmentContextID=s?ea(this.treeAdapter.getTagName(s)):y.UNKNOWN,this._setContextModes(s??this.document,this.fragmentContextID),this.openElements=new aB(this.document,this.treeAdapter,this)}static parse(t,n){const s=new this(n);return s.tokenizer.write(t,!0),s.document}static getFragmentParser(t,n){const s={...qx,...n};t??(t=s.treeAdapter.createElement(J.TEMPLATE,re.HTML,[]));const i=s.treeAdapter.createElement("documentmock",re.HTML,[]),o=new this(s,i,t);return o.fragmentContextID===y.TEMPLATE&&o.tmplInsertionModeStack.unshift(H.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,s){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:CB,r={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:s?o.startLine:o.endLine,endCol:s?o.startCol:o.endCol,endOffset:s?o.startOffset:o.endOffset};this.onParseError(r)}onItemPush(t,n,s){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),s&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var s,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(s=this.treeAdapter).onItemPop)===null||i===void 0||i.call(s,t,this.openElements.current),n){let o,r;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,r=this.fragmentContextID):{current:o,currentTagId:r}=this.openElements,this._setContextModes(o,r)}}_setContextModes(t,n){const s=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===re.HTML;this.currentNotInHTML=!s,this.tokenizer.inForeignNode=!s&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,re.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=H.TEXT}switchToPlaintextParsing(){this.insertionMode=H.TEXT,this.originalInsertionMode=H.IN_BODY,this.tokenizer.state=St.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===J.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==re.HTML))switch(this.fragmentContextID){case y.TITLE:case y.TEXTAREA:{this.tokenizer.state=St.RCDATA;break}case y.STYLE:case y.XMP:case y.IFRAME:case y.NOEMBED:case y.NOFRAMES:case y.NOSCRIPT:{this.tokenizer.state=St.RAWTEXT;break}case y.SCRIPT:{this.tokenizer.state=St.SCRIPT_DATA;break}case y.PLAINTEXT:{this.tokenizer.state=St.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",s=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,s,i),t.location){const r=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));r&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const s=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,s)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const s=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(s??this.document,t)}}_appendElement(t,n){const s=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(s,t.location)}_insertElement(t,n){const s=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(s,t.location),this.openElements.push(s,t.tagID)}_insertFakeElement(t,n){const s=this.treeAdapter.createElement(t,re.HTML,[]);this._attachElementToTree(s,null),this.openElements.push(s,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,re.HTML,t.attrs),s=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,s),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(J.HTML,re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,y.HTML)}_appendCommentNode(t,n){const s=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,s),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_insertCharacters(t){let n,s;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:s}=this._findFosterParentingLocation(),s?this.treeAdapter.insertTextBefore(n,t.chars,s):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=s?i.lastIndexOf(s):i.length,r=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(r)){const{endLine:c,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(r,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_adoptNodes(t,n){for(let s=this.treeAdapter.getFirstChild(t);s;s=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(s),this.treeAdapter.appendChild(n,s)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const s=n.location,i=this.treeAdapter.getTagName(t),o=n.type===He.END_TAG&&i===n.tagName?{endTag:{...s},endLine:s.endLine,endCol:s.endCol,endOffset:s.endOffset}:{endLine:s.startLine,endCol:s.startCol,endOffset:s.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,s;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,s=this.fragmentContextID):{current:n,currentTagId:s}=this.openElements,t.tagID===y.SVG&&this.treeAdapter.getTagName(n)===J.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===re.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===y.MGLYPH||t.tagID===y.MALIGNMARK)&&s!==void 0&&!this._isIntegrationPoint(s,n,re.HTML)}_processToken(t){switch(t.type){case He.CHARACTER:{this.onCharacter(t);break}case He.NULL_CHARACTER:{this.onNullCharacter(t);break}case He.COMMENT:{this.onComment(t);break}case He.DOCTYPE:{this.onDoctype(t);break}case He.START_TAG:{this._processStartTag(t);break}case He.END_TAG:{this.onEndTag(t);break}case He.EOF:{this.onEof(t);break}case He.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,s){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return SB(t,i,o,s)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Es.Marker||this.openElements.contains(i.element)),s=n===-1?t-1:n-1;for(let i=s;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=H.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(y.P),this.openElements.popUntilTagNamePopped(y.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case y.TR:{this.insertionMode=H.IN_ROW;return}case y.TBODY:case y.THEAD:case y.TFOOT:{this.insertionMode=H.IN_TABLE_BODY;return}case y.CAPTION:{this.insertionMode=H.IN_CAPTION;return}case y.COLGROUP:{this.insertionMode=H.IN_COLUMN_GROUP;return}case y.TABLE:{this.insertionMode=H.IN_TABLE;return}case y.BODY:{this.insertionMode=H.IN_BODY;return}case y.FRAMESET:{this.insertionMode=H.IN_FRAMESET;return}case y.SELECT:{this._resetInsertionModeForSelect(t);return}case y.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case y.HTML:{this.insertionMode=this.headElement?H.AFTER_HEAD:H.BEFORE_HEAD;return}case y.TD:case y.TH:{if(t>0){this.insertionMode=H.IN_CELL;return}break}case y.HEAD:{if(t>0){this.insertionMode=H.IN_HEAD;return}break}}this.insertionMode=H.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const s=this.openElements.tagIDs[n];if(s===y.TEMPLATE)break;if(s===y.TABLE){this.insertionMode=H.IN_SELECT_IN_TABLE;return}}this.insertionMode=H.IN_SELECT}_isElementCausesFosterParenting(t){return eS.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case y.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===re.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case y.TABLE:{const s=this.treeAdapter.getParentNode(n);return s?{parent:s,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const s=this.treeAdapter.getNamespaceURI(t);return X8[s].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rU(this,t);return}switch(this.insertionMode){case H.INITIAL:{ya(this,t);break}case H.BEFORE_HTML:{Qa(this,t);break}case H.BEFORE_HEAD:{Za(this,t);break}case H.IN_HEAD:{el(this,t);break}case H.IN_HEAD_NO_SCRIPT:{tl(this,t);break}case H.AFTER_HEAD:{nl(this,t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:{nS(this,t);break}case H.TEXT:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{Xm(this,t);break}case H.IN_TABLE_TEXT:{lS(this,t);break}case H.IN_COLUMN_GROUP:{$u(this,t);break}case H.AFTER_BODY:{zu(this,t);break}case H.AFTER_AFTER_BODY:{vu(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){oU(this,t);return}switch(this.insertionMode){case H.INITIAL:{ya(this,t);break}case H.BEFORE_HTML:{Qa(this,t);break}case H.BEFORE_HEAD:{Za(this,t);break}case H.IN_HEAD:{el(this,t);break}case H.IN_HEAD_NO_SCRIPT:{tl(this,t);break}case H.AFTER_HEAD:{nl(this,t);break}case H.TEXT:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{Xm(this,t);break}case H.IN_COLUMN_GROUP:{$u(this,t);break}case H.AFTER_BODY:{zu(this,t);break}case H.AFTER_AFTER_BODY:{vu(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Hh(this,t);return}switch(this.insertionMode){case H.INITIAL:case H.BEFORE_HTML:case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_TEMPLATE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{Hh(this,t);break}case H.IN_TABLE_TEXT:{wa(this,t);break}case H.AFTER_BODY:{OB(this,t);break}case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{LB(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case H.INITIAL:{FB(this,t);break}case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:{this._err(t,te.misplacedDoctype);break}case H.IN_TABLE_TEXT:{wa(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,te.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?aU(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{ya(this,t);break}case H.BEFORE_HTML:{BB(this,t);break}case H.BEFORE_HEAD:{UB(this,t);break}case H.IN_HEAD:{ms(this,t);break}case H.IN_HEAD_NO_SCRIPT:{WB(this,t);break}case H.AFTER_HEAD:{GB(this,t);break}case H.IN_BODY:{rn(this,t);break}case H.IN_TABLE:{Pr(this,t);break}case H.IN_TABLE_TEXT:{wa(this,t);break}case H.IN_CAPTION:{$H(this,t);break}case H.IN_COLUMN_GROUP:{Kg(this,t);break}case H.IN_TABLE_BODY:{Vd(this,t);break}case H.IN_ROW:{Od(this,t);break}case H.IN_CELL:{qH(this,t);break}case H.IN_SELECT:{dS(this,t);break}case H.IN_SELECT_IN_TABLE:{YH(this,t);break}case H.IN_TEMPLATE:{XH(this,t);break}case H.AFTER_BODY:{QH(this,t);break}case H.IN_FRAMESET:{ZH(this,t);break}case H.AFTER_FRAMESET:{tU(this,t);break}case H.AFTER_AFTER_BODY:{sU(this,t);break}case H.AFTER_AFTER_FRAMESET:{iU(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?lU(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{ya(this,t);break}case H.BEFORE_HTML:{HB(this,t);break}case H.BEFORE_HEAD:{$B(this,t);break}case H.IN_HEAD:{zB(this,t);break}case H.IN_HEAD_NO_SCRIPT:{qB(this,t);break}case H.AFTER_HEAD:{YB(this,t);break}case H.IN_BODY:{Rd(this,t);break}case H.TEXT:{jH(this,t);break}case H.IN_TABLE:{Cl(this,t);break}case H.IN_TABLE_TEXT:{wa(this,t);break}case H.IN_CAPTION:{zH(this,t);break}case H.IN_COLUMN_GROUP:{WH(this,t);break}case H.IN_TABLE_BODY:{Uh(this,t);break}case H.IN_ROW:{uS(this,t);break}case H.IN_CELL:{GH(this,t);break}case H.IN_SELECT:{mS(this,t);break}case H.IN_SELECT_IN_TABLE:{KH(this,t);break}case H.IN_TEMPLATE:{JH(this,t);break}case H.AFTER_BODY:{hS(this,t);break}case H.IN_FRAMESET:{eU(this,t);break}case H.AFTER_FRAMESET:{nU(this,t);break}case H.AFTER_AFTER_BODY:{vu(this,t);break}}}onEof(t){switch(this.insertionMode){case H.INITIAL:{ya(this,t);break}case H.BEFORE_HTML:{Qa(this,t);break}case H.BEFORE_HEAD:{Za(this,t);break}case H.IN_HEAD:{el(this,t);break}case H.IN_HEAD_NO_SCRIPT:{tl(this,t);break}case H.AFTER_HEAD:{nl(this,t);break}case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{rS(this,t);break}case H.TEXT:{IH(this,t);break}case H.IN_TABLE_TEXT:{wa(this,t);break}case H.IN_TEMPLATE:{fS(this,t);break}case H.AFTER_BODY:case H.IN_FRAMESET:case H.AFTER_FRAMESET:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{Yg(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===V.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.TEXT:case H.IN_COLUMN_GROUP:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{this._insertCharacters(t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:case H.AFTER_BODY:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{tS(this,t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{Xm(this,t);break}case H.IN_TABLE_TEXT:{aS(this,t);break}}}}function PB(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):oS(e,t),n}function AB(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){const i=e.openElements.items[s];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[s])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(s,0)),e.activeFormattingElements.removeEntry(t)),n}function jB(e,t,n){let s=t,i=e.openElements.getCommonAncestor(t);for(let o=0,r=i;r!==n;o++,r=i){i=e.openElements.getCommonAncestor(r);const a=e.activeFormattingElements.getElementEntry(r),c=a&&o>=MB;!a||c?(c&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(r)):(r=IB(e,a),s===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(r,s),s=r)}return s}function IB(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s}function RB(e,t,n){const s=e.treeAdapter.getTagName(t),i=ea(s);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===y.TEMPLATE&&o===re.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function VB(e,t,n){const s=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,s,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function Gg(e,t){for(let n=0;n<kB;n++){const s=PB(e,t);if(!s)break;const i=AB(e,s);if(!i)break;e.activeFormattingElements.bookmark=s;const o=jB(e,i,s.element),r=e.openElements.getCommonAncestor(s.element);e.treeAdapter.detachNode(o),r&&RB(e,r,o),VB(e,i,s)}}function Hh(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function OB(e,t){e._appendCommentNode(t,e.openElements.items[0])}function LB(e,t){e._appendCommentNode(t,e.document)}function Yg(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const s=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(s);if(i&&!i.endTag&&(e._setEndLocation(s,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(o);r&&!r.endTag&&e._setEndLocation(o,t)}}}}function FB(e,t){e._setDocumentType(t);const n=t.forceQuirks?$n.QUIRKS:pB(t);hB(t)||e._err(t,te.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=H.BEFORE_HTML}function ya(e,t){e._err(t,te.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,$n.QUIRKS),e.insertionMode=H.BEFORE_HTML,e._processToken(t)}function BB(e,t){t.tagID===y.HTML?(e._insertElement(t,re.HTML),e.insertionMode=H.BEFORE_HEAD):Qa(e,t)}function HB(e,t){const n=t.tagID;(n===y.HTML||n===y.HEAD||n===y.BODY||n===y.BR)&&Qa(e,t)}function Qa(e,t){e._insertFakeRootElement(),e.insertionMode=H.BEFORE_HEAD,e._processToken(t)}function UB(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.HEAD:{e._insertElement(t,re.HTML),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD;break}default:Za(e,t)}}function $B(e,t){const n=t.tagID;n===y.HEAD||n===y.BODY||n===y.HTML||n===y.BR?Za(e,t):e._err(t,te.endTagWithoutMatchingOpenElement)}function Za(e,t){e._insertFakeElement(J.HEAD,y.HEAD),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD,e._processToken(t)}function ms(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case y.TITLE:{e._switchToTextParsing(t,St.RCDATA);break}case y.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,St.RAWTEXT):(e._insertElement(t,re.HTML),e.insertionMode=H.IN_HEAD_NO_SCRIPT);break}case y.NOFRAMES:case y.STYLE:{e._switchToTextParsing(t,St.RAWTEXT);break}case y.SCRIPT:{e._switchToTextParsing(t,St.SCRIPT_DATA);break}case y.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=H.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(H.IN_TEMPLATE);break}case y.HEAD:{e._err(t,te.misplacedStartTagForHeadElement);break}default:el(e,t)}}function zB(e,t){switch(t.tagID){case y.HEAD:{e.openElements.pop(),e.insertionMode=H.AFTER_HEAD;break}case y.BODY:case y.BR:case y.HTML:{el(e,t);break}case y.TEMPLATE:{Po(e,t);break}default:e._err(t,te.endTagWithoutMatchingOpenElement)}}function Po(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==y.TEMPLATE&&e._err(t,te.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(y.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,te.endTagWithoutMatchingOpenElement)}function el(e,t){e.openElements.pop(),e.insertionMode=H.AFTER_HEAD,e._processToken(t)}function WB(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.BASEFONT:case y.BGSOUND:case y.HEAD:case y.LINK:case y.META:case y.NOFRAMES:case y.STYLE:{ms(e,t);break}case y.NOSCRIPT:{e._err(t,te.nestedNoscriptInHead);break}default:tl(e,t)}}function qB(e,t){switch(t.tagID){case y.NOSCRIPT:{e.openElements.pop(),e.insertionMode=H.IN_HEAD;break}case y.BR:{tl(e,t);break}default:e._err(t,te.endTagWithoutMatchingOpenElement)}}function tl(e,t){const n=t.type===He.EOF?te.openElementsLeftAfterEof:te.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=H.IN_HEAD,e._processToken(t)}function GB(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.BODY:{e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=H.IN_BODY;break}case y.FRAMESET:{e._insertElement(t,re.HTML),e.insertionMode=H.IN_FRAMESET;break}case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:case y.NOFRAMES:case y.SCRIPT:case y.STYLE:case y.TEMPLATE:case y.TITLE:{e._err(t,te.abandonedHeadElementChild),e.openElements.push(e.headElement,y.HEAD),ms(e,t),e.openElements.remove(e.headElement);break}case y.HEAD:{e._err(t,te.misplacedStartTagForHeadElement);break}default:nl(e,t)}}function YB(e,t){switch(t.tagID){case y.BODY:case y.HTML:case y.BR:{nl(e,t);break}case y.TEMPLATE:{Po(e,t);break}default:e._err(t,te.endTagWithoutMatchingOpenElement)}}function nl(e,t){e._insertFakeElement(J.BODY,y.BODY),e.insertionMode=H.IN_BODY,Id(e,t)}function Id(e,t){switch(t.type){case He.CHARACTER:{nS(e,t);break}case He.WHITESPACE_CHARACTER:{tS(e,t);break}case He.COMMENT:{Hh(e,t);break}case He.START_TAG:{rn(e,t);break}case He.END_TAG:{Rd(e,t);break}case He.EOF:{rS(e,t);break}}}function tS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function nS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function KB(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function XB(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function JB(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,re.HTML),e.insertionMode=H.IN_FRAMESET)}function QB(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function ZB(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Bh.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,re.HTML)}function eH(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function tH(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,re.HTML),n||(e.formElement=e.openElements.current))}function nH(e,t){e.framesetOk=!1;const n=t.tagID;for(let s=e.openElements.stackTop;s>=0;s--){const i=e.openElements.tagIDs[s];if(n===y.LI&&i===y.LI||(n===y.DD||n===y.DT)&&(i===y.DD||i===y.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==y.ADDRESS&&i!==y.DIV&&i!==y.P&&e._isSpecialElement(e.openElements.items[s],i))break}e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function sH(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.tokenizer.state=St.PLAINTEXT}function iH(e,t){e.openElements.hasInScope(y.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(y.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1}function oH(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(J.A);n&&(Gg(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function rH(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function aH(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(y.NOBR)&&(Gg(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function lH(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function cH(e,t){e.treeAdapter.getDocumentMode(e.document)!==$n.QUIRKS&&e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=H.IN_TABLE}function sS(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function iS(e){const t=qT(e,vo.TYPE);return t!=null&&t.toLowerCase()===_B}function uH(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),iS(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function dH(e,t){e._appendElement(t,re.HTML),t.ackSelfClosing=!0}function mH(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function fH(e,t){t.tagName=J.IMG,t.tagID=y.IMG,sS(e,t)}function hH(e,t){e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.tokenizer.state=St.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=H.TEXT}function pH(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,St.RAWTEXT)}function gH(e,t){e.framesetOk=!1,e._switchToTextParsing(t,St.RAWTEXT)}function Yx(e,t){e._switchToTextParsing(t,St.RAWTEXT)}function bH(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===H.IN_TABLE||e.insertionMode===H.IN_CAPTION||e.insertionMode===H.IN_TABLE_BODY||e.insertionMode===H.IN_ROW||e.insertionMode===H.IN_CELL?H.IN_SELECT_IN_TABLE:H.IN_SELECT}function vH(e,t){e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function xH(e,t){e.openElements.hasInScope(y.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,re.HTML)}function NH(e,t){e.openElements.hasInScope(y.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(y.RTC),e._insertElement(t,re.HTML)}function yH(e,t){e._reconstructActiveFormattingElements(),QT(t),qg(t),t.selfClosing?e._appendElement(t,re.MATHML):e._insertElement(t,re.MATHML),t.ackSelfClosing=!0}function wH(e,t){e._reconstructActiveFormattingElements(),ZT(t),qg(t),t.selfClosing?e._appendElement(t,re.SVG):e._insertElement(t,re.SVG),t.ackSelfClosing=!0}function Kx(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function rn(e,t){switch(t.tagID){case y.I:case y.S:case y.B:case y.U:case y.EM:case y.TT:case y.BIG:case y.CODE:case y.FONT:case y.SMALL:case y.STRIKE:case y.STRONG:{rH(e,t);break}case y.A:{oH(e,t);break}case y.H1:case y.H2:case y.H3:case y.H4:case y.H5:case y.H6:{ZB(e,t);break}case y.P:case y.DL:case y.OL:case y.UL:case y.DIV:case y.DIR:case y.NAV:case y.MAIN:case y.MENU:case y.ASIDE:case y.CENTER:case y.FIGURE:case y.FOOTER:case y.HEADER:case y.HGROUP:case y.DIALOG:case y.DETAILS:case y.ADDRESS:case y.ARTICLE:case y.SEARCH:case y.SECTION:case y.SUMMARY:case y.FIELDSET:case y.BLOCKQUOTE:case y.FIGCAPTION:{QB(e,t);break}case y.LI:case y.DD:case y.DT:{nH(e,t);break}case y.BR:case y.IMG:case y.WBR:case y.AREA:case y.EMBED:case y.KEYGEN:{sS(e,t);break}case y.HR:{mH(e,t);break}case y.RB:case y.RTC:{xH(e,t);break}case y.RT:case y.RP:{NH(e,t);break}case y.PRE:case y.LISTING:{eH(e,t);break}case y.XMP:{pH(e,t);break}case y.SVG:{wH(e,t);break}case y.HTML:{KB(e,t);break}case y.BASE:case y.LINK:case y.META:case y.STYLE:case y.TITLE:case y.SCRIPT:case y.BGSOUND:case y.BASEFONT:case y.TEMPLATE:{ms(e,t);break}case y.BODY:{XB(e,t);break}case y.FORM:{tH(e,t);break}case y.NOBR:{aH(e,t);break}case y.MATH:{yH(e,t);break}case y.TABLE:{cH(e,t);break}case y.INPUT:{uH(e,t);break}case y.PARAM:case y.TRACK:case y.SOURCE:{dH(e,t);break}case y.IMAGE:{fH(e,t);break}case y.BUTTON:{iH(e,t);break}case y.APPLET:case y.OBJECT:case y.MARQUEE:{lH(e,t);break}case y.IFRAME:{gH(e,t);break}case y.SELECT:{bH(e,t);break}case y.OPTION:case y.OPTGROUP:{vH(e,t);break}case y.NOEMBED:case y.NOFRAMES:{Yx(e,t);break}case y.FRAMESET:{JB(e,t);break}case y.TEXTAREA:{hH(e,t);break}case y.NOSCRIPT:{e.options.scriptingEnabled?Yx(e,t):Kx(e,t);break}case y.PLAINTEXT:{sH(e,t);break}case y.COL:case y.TH:case y.TD:case y.TR:case y.HEAD:case y.FRAME:case y.TBODY:case y.TFOOT:case y.THEAD:case y.CAPTION:case y.COLGROUP:break;default:Kx(e,t)}}function DH(e,t){if(e.openElements.hasInScope(y.BODY)&&(e.insertionMode=H.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function EH(e,t){e.openElements.hasInScope(y.BODY)&&(e.insertionMode=H.AFTER_BODY,hS(e,t))}function TH(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function SH(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(y.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(y.FORM):n&&e.openElements.remove(n))}function _H(e){e.openElements.hasInButtonScope(y.P)||e._insertFakeElement(J.P,y.P),e._closePElement()}function kH(e){e.openElements.hasInListItemScope(y.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(y.LI),e.openElements.popUntilTagNamePopped(y.LI))}function MH(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function CH(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function PH(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function AH(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(J.BR,y.BR),e.openElements.pop(),e.framesetOk=!1}function oS(e,t){const n=t.tagName,s=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],r=e.openElements.tagIDs[i];if(s===r&&(s!==y.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,r))break}}function Rd(e,t){switch(t.tagID){case y.A:case y.B:case y.I:case y.S:case y.U:case y.EM:case y.TT:case y.BIG:case y.CODE:case y.FONT:case y.NOBR:case y.SMALL:case y.STRIKE:case y.STRONG:{Gg(e,t);break}case y.P:{_H(e);break}case y.DL:case y.UL:case y.OL:case y.DIR:case y.DIV:case y.NAV:case y.PRE:case y.MAIN:case y.MENU:case y.ASIDE:case y.BUTTON:case y.CENTER:case y.FIGURE:case y.FOOTER:case y.HEADER:case y.HGROUP:case y.DIALOG:case y.ADDRESS:case y.ARTICLE:case y.DETAILS:case y.SEARCH:case y.SECTION:case y.SUMMARY:case y.LISTING:case y.FIELDSET:case y.BLOCKQUOTE:case y.FIGCAPTION:{TH(e,t);break}case y.LI:{kH(e);break}case y.DD:case y.DT:{MH(e,t);break}case y.H1:case y.H2:case y.H3:case y.H4:case y.H5:case y.H6:{CH(e);break}case y.BR:{AH(e);break}case y.BODY:{DH(e,t);break}case y.HTML:{EH(e,t);break}case y.FORM:{SH(e);break}case y.APPLET:case y.OBJECT:case y.MARQUEE:{PH(e,t);break}case y.TEMPLATE:{Po(e,t);break}default:oS(e,t)}}function rS(e,t){e.tmplInsertionModeStack.length>0?fS(e,t):Yg(e,t)}function jH(e,t){var n;t.tagID===y.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function IH(e,t){e._err(t,te.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Xm(e,t){if(e.openElements.currentTagId!==void 0&&eS.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=H.IN_TABLE_TEXT,t.type){case He.CHARACTER:{lS(e,t);break}case He.WHITESPACE_CHARACTER:{aS(e,t);break}}else tc(e,t)}function RH(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,re.HTML),e.insertionMode=H.IN_CAPTION}function VH(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=H.IN_COLUMN_GROUP}function OH(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.COLGROUP,y.COLGROUP),e.insertionMode=H.IN_COLUMN_GROUP,Kg(e,t)}function LH(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=H.IN_TABLE_BODY}function FH(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.TBODY,y.TBODY),e.insertionMode=H.IN_TABLE_BODY,Vd(e,t)}function BH(e,t){e.openElements.hasInTableScope(y.TABLE)&&(e.openElements.popUntilTagNamePopped(y.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function HH(e,t){iS(t)?e._appendElement(t,re.HTML):tc(e,t),t.ackSelfClosing=!0}function UH(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,re.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Pr(e,t){switch(t.tagID){case y.TD:case y.TH:case y.TR:{FH(e,t);break}case y.STYLE:case y.SCRIPT:case y.TEMPLATE:{ms(e,t);break}case y.COL:{OH(e,t);break}case y.FORM:{UH(e,t);break}case y.TABLE:{BH(e,t);break}case y.TBODY:case y.TFOOT:case y.THEAD:{LH(e,t);break}case y.INPUT:{HH(e,t);break}case y.CAPTION:{RH(e,t);break}case y.COLGROUP:{VH(e,t);break}default:tc(e,t)}}function Cl(e,t){switch(t.tagID){case y.TABLE:{e.openElements.hasInTableScope(y.TABLE)&&(e.openElements.popUntilTagNamePopped(y.TABLE),e._resetInsertionMode());break}case y.TEMPLATE:{Po(e,t);break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TBODY:case y.TD:case y.TFOOT:case y.TH:case y.THEAD:case y.TR:break;default:tc(e,t)}}function tc(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Id(e,t),e.fosterParentingEnabled=n}function aS(e,t){e.pendingCharacterTokens.push(t)}function lS(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function wa(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)tc(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const cS=new Set([y.CAPTION,y.COL,y.COLGROUP,y.TBODY,y.TD,y.TFOOT,y.TH,y.THEAD,y.TR]);function $H(e,t){const n=t.tagID;cS.has(n)?e.openElements.hasInTableScope(y.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(y.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,Pr(e,t)):rn(e,t)}function zH(e,t){const n=t.tagID;switch(n){case y.CAPTION:case y.TABLE:{e.openElements.hasInTableScope(y.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(y.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,n===y.TABLE&&Cl(e,t));break}case y.BODY:case y.COL:case y.COLGROUP:case y.HTML:case y.TBODY:case y.TD:case y.TFOOT:case y.TH:case y.THEAD:case y.TR:break;default:Rd(e,t)}}function Kg(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.COL:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case y.TEMPLATE:{ms(e,t);break}default:$u(e,t)}}function WH(e,t){switch(t.tagID){case y.COLGROUP:{e.openElements.currentTagId===y.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case y.TEMPLATE:{Po(e,t);break}case y.COL:break;default:$u(e,t)}}function $u(e,t){e.openElements.currentTagId===y.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE,e._processToken(t))}function Vd(e,t){switch(t.tagID){case y.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,re.HTML),e.insertionMode=H.IN_ROW;break}case y.TH:case y.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(J.TR,y.TR),e.insertionMode=H.IN_ROW,Od(e,t);break}case y.CAPTION:case y.COL:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,Pr(e,t));break}default:Pr(e,t)}}function Uh(e,t){const n=t.tagID;switch(t.tagID){case y.TBODY:case y.TFOOT:case y.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case y.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,Cl(e,t));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TD:case y.TH:case y.TR:break;default:Cl(e,t)}}function Od(e,t){switch(t.tagID){case y.TH:case y.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,re.HTML),e.insertionMode=H.IN_CELL,e.activeFormattingElements.insertMarker();break}case y.CAPTION:case y.COL:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:case y.TR:{e.openElements.hasInTableScope(y.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Vd(e,t));break}default:Pr(e,t)}}function uS(e,t){switch(t.tagID){case y.TR:{e.openElements.hasInTableScope(y.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY);break}case y.TABLE:{e.openElements.hasInTableScope(y.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Uh(e,t));break}case y.TBODY:case y.TFOOT:case y.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(y.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Uh(e,t));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TD:case y.TH:break;default:Cl(e,t)}}function qH(e,t){const n=t.tagID;cS.has(n)?(e.openElements.hasInTableScope(y.TD)||e.openElements.hasInTableScope(y.TH))&&(e._closeTableCell(),Od(e,t)):rn(e,t)}function GH(e,t){const n=t.tagID;switch(n){case y.TD:case y.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_ROW);break}case y.TABLE:case y.TBODY:case y.TFOOT:case y.THEAD:case y.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),uS(e,t));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:break;default:Rd(e,t)}}function dS(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.OPTION:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case y.OPTGROUP:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e.openElements.currentTagId===y.OPTGROUP&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case y.HR:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e.openElements.currentTagId===y.OPTGROUP&&e.openElements.pop(),e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case y.INPUT:case y.KEYGEN:case y.TEXTAREA:case y.SELECT:{e.openElements.hasInSelectScope(y.SELECT)&&(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode(),t.tagID!==y.SELECT&&e._processStartTag(t));break}case y.SCRIPT:case y.TEMPLATE:{ms(e,t);break}}}function mS(e,t){switch(t.tagID){case y.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===y.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===y.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===y.OPTGROUP&&e.openElements.pop();break}case y.OPTION:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop();break}case y.SELECT:{e.openElements.hasInSelectScope(y.SELECT)&&(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode());break}case y.TEMPLATE:{Po(e,t);break}}}function YH(e,t){const n=t.tagID;n===y.CAPTION||n===y.TABLE||n===y.TBODY||n===y.TFOOT||n===y.THEAD||n===y.TR||n===y.TD||n===y.TH?(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode(),e._processStartTag(t)):dS(e,t)}function KH(e,t){const n=t.tagID;n===y.CAPTION||n===y.TABLE||n===y.TBODY||n===y.TFOOT||n===y.THEAD||n===y.TR||n===y.TD||n===y.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode(),e.onEndTag(t)):mS(e,t)}function XH(e,t){switch(t.tagID){case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:case y.NOFRAMES:case y.SCRIPT:case y.STYLE:case y.TEMPLATE:case y.TITLE:{ms(e,t);break}case y.CAPTION:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:{e.tmplInsertionModeStack[0]=H.IN_TABLE,e.insertionMode=H.IN_TABLE,Pr(e,t);break}case y.COL:{e.tmplInsertionModeStack[0]=H.IN_COLUMN_GROUP,e.insertionMode=H.IN_COLUMN_GROUP,Kg(e,t);break}case y.TR:{e.tmplInsertionModeStack[0]=H.IN_TABLE_BODY,e.insertionMode=H.IN_TABLE_BODY,Vd(e,t);break}case y.TD:case y.TH:{e.tmplInsertionModeStack[0]=H.IN_ROW,e.insertionMode=H.IN_ROW,Od(e,t);break}default:e.tmplInsertionModeStack[0]=H.IN_BODY,e.insertionMode=H.IN_BODY,rn(e,t)}}function JH(e,t){t.tagID===y.TEMPLATE&&Po(e,t)}function fS(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(y.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Yg(e,t)}function QH(e,t){t.tagID===y.HTML?rn(e,t):zu(e,t)}function hS(e,t){var n;if(t.tagID===y.HTML){if(e.fragmentContext||(e.insertionMode=H.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===y.HTML){e._setEndLocation(e.openElements.items[0],t);const s=e.openElements.items[1];s&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(s))===null||n===void 0)&&n.endTag)&&e._setEndLocation(s,t)}}else zu(e,t)}function zu(e,t){e.insertionMode=H.IN_BODY,Id(e,t)}function ZH(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.FRAMESET:{e._insertElement(t,re.HTML);break}case y.FRAME:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case y.NOFRAMES:{ms(e,t);break}}}function eU(e,t){t.tagID===y.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==y.FRAMESET&&(e.insertionMode=H.AFTER_FRAMESET))}function tU(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.NOFRAMES:{ms(e,t);break}}}function nU(e,t){t.tagID===y.HTML&&(e.insertionMode=H.AFTER_AFTER_FRAMESET)}function sU(e,t){t.tagID===y.HTML?rn(e,t):vu(e,t)}function vu(e,t){e.insertionMode=H.IN_BODY,Id(e,t)}function iU(e,t){switch(t.tagID){case y.HTML:{rn(e,t);break}case y.NOFRAMES:{ms(e,t);break}}}function oU(e,t){t.chars=ht,e._insertCharacters(t)}function rU(e,t){e._insertCharacters(t),e.framesetOk=!1}function pS(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==re.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function aU(e,t){if(wB(t))pS(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===re.MATHML?QT(t):s===re.SVG&&(DB(t),ZT(t)),qg(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0}}function lU(e,t){if(t.tagID===y.P||t.tagID===y.BR){pS(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===re.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(s);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}J.AREA,J.BASE,J.BASEFONT,J.BGSOUND,J.BR,J.COL,J.EMBED,J.FRAME,J.HR,J.IMG,J.INPUT,J.KEYGEN,J.LINK,J.META,J.PARAM,J.SOURCE,J.TRACK,J.WBR;const cU=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,uU=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Xx={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function gS(e,t){const n=NU(e),s=HT("type",{handlers:{root:dU,element:mU,text:fU,comment:vS,doctype:hU,raw:gU},unknown:bU}),i={parser:n?new Gx(Xx):Gx.getFragmentParser(void 0,Xx),handle(a){s(a,i)},stitches:!1,options:t||{}};s(e,i),ta(i,Vs());const o=n?i.parser.document:i.parser.getFragment(),r=d8(o,{file:i.options.file});return i.stitches&&jd(r,"comment",function(a,c,u){const d=a;if(d.value.stitch&&u&&c!==void 0){const m=u.children;return m[c]=d.value.stitch,c}}),r.type==="root"&&r.children.length===1&&r.children[0].type===e.type?r.children[0]:r}function bS(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function dU(e,t){bS(e.children,t)}function mU(e,t){vU(e,t),bS(e.children,t),xU(e,t)}function fU(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:He.CHARACTER,chars:e.value,location:nc(e)};ta(t,Vs(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function hU(e,t){const n={type:He.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nc(e)};ta(t,Vs(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function pU(e,t){t.stitches=!0;const n=yU(e);if("children"in e&&"children"in n){const s=gS({type:"root",children:e.children},t.options);n.children=s.children}vS({type:"comment",value:{stitch:n}},t)}function vS(e,t){const n=e.value,s={type:He.COMMENT,data:n,location:nc(e)};ta(t,Vs(e)),t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken)}function gU(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,xS(t,Vs(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(cU,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function bU(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))pU(n,t);else{let s="";throw uU.has(n.type)&&(s=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+s)}}function ta(e,t){xS(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=St.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function xS(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function vU(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===St.PLAINTEXT)return;ta(t,Vs(e));const s=t.parser.openElements.current;let i="namespaceURI"in s?s.namespaceURI:ao.html;i===ao.html&&n==="svg"&&(i=ao.svg);const o=S8({...e,children:[]},{space:i===ao.svg?"svg":"html"}),r={type:He.START_TAG,tagName:n,tagID:ea(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:nc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function xU(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&I8.includes(n)||t.parser.tokenizer.state===St.PLAINTEXT)return;ta(t,_d(e));const s={type:He.END_TAG,tagName:n,tagID:ea(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nc(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===St.RCDATA||t.parser.tokenizer.state===St.RAWTEXT||t.parser.tokenizer.state===St.SCRIPT_DATA)&&(t.parser.tokenizer.state=St.DATA)}function NU(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function nc(e){const t=Vs(e)||{line:void 0,column:void 0,offset:void 0},n=_d(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function yU(e){return"children"in e?Cr({...e,children:[]}):Cr(e)}function wU(e){return function(t,n){return gS(t,{...e,file:n})}}function Jx(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let s=0,i=n.indexOf(t);for(;i!==-1;)s++,i=n.indexOf(t,i+t.length);return s}function DU(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function EU(e,t,n){const i=Pd((n||{}).ignore||[]),o=TU(t);let r=-1;for(;++r<o.length;)_T(e,"text",a);function a(u,d){let m=-1,f;for(;++m<d.length;){const h=d[m],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return c(u,d)}function c(u,d){const m=d[d.length-1],f=o[r][0],h=o[r][1];let p=0;const v=m.children.indexOf(u);let x=!1,E=[];f.lastIndex=0;let N=f.exec(u.value);for(;N;){const D=N.index,w={index:N.index,input:N.input,stack:[...d,u]};let T=h(...N,w);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?f.lastIndex=D+1:(p!==D&&E.push({type:"text",value:u.value.slice(p,D)}),Array.isArray(T)?E.push(...T):T&&E.push(T),p=D+N[0].length,x=!0),!f.global)break;N=f.exec(u.value)}return x?(p<u.value.length&&E.push({type:"text",value:u.value.slice(p)}),m.children.splice(v,1,...E)):E=[u],v+E.length}}function TU(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<n.length;){const i=n[s];t.push([SU(i[0]),_U(i[1])])}return t}function SU(e){return typeof e=="string"?new RegExp(DU(e),"g"):e}function _U(e){return typeof e=="function"?e:function(){return e}}const Jm="phrasing",Qm=["autolink","link","image","label"];function kU(){return{transforms:[RU],enter:{literalAutolink:CU,literalAutolinkEmail:Zm,literalAutolinkHttp:Zm,literalAutolinkWww:Zm},exit:{literalAutolink:IU,literalAutolinkEmail:jU,literalAutolinkHttp:PU,literalAutolinkWww:AU}}}function MU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Jm,notInConstruct:Qm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Jm,notInConstruct:Qm},{character:":",before:"[ps]",after:"\\/",inConstruct:Jm,notInConstruct:Qm}]}}function CU(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Zm(e){this.config.enter.autolinkProtocol.call(this,e)}function PU(e){this.config.exit.autolinkProtocol.call(this,e)}function AU(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];W(t.type==="link"),t.url="http://"+this.sliceSerialize(e)}function jU(e){this.config.exit.autolinkEmail.call(this,e)}function IU(e){this.exit(e)}function RU(e){EU(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,VU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),OU]],{ignore:["link","linkReference"]})}function VU(e,t,n,s,i){let o="";if(!NS(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!LU(n)))return!1;const r=FU(n+s);if(!r[0])return!1;const a={type:"link",title:null,url:o+t+r[0],children:[{type:"text",value:t+r[0]}]};return r[1]?[a,{type:"text",value:r[1]}]:a}function OU(e,t,n,s){return!NS(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function LU(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function FU(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],s=n.indexOf(")");const i=Jx(e,"(");let o=Jx(e,")");for(;s!==-1&&i>o;)e+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[e,n]}function NS(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Do(n)||kd(n))&&(!t||n!==47)}yS.peek=YU;function BU(){this.buffer()}function HU(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function UU(){this.buffer()}function $U(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zU(e){const t=this.resume(),n=this.stack[this.stack.length-1];W(n.type==="footnoteReference"),n.identifier=rs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function WU(e){this.exit(e)}function qU(e){const t=this.resume(),n=this.stack[this.stack.length-1];W(n.type==="footnoteDefinition"),n.identifier=rs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function GU(e){this.exit(e)}function YU(){return"["}function yS(e,t,n,s){const i=n.createTracker(s);let o=i.move("[^");const r=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),r(),o+=i.move("]"),o}function KU(){return{enter:{gfmFootnoteCallString:BU,gfmFootnoteCall:HU,gfmFootnoteDefinitionLabelString:UU,gfmFootnoteDefinition:$U},exit:{gfmFootnoteCallString:zU,gfmFootnoteCall:WU,gfmFootnoteDefinitionLabelString:qU,gfmFootnoteDefinition:GU}}}function XU(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:yS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,i,o,r){const a=o.createTracker(r);let c=a.move("[^");const u=o.enter("footnoteDefinition"),d=o.enter("label");return c+=a.move(o.safe(o.associationId(s),{before:c,after:"]"})),d(),c+=a.move("]:"),s.children&&s.children.length>0&&(a.shift(4),c+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(s,a.current()),t?wS:JU))),u(),c}}function JU(e,t,n){return t===0?e:wS(e,t,n)}function wS(e,t,n){return(n?"":"    ")+e}const QU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];DS.peek=s$;function ZU(){return{canContainEols:["delete"],enter:{strikethrough:t$},exit:{strikethrough:n$}}}function e$(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:QU}],handlers:{delete:DS}}}function t$(e){this.enter({type:"delete",children:[]},e)}function n$(e){this.exit(e)}function DS(e,t,n,s){const i=n.createTracker(s),o=n.enter("strikethrough");let r=i.move("~~");return r+=n.containerPhrasing(e,{...i.current(),before:r,after:"~"}),r+=i.move("~~"),o(),r}function s$(){return"~"}function i$(e){return e.length}function o$(e,t){const n=t||{},s=(n.align||[]).concat(),i=n.stringLength||i$,o=[],r=[],a=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],v=[];let x=-1;for(e[d].length>u&&(u=e[d].length);++x<e[d].length;){const E=r$(e[d][x]);if(n.alignDelimiters!==!1){const N=i(E);v[x]=N,(c[x]===void 0||N>c[x])&&(c[x]=N)}g.push(E)}r[d]=g,a[d]=v}let m=-1;if(typeof s=="object"&&"length"in s)for(;++m<u;)o[m]=Qx(s[m]);else{const g=Qx(s);for(;++m<u;)o[m]=g}m=-1;const f=[],h=[];for(;++m<u;){const g=o[m];let v="",x="";g===99?(v=":",x=":"):g===108?v=":":g===114&&(x=":");let E=n.alignDelimiters===!1?1:Math.max(1,c[m]-v.length-x.length);const N=v+"-".repeat(E)+x;n.alignDelimiters!==!1&&(E=v.length+E+x.length,E>c[m]&&(c[m]=E),h[m]=E),f[m]=N}r.splice(1,0,f),a.splice(1,0,h),d=-1;const p=[];for(;++d<r.length;){const g=r[d],v=a[d];m=-1;const x=[];for(;++m<u;){const E=g[m]||"";let N="",D="";if(n.alignDelimiters!==!1){const w=c[m]-(v[m]||0),T=o[m];T===114?N=" ".repeat(w):T===99?w%2?(N=" ".repeat(w/2+.5),D=" ".repeat(w/2-.5)):(N=" ".repeat(w/2),D=N):D=" ".repeat(w)}n.delimiterStart!==!1&&!m&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||m)&&x.push(" "),n.alignDelimiters!==!1&&x.push(N),x.push(E),n.alignDelimiters!==!1&&x.push(D),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||m!==u-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function r$(e){return e==null?"":String(e)}function Qx(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function a$(e,t,n,s){const i=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const r=n.indentLines(n.containerFlow(e,o.current()),l$);return i(),r}function l$(e,t,n){return">"+(n?"":" ")+e}function c$(e,t){return Zx(e,t.inConstruct,!0)&&!Zx(e,t.notInConstruct,!1)}function Zx(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let s=-1;for(;++s<t.length;)if(e.includes(t[s]))return!0;return!1}function eN(e,t,n,s){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&c$(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function u$(e,t){const n=String(e);let s=n.indexOf(t),i=s,o=0,r=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++o>r&&(r=o):o=1,i=s+t.length,s=n.indexOf(t,i);return r}function d$(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function m$(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function f$(e,t,n,s){const i=m$(n),o=e.value||"",r=i==="`"?"GraveAccent":"Tilde";if(d$(e,n)){const m=n.enter("codeIndented"),f=n.indentLines(o,h$);return m(),f}const a=n.createTracker(s),c=i.repeat(Math.max(u$(o,i)+1,3)),u=n.enter("codeFenced");let d=a.move(c);if(e.lang){const m=n.enter(`codeFencedLang${r}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${r}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),m()}return d+=a.move(`
`),o&&(d+=a.move(o+`
`)),d+=a.move(c),u(),d}function h$(e,t,n){return(n?"":"    ")+e}function Xg(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function p$(e,t,n,s){const i=Xg(n),o=i==='"'?"Quote":"Apostrophe",r=n.enter("definition");let a=n.enter("label");const c=n.createTracker(s);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(a=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),a()),r(),u}function g$(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Pl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Wu(e,t,n){const s=Mr(e),i=Mr(t);return s===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ES.peek=b$;function ES(e,t,n,s){const i=g$(n),o=n.enter("emphasis"),r=n.createTracker(s),a=r.move(i);let c=r.move(n.containerPhrasing(e,{after:i,before:a,...r.current()}));const u=c.charCodeAt(0),d=Wu(s.before.charCodeAt(s.before.length-1),u,i);d.inside&&(c=Pl(u)+c.slice(1));const m=c.charCodeAt(c.length-1),f=Wu(s.after.charCodeAt(0),m,i);f.inside&&(c=c.slice(0,-1)+Pl(m));const h=r.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+c+h}function b$(e,t,n){return n.options.emphasis||"*"}function v$(e,t){let n=!1;return jd(e,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,Ah}),!!((!e.depth||e.depth<3)&&Rg(e)&&(t.options.setext||n))}function x$(e,t,n,s){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(s);if(v$(e,n)){const d=n.enter("headingSetext"),m=n.enter("phrasing"),f=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return m(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const r="#".repeat(i),a=n.enter("headingAtx"),c=n.enter("phrasing");o.move(r+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Pl(u.charCodeAt(0))+u.slice(1)),u=u?r+" "+u:r,n.options.closeAtx&&(u+=" "+r),c(),a(),u}TS.peek=N$;function TS(e){return e.value||""}function N$(){return"<"}SS.peek=y$;function SS(e,t,n,s){const i=Xg(n),o=i==='"'?"Quote":"Apostrophe",r=n.enter("image");let a=n.enter("label");const c=n.createTracker(s);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(a=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),a()),u+=c.move(")"),r(),u}function y$(){return"!"}_S.peek=w$;function _S(e,t,n,s){const i=e.referenceType,o=n.enter("imageReference");let r=n.enter("label");const a=n.createTracker(s);let c=a.move("![");const u=n.safe(e.alt,{before:c,after:"]",...a.current()});c+=a.move(u+"]["),r();const d=n.stack;n.stack=[],r=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...a.current()});return r(),n.stack=d,o(),i==="full"||!u||u!==m?c+=a.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function w$(){return"!"}kS.peek=D$;function kS(e,t,n){let s=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const r=n.unsafe[o],a=n.compilePattern(r);let c;if(r.atBreak)for(;c=a.exec(s);){let u=c.index;s.charCodeAt(u)===10&&s.charCodeAt(u-1)===13&&u--,s=s.slice(0,u)+" "+s.slice(c.index+1)}}return i+s+i}function D$(){return"`"}function MS(e,t){const n=Rg(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}CS.peek=E$;function CS(e,t,n,s){const i=Xg(n),o=i==='"'?"Quote":"Apostrophe",r=n.createTracker(s);let a,c;if(MS(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let m=r.move("<");return m+=r.move(n.containerPhrasing(e,{before:m,after:">",...r.current()})),m+=r.move(">"),a(),n.stack=d,m}a=n.enter("link"),c=n.enter("label");let u=r.move("[");return u+=r.move(n.containerPhrasing(e,{before:u,after:"](",...r.current()})),u+=r.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=r.move("<"),u+=r.move(n.safe(e.url,{before:u,after:">",...r.current()})),u+=r.move(">")):(c=n.enter("destinationRaw"),u+=r.move(n.safe(e.url,{before:u,after:e.title?" ":")",...r.current()}))),c(),e.title&&(c=n.enter(`title${o}`),u+=r.move(" "+i),u+=r.move(n.safe(e.title,{before:u,after:i,...r.current()})),u+=r.move(i),c()),u+=r.move(")"),a(),u}function E$(e,t,n){return MS(e,n)?"<":"["}PS.peek=T$;function PS(e,t,n,s){const i=e.referenceType,o=n.enter("linkReference");let r=n.enter("label");const a=n.createTracker(s);let c=a.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...a.current()});c+=a.move(u+"]["),r();const d=n.stack;n.stack=[],r=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...a.current()});return r(),n.stack=d,o(),i==="full"||!u||u!==m?c+=a.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function T$(){return"["}function Jg(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function S$(e){const t=Jg(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function _$(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function AS(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function k$(e,t,n,s){const i=n.enter("list"),o=n.bulletCurrent;let r=e.ordered?_$(n):Jg(n);const a=e.ordered?r==="."?")":".":S$(n);let c=t&&n.bulletLastUsed?r===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((r==="*"||r==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),AS(n)===r&&d){let m=-1;for(;++m<e.children.length;){const f=e.children[m];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(r=a),n.bulletCurrent=r;const u=n.containerFlow(e,s);return n.bulletLastUsed=r,n.bulletCurrent=o,i(),u}function M$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function C$(e,t,n,s){const i=M$(n);let o=n.bulletCurrent||Jg(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let r=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(r=Math.ceil(r/4)*4);const a=n.createTracker(s);a.move(o+" ".repeat(r-o.length)),a.shift(r);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),d);return c(),u;function d(m,f,h){return f?(h?"":" ".repeat(r))+m:(h?o:o+" ".repeat(r-o.length))+m}}function P$(e,t,n,s){const i=n.enter("paragraph"),o=n.enter("phrasing"),r=n.containerPhrasing(e,s);return o(),i(),r}const A$=Pd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function j$(e,t,n,s){return(e.children.some(function(r){return A$(r)})?n.containerPhrasing:n.containerFlow).call(n,e,s)}function I$(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}jS.peek=R$;function jS(e,t,n,s){const i=I$(n),o=n.enter("strong"),r=n.createTracker(s),a=r.move(i+i);let c=r.move(n.containerPhrasing(e,{after:i,before:a,...r.current()}));const u=c.charCodeAt(0),d=Wu(s.before.charCodeAt(s.before.length-1),u,i);d.inside&&(c=Pl(u)+c.slice(1));const m=c.charCodeAt(c.length-1),f=Wu(s.after.charCodeAt(0),m,i);f.inside&&(c=c.slice(0,-1)+Pl(m));const h=r.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+c+h}function R$(e,t,n){return n.options.strong||"*"}function V$(e,t,n,s){return n.safe(e.value,s)}function O$(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function L$(e,t,n){const s=(AS(n)+(n.options.ruleSpaces?" ":"")).repeat(O$(n));return n.options.ruleSpaces?s.slice(0,-1):s}const IS={blockquote:a$,break:eN,code:f$,definition:p$,emphasis:ES,hardBreak:eN,heading:x$,html:TS,image:SS,imageReference:_S,inlineCode:kS,link:CS,linkReference:PS,list:k$,listItem:C$,paragraph:P$,root:j$,strong:jS,text:V$,thematicBreak:L$};function F$(){return{enter:{table:B$,tableData:tN,tableHeader:tN,tableRow:U$},exit:{codeText:$$,table:H$,tableData:ef,tableHeader:ef,tableRow:ef}}}function B$(e){const t=e._align;W(t,"expected `_align` on table"),this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function H$(e){this.exit(e),this.data.inTable=void 0}function U$(e){this.enter({type:"tableRow",children:[]},e)}function ef(e){this.exit(e)}function tN(e){this.enter({type:"tableCell",children:[]},e)}function $$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,z$));const n=this.stack[this.stack.length-1];W(n.type==="inlineCode"),n.value=t,this.exit(e)}function z$(e,t){return t==="|"?t:e}function W$(e){const t=e||{},n=t.tableCellPadding,s=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:r,tableCell:c,tableRow:a}};function r(h,p,g,v){return u(d(h,g,v),h.align)}function a(h,p,g,v){const x=m(h,g,v),E=u([x]);return E.slice(0,E.indexOf(`
`))}function c(h,p,g,v){const x=g.enter("tableCell"),E=g.enter("phrasing"),N=g.containerPhrasing(h,{...v,before:o,after:o});return E(),x(),N}function u(h,p){return o$(h,{align:p,alignDelimiters:s,padding:n,stringLength:i})}function d(h,p,g){const v=h.children;let x=-1;const E=[],N=p.enter("table");for(;++x<v.length;)E[x]=m(v[x],p,g);return N(),E}function m(h,p,g){const v=h.children;let x=-1;const E=[],N=p.enter("tableRow");for(;++x<v.length;)E[x]=c(v[x],h,p,g);return N(),E}function f(h,p,g){let v=IS.inlineCode(h,p,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function q$(){return{exit:{taskListCheckValueChecked:nN,taskListCheckValueUnchecked:nN,paragraph:Y$}}}function G$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:K$}}}function nN(e){const t=this.stack[this.stack.length-2];W(t.type==="listItem"),t.checked=e.type==="taskListCheckValueChecked"}function Y$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];W(n.type==="paragraph");const s=n.children[0];if(s&&s.type==="text"){const i=t.children;let o=-1,r;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){r=a;break}}r===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(e)}function K$(e,t,n,s){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",r="["+(e.checked?"x":" ")+"] ",a=n.createTracker(s);o&&a.move(r);let c=IS.listItem(e,t,n,{...s,...a.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+r}}function X$(){return[kU(),KU(),ZU(),F$(),q$()]}function J$(e){return{extensions:[MU(),XU(e),e$(),W$(e),G$()]}}const Q$={tokenize:iz,partial:!0},RS={tokenize:oz,partial:!0},VS={tokenize:rz,partial:!0},OS={tokenize:az,partial:!0},Z$={tokenize:lz,partial:!0},LS={name:"wwwAutolink",tokenize:nz,previous:BS},FS={name:"protocolAutolink",tokenize:sz,previous:HS},ai={name:"emailAutolink",tokenize:tz,previous:US},Os={};function ez(){return{text:Os}}let zi=S.digit0;for(;zi<S.leftCurlyBrace;)Os[zi]=ai,zi++,zi===S.colon?zi=S.uppercaseA:zi===S.leftSquareBracket&&(zi=S.lowercaseA);Os[S.plusSign]=ai;Os[S.dash]=ai;Os[S.dot]=ai;Os[S.underscore]=ai;Os[S.uppercaseH]=[ai,FS];Os[S.lowercaseH]=[ai,FS];Os[S.uppercaseW]=[ai,LS];Os[S.lowercaseW]=[ai,LS];function tz(e,t,n){const s=this;let i,o;return r;function r(m){return!$h(m)||!US.call(s,s.previous)||Qg(s.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(m))}function a(m){return $h(m)?(e.consume(m),a):m===S.atSign?(e.consume(m),c):n(m)}function c(m){return m===S.dot?e.check(Z$,d,u)(m):m===S.dash||m===S.underscore||nn(m)?(o=!0,e.consume(m),c):d(m)}function u(m){return e.consume(m),i=!0,c}function d(m){return o&&i&&un(s.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function nz(e,t,n){const s=this;return i;function i(r){return r!==S.uppercaseW&&r!==S.lowercaseW||!BS.call(s,s.previous)||Qg(s.events)?n(r):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Q$,e.attempt(RS,e.attempt(VS,o),n),n)(r))}function o(r){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(r)}}function sz(e,t,n){const s=this;let i="",o=!1;return r;function r(m){return(m===S.uppercaseH||m===S.lowercaseH)&&HS.call(s,s.previous)&&!Qg(s.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(m),e.consume(m),a):n(m)}function a(m){if(un(m)&&i.length<5)return i+=String.fromCodePoint(m),e.consume(m),a;if(m===S.colon){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(m),c}return n(m)}function c(m){return m===S.slash?(e.consume(m),o?u:(o=!0,c)):n(m)}function u(m){return m===S.eof||Bu(m)||at(m)||Do(m)||kd(m)?n(m):e.attempt(RS,e.attempt(VS,d),n)(m)}function d(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function iz(e,t,n){let s=0;return i;function i(r){return(r===S.uppercaseW||r===S.lowercaseW)&&s<3?(s++,e.consume(r),i):r===S.dot&&s===3?(e.consume(r),o):n(r)}function o(r){return r===S.eof?n(r):t(r)}}function oz(e,t,n){let s,i,o;return r;function r(u){return u===S.dot||u===S.underscore?e.check(OS,c,a)(u):u===S.eof||at(u)||Do(u)||u!==S.dash&&kd(u)?c(u):(o=!0,e.consume(u),r)}function a(u){return u===S.underscore?s=!0:(i=s,s=void 0),e.consume(u),r}function c(u){return i||s||!o?n(u):t(u)}}function rz(e,t){let n=0,s=0;return i;function i(r){return r===S.leftParenthesis?(n++,e.consume(r),i):r===S.rightParenthesis&&s<n?o(r):r===S.exclamationMark||r===S.quotationMark||r===S.ampersand||r===S.apostrophe||r===S.rightParenthesis||r===S.asterisk||r===S.comma||r===S.dot||r===S.colon||r===S.semicolon||r===S.lessThan||r===S.questionMark||r===S.rightSquareBracket||r===S.underscore||r===S.tilde?e.check(OS,t,o)(r):r===S.eof||at(r)||Do(r)?t(r):(e.consume(r),i)}function o(r){return r===S.rightParenthesis&&s++,e.consume(r),i}}function az(e,t,n){return s;function s(a){return a===S.exclamationMark||a===S.quotationMark||a===S.apostrophe||a===S.rightParenthesis||a===S.asterisk||a===S.comma||a===S.dot||a===S.colon||a===S.semicolon||a===S.questionMark||a===S.underscore||a===S.tilde?(e.consume(a),s):a===S.ampersand?(e.consume(a),o):a===S.rightSquareBracket?(e.consume(a),i):a===S.lessThan||a===S.eof||at(a)||Do(a)?t(a):n(a)}function i(a){return a===S.eof||a===S.leftParenthesis||a===S.leftSquareBracket||at(a)||Do(a)?t(a):s(a)}function o(a){return un(a)?r(a):n(a)}function r(a){return a===S.semicolon?(e.consume(a),s):un(a)?(e.consume(a),r):n(a)}}function lz(e,t,n){return s;function s(o){return e.consume(o),i}function i(o){return nn(o)?n(o):t(o)}}function BS(e){return e===S.eof||e===S.leftParenthesis||e===S.asterisk||e===S.underscore||e===S.leftSquareBracket||e===S.rightSquareBracket||e===S.tilde||at(e)}function HS(e){return!un(e)}function US(e){return!(e===S.slash||$h(e))}function $h(e){return e===S.plusSign||e===S.dash||e===S.dot||e===S.underscore||nn(e)}function Qg(e){let t=e.length,n=!1;for(;t--;){const s=e[t][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const cz={tokenize:bz,partial:!0};function uz(){return{document:{[S.leftSquareBracket]:{name:"gfmFootnoteDefinition",tokenize:hz,continuation:{tokenize:pz},exit:gz}},text:{[S.leftSquareBracket]:{name:"gfmFootnoteCall",tokenize:fz},[S.rightSquareBracket]:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:dz,resolveTo:mz}}}}function dz(e,t,n){const s=this;let i=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let r;for(;i--;){const c=s.events[i][1];if(c.type===A.labelImage){r=c;break}if(c.type==="gfmFootnoteCall"||c.type===A.labelLink||c.type===A.label||c.type===A.image||c.type===A.link)break}return a;function a(c){if(W(c===S.rightSquareBracket,"expected `]`"),!r||!r._balanced)return n(c);const u=rs(s.sliceSerialize({start:r.end,end:s.now()}));return u.codePointAt(0)!==S.caret||!o.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function mz(e,t){let n=e.length,s;for(;n--;)if(e[n][1].type===A.labelImage&&e[n][0]==="enter"){s=e[n][1];break}W(s,"expected `labelStart` to resolve"),e[n+1][1].type=A.data,e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:A.chunkString,contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},c=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",r,t],["enter",a,t],["exit",a,t],["exit",r,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...c),e}function fz(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,r;return a;function a(m){return W(m===S.leftSquareBracket,"expected `[`"),e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==S.caret?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(m){if(o>ve.linkReferenceSizeMax||m===S.rightSquareBracket&&!r||m===S.eof||m===S.leftSquareBracket||at(m))return n(m);if(m===S.rightSquareBracket){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(rs(s.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return at(m)||(r=!0),o++,e.consume(m),m===S.backslash?d:u}function d(m){return m===S.leftSquareBracket||m===S.backslash||m===S.rightSquareBracket?(e.consume(m),o++,u):u(m)}}function hz(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,r=0,a;return c;function c(p){return W(p===S.leftSquareBracket,"expected `[`"),e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===S.caret?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(r>ve.linkReferenceSizeMax||p===S.rightSquareBracket&&!a||p===S.eof||p===S.leftSquareBracket||at(p))return n(p);if(p===S.rightSquareBracket){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return o=rs(s.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return at(p)||(a=!0),r++,e.consume(p),p===S.backslash?m:d}function m(p){return p===S.leftSquareBracket||p===S.backslash||p===S.rightSquareBracket?(e.consume(p),r++,d):d(p)}function f(p){return p===S.colon?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(o)||i.push(o),Xe(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function pz(e,t,n){return e.check(Ql,t,e.attempt(cz,t,n))}function gz(e){e.exit("gfmFootnoteDefinition")}function bz(e,t,n){const s=this;return Xe(e,i,"gfmFootnoteDefinitionIndent",ve.tabSize+1);function i(o){const r=s.events[s.events.length-1];return r&&r[1].type==="gfmFootnoteDefinitionIndent"&&r[2].sliceSerialize(r[1],!0).length===ve.tabSize?t(o):n(o)}}function vz(e){let n=(e||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{[S.tilde]:s},insideSpan:{null:[s]},attentionMarkers:{null:[S.tilde]}};function i(r,a){let c=-1;for(;++c<r.length;)if(r[c][0]==="enter"&&r[c][1].type==="strikethroughSequenceTemporary"&&r[c][1]._close){let u=c;for(;u--;)if(r[u][0]==="exit"&&r[u][1].type==="strikethroughSequenceTemporary"&&r[u][1]._open&&r[c][1].end.offset-r[c][1].start.offset===r[u][1].end.offset-r[u][1].start.offset){r[c][1].type="strikethroughSequence",r[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},r[u][1].start),end:Object.assign({},r[c][1].end)},m={type:"strikethroughText",start:Object.assign({},r[u][1].end),end:Object.assign({},r[c][1].start)},f=[["enter",d,a],["enter",r[u][1],a],["exit",r[u][1],a],["enter",m,a]],h=a.parser.constructs.insideSpan.null;h&&In(f,f.length,0,Md(h,r.slice(u+1,c),a)),In(f,f.length,0,[["exit",m,a],["enter",r[c][1],a],["exit",r[c][1],a],["exit",d,a]]),In(r,u-1,c-u+3,f),c=u+f.length-2;break}}for(c=-1;++c<r.length;)r[c][1].type==="strikethroughSequenceTemporary"&&(r[c][1].type=A.data);return r}function o(r,a,c){const u=this.previous,d=this.events;let m=0;return f;function f(p){return W(p===S.tilde,"expected `~`"),u===S.tilde&&d[d.length-1][1].type!==A.characterEscape?c(p):(r.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const g=Mr(u);if(p===S.tilde)return m>1?c(p):(r.consume(p),m++,h);if(m<2&&!n)return c(p);const v=r.exit("strikethroughSequenceTemporary"),x=Mr(p);return v._open=!x||x===ve.attentionSideAfter&&!!g,v._close=!g||g===ve.attentionSideAfter&&!!x,a(p)}}}class xz{constructor(){this.map=[]}add(t,n,s){Nz(this,t,n,s)}consume(t){if(this.map.sort(function(o,r){return o[0]-r[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];s.push(t.slice()),t.length=0;let i=s.pop();for(;i;){for(const o of i)t.push(o);i=s.pop()}this.map.length=0}}function Nz(e,t,n,s){let i=0;if(!(n===0&&s.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...s);return}i+=1}e.map.push([t,n,s])}}function yz(e,t){W(e[t][1].type==="table","expected table");let n=!1;const s=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&s.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return s}function wz(){return{flow:{null:{name:"table",tokenize:Dz,resolveAll:Ez}}}}function Dz(e,t,n){const s=this;let i=0,o=0,r;return a;function a(k){let L=s.events.length-1;for(;L>-1;){const j=s.events[L][1].type;if(j===A.lineEnding||j===A.linePrefix)L--;else break}const B=L>-1?s.events[L][1].type:null,P=B==="tableHead"||B==="tableRow"?T:c;return P===T&&s.parser.lazy[s.now().line]?n(k):P(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===S.verticalBar||(r=!0,o+=1),d(k)}function d(k){return k===S.eof?n(k):De(k)?o>1?(o=0,s.interrupt=!0,e.exit("tableRow"),e.enter(A.lineEnding),e.consume(k),e.exit(A.lineEnding),h):n(k):Ue(k)?Xe(e,d,A.whitespace)(k):(o+=1,r&&(r=!1,i+=1),k===S.verticalBar?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),r=!0,d):(e.enter(A.data),m(k)))}function m(k){return k===S.eof||k===S.verticalBar||at(k)?(e.exit(A.data),d(k)):(e.consume(k),k===S.backslash?f:m)}function f(k){return k===S.backslash||k===S.verticalBar?(e.consume(k),m):m(k)}function h(k){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(k):(e.enter("tableDelimiterRow"),r=!1,Ue(k)?(W(s.parser.constructs.disable.null,"expected `disabled.null`"),Xe(e,p,A.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:ve.tabSize)(k)):p(k))}function p(k){return k===S.dash||k===S.colon?v(k):k===S.verticalBar?(r=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),g):w(k)}function g(k){return Ue(k)?Xe(e,v,A.whitespace)(k):v(k)}function v(k){return k===S.colon?(o+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),x):k===S.dash?(o+=1,x(k)):k===S.eof||De(k)?D(k):w(k)}function x(k){return k===S.dash?(e.enter("tableDelimiterFiller"),E(k)):w(k)}function E(k){return k===S.dash?(e.consume(k),E):k===S.colon?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(k))}function N(k){return Ue(k)?Xe(e,D,A.whitespace)(k):D(k)}function D(k){return k===S.verticalBar?p(k):k===S.eof||De(k)?!r||i!==o?w(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):w(k)}function w(k){return n(k)}function T(k){return e.enter("tableRow"),M(k)}function M(k){return k===S.verticalBar?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),M):k===S.eof||De(k)?(e.exit("tableRow"),t(k)):Ue(k)?Xe(e,M,A.whitespace)(k):(e.enter(A.data),_(k))}function _(k){return k===S.eof||k===S.verticalBar||at(k)?(e.exit(A.data),M(k)):(e.consume(k),k===S.backslash?C:_)}function C(k){return k===S.backslash||k===S.verticalBar?(e.consume(k),_):_(k)}}function Ez(e,t){let n=-1,s=!0,i=0,o=[0,0,0,0],r=[0,0,0,0],a=!1,c=0,u,d,m;const f=new xz;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,c!==0&&(W(u,"there should be a table opening"),sN(f,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(s=!0,m=void 0,o=[0,0,0,0],r=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type===A.data||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(s=!1,r[2]===0&&(o[1]!==0&&(r[0]=r[1],m=Rc(f,t,o,i,void 0,m),o=[0,0,0,0]),r[2]=n)):p.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(r[0]=r[1],m=Rc(f,t,o,i,void 0,m)),o=r,r=[o[1],n,0,0])):p.type==="tableHead"?(a=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,o[1]!==0?(r[0]=r[1],m=Rc(f,t,o,i,n,m)):r[1]!==0&&(m=Rc(f,t,r,i,n,m)),i=0):i&&(p.type===A.data||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(r[3]=n)}for(c!==0&&(W(u,"expected table opening"),sN(f,t,c,u,d)),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=yz(t.events,n))}return e}function Rc(e,t,n,s,i,o){const r=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(W(o,"expected previous cell enter"),o.end=Object.assign({},rr(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=rr(t.events,n[1]);if(o={type:r,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=rr(t.events,n[2]),d=rr(t.events,n[3]),m={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",m,t]]),W(n[3]!==0),s!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type=A.chunkText,f[1].contentType=ve.contentTypeText,n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return i!==void 0&&(o.end=Object.assign({},rr(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function sN(e,t,n,s,i){const o=[],r=rr(t.events,n);i&&(i.end=Object.assign({},r),o.push(["exit",i,t])),s.end=Object.assign({},r),o.push(["exit",s,t]),e.add(n+1,0,o)}function rr(e,t){const n=e[t],s=n[0]==="enter"?"start":"end";return n[1][s]}const Tz={name:"tasklistCheck",tokenize:_z};function Sz(){return{text:{[S.leftSquareBracket]:Tz}}}function _z(e,t,n){const s=this;return i;function i(c){return W(c===S.leftSquareBracket,"expected `[`"),s.previous!==S.eof||!s._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return at(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),r):c===S.uppercaseX||c===S.lowercaseX?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),r):n(c)}function r(c){return c===S.rightSquareBracket?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(c)}function a(c){return De(c)?t(c):Ue(c)?e.check({tokenize:kz},t,n)(c):n(c)}}function kz(e,t,n){return Xe(e,s,A.whitespace);function s(i){return i===S.eof?n(i):t(i)}}function Mz(e){return aT([ez(),uz(),vz(e),wz(),Sz()])}const Cz={};function Pz(e){const t=this,n=e||Cz,s=t.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),r=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(Mz(n)),o.push(X$()),r.push(J$(n))}const Az=e=>l.jsxDEV("div",{...e,className:Ce("h-px bg-gray-200 dark:bg-gray-700",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:12,columnNumber:3},void 0),jt=e=>e?l.jsxDEV("div",{className:`prose prose-slate dark:prose-invert prose-headings:scroll-mt-8 max-w-none \r
                   prose-h1:text-2xl prose-h1:font-bold prose-h1:text-gray-900 dark:prose-h1:text-gray-100\r
                   prose-h2:text-xl prose-h2:font-semibold prose-h2:text-gray-800 dark:prose-h2:text-gray-200\r
                   prose-h3:text-lg prose-h3:font-medium prose-h3:text-gray-800 dark:prose-h3:text-gray-200\r
                   prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-p:leading-relaxed\r
                   prose-li:text-gray-700 dark:prose-li:text-gray-300\r
                   prose-code:bg-gray-100 dark:prose-code:bg-gray-800 prose-code:px-1 prose-code:py-0.5 prose-code:rounded\r
                   prose-pre:bg-gray-50 dark:prose-pre:bg-gray-900 prose-pre:border prose-pre:border-gray-200 dark:prose-pre:border-gray-700\r
                   prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:bg-primary/5\r
                   prose-a:text-primary prose-a:no-underline hover:prose-a:underline\r
                   prose-strong:font-semibold prose-strong:text-gray-900 dark:prose-strong:text-gray-100`,children:l.jsxDEV(X9,{remarkPlugins:[Pz],rehypePlugins:[wU],children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:26,columnNumber:5},void 0):null,Dt=(e,t,n="content")=>e.id?`${n}-${e.id}-${t}`:`${n}-${t}`,jz=e=>typeof e.content=="string"?e.content:typeof e.text=="string"?e.text:"",Va=(e,t,n=!1,s=0)=>{const i=n?"ol":"ul",o=Ce("space-y-1 my-1",n?"list-decimal":"list-disc",s===0?"pl-6":"pl-4");return l.jsxDEV(i,{className:o,children:e.map((r,a)=>{const c=`${t}-item-${a}`;return typeof r=="string"?l.jsxDEV("li",{className:"pl-1",children:jt(r)},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:82,columnNumber:13},void 0):r&&typeof r=="object"?"text"in r&&"sublist"in r&&Array.isArray(r.sublist)?l.jsxDEV("li",{className:"pl-1",children:[jt(r.text),Va(r.sublist,`${c}-sublist`,!1,s+1)]},c,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:93,columnNumber:15},void 0):l.jsxDEV("li",{className:"pl-1",children:JSON.stringify(r)},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:102,columnNumber:13},void 0):l.jsxDEV("li",{className:"pl-1",children:String(r)},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:110,columnNumber:11},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:75,columnNumber:5},void 0)};function Iz({content:e,className:t}){const n=(i,o)=>o===0||i.type!=="heading"?!1:i.level&&i.level<=2;if(!e||!Array.isArray(e)||e.length===0)return l.jsxDEV("div",{className:"p-4 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-700 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",children:l.jsxDEV("div",{className:"flex items-start gap-2",children:[l.jsxDEV(Qe,{className:"w-5 h-5 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:132,columnNumber:11},this),l.jsxDEV("p",{children:"No content blocks available to render."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:131,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:130,columnNumber:7},this);return l.jsxDEV("div",{className:Ce("handbook-content space-y-4",t),children:e.map((i,o)=>n(i,o)?l.jsxDEV(Ee.Fragment,{children:[l.jsxDEV(Az,{className:"my-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:146,columnNumber:15},this),s(i,o)]},Dt(i,o),!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:145,columnNumber:13},this):s(i,o))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:140,columnNumber:5},this);function s(i,o){const r=jz(i);switch(i.type){case"heading":{const a=i.level||2,c=Math.min(Math.max(a,1),6),u=`h${c}`,d={1:"text-3xl font-bold tracking-tight mb-4",2:"text-2xl font-semibold tracking-tight mt-8 mb-4",3:"text-xl font-semibold tracking-tight mt-6 mb-3",4:"text-lg font-semibold tracking-tight mt-4 mb-2",5:"text-base font-medium tracking-tight mt-4 mb-2",6:"text-sm font-medium tracking-tight mt-4 mb-2"}[c]||"text-lg font-semibold tracking-tight mt-4 mb-2";return l.jsxDEV(u,{id:i.id||`heading-${o}`,className:d,children:jt(r)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:175,columnNumber:11},this)}case"paragraph":return l.jsxDEV("div",{className:"text-base leading-7 mb-4 text-gray-800 dark:text-gray-200",children:jt(r)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:187,columnNumber:11},this);case"list":case"bullets":return!i.items||!Array.isArray(i.items)||i.items.length===0?null:l.jsxDEV("div",{className:"my-4",children:Va(i.items,Dt(i,o),!1)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:199,columnNumber:11},this);case"numbers":return!i.items||!Array.isArray(i.items)||i.items.length===0?null:l.jsxDEV("div",{className:"my-4",children:Va(i.items,Dt(i,o),!0)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:211,columnNumber:11},this);case"definitions":return!i.items||!Array.isArray(i.items)||i.items.length===0?null:l.jsxDEV("dl",{className:"space-y-4 text-base leading-7 my-4",children:i.items.map((a,c)=>{const u=`${Dt(i,o)}-def-${c}`;if(typeof a=="string"){const d=a.split(/:\s*(.+)/),m=d[0],f=d.length>=2?d[1]:"";return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:jt(m)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:235,columnNumber:21},this),l.jsxDEV("dd",{className:"mt-1 pl-4 text-gray-700 dark:text-gray-300",children:jt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:236,columnNumber:21},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:234,columnNumber:19},this)}if(a&&typeof a=="object"){const d=a;if("term"in d){const f=String(d.term||"");if("definition"in d){const h=String(d.definition||"");return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:jt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:253,columnNumber:25},this),l.jsxDEV("dd",{className:"mt-1 pl-4 text-gray-700 dark:text-gray-300",children:jt(h)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:254,columnNumber:25},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:252,columnNumber:23},this)}if("sublist"in d&&Array.isArray(d.sublist))return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:jt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:263,columnNumber:25},this),l.jsxDEV("dd",{className:"mt-1 pl-4",children:Va(d.sublist,`${u}-sublist`)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:264,columnNumber:25},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:262,columnNumber:23},this)}const m=Object.entries(d);if(m.length>0){const[f,h]=m[0];return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:jt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:278,columnNumber:23},this),l.jsxDEV("dd",{className:"mt-1 pl-4 text-gray-700 dark:text-gray-300",children:typeof h=="string"?jt(h):Array.isArray(h)?Va(h,`${u}-list`):String(h)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:279,columnNumber:23},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:277,columnNumber:21},this)}}return l.jsxDEV("div",{className:"mt-2 text-red-600 dark:text-red-400",children:[l.jsxDEV("dt",{children:"Invalid definition item"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:295,columnNumber:19},this),l.jsxDEV("dd",{className:"pl-4 text-sm",children:JSON.stringify(a)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:296,columnNumber:19},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:294,columnNumber:17},this)})},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:223,columnNumber:11},this);case"table":{const a=i.headers&&Array.isArray(i.headers)&&i.headers.length>0;return i.rows&&Array.isArray(i.rows)&&i.rows.length>0?l.jsxDEV("div",{className:"my-6 w-full overflow-auto rounded-md border border-gray-200 dark:border-gray-700",children:l.jsxDEV(Table,{children:[a&&l.jsxDEV(TableHeader,{children:l.jsxDEV(TableRow,{children:i.headers.map((u,d)=>l.jsxDEV(TableHead,{children:jt(u)},`${Dt(i,o)}-header-${d}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:323,columnNumber:23},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:321,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:320,columnNumber:17},this),l.jsxDEV(TableBody,{children:i.rows.map((u,d)=>l.jsxDEV(TableRow,{children:u.map((m,f)=>l.jsxDEV(TableCell,{children:typeof m=="string"?jt(m):String(m)},`${Dt(i,o)}-cell-${d}-${f}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:334,columnNumber:23},this))},`${Dt(i,o)}-row-${d}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:332,columnNumber:19},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:330,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:318,columnNumber:13},this)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:317,columnNumber:11},this):l.jsxDEV("div",{className:"text-red-500 my-4",children:"Invalid table: missing rows"},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:310,columnNumber:13},this)}case"code":return l.jsxDEV("div",{className:"my-4",children:l.jsxDEV(CodeBlock,{language:i.language,value:r||"",showLineNumbers:!0},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:352,columnNumber:13},this)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:351,columnNumber:11},this);case"note":return l.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 my-4",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(ld,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:367,columnNumber:15},this),l.jsxDEV("div",{className:"text-blue-800 dark:text-blue-200",children:jt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:368,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:366,columnNumber:13},this)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:362,columnNumber:11},this);case"warning":return l.jsxDEV("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 my-4",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(Qe,{className:"w-5 h-5 text-yellow-500 dark:text-yellow-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:382,columnNumber:15},this),l.jsxDEV("div",{className:"text-yellow-800 dark:text-yellow-200",children:jt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:383,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:381,columnNumber:13},this)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:377,columnNumber:11},this);case"clinical_pearl":return l.jsxDEV(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border-l-4 border-primary rounded-lg p-4 my-4 shadow-sm",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(Ep,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:400,columnNumber:15},this),l.jsxDEV("div",{className:"text-gray-800 dark:text-gray-200",children:jt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:399,columnNumber:13},this)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:392,columnNumber:11},this);case"markdown":return l.jsxDEV("div",{className:"my-4 prose dark:prose-invert prose-headings:scroll-mt-8 max-w-none",children:jt(r)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:410,columnNumber:11},this);case"document":return l.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 my-4",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(ad,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:422,columnNumber:15},this),l.jsxDEV("div",{className:"text-gray-800 dark:text-gray-200",children:jt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:423,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:421,columnNumber:13},this)},Dt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:417,columnNumber:11},this);default:return console.warn(`Unknown block type: ${i.type||"undefined"}`,i),r?l.jsxDEV("div",{className:"p-4 border border-amber-200 dark:border-amber-800 rounded-lg bg-amber-50 dark:bg-amber-900/20 my-4",children:[l.jsxDEV("div",{className:"flex items-start gap-2 mb-2",children:[l.jsxDEV(Ps,{className:"w-5 h-5 text-amber-500 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:438,columnNumber:17},this),l.jsxDEV("p",{className:"text-amber-700 dark:text-amber-300 text-sm font-medium",children:["Unknown content type: ",i.type||"undefined"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:439,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:437,columnNumber:15},this),l.jsxDEV("div",{className:"text-gray-800 dark:text-gray-200 mt-2",children:jt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:443,columnNumber:15},this)]},Dt(i,o),!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:436,columnNumber:13},this):l.jsxDEV("div",{className:"p-4 border border-amber-200 dark:border-amber-800 rounded-lg bg-amber-50 dark:bg-amber-900/20 my-4",children:[l.jsxDEV("div",{className:"flex items-start gap-2 mb-2",children:[l.jsxDEV(Ps,{className:"w-5 h-5 text-amber-500 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:454,columnNumber:15},this),l.jsxDEV("p",{className:"text-amber-700 dark:text-amber-300 text-sm font-medium",children:"Unknown content block structure"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:455,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:453,columnNumber:13},this),l.jsxDEV("pre",{className:"mt-2 text-xs overflow-auto bg-amber-100 dark:bg-amber-900/40 p-2 rounded text-amber-800 dark:text-amber-200",children:JSON.stringify(i,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:459,columnNumber:13},this)]},Dt(i,o),!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:452,columnNumber:11},this)}}}function Rz({metadata:e,totalBlocks:t,currentBlock:n}){const s=t>0?n/t*100:0;return l.jsxDEV("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 print:hidden",children:l.jsxDEV("div",{className:"px-6 py-3",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.title)&&l.jsxDEV("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:24,columnNumber:15},this),(e==null?void 0:e.category)&&l.jsxDEV("span",{className:"px-2 py-1 text-xs font-medium bg-primary/10 text-primary rounded-full",children:e.category},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:29,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:22,columnNumber:11},this),l.jsxDEV("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.lastUpdated)&&l.jsxDEV("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Updated: ",e.lastUpdated]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:37,columnNumber:15},this),l.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n,"/",t," sections"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:41,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:35,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:21,columnNumber:9},this),l.jsxDEV("div",{className:"mt-2 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:l.jsxDEV("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:20,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:19,columnNumber:5},this)}function Vz({filePath:e}){const[t,n]=b.useState(null),[s,i]=b.useState(null),[o,r]=b.useState(!0),[a,c]=b.useState(null),[u,d]=b.useState(0);return b.useEffect(()=>{e&&(async()=>{var f;console.log(" JsonHandbookViewer loading:",e),r(!0),i(null),n(null),c(null);try{const h=await fetch(e);if(console.log(" Content response:",{status:h.status,ok:h.ok,contentType:h.headers.get("content-type")}),!h.ok)throw new Error(`Failed to load content: ${h.statusText}`);const p=await h.json();console.log(" Content structure:",{hasContent:!!p.content,contentIsArray:Array.isArray(p.content),contentLength:((f=p.content)==null?void 0:f.length)||0,hasDefaultSections:!!p.sections&&Array.isArray(p.sections),keys:Object.keys(p)});let g=[],v={};const x=N=>{if(typeof N=="string")return{type:"paragraph",text:N,id:`block-${Math.random().toString(36).substring(2,11)}`};const D={...N};return D.id||(D.id=`block-${Math.random().toString(36).substring(2,11)}`),D.list&&Array.isArray(D.list)&&(D.type=D.type||"list",D.items=D.list,delete D.list),D.type==="bullets"?D.type="list":D.type==="numbers"?D.type="numbers":D.type==="definitions"&&(D.type="definitions"),!D.text&&!D.content&&(typeof D.value=="string"?D.text=D.value:typeof D.body=="string"&&(D.text=D.body)),D.items&&!Array.isArray(D.items)&&(typeof D.items=="string"?D.items=D.items.split(/\r?\n/).filter(Boolean):(console.warn("Invalid items format:",D.items),D.items=[])),D},E=N=>{if(!N)return[];if(Array.isArray(N))return N.map(D=>x(D));if(typeof N=="string")return[x({type:"paragraph",text:N})];if(typeof N=="object"&&N!==null){if(N.list&&Array.isArray(N.list))return[x({type:"list",items:N.list})];if(N.type&&typeof N.type=="string")return[x(N)];const D=[];for(const w in N){const T=N[w];T!==null&&(Array.isArray(T)?D.push(x({type:w==="numbers"?"numbers":"list",items:T})):typeof T=="string"?D.push(x({type:"paragraph",text:T})):typeof T=="object"&&D.push(...E(T)))}if(D.length>0)return D}return[x({type:"code",text:JSON.stringify(N,null,2)})]};if(p.content&&Array.isArray(p.content)){g=p.content.map(x);const{content:N,...D}=p;v=D}else if(p.sections&&Array.isArray(p.sections)){p.sections.forEach((w,T)=>{g.push(x({type:"heading",level:2,text:w.title||"Untitled Section",id:`section-${T}`})),w.content&&(Array.isArray(w.content)?w.content.forEach(M=>{g.push(...E(M))}):typeof w.content=="string"?g.push(x({type:"paragraph",text:w.content,id:`paragraph-${T}`})):typeof w.content=="object"&&w.content!==null&&g.push(...E(w.content)))});const{sections:N,...D}=p;v=D}else if(p.bullets||p.numbers||p.definitions){[{key:"bullets",type:"list"},{key:"numbers",type:"numbers"},{key:"definitions",type:"definitions"}].forEach(({key:_,type:C})=>{if(p[_]){let k=p[_];typeof k=="string"&&(k=k.split(/\r?\n/).filter(Boolean)),Array.isArray(k)&&k.length>0&&g.push(x({type:C,items:k,id:`${_}-${Math.random().toString(36).substring(2,9)}`}))}});const{bullets:D,numbers:w,definitions:T,...M}=p;v=M}else if(Object.keys(p).length>0){const N=Object.keys(p).filter(D=>!["title","category","section","metadata","version","author"].includes(D));if(N.length>0){N.forEach(w=>{const T=p[w];if(g.push(x({type:"heading",level:2,text:w.charAt(0).toUpperCase()+w.slice(1).replace(/_/g," "),id:`section-${w}`})),typeof T=="string")g.push(x({type:"paragraph",text:T,id:`${w}-text`}));else if(Array.isArray(T)){const M=w.includes("number")||w.includes("steps")?"numbers":"list";g.push(x({type:M,items:T.map(_=>typeof _=="string"?_:JSON.stringify(_)),id:`${w}-list`}))}else if(typeof T=="object"&&T!==null)if(Object.keys(T).every(M=>typeof T[M]=="string")){const M=Object.entries(T).map(([_,C])=>`${_}: ${C}`);g.push(x({type:"definitions",items:M,id:`${w}-definitions`}))}else{const M=Object.entries(T).map(([_,C])=>`**${_}**: ${C}`).join(`

`);g.push(x({type:"markdown",text:M,id:`${w}-obj`}))}});const D=["title","category","section","metadata","version","author"];v=Object.fromEntries(Object.entries(p).filter(([w])=>D.includes(w)))}}g.length===0&&(g=[x({type:"code",text:JSON.stringify(p,null,2),id:"raw-json"})]),console.log(" Content processed:",{contentBlocks:g.length,metadata:v}),n(g),c(v)}catch(h){console.error(" Error loading content:",h),i(h instanceof Error?h.message:"Failed to load content")}finally{r(!1)}})()},[e]),b.useEffect(()=>{const m=()=>{const f=document.querySelectorAll("[data-block-index]"),h=window.scrollY+200;for(let p=f.length-1;p>=0;p--)if(f[p].offsetTop<=h){d(p+1);break}};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[t]),o?l.jsxDEV("div",{className:"flex items-center justify-center h-32",children:l.jsxDEV(ri,{className:"w-6 h-6 animate-spin text-primary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:422,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:421,columnNumber:7},this):s?l.jsxDEV("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700",children:l.jsxDEV("div",{className:"flex items-start",children:[l.jsxDEV(Qe,{className:"w-5 h-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:431,columnNumber:11},this),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"Error Loading Content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:433,columnNumber:13},this),l.jsxDEV("p",{className:"mt-1",children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:434,columnNumber:13},this),l.jsxDEV("p",{className:"mt-4 text-sm",children:["File path: ",l.jsxDEV("code",{className:"bg-red-100 px-1 py-0.5 rounded",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:436,columnNumber:26},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:435,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:432,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:430,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:429,columnNumber:7},this):!t||t.length===0?l.jsxDEV("div",{className:"p-4 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-700",children:l.jsxDEV("div",{className:"flex items-start",children:[l.jsxDEV(Qe,{className:"w-5 h-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:448,columnNumber:11},this),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"No Content Available"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:450,columnNumber:13},this),l.jsxDEV("p",{className:"mt-1",children:"The document appears to be empty or incorrectly formatted."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:451,columnNumber:13},this),l.jsxDEV("p",{className:"mt-4 text-sm",children:["File path: ",l.jsxDEV("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:453,columnNumber:26},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:452,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:449,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:447,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:446,columnNumber:7},this):l.jsxDEV("div",{className:"relative",children:[l.jsxDEV(Rz,{metadata:a,totalBlocks:(t==null?void 0:t.length)||0,currentBlock:u},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:463,columnNumber:7},this),l.jsxDEV("div",{className:"pt-4",children:l.jsxDEV(Iz,{content:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:470,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:469,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:462,columnNumber:5},this)}const $S={"medical-oncology":"medical_oncology_handbook","radiation-oncology":"radiation_handbook","palliative-care":"palliative_handbook"};function zS(e){const t=$S[e];if(!t)throw new Error(`Invalid handbook section: ${e}`);return t}function Oz(e){return`/${zS(e)}/toc.json`}function Lz(e,t){const s=`/${zS(e)}`;if(!t)return`${s}/overview.json`;const i=t.replace(/^\/+|\/+$/g,"").replace(/\.json$|\.md$/,""),o=`${s}/${i}.json`;return console.log(` getContentPath generated: ${o} from topic: ${t}`),o}function iN(e){return e in $S}function Fz(e){if(console.log(" parseHandbookPath input:",e),!e.startsWith("/handbook"))return console.log(" Not a handbook path"),{};const t=e.split("/").filter(Boolean);if(t.shift(),t.length===0)return console.log(" No section found"),{};const n=t[0],s=t.slice(1).join("/");return console.log(" Parsed path:",{section:n,topic:s}),{section:n||void 0,topic:s||void 0}}function Bz(e,t){const[n,s]=b.useState(null),[i,o]=b.useState(null),[r,a]=b.useState(!0),[c,u]=b.useState(null);return b.useEffect(()=>{(async()=>{console.log(" useHandbookData loading:",{section:e,topic:t}),a(!0),u(null),s(null),o(null);try{if(!e){console.log(" No section provided, skipping load"),a(!1);return}if(!iN(e)){console.warn(" Invalid section:",e),u(new Error(`Invalid handbook section: ${e}`)),a(!1);return}const m=Oz(e);console.log(" Loading TOC from:",m);try{const f=await fetch(m);if(!f.ok)throw new Error(`Failed to load TOC: ${f.statusText}`);const h=await f.json();if(!Array.isArray(h))throw new Error(`Invalid TOC format: Expected an array but got ${typeof h}`);console.log(" TOC loaded successfully with",h.length,"entries"),s(h)}catch(f){throw console.error(" Error loading TOC:",f),new Error(`Failed to load handbook navigation: ${f instanceof Error?f.message:"Unknown error"}`)}if(t){const f=Lz(e,t);console.log(" Content path:",f),o(f)}else console.log(" No topic provided, skipping content load")}catch(m){console.error(" Error in useHandbookData:",m),u(m instanceof Error?m:new Error("Failed to load handbook data"))}finally{a(!1)}})()},[e,t]),{tocData:n,activeFile:i,isLoading:r,error:c,isValidSection:e?iN(e):!1}}function Hz(e){if(e instanceof Error)return{message:e.message,stack:e.stack,code:"ERROR"};if(e&&typeof e=="object"){const t=e;return{message:typeof t.message=="string"?t.message:"Unknown error",code:typeof t.code=="string"?t.code:"UNKNOWN",pageViewId:typeof t.pageViewId=="string"?t.pageViewId:"unknown",stack:typeof t.stack=="string"?t.stack:void 0}}return{message:String(e),code:"UNKNOWN"}}const Uz=[{id:"medical-oncology",title:"Medical Oncology",description:"Clinical oncology chapters, diagnosis, treatment, supportive care, emergencies, and reference tools.",icon:Ep},{id:"radiation-oncology",title:"Radiation Oncology",description:"Detailed protocols for radiation therapy, treatment planning, dosimetry, and management of radiation-related effects.",icon:is},{id:"palliative-care",title:"Palliative Care",description:"Guidelines for symptom management, pain control, and improving quality of life for patients with advanced cancer.",icon:is}],$z=()=>{var m,f;const e=tC(),t=us(),{section:n,topic:s}=b.useMemo(()=>{const h=Fz(e.pathname);return console.log(" Parsed handbook path:",{...h,pathname:e.pathname}),h},[e.pathname]),{tocData:i,activeFile:o,isLoading:r,error:a,isValidSection:c}=Bz(n,s),u=b.useMemo(()=>n?Uz.find(h=>h.id===n):void 0,[n]),d=b.useCallback((h,p)=>{try{console.log(" Navigation request:",{selectedSection:h,selectedTopic:p});const g=p.replace(/^\/+|\/+$/g,"").replace(/\.json$|\.md$/,""),v=`/handbook/${h}/${g}`;t(v)}catch(g){console.error(" Navigation error:",g)}},[t]);return e.pathname==="/handbook"?l.jsxDEV(V4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:61,columnNumber:12},void 0):n&&!c?l.jsxDEV("div",{className:"p-8",children:l.jsxDEV("div",{className:"text-red-500 p-4 rounded-lg bg-red-50 border border-red-200",children:["Invalid handbook section: ",n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:68,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:67,columnNumber:7},void 0):l.jsxDEV("div",{className:"flex h-full bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800",children:[r?l.jsxDEV("div",{className:"w-80 flex-shrink-0 flex items-center justify-center p-6",children:l.jsxDEV(ri,{className:"w-8 h-8 animate-spin text-primary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:80,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:79,columnNumber:9},void 0):a?l.jsxDEV("div",{className:"w-80 flex-shrink-0 p-6",children:l.jsxDEV("div",{className:"text-red-500 p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:typeof a=="string"?a:Hz(a).message},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:84,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:83,columnNumber:9},void 0):l.jsxDEV(L4,{section:n,tocData:i||[],activeTopicId:s?`${n}/${s}`:n,onTopicClick:d},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:89,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-1 p-8 overflow-y-auto min-h-screen",id:"handbook-content-area",children:l.jsxDEV(I4,{children:o?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[l.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s?(f=(m=s.split("/").pop())==null?void 0:m.replace(/-/g," "))==null?void 0:f.replace(".json",""):(u==null?void 0:u.title)||"Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:104,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>window.print(),className:`inline-flex items-center px-3 py-1.5 text-sm\r
                    bg-white dark:bg-slate-800 \r
                    text-gray-700 dark:text-gray-300\r
                    border border-gray-200 dark:border-gray-700\r
                    rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-slate-700\r
                    transition-colors`,children:[l.jsxDEV("span",{role:"img","aria-label":"Print",className:"mr-1",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:118,columnNumber:19},void 0)," Print"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:103,columnNumber:15},void 0),l.jsxDEV(st,{moduleName:"AI Handbook",children:l.jsxDEV(Vz,{filePath:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:123,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:101,columnNumber:13},void 0):l.jsxDEV("div",{className:"text-center py-12",children:[l.jsxDEV(is,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:129,columnNumber:15},void 0),l.jsxDEV("h2",{className:"text-xl font-medium text-muted-foreground",children:"Select a topic from the sidebar to view its content."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:130,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-muted-foreground mt-2",children:["You are currently in the ",l.jsxDEV("span",{className:"font-semibold",children:(u==null?void 0:u.title)||"Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:134,columnNumber:42},void 0)," section."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:133,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:128,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:99,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:98,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:76,columnNumber:5},void 0)};function Zg(e){const t=e+"CollectionProvider",[n,s]=Is(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),r=g=>{const{scope:v,children:x}=g,E=Ee.useRef(null),N=Ee.useRef(new Map).current;return q.jsx(i,{scope:v,itemMap:N,collectionRef:E,children:x})};r.displayName=t;const a=e+"CollectionSlot",c=Tr(a),u=Ee.forwardRef((g,v)=>{const{scope:x,children:E}=g,N=o(a,x),D=Je(v,N.collectionRef);return q.jsx(c,{ref:D,children:E})});u.displayName=a;const d=e+"CollectionItemSlot",m="data-radix-collection-item",f=Tr(d),h=Ee.forwardRef((g,v)=>{const{scope:x,children:E,...N}=g,D=Ee.useRef(null),w=Je(v,D),T=o(d,x);return Ee.useEffect(()=>(T.itemMap.set(D,{ref:D,...N}),()=>void T.itemMap.delete(D))),q.jsx(f,{[m]:"",ref:w,children:E})});h.displayName=d;function p(g){const v=o(e+"CollectionConsumer",g);return Ee.useCallback(()=>{const E=v.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((T,M)=>N.indexOf(T.ref.current)-N.indexOf(M.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:r,Slot:u,ItemSlot:h},p,s]}var eb="ToastProvider",[tb,zz,Wz]=Zg("Toast"),[WS,$se]=Is("Toast",[Wz]),[qz,Ld]=WS(eb),qS=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:r}=e,[a,c]=b.useState(null),[u,d]=b.useState(0),m=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${eb}\`. Expected non-empty \`string\`.`),q.jsx(tb.Provider,{scope:t,children:q.jsx(qz,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:b.useCallback(()=>d(h=>h+1),[]),onToastRemove:b.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:r})})};qS.displayName=eb;var GS="ToastViewport",Gz=["F8"],zh="toast.viewportPause",Wh="toast.viewportResume",YS=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=Gz,label:i="Notifications ({hotkey})",...o}=e,r=Ld(GS,n),a=zz(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),m=b.useRef(null),f=Je(t,m,r.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=r.toastCount>0;b.useEffect(()=>{const v=x=>{var N;s.length!==0&&s.every(D=>x[D]||x.code===D)&&((N=m.current)==null||N.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),b.useEffect(()=>{const v=c.current,x=m.current;if(p&&v&&x){const E=()=>{if(!r.isClosePausedRef.current){const T=new CustomEvent(zh);x.dispatchEvent(T),r.isClosePausedRef.current=!0}},N=()=>{if(r.isClosePausedRef.current){const T=new CustomEvent(Wh);x.dispatchEvent(T),r.isClosePausedRef.current=!1}},D=T=>{!v.contains(T.relatedTarget)&&N()},w=()=>{v.contains(document.activeElement)||N()};return v.addEventListener("focusin",E),v.addEventListener("focusout",D),v.addEventListener("pointermove",E),v.addEventListener("pointerleave",w),window.addEventListener("blur",E),window.addEventListener("focus",N),()=>{v.removeEventListener("focusin",E),v.removeEventListener("focusout",D),v.removeEventListener("pointermove",E),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",E),window.removeEventListener("focus",N)}}},[p,r.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const E=a().map(N=>{const D=N.ref.current,w=[D,...rW(D)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?E.reverse():E).flat()},[a]);return b.useEffect(()=>{const v=m.current;if(v){const x=E=>{var w,T,M;const N=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!N){const _=document.activeElement,C=E.shiftKey;if(E.target===v&&C){(w=u.current)==null||w.focus();return}const B=g({tabbingDirection:C?"backwards":"forwards"}),P=B.findIndex(j=>j===_);tf(B.slice(P+1))?E.preventDefault():C?(T=u.current)==null||T.focus():(M=d.current)==null||M.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,g]),q.jsxs(YI,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&q.jsx(qh,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});tf(v)}}),q.jsx(tb.Slot,{scope:n,children:q.jsx(Ae.ol,{tabIndex:-1,...o,ref:f})}),p&&q.jsx(qh,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});tf(v)}})]})});YS.displayName=GS;var KS="ToastFocusProxy",qh=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,o=Ld(KS,n);return q.jsx(vd,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:r=>{var u;const a=r.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&s()}})});qh.displayName=KS;var sc="Toast",Yz="toast.swipeStart",Kz="toast.swipeMove",Xz="toast.swipeCancel",Jz="toast.swipeEnd",XS=b.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:o,...r}=e,[a,c]=Pi({prop:s,defaultProp:i??!0,onChange:o,caller:sc});return q.jsx(Kn,{present:n||a,children:q.jsx(eW,{open:a,...r,ref:t,onClose:()=>c(!1),onPause:Rt(e.onPause),onResume:Rt(e.onResume),onSwipeStart:_e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:_e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});XS.displayName=sc;var[Qz,Zz]=WS(sc,{onClose(){}}),eW=b.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:o,onClose:r,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:h,...p}=e,g=Ld(sc,n),[v,x]=b.useState(null),E=Je(t,j=>x(j)),N=b.useRef(null),D=b.useRef(null),w=i||g.duration,T=b.useRef(0),M=b.useRef(w),_=b.useRef(0),{onToastAdd:C,onToastRemove:k}=g,L=Rt(()=>{var R;(v==null?void 0:v.contains(document.activeElement))&&((R=g.viewport)==null||R.focus()),r()}),B=b.useCallback(j=>{!j||j===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(L,j))},[L]);b.useEffect(()=>{const j=g.viewport;if(j){const R=()=>{B(M.current),u==null||u()},U=()=>{const G=new Date().getTime()-T.current;M.current=M.current-G,window.clearTimeout(_.current),c==null||c()};return j.addEventListener(zh,U),j.addEventListener(Wh,R),()=>{j.removeEventListener(zh,U),j.removeEventListener(Wh,R)}}},[g.viewport,w,c,u,B]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&B(w)},[o,w,g.isClosePausedRef,B]),b.useEffect(()=>(C(),()=>k()),[C,k]);const P=b.useMemo(()=>v?s_(v):null,[v]);return g.viewport?q.jsxs(q.Fragment,{children:[P&&q.jsx(tW,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),q.jsx(Qz,{scope:n,onClose:L,children:Fr.createPortal(q.jsx(tb.ItemSlot,{scope:n,children:q.jsx(GI,{asChild:!0,onEscapeKeyDown:_e(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:q.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:_e(e.onPointerDown,j=>{j.button===0&&(N.current={x:j.clientX,y:j.clientY})}),onPointerMove:_e(e.onPointerMove,j=>{if(!N.current)return;const R=j.clientX-N.current.x,U=j.clientY-N.current.y,G=!!D.current,$=["left","right"].includes(g.swipeDirection),Z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=$?Z(0,R):0,oe=$?0:Z(0,U),be=j.pointerType==="touch"?10:2,O={x:I,y:oe},ue={originalEvent:j,delta:O};G?(D.current=O,Vc(Kz,m,ue,{discrete:!1})):oN(O,g.swipeDirection,be)?(D.current=O,Vc(Yz,d,ue,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(R)>be||Math.abs(U)>be)&&(N.current=null)}),onPointerUp:_e(e.onPointerUp,j=>{const R=D.current,U=j.target;if(U.hasPointerCapture(j.pointerId)&&U.releasePointerCapture(j.pointerId),D.current=null,N.current=null,R){const G=j.currentTarget,$={originalEvent:j,delta:R};oN(R,g.swipeDirection,g.swipeThreshold)?Vc(Jz,h,$,{discrete:!0}):Vc(Xz,f,$,{discrete:!0}),G.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tW=e=>{const{__scopeToast:t,children:n,...s}=e,i=Ld(sc,t),[o,r]=b.useState(!1),[a,c]=b.useState(!1);return iW(()=>r(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:q.jsx(bd,{asChild:!0,children:q.jsx(vd,{...s,children:o&&q.jsxs(q.Fragment,{children:[i.label," ",n]})})})},nW="ToastTitle",JS=b.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return q.jsx(Ae.div,{...s,ref:t})});JS.displayName=nW;var sW="ToastDescription",QS=b.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return q.jsx(Ae.div,{...s,ref:t})});QS.displayName=sW;var ZS="ToastAction",e_=b.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?q.jsx(n_,{altText:n,asChild:!0,children:q.jsx(nb,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZS}\`. Expected non-empty \`string\`.`),null)});e_.displayName=ZS;var t_="ToastClose",nb=b.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=Zz(t_,n);return q.jsx(n_,{asChild:!0,children:q.jsx(Ae.button,{type:"button",...s,ref:t,onClick:_e(e.onClick,i.onClose)})})});nb.displayName=t_;var n_=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return q.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function s_(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),oW(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const r=s.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...s_(s))}}),t}function Vc(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?dD(i,o):i.dispatchEvent(o)}var oN=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),o=s>i;return t==="left"||t==="right"?o&&s>n:!o&&i>n};function iW(e=()=>{}){const t=Rt(e);zt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function oW(e){return e.nodeType===e.ELEMENT_NODE}function rW(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var aW=qS,i_=YS,o_=XS,r_=JS,a_=QS,l_=e_,c_=nb;const u_=aW,d_=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(i_,{ref:n,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:12,columnNumber:3},void 0));d_.displayName=i_.displayName;const lW=Td("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sb=b.forwardRef(({className:e,variant:t,...n},s)=>l.jsxDEV(o_,{ref:s,className:lW({variant:t}),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:42,columnNumber:5},void 0));sb.displayName=o_.displayName;const cW=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(l_,{ref:n,className:"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:55,columnNumber:3},void 0));cW.displayName=l_.displayName;const m_=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(c_,{ref:n,className:"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600","toast-close":"",...t,children:l.jsxDEV(ss,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:67,columnNumber:3},void 0));m_.displayName=c_.displayName;const f_=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(r_,{ref:n,className:"text-sm font-semibold",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:82,columnNumber:3},void 0));f_.displayName=r_.displayName;const h_=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(a_,{ref:n,className:"text-sm opacity-90",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:94,columnNumber:3},void 0));h_.displayName=a_.displayName;const uW=1,dW=1e3;let nf=0;function mW(){return nf=(nf+1)%Number.MAX_VALUE,nf.toString()}const sf=new Map,rN=e=>{if(sf.has(e))return;const t=setTimeout(()=>{sf.delete(e),sl({type:"REMOVE_TOAST",toastId:e})},dW);sf.set(e,t)},fW=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uW)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rN(n):e.toasts.forEach(s=>{rN(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},xu=[];let Nu={toasts:[]};function sl(e){Nu=fW(Nu,e),xu.forEach(t=>{t(Nu)})}function Ar({...e}){const t=mW(),n=i=>sl({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>sl({type:"DISMISS_TOAST",toastId:t});return sl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function ib(){const[e,t]=b.useState(Nu);return b.useEffect(()=>(xu.push(t),()=>{const n=xu.indexOf(t);n>-1&&xu.splice(n,1)}),[e]),{...e,toast:Ar,dismiss:n=>sl({type:"DISMISS_TOAST",toastId:n})}}function hW(){const{toasts:e}=ib();return l.jsxDEV(u_,{children:[e.map(function({id:t,title:n,description:s,action:i,...o}){return l.jsxDEV(sb,{...o,children:[l.jsxDEV("div",{className:"grid gap-1",children:[n&&l.jsxDEV(f_,{children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:20,columnNumber:25},this),s&&l.jsxDEV(h_,{children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:22,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:19,columnNumber:13},this),i,l.jsxDEV(m_,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:26,columnNumber:13},this)]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:18,columnNumber:11},this)}),l.jsxDEV(d_,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:15,columnNumber:5},this)}const pW=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg",children:l.jsxDEV("div",{className:"p-6",children:l.jsxDEV("div",{className:"space-y-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/EvaluationCard.tsx",lineNumber:11,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/EvaluationCard.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/EvaluationCard.tsx",lineNumber:9,columnNumber:5},void 0),gW=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/PathwayCard.tsx",lineNumber:5,columnNumber:5},void 0),bW=({children:e})=>l.jsxDEV("div",{className:"opd-card",children:l.jsxDEV("div",{className:"opd-card-content",children:l.jsxDEV("div",{className:"space-y-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ScreeningCard.tsx",lineNumber:11,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ScreeningCard.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ScreeningCard.tsx",lineNumber:9,columnNumber:5},void 0),vW=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ReferralCard.tsx",lineNumber:5,columnNumber:5},void 0),xW=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/FollowUpCard.tsx",lineNumber:5,columnNumber:5},void 0),NW=({patientData:e,isEnabled:t=!1})=>{const[n,s]=b.useState("loading"),[i,o]=b.useState(null),[r,a]=b.useState(null);b.useEffect(()=>{if(!t){s("disabled");return}if(!e){s("disabled"),o("No patient data available to generate a summary.");return}(async()=>{try{s("loading"),await new Promise(m=>setTimeout(m,1500));const d=c(e);o(d),s("generated")}catch(d){console.error("Failed to generate AI summary:",d),a("Failed to generate summary. Please try again later."),s("error")}})()},[e,t]);const c=u=>"This 58-year-old patient presents with symptoms suggestive of possible oncological condition. Based on the available data, recommend further investigation including appropriate imaging and possibly tissue diagnosis. Consider referral to specialized oncology service for comprehensive evaluation.";return n==="disabled"&&!i?null:l.jsxDEV("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxDEV("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsxDEV("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:75,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:68,columnNumber:9},void 0),l.jsxDEV("h3",{className:"text-lg font-semibold text-blue-800",children:"AI Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:82,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:67,columnNumber:7},void 0),n==="loading"&&l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"flex items-center text-blue-600",children:[l.jsxDEV(ri,{className:"w-5 h-5 mr-2 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:88,columnNumber:13},void 0),l.jsxDEV("span",{children:"Generating clinical summary..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:87,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 bg-blue-100 rounded animate-pulse"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:91,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 bg-blue-100 rounded animate-pulse w-5/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:92,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 bg-blue-100 rounded animate-pulse w-4/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:86,columnNumber:9},void 0),n==="generated"&&i&&l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"flex items-center text-green-600 mb-2",children:[l.jsxDEV(ji,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:100,columnNumber:13},void 0),l.jsxDEV("span",{children:"Summary generated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:99,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-700",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:103,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:98,columnNumber:9},void 0),n==="error"&&l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"flex items-center text-red-600",children:[l.jsxDEV(Ps,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:110,columnNumber:13},void 0),l.jsxDEV("span",{children:r||"Failed to generate summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:109,columnNumber:11},void 0),l.jsxDEV("button",{className:"text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 mt-2",onClick:()=>{e&&(s("loading"),setTimeout(()=>{o(c()),s("generated")},1500))},children:"Try Again"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:113,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:108,columnNumber:9},void 0),n==="disabled"&&i&&l.jsxDEV("div",{className:"text-sm text-gray-500",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:132,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:66,columnNumber:5},void 0)},yW=()=>{const e=us();return l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-indigo-800",children:" Patient Evaluation Overview"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:9,columnNumber:7},void 0),l.jsxDEV("p",{className:"text-gray-700 max-w-3xl",children:"This module guides oncologists through a complete and structured patient evaluation during outpatient visits. It is not an EHR but a clinical decision support tool meant to ensure no critical detail is missed during your assessment."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:10,columnNumber:7},void 0),l.jsxDEV("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 space-y-4",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-800",children:"Key Features"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:15,columnNumber:9},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[l.jsxDEV("li",{children:"Structured History Taking: CC, HOPC, PMH, Family & Social History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:17,columnNumber:11},void 0),l.jsxDEV("li",{children:"Oncology-Focused Physical Examination & Red Flags"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:18,columnNumber:11},void 0),l.jsxDEV("li",{children:"Initial Diagnostic Planning and Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:19,columnNumber:11},void 0),l.jsxDEV("li",{children:"Non-EHR format with clinical flexibility"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:20,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:16,columnNumber:9},void 0),l.jsxDEV("div",{className:"pt-4",children:l.jsxDEV("button",{onClick:()=>e("/opd/patient-evaluation-form"),className:"bg-indigo-600 hover:bg-indigo-700 text-white text-sm px-5 py-2 rounded-md shadow",children:" Start Patient Evaluation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:24,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:14,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:8,columnNumber:5},void 0)},wW={id:"breast",name:"Breast Cancer Diagnostic Pathway",description:"Systematic approach to breast cancer diagnosis and staging, aligned with NCCN 2024 and ASCO guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis, 2-4 weeks for full staging and treatment plan",steps:[{id:"initial",title:"Initial Presentation & Clinical Assessment",description:"Patient presents with breast symptoms (e.g., lump, skin changes, nipple discharge) or abnormal screening mammogram. Detailed history (including risk factors like family history, prior breast conditions, hormonal exposures, genetic predisposition) and clinical breast exam (CBE).",expectedDuration:"1-2 days",guidelineSource:"NCCN BC-1 2024, ASCO Guideline on Breast Cancer Diagnosis 2021",evidenceLevel:"I",patientInfo:"Explain the importance of evaluating symptoms/findings. Discuss the next steps, likely diagnostic imaging. Address anxiety and provide reassurance. Offer information on risk factors.",pitfalls:["Dismissing patient concerns, especially in younger women or those with dense breasts.","Incomplete CBE or inadequate documentation.","Delay in scheduling diagnostic imaging for suspicious findings (BI-RADS 0 on screening, palpable mass)."],options:[{text:"Abnormal screening mammogram (e.g., BI-RADS 0, or new BI-RADS 3, 4, 5 finding)",next:"diagnostic_imaging_mammogram_callback"},{text:"Palpable mass, focal persistent pain, suspicious nipple discharge (bloody, unilateral, spontaneous), skin changes (dimpling, erythema, peau d'orange), or axillary adenopathy",next:"diagnostic_imaging_symptomatic",triggers:["suspicious_clinical_finding"]},{text:"Non-suspicious symptoms (e.g., cyclical bilateral pain, non-bloody bilateral discharge), no palpable mass, normal screening history",next:"risk_assessment_reassurance_low_suspicion"},{text:"High risk patient (e.g. known BRCA mutation, strong family history, prior chest RT) for screening/surveillance",next:"high_risk_surveillance_protocol"}],redFlags:[{id:"suspicious_clinical_finding",condition:"Palpable dominant hard mass, peau d'orange, skin ulceration, nipple retraction/inversion (new), fixed axillary nodes, or signs of inflammatory breast cancer (diffuse erythema, edema, warmth).",message:"High suspicion for locally advanced or inflammatory breast cancer. Requires urgent evaluation.",severity:"critical",recommendations:["Urgent diagnostic mammogram (if >30 yrs) and targeted ultrasound within 24-72 hours.","Consider early surgical/breast oncology consultation (same day or next day).","Document detailed findings, including size, location, and characteristics of mass and any skin/nodal changes."],urgency:"Same-day",actionType:"Urgent Imaging & Specialist Consultation"}]},{id:"diagnostic_imaging_mammogram_callback",title:"Diagnostic Mammography & Ultrasound (Screening Callback)",description:"Perform diagnostic mammography (additional views, magnification, tomosynthesis as needed) and targeted breast ultrasound for any abnormality seen on screening mammogram. Correlate with prior imaging.",expectedDuration:"1-3 days",tooltip:"Resolve screening findings. Assign final BI-RADS category.",guidelineSource:"ACR Practice Parameter for Breast Imaging 2023, NCCN BC-2 2024",evidenceLevel:"I",patientInfo:"Explain that additional views are common after screening. Describe procedures. Discuss BI-RADS outcome.",pitfalls:["Not performing ultrasound for all relevant mammographic findings.","Inadequate views leading to missed lesions."],options:[{text:"BI-RADS 4 or 5 (Suspicious or Highly Suspicious)",next:"image_guided_biopsy",triggers:["high_birads_finding"]},{text:"BI-RADS 3 (Probably Benign) - typically short-interval (6-month) follow-up or biopsy based on risk/patient/radiologist preference",next:"birads3_management_protocol"},{text:"BI-RADS 1 or 2 (Negative or Benign) - resolved screening finding",next:"return_to_routine_screening"}],redFlags:[{id:"high_birads_finding",condition:"BI-RADS 4 or 5 lesion identified on diagnostic workup.",message:"High suspicion for malignancy. Tissue diagnosis is required promptly.",severity:"critical",recommendations:["Schedule image-guided core needle biopsy (CNB) within 3-5 business days.","Clearly communicate need for biopsy to patient and referring physician.","Determine optimal biopsy modality (ultrasound-guided preferred if visible, stereotactic for calcs, MRI-guided if only seen on MRI)."],urgency:"Routine",actionType:"Biopsy Scheduling & Communication"}]},{id:"diagnostic_imaging_symptomatic",title:"Diagnostic Mammography & Ultrasound (Symptomatic Patient)",description:"For palpable mass or other symptoms: if age >40, diagnostic mammogram and targeted ultrasound. If age 30-39, ultrasound first, then mammogram if suspicious/inconclusive. If <30, ultrasound first, mammogram rarely needed. Breast MRI for specific indications (e.g., occult primary with axillary mets, extent of disease in dense breasts with known cancer).",expectedDuration:"1-3 days",guidelineSource:"ACR Appropriateness Criteria 2022, NCCN BC-1 & BC-2 2024",evidenceLevel:"I",patientInfo:"Explain imaging based on age/symptoms. Discuss BI-RADS outcome.",pitfalls:["Not using ultrasound as primary modality in young women (<30).","Delaying mammography in symptomatic women >30 if ultrasound appears benign but mass persists."],options:[{text:"BI-RADS 4 or 5 (Suspicious or Highly Suspicious)",next:"image_guided_biopsy",triggers:["high_birads_finding"]},{text:"BI-RADS 3 (Probably Benign)",next:"birads3_management_protocol"},{text:"BI-RADS 1 or 2 (Negative or Benign) but symptoms persist or clinical concern remains",next:"clinical_radiologic_discordance_review"},{text:"BI-RADS 1 or 2 (Negative or Benign), symptoms resolve or concordant benign explanation",next:"routine_followup_if_indicated"}]},{id:"image_guided_biopsy",title:"Image-Guided Core Needle Biopsy (CNB)",description:"Perform CNB of BI-RADS 4/5 lesion(s) using appropriate imaging guidance. Obtain multiple cores (typically 4-6). Place biopsy marker clip. Send tissue for histology, ER/PR/HER2 (for invasive cancer and DCIS). Ki-67 optional but often done. Consider tissue for genomic assays if invasive cancer likely.",expectedDuration:"1-3 days (procedure + initial pathology report)",tooltip:"CNB is standard. Ensure radiologic-pathologic concordance. Document clip placement.",guidelineSource:"NCCN BC-3 2024, ASCO/CAP ER/PR/HER2 Testing Guidelines 2020/2023",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain CNB procedure, purpose (diagnosis), risks (bruising, bleeding, infection, pain, rare pneumothorax for deep lesions), benefits. Obtain informed consent. Post-biopsy care.",pitfalls:["Insufficient sample for all required tests (ER/PR/HER2, genomics).","Biopsy of non-representative area or sampling error.","Radiologic-pathologic discordance not identified or addressed.","Marker clip not placed, misplaced, or migrates.","Performing FNA instead of CNB for initial diagnosis of solid mass (FNA insufficient for receptor status or distinguishing in-situ from invasive)."],options:[{text:"Malignancy confirmed (Invasive Carcinoma or Ductal Carcinoma In Situ - DCIS)",next:"post_biopsy_consult_pathology_review",triggers:["breast_cancer_diagnosis_biopsy"]},{text:"High-risk lesion (e.g., Atypical Ductal Hyperplasia (ADH), Lobular Carcinoma In Situ (LCIS), Flat Epithelial Atypia (FEA), Papilloma with atypia)",next:"high_risk_lesion_management_discussion"},{text:"Benign pathology, concordant with imaging findings",next:"benign_concordant_pathology_followup"},{text:"Pathology discordant with imaging, or insufficient for diagnosis (e.g. atypia of undetermined significance - AUS)",next:"discordant_insufficient_pathology_review_repeat_biopsy"}],redFlags:[{id:"breast_cancer_diagnosis_biopsy",condition:"Biopsy confirms invasive breast cancer or DCIS.",message:"Breast cancer diagnosed. Requires prompt communication with patient, staging, and multidisciplinary discussion.",severity:"critical",recommendations:["Pathologist to ensure ER/PR/HER2 (with reflex ISH if HER2 IHC 2+) results are processed promptly.","Schedule follow-up with surgeon/breast specialist within 1 week to discuss results and plan.","Initiate staging workup as indicated by tumor type/size/grade (NCCN BC-4).","Refer for genetic counseling if criteria met (NCCN BC-6).","Prepare for presentation at multidisciplinary tumor board (MDT)."],urgency:"Routine",actionType:"Pathology Processing, Consultation & Staging Initiation"}]},{id:"post_biopsy_consult_pathology_review",title:"Post-Biopsy Consultation, Full Pathology Review & Staging",description:"Consultation to discuss confirmed cancer diagnosis. Review final pathology: histologic type, grade, size (if excisional), ER/PR status, HER2 status (IHC and ISH if done), Ki-67. Clinical staging (TNM) based on exam, imaging, biopsy. Systemic staging (CT C/A/P, bone scan, or PET-CT) for clinical stage IIB (T2N1, T3N0) or higher, or symptomatic patients, or inflammatory BC (NCCN BC-4). Brain MRI if neurological symptoms or specific subtypes (e.g. HER2+, triple negative with high burden).",expectedDuration:"3-7 days for full pathology and initial staging plan",guidelineSource:"NCCN BC-4 & BC-5 2024, AJCC 8th Ed. Breast Cancer Staging",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Provide clear explanation of diagnosis, pathology report (ER/PR/HER2 meaning), and cancer stage. Discuss need for further staging tests. Offer emotional support and resources. Discuss MDT process. Genetic counseling referral if indicated.",pitfalls:["Incomplete or delayed ER/PR/HER2/Ki-67 results.","Under-staging (missing metastases) or over-staging.","Delay in MDT presentation or specialist consultations.","Not offering genetic counseling according to guidelines (e.g., age <50, triple negative, male breast cancer, specific family history - NCCN BC-6)."],options:[{text:"Early stage (Stage I-IIA, selected IIB based on biology) potentially suitable for primary surgery",next:"mdt_treatment_planning_early_stage_breast"},{text:"Locally advanced (some Stage IIB, Stage III) or inflammatory breast cancer - typically requires neoadjuvant therapy",next:"mdt_treatment_planning_locally_advanced_breast"},{text:"Metastatic disease (Stage IV) identified on staging workup",next:"mdt_treatment_planning_metastatic_breast",triggers:["metastatic_breast_cancer_staging"]},{text:"DCIS without invasion",next:"mdt_treatment_planning_dcis"}],redFlags:[{id:"metastatic_breast_cancer_staging",condition:"Metastatic disease (Stage IV) confirmed by staging investigations.",message:"Stage IV breast cancer. Treatment is primarily systemic with palliative intent for most; some oligometastatic cases may have different approaches. Requires urgent multidisciplinary input.",severity:"critical",recommendations:["Urgent medical oncology consultation (within days).","Biopsy of a metastatic site if feasible and not previously done (especially if discordance in receptors suspected or for research protocols).","Early palliative care referral for symptom management, psychosocial support, and goals of care discussion.","Discuss prognosis, treatment goals, and advanced care planning with patient and family.","Consider clinical trials."],urgency:"Same-day",actionType:"Urgent Oncology Referral & Palliative Care Integration"},{id:"inflammatory_breast_cancer_confirmed",condition:"Clinical diagnosis of inflammatory breast cancer (IBC) confirmed or highly suspected post-imaging/biopsy.",message:"IBC is an aggressive form of breast cancer. Requires urgent, coordinated trimodality therapy, starting with neoadjuvant systemic therapy.",severity:"critical",recommendations:["Urgent medical oncology, surgical oncology, and radiation oncology consultations (within days).","Skin punch biopsy if not already done and diagnosis uncertain, to confirm dermal lymphatic invasion.","Complete staging workup immediately (PET-CT highly recommended for IBC).","Do NOT proceed with upfront surgery."],urgency:"Immediate",actionType:"Urgent Multidisciplinary Consultation & Neoadjuvant Planning"}]}]},DW={id:"prostate",name:"Prostate Cancer Diagnostic Pathway",description:"Evidence-based approach to prostate cancer diagnosis, risk stratification, and initial staging, aligned with NCCN 2024 and EAU 2024 guidelines.",recommendedTimeframe:"2-4 weeks from suspicion to diagnostic biopsy result; further 2-4 weeks for full staging and MDT discussion if cancer confirmed.",steps:[{id:"initial",title:"Initial Assessment & PSA/DRE Evaluation",description:"Patient presents with elevated Prostate-Specific Antigen (PSA), abnormal Digital Rectal Exam (DRE), strong family history, or known genetic predisposition (e.g., BRCA1/2). Assess urinary symptoms (IPSS score) and rule out benign causes of PSA elevation (UTI, prostatitis, recent ejaculation/instrumentation, catheter).",expectedDuration:"1-2 days",guidelineSource:"NCCN PROS-1 2024, EAU Guidelines on Prostate Cancer 2024",evidenceLevel:"I",patientInfo:"Discuss PSA/DRE findings, the concept of risk stratification, and the diagnostic pathway. Address anxiety. Explain that not all elevated PSAs mean cancer and benign causes need to be excluded.",pitfalls:["Not repeating an initial elevated PSA after addressing potential benign causes.","Ignoring abnormal DRE even with normal PSA.","Failure to consider and rule out UTI or recent ejaculation/instrumentation/catheterization that could transiently elevate PSA before proceeding."],options:[{text:"Elevated PSA (> age-specific range or >4 ng/mL generally, or >3 ng/mL for men with BRCA2 or >40yrs with BRCA1) and/or suspicious DRE (nodule, induration, asymmetry)",next:"psa_confirmation_risk_assessment"},{text:"Strong family history (e.g., 1st degree relative <65yrs, multiple relatives) or known genetic predisposition (BRCA1/2, Lynch Syndrome, HOXB13) - consider earlier screening / lower PSA threshold",next:"psa_confirmation_risk_assessment"},{text:"PSA normal, DRE normal, no significant risk factors",next:"routine_screening_surveillance_prostate"},{text:"Symptoms of UTI/prostatitis present",next:"treat_uti_recheck_psa"}],redFlags:[{id:"prostate_very_high_psa_symptoms",condition:"PSA > 20 ng/mL with new onset significant bone pain, or PSA > 50 ng/mL. Any PSA level with neurological symptoms concerning for spinal cord compression (e.g., new leg weakness, saddle anesthesia, bowel/bladder incontinence).",message:"High suspicion for metastatic disease or locally advanced disease with complications. Requires urgent evaluation and management.",severity:"critical",recommendations:["Urgent urology/oncology consultation (within 24-48 hours).","Immediate bone scan and CT Chest/Abdomen/Pelvis (or PSMA PET-CT if available and indicated for high-risk staging).","If cord compression suspected: urgent MRI spine (same day), neurosurgical/radiation oncology consult, consider immediate high-dose corticosteroids."],urgency:"Immediate",actionType:"Urgent Staging, Specialist Consultation & Symptom Management"}]},{id:"psa_confirmation_risk_assessment",title:"PSA Confirmation, Risk Assessment & Shared Decision-Making",description:"Confirm persistent PSA elevation (repeat test 4-8 weeks after initial, ensuring no interfering factors). Calculate PSA density (PSAD = PSA / prostate volume from TRUS/MRI) and PSA velocity if prior values available. Assess risk factors (age, race, family hx of prostate/breast/ovarian/pancreatic cancer, genetic mutations). Use validated risk calculators (e.g., ERSPC, PCPT, Stockholm3, 4Kscore, SelectMDx, MyProstateScore) to estimate probability of clinically significant cancer. Discuss pros/cons of biopsy.",expectedDuration:"1-2 weeks (allowing for repeat test and calculator use)",tooltip:"PSAD > 0.15 ng/mL/cc is concerning. Risk calculators and biomarkers can help refine biopsy decisions and avoid overdiagnosis.",guidelineSource:"NCCN PROS-2 2024, AUA/SUO Guidelines 2023, EAU Guidelines 2024",evidenceLevel:"II",patientInfo:"Explain rationale for confirming PSA, role of PSAD, risk calculators, and biomarkers in guiding decisions. Discuss the balance between detecting significant cancer and risks of biopsy/overtreatment. Shared decision-making is key.",pitfalls:["Proceeding to biopsy based on a single elevated PSA without confirmation or comprehensive risk assessment.","Not using or misinterpreting risk calculators/biomarkers.","Insufficient discussion of biopsy risks/benefits leading to uninformed patient choice."],options:[{text:"Persistent elevated PSA / high-risk profile on calculators / suspicious DRE / patient preference for diagnostic clarity after discussion",next:"pre_biopsy_prostate_mri"},{text:"PSA normalized or low risk profile after assessment / patient preference against biopsy after discussion",next:"active_monitoring_psa_dre_risk_reassessment"}]},{id:"pre_biopsy_prostate_mri",title:"Pre-biopsy Multiparametric Prostate MRI (mpMRI)",description:"Perform high-quality mpMRI (3T preferred) prior to initial biopsy if available and PSA/risk warrants. Report using PI-RADS v2.1. For patients with prior negative biopsy but ongoing suspicion, mpMRI is also strongly recommended.",expectedDuration:"1-2 weeks (scheduling and reporting)",tooltip:"mpMRI improves detection of clinically significant (Grade Group >=2) prostate cancer and can guide targeted biopsies, potentially reducing detection of insignificant cancers.",guidelineSource:"NCCN PROS-3 2024, EAU Guidelines 2024, PRECISION Trial, MRI-FIRST Trial",evidenceLevel:"I",patientInfo:"Explain mpMRI procedure, its benefits in identifying suspicious areas for targeted biopsy, and how results (PI-RADS score) will inform the biopsy plan. Mention it may help avoid biopsy if no suspicious lesions are found in some low-risk men.",pitfalls:["Poor quality mpMRI scan or inexperienced interpretation leading to false positives/negatives.","Not performing MRI before biopsy if indicated and available, leading to potentially missed targets.","Over-reliance on PI-RADS 3 lesions without considering other risk factors (PSAD is critical for PI-RADS 3)."],options:[{text:"PI-RADS 4 or 5 lesion (High or Very High suspicion)",next:"mri_targeted_plus_systematic_biopsy",triggers:["prostate_high_pirads"]},{text:"PI-RADS 3 lesion (Equivocal) - decision to biopsy based on PSAD, risk profile, biomarkers, patient preference",next:"pirads3_lesion_management_discussion"},{text:"PI-RADS 1 or 2 lesion (Low or Very Low suspicion) AND low overall clinical risk (e.g. low PSAD)",next:"continue_monitoring_consider_no_biopsy"},{text:"PI-RADS 1 or 2 lesion BUT high clinical risk (e.g. high PSAD, strong family hx) or patient preference",next:"systematic_biopsy_consider_no_target"},{text:"No mpMRI performed or available, but clinical suspicion remains high enough to warrant biopsy",next:"systematic_prostate_biopsy_only"}],redFlags:[{id:"prostate_high_pirads",condition:"PI-RADS 4 or 5 lesion identified on mpMRI.",message:"High or very high suspicion for clinically significant prostate cancer. MRI-targeted biopsy of the lesion plus systematic biopsies are strongly recommended.",severity:"critical",recommendations:["Schedule MRI-guided or MRI-ultrasound fusion targeted biopsy of the index lesion(s) + standard systematic template biopsies (typically 10-12 cores) within 2-3 weeks.","Discuss findings and biopsy plan clearly with the patient."],urgency:"Routine",actionType:"Targeted & Systematic Biopsy Scheduling"},{id:"prostate_extracapsular_extension_mri",condition:"Clear evidence of extracapsular extension (ECE), seminal vesicle invasion (SVI), or direct bladder/rectal invasion on mpMRI.",message:"Findings suggest locally advanced disease (at least T3). This is critical for staging and impacts treatment planning significantly. Biopsy should confirm.",severity:"warning",recommendations:["Ensure biopsy plan adequately samples areas near suspected ECE/SVI if safe and feasible.","Flag for urology/MDT discussion regarding neoadjuvant approaches or more extensive surgical planning if cancer is confirmed and resectable.","Consider PSMA PET-CT for staging if high-risk features are present on MRI, once cancer confirmed."],urgency:"Routine",actionType:"Biopsy Planning Adjustment & MDT Alert for Advanced Disease Features"}]},{id:"mri_targeted_plus_systematic_biopsy",title:"MRI-Targeted and Systematic Prostate Biopsy",description:"Perform MRI-targeted biopsies (cognitive, software fusion, or in-bore) of PI-RADS 3-5 lesions (typically 2-4 cores per target), PLUS systematic template biopsies (e.g., 10-12 cores, transrectal or transperineal approach). Prophylactic antibiotics tailored to local resistance patterns. Consider periprostatic block for pain.",expectedDuration:"1-3 days (procedure + initial pathology report)",tooltip:"Combination of targeted and systematic biopsy maximizes detection of clinically significant cancer. Transperineal approach has lower infection risk. Discuss risks: bleeding, infection (sepsis is rare but serious), pain, hematuria, hematospermia, temporary urinary retention.",guidelineSource:"NCCN PROS-4 2024, AUA/SUO Guidelines 2023, EAU Guidelines 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the biopsy procedure (targeted + systematic), chosen approach (transrectal vs transperineal), specific risks, and post-procedure care (e.g., antibiotic completion, signs of infection). Obtain informed consent.",pitfalls:["Targeting error during fusion biopsy leading to false negative in targeted cores.","Insufficient cores from targeted or systematic component.","Post-biopsy infection/sepsis, especially with TRUS biopsy if prophylaxis is inadequate or resistance occurs.","Underestimation of cancer grade/volume if sampling is suboptimal."],options:[{text:"Prostate cancer confirmed (Gleason score and Grade Group available)",next:"pathology_review_risk_stratification_mdt",triggers:["prostate_cancer_confirmed_biopsy"]},{text:"Biopsy negative for cancer, despite suspicious MRI/PSA (MRI-pathology discordance)",next:"negative_biopsy_discordant_high_suspicion_review"},{text:"Atypical findings (e.g., ASAP - Atypical Small Acinar Proliferation) or HGPIN (High-Grade Prostatic Intraepithelial Neoplasia)",next:"atypical_hgpin_biopsy_management"},{text:"Clinically insignificant cancer found (e.g., very low volume Gleason 3+3=6), concordant with low risk MRI/profile",next:"discussion_active_surveillance_low_risk"}],redFlags:[{id:"prostate_cancer_confirmed_biopsy",condition:"Prostate cancer (adenocarcinoma) confirmed on biopsy.",message:"Histological confirmation of prostate cancer. Proceed to detailed risk stratification, staging, and multidisciplinary discussion.",severity:"critical",recommendations:["Ensure full pathology report includes Gleason score, ISUP Grade Group, number of positive cores, percentage of core involvement for each positive core, presence of intraductal carcinoma (IDC-P), perineural invasion (PNI).","Schedule for risk stratification using NCCN or EAU criteria and staging investigations as indicated (NCCN PROS-5).","Arrange urology/oncology consultation to discuss results and comprehensive treatment options."],urgency:"Routine",actionType:"Detailed Pathology Review, Risk Stratification & Staging Initiation"}]},{id:"pathology_review_risk_stratification_mdt",title:"Pathology Review, Risk Stratification, Staging & MDT Discussion",description:"Detailed review of biopsy pathology. Risk stratify using NCCN criteria (Very Low to Very High Risk) or EAU risk groups (Low, Intermediate, High). Staging investigations: Bone scan and CT Abdomen/Pelvis for unfavorable intermediate-risk with >cT2b or GG >2, or high-risk localized. PSMA PET-CT (if available) is preferred over conventional imaging for initial staging of unfavorable intermediate, high, and very high-risk disease, or any suspected metastatic disease (NCCN PROS-5, EAU 2024). Discuss germline (for all high/very high risk, metastatic, +ve family hx, IDC-P) and somatic testing (for metastatic/recurrent, or regional considering treatment implications). Present at MDT.",expectedDuration:"1-2 weeks (for staging and MDT)",guidelineSource:"NCCN PROS-5, PROS-6, PROS-7 2024, AJCC 8th Ed., EAU Guidelines 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain Gleason score, Grade Group, full risk category, and implications for treatment options/prognosis. Discuss need and type of staging scans. Explain genetic testing rationale if indicated. Describe MDT role in recommending optimal treatment.",pitfalls:["Incorrect Gleason grading or incomplete pathology reporting.","Under-staging due to inappropriate imaging modality or missed metastatic disease.","Not offering germline/somatic testing as per evolving guidelines, missing actionable mutations.","Delay in MDT discussion impacting timely treatment initiation for aggressive cancers."],options:[{text:"Localized disease: Very Low, Low, or Favorable Intermediate Risk (NCCN)",next:"treatment_options_discussion_low_favorable_intermediate_risk_prostate"},{text:"Localized disease: Unfavorable Intermediate, High, or Very High Risk (NCCN)",next:"treatment_options_discussion_unfavorable_intermediate_high_risk_prostate"},{text:"Regional lymph node involvement (N1) identified on staging",next:"treatment_planning_n1_prostate_cancer",triggers:["prostate_n1_disease_staging"]},{text:"Metastatic (M1) disease identified on staging",next:"treatment_planning_m1_prostate_cancer",triggers:["prostate_m1_disease_staging"]}],redFlags:[{id:"prostate_n1_disease_staging",condition:"Regional lymph node (N1) disease confirmed on staging investigations.",message:"Pelvic lymph node positive (N1) prostate cancer. Treatment typically involves multimodal therapy.",severity:"critical",recommendations:["Medical oncology / Urologic oncology / Radiation oncology consultation for multimodal therapy planning (e.g., EBRT + ADT, possibly with abiraterone; or radical prostatectomy + ePLND followed by adjuvant/salvage therapy).","Ensure comprehensive somatic/germline testing.","Discuss prognosis, goals of care, and clinical trial options."],urgency:"Routine",actionType:"Multidisciplinary Consultation for N1 Disease"},{id:"prostate_m1_disease_staging",condition:"Metastatic (M1) disease confirmed on staging investigations (bone, distant lymph nodes, visceral).",message:"Metastatic prostate cancer. Systemic therapy is the cornerstone of management. Assess for oligometastatic vs widespread disease.",severity:"critical",recommendations:["Urgent medical oncology/urologic oncology consultation.","Initiate Androgen Deprivation Therapy (ADT) promptly. Consider combination therapy (e.g., ADT + ARPI, ADT + docetaxel, or triplet therapy for high volume/de novo metastatic HSPC).","Ensure comprehensive somatic/germline testing (e.g. BRCA, HRR mutations, MSI/dMMR).","Discuss prognosis, goals of care, palliative care involvement, and clinical trial options.","Address bone health (calcium, Vit D, bone protective agents)."],urgency:"Same-day",actionType:"Urgent Oncology Consultation & Systemic Therapy Initiation for M1 Disease"}]}]},EW={id:"lung",name:"Lung Cancer Diagnostic Pathway",description:"Systematic approach to lung cancer evaluation and staging, compliant with NCCN 2024 and ESMO 2023 guidelines.",recommendedTimeframe:"2-3 weeks",steps:[{id:"initial",title:"Initial Presentation & Risk Assessment",description:"Patient presents with symptoms (e.g., persistent cough, dyspnea, hemoptysis) or incidental imaging finding concerning for lung cancer. Assess risk factors (smoking history, family history, occupational exposure).",expectedDuration:"1-2 days",guidelineSource:"NCCN LU-1 2024",evidenceLevel:"I",patientInfo:"Discuss the importance of evaluating symptoms and the plan for initial imaging if indicated. Counsel on smoking cessation.",pitfalls:["Dismissing symptoms as benign without investigation in high-risk patients.","Delay in ordering initial imaging."],options:[{text:"Suspicious chest imaging findings (e.g., nodule >8mm)",next:"imaging",triggers:["suspicious_imaging"]},{text:"Symptoms suggestive of lung cancer (e.g., hemoptysis, new persistent cough >3 weeks)",next:"symptoms",triggers:["concerning_symptoms"]}],redFlags:[{id:"suspicious_imaging",condition:"Suspicious chest imaging (e.g., solid nodule >8mm, part-solid nodule, GGO with solid component)",message:"Imaging findings concerning for malignancy. Refer to NCCN LU-2 for nodule management.",severity:"critical",recommendations:["Expedite dedicated CT chest with contrast (unless contraindicated).","Early pulmonology/thoracic surgery consultation within 1 week.","Review smoking history and occupational exposures in detail."],urgency:"Same-day",actionType:"Referral and Imaging"},{id:"concerning_symptoms",condition:"High-risk symptoms (e.g., hemoptysis, unexplained weight loss, new hoarseness)",message:"Symptoms concerning for lung cancer warrant prompt investigation.",severity:"warning",recommendations:["Chest imaging (CXR or CT) within 1 week as per NICE NG12.","Document duration, severity, and progression of symptoms.","Assess for other red flag symptoms (e.g., superior vena cava syndrome)."],urgency:"Routine",actionType:"Investigation"}]},{id:"imaging",title:"Diagnostic Imaging Studies",description:"Perform high-quality CT chest with IV contrast to characterize lesion(s) and assess for mediastinal/hilar adenopathy and distant metastases. PET-CT for staging if appropriate (NCCN LU-3).",expectedDuration:"3-5 days",tooltip:"CT features: size, morphology (solid, subsolid), spiculation, pleural retraction. PET-CT for FDG-avidity. Ensure renal function adequate for contrast.",guidelineSource:"NCCN LU-3 2024, ESMO LG-2023",evidenceLevel:"I",patientInfo:"Explain the purpose of CT/PET-CT, what to expect during the scan, and potential findings. Discuss contrast allergy risks.",pitfalls:["Inadequate CT slice thickness for small nodule characterization.","Misinterpretation of inflammatory vs. malignant FDG uptake on PET.","Not performing PET-CT prior to invasive staging in potentially resectable disease."],options:[{text:"Definitive lesion on CT Chest requiring characterization",next:"characterize",triggers:["significant_findings"]},{text:"Suspected Stage III/IV or indeterminate findings, proceed to PET/CT",next:"staging",triggers:["metastatic_suspicion"]}],redFlags:[{id:"significant_findings",condition:"CT findings highly suspicious for malignancy (e.g., spiculated mass, large nodule with growth)",message:"Features highly suspicious for malignancy. Requires tissue diagnosis.",severity:"critical",recommendations:["Expedite tissue diagnosis (biopsy/bronchoscopy).","Consider PET/CT for staging if not already done (NCCN LU-4).","Early thoracic MDT discussion planning (within 1-2 weeks)."],urgency:"Same-day",actionType:"Biopsy and Staging"},{id:"metastatic_suspicion",condition:"Suspected metastatic disease on CT or PET-CT (e.g., adrenal, liver, bone lesions)",message:"Features concerning for advanced/metastatic disease. Biopsy of metastatic site may be preferred.",severity:"critical",recommendations:["Complete staging workup (e.g., brain MRI).","Early medical oncology consultation.","Plan for molecular testing on diagnostic tissue (NCCN LU-5)."],urgency:"Same-day",actionType:"Referral and Staging"}]},{id:"characterize",title:"Lesion Characterization & Biopsy Planning",description:"Determine optimal biopsy strategy based on lesion location, size, and patient fitness. Peripheral lesions often amenable to CT-guided biopsy; central lesions may require bronchoscopy (EBUS/Navigational).",expectedDuration:"1-2 days",guidelineSource:"ACCP Lung Cancer Guidelines 2013, BTS 2023",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Discuss biopsy options, risks (pneumothorax, bleeding), benefits, and alternatives. Obtain informed consent.",pitfalls:["Choosing a suboptimal biopsy technique leading to non-diagnostic sample.","Delay in biopsy scheduling.","Not obtaining sufficient tissue for molecular testing."],options:[{text:"Peripheral lesion accessible to percutaneous biopsy",next:"biopsy"},{text:"Central lesion or mediastinal nodes requiring bronchoscopy/EBUS",next:"bronchoscopy"}]},{id:"biopsy",title:"Tissue Biopsy (Percutaneous)",description:"Perform image-guided (typically CT) core needle biopsy for peripheral lung lesions. Ensure adequate sample for histology and molecular testing (NCCN LU-5).",expectedDuration:"2-5 days",tooltip:"Core biopsy preferred over FNA for architectural assessment and molecular studies. Risks: pneumothorax (15-25%), bleeding. Post-procedure CXR.",guidelineSource:"NCCN LU-4 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Discuss risks (pneumothorax, bleeding, pain) and benefits of CT-guided biopsy. Obtain informed consent. Provide post-procedure instructions.",pitfalls:["Non-diagnostic sample due to poor targeting or insufficient tissue.","Delay in pathology reporting.","Not sending tissue for molecular markers if adenocarcinoma suspected."],options:[{text:"Malignancy confirmed (e.g., NSCLC, SCLC)",next:"staging_post_biopsy"},{text:"Non-diagnostic or benign pathology",next:"mdt_review_indeterminate"}]},{id:"bronchoscopy",title:"Bronchoscopy & Endobronchial Ultrasound (EBUS)",description:"For central lesions or mediastinal/hilar lymph node staging. EBUS-TBNA for lymph node sampling. Navigational bronchoscopy for peripheral lesions not suitable for CT-biopsy.",expectedDuration:"2-5 days",tooltip:"EBUS-TBNA is crucial for mediastinal staging (NCCN LU-4). Risks: bleeding, infection, pneumothorax (rare).",guidelineSource:"NCCN LU-4 2024, ERS/ESTS Guidelines",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain procedure, sedation, potential discomfort, and risks. Obtain informed consent. NPO instructions.",pitfalls:["Inadequate nodal staging if EBUS not performed systematically.","Complications in patients with severe COPD.","Insufficient material from FNA for all molecular tests."],options:[{text:"Malignancy confirmed, staging complete or needs PET",next:"staging_post_biopsy"},{text:"Non-diagnostic or benign pathology",next:"mdt_review_indeterminate"}]},{id:"staging_post_biopsy",title:"Post-Biopsy Staging & MDT Review",description:"Integrate histological diagnosis with PET-CT and other imaging (e.g., Brain MRI for NSCLC as per NCCN LU-6) to establish definitive TNM stage. All cases to be discussed at MDT.",expectedDuration:"5-7 days",guidelineSource:"NCCN LU-6/LU-7 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the staging results and their implications for treatment options. Outline the role of the MDT.",pitfalls:["Incomplete staging (e.g., omitting brain MRI in non-metastatic NSCLC).","Delay in MDT discussion.","Not performing molecular testing for NSCLC adenocarcinoma (EGFR, ALK, ROS1, BRAF, PD-L1 etc. - NCCN LU-5)."],options:[{text:"Localized disease (Stage I-II, selected III)",next:"treatment_planning_curative"},{text:"Locally advanced disease (Stage III)",next:"treatment_planning_multimodal"},{text:"Metastatic disease (Stage IV)",next:"palliative",triggers:["metastatic_confirmed"]}],redFlags:[{id:"metastatic_confirmed",condition:"Confirmed metastatic disease (Stage IV)",message:"Stage IV disease identified. Focus on systemic therapy and palliative care.",severity:"critical",recommendations:["Urgent medical oncology consultation (within 1 week).","Ensure comprehensive molecular testing is performed/pending (NCCN LU-9).","Early palliative care involvement for symptom management and goals of care discussion.","Discuss prognosis and treatment goals with patient and family."],urgency:"Same-day",actionType:"Referral and Systemic Therapy Planning"}]}]},TW={id:"ovarian",name:"Ovarian Cancer Diagnostic Pathway",description:"Evidence-based approach to ovarian cancer diagnosis and staging, aligned with NCCN 2024, ESGO-ESTRO-ESP 2023, and SGO guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis; 2-4 weeks for full staging and surgical planning.",steps:[{id:"initial",title:"Initial Assessment & Symptom Evaluation",description:"Patient presents with symptoms (e.g., bloating, pelvic/abdominal pain, early satiety, urinary urgency/frequency - often persistent and new-onset) or incidental adnexal mass on imaging. Detailed history, including family history of ovarian/breast cancer (BRCA).",expectedDuration:"1-2 days",guidelineSource:"NCCN OV-1 2024, ACOG Committee Opinion No. 716",evidenceLevel:"I",patientInfo:"Explain that symptoms can be vague and the importance of thorough evaluation. Discuss family history and potential genetic predisposition. Address anxiety.",pitfalls:["Dismissing vague symptoms as benign, especially in premenopausal women.","Not taking a detailed family history.","Delay in referral to gynecologic oncology for suspicious findings."],options:[{text:"Suspicious pelvic mass on prior imaging or exam, or persistent concerning symptoms",next:"pelvic_exam_ultrasound"},{text:"Incidental adnexal finding, low suspicion symptoms",next:"initial_workup_low_risk"}],redFlags:[{id:"acute_symptoms_high_risk",condition:"Acute abdominal/pelvic pain with adnexal mass, signs of torsion, rupture, or bowel obstruction.",message:"Potential oncologic emergency or acute gynecologic condition. Requires urgent evaluation.",severity:"critical",recommendations:["Urgent gynecologic/surgical consultation (within 24 hours).","Immediate imaging (pelvic ultrasound, CT if indicated).","Assess for hemodynamic instability."],urgency:"Immediate",actionType:"Urgent Specialist Consultation & Imaging"}]},{id:"pelvic_exam_ultrasound",title:"Pelvic Examination & Transvaginal Ultrasound (TVUS)",description:"Perform comprehensive pelvic examination (bimanual and rectovaginal). Perform TVUS to characterize adnexal mass(es) - size, morphology (solid components, septations, papillary projections, laterality), and assess for ascites/peritoneal disease. Use IOTA ADNEX model or RMI if available.",expectedDuration:"1 day",tooltip:"Document mass characteristics meticulously. TVUS is the primary imaging modality. Consider CA-125 concurrently.",guidelineSource:"NCCN OV-1 2024, ISUOG Consensus Statement 2017",evidenceLevel:"I",calculatorId:"IOTA_ADNEX_model",patientInfo:"Explain the pelvic exam and TVUS procedure. Discuss how ultrasound helps characterize the mass. Reassure patient during exam.",pitfalls:["Incomplete pelvic exam.","Suboptimal ultrasound technique or interpretation.","Not recognizing high-risk ultrasound features."],options:[{text:"High suspicion of malignancy on exam/TVUS (e.g., solid/complex mass, ascites, peritoneal nodules, IOTA ADNEX high risk)",next:"tumor_markers_ct_staging",triggers:["suspicious_mass_imaging"]},{text:"Indeterminate findings on TVUS",next:"tumor_markers_ct_staging"},{text:"Clearly benign simple cyst on TVUS (e.g., <10cm, unilocular, anechoic)",next:"benign_cyst_management"}],redFlags:[{id:"suspicious_mass_imaging",condition:"Adnexal mass with ultrasound features suspicious for malignancy (e.g., solid component, papillary projections, ascites, high vascularity).",message:"Findings highly concerning for ovarian malignancy. Requires prompt referral to Gynecologic Oncologist.",severity:"critical",recommendations:["Refer to Gynecologic Oncologist within 1 week (NCCN OV-2).","Obtain CA-125, HE4 (if available, for ROMA score), and other markers (CEA, CA19-9, AFP, hCG, LDH if suspicious for non-epithelial tumor).","Proceed to CT Chest/Abdomen/Pelvis with contrast for staging."],urgency:"Same-day",actionType:"Referral & Staging Workup"}]},{id:"tumor_markers_ct_staging",title:"Tumor Markers & CT Staging",description:"Measure serum CA-125. In premenopausal women with complex mass, also consider AFP, hCG, LDH. For postmenopausal women with adnexal mass, CA-125 and HE4 (for ROMA score) can aid risk assessment. Perform CT Chest/Abdomen/Pelvis with contrast for staging (assess peritoneal carcinomatosis, lymphadenopathy, distant mets).",expectedDuration:"3-5 days",tooltip:"CA-125 can be elevated in benign conditions. Interpret with imaging. CT helps determine resectability and guides surgical planning.",guidelineSource:"NCCN OV-1 & OV-2 2024, SGO Guidelines",evidenceLevel:"I",calculatorId:"ROMA_score",patientInfo:"Explain blood tests for tumor markers and CT scan for staging. Discuss that CA-125 is not diagnostic alone but part of overall assessment.",pitfalls:["Relying solely on CA-125 for diagnosis.","Not ordering appropriate markers for suspected germ cell or stromal tumors in younger patients.","Inadequate CT protocol or interpretation for peritoneal disease."],options:[{text:"High suspicion based on imaging, elevated markers (e.g., CA-125 >200 U/mL in postmenopausal, or high ROMA/ADNEX score), and/or CT findings of metastatic disease",next:"gyn_onc_consult_surgical_planning",triggers:["confirmed_high_risk_oc"]},{text:"Indeterminate findings, further assessment needed (e.g. MRI Pelvis, GI consult if primary GI cancer suspected)",next:"mdt_review_further_investigation"}],redFlags:[{id:"confirmed_high_risk_oc",condition:"Combination of suspicious imaging, significantly elevated tumor markers, and/or CT evidence of advanced disease.",message:"High probability of ovarian cancer. Management by Gynecologic Oncologist is mandatory.",severity:"critical",recommendations:["Ensure Gynecologic Oncologist is leading management.","Discuss goals of care, including fertility preservation if applicable and feasible.","Plan for surgical staging/debulking or neoadjuvant chemotherapy based on resectability assessment (NCCN OV-3/OV-4).","Offer genetic counseling (BRCA, Lynch syndrome) - NCCN OV-1."],urgency:"Routine",actionType:"Definitive Management Planning"},{id:"bowel_ureteric_obstruction",condition:"Evidence of bowel or ureteric obstruction on CT scan.",message:"Significant complication requiring urgent intervention or planning.",severity:"critical",recommendations:["Urgent surgical/urologic/GI consultation as appropriate.","Consider stenting or diversion if symptomatic or impending renal failure.","Incorporate into overall surgical/treatment plan."],urgency:"Same-day",actionType:"Intervention & Specialist Consultation"}]},{id:"gyn_onc_consult_surgical_planning",title:"Gynecologic Oncology Consultation & Surgical/Treatment Planning",description:"Comprehensive consultation with Gynecologic Oncologist. Review all data, discuss prognosis, treatment options (primary debulking surgery (PDS) vs. neoadjuvant chemotherapy (NACT) followed by interval debulking surgery). Biopsy may be obtained via laparoscopy or image-guided if PDS not planned initially or diagnosis uncertain.",expectedDuration:"3-7 days",guidelineSource:"NCCN OV-3 & OV-4 2024, ESGO Guidelines",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Detailed discussion of diagnosis, stage, treatment goals (curative/palliative), surgical procedures (TAH-BSO, omentectomy, lymphadenectomy, peritonectomy), chemotherapy, side effects, and expected recovery. Importance of MDT input. Clinical trial options.",pitfalls:["Inadequate preoperative assessment of resectability leading to suboptimal surgery.","Delay in starting NACT for unresectable disease.","Not performing germline/somatic BRCA testing and HRD testing on tumor tissue (NCCN OV-5)."],options:[{text:"Proceed with Primary Debulking Surgery (PDS)",next:"primary_debulking_surgery"},{text:"Candidate for Neoadjuvant Chemotherapy (NACT) due to extensive disease or comorbidities",next:"neoadjuvant_chemotherapy_planning"},{text:"Diagnosis uncertain or requires tissue confirmation before major surgery/NACT",next:"diagnostic_laparoscopy_biopsy"}]}]},SW={id:"gastric",name:"Gastric Cancer Diagnostic Pathway",description:"Systematic approach to gastric cancer diagnosis and staging, aligned with NCCN 2024, ESMO 2023, and Japanese Gastric Cancer Association (JGCA) guidelines.",recommendedTimeframe:"1-2 weeks for endoscopy and biopsy results; 2-3 weeks for full staging and MDT discussion if cancer confirmed.",steps:[{id:"initial",title:"Initial Assessment & Symptom Evaluation",description:"Patient presents with dyspepsia, epigastric pain, weight loss, dysphagia, early satiety, or signs of GI bleeding (melena, hematemesis). Assess for alarm features (NCCN GC-1). Evaluate H. pylori risk factors.",expectedDuration:"1-2 days",guidelineSource:"NCCN GC-1 2024, ESMO Clinical Practice Guidelines 2023",evidenceLevel:"I",patientInfo:"Explain the importance of evaluating persistent GI symptoms. Discuss alarm features and the need for endoscopy if present. Address anxiety.",pitfalls:["Attributing symptoms to GERD without investigating further in at-risk patients.","Delaying endoscopy in patients with alarm features.","Not considering H. pylori testing in dyspeptic patients without alarm features (age <60)."],options:[{text:"Alarm features present (e.g., weight loss, dysphagia, persistent vomiting, GI bleed, palpable mass, iron deficiency anemia) OR age >60 with new onset dyspepsia (NCCN GC-1)",next:"urgent_endoscopy_biopsy",triggers:["alarm_symptoms_gc"]},{text:"No alarm features, age <60: Test for H. pylori (urea breath test or stool antigen). If positive, treat.",next:"hp_testing_management"},{text:"No alarm features, H. pylori negative or treated but symptoms persist >4-8 weeks",next:"endoscopy_biopsy_non_urgent"}],redFlags:[{id:"alarm_symptoms_gc",condition:"Presence of alarm features (e.g., significant weight loss, progressive dysphagia, overt GI bleeding, palpable mass).",message:"High suspicion for malignancy. Requires prompt endoscopic evaluation.",severity:"critical",recommendations:["Schedule upper GI endoscopy (EGD) within 2 weeks (NCCN GC-1).","Obtain CBC, iron studies, LFTs, albumin.","If active severe bleeding, manage as GI emergency (see GI Bleed Pathway)."],urgency:"Routine",actionType:"Endoscopy Scheduling & Lab Workup"}]},{id:"urgent_endoscopy_biopsy",title:"Upper GI Endoscopy (EGD) & Biopsy",description:"Perform EGD with high-definition white light and chromoendoscopy/NBI if available. Document lesion morphology (Paris classification), location, and extent. Obtain multiple biopsies (at least 6-8) from suspicious lesions for histology. Biopsy normal-appearing mucosa if linitis plastica suspected.",expectedDuration:"1-3 days (procedure to initial findings)",tooltip:"Systematic biopsy protocol is crucial. Photograph lesions. Consider EUS at same session if deep invasion suspected and expertise available.",guidelineSource:"NCCN GC-1 2024, ESGE Guideline 2022",evidenceLevel:"I",patientInfo:"Explain EGD procedure, sedation, risks (bleeding, perforation, aspiration), and purpose of biopsies. Obtain informed consent.",pitfalls:["Insufficient number or quality of biopsies.","Missing early or flat lesions.","Not documenting precise location for surgical planning.","Failure to biopsy suspicious regional nodes if seen on EUS."],options:[{text:"Gastric malignancy suspected/confirmed on EGD/biopsy (adenocarcinoma, lymphoma, GIST, NET)",next:"pathology_review_molecular_testing",triggers:["gastric_cancer_diagnosis"]},{text:"High-grade dysplasia found",next:"hgd_management"},{text:"Benign findings (e.g., gastritis, ulcer) or low-grade dysplasia",next:"benign_lgd_management"},{text:"Non-diagnostic EGD/biopsy but high clinical suspicion persists",next:"repeat_egd_alternative_imaging"}],redFlags:[{id:"gastric_cancer_diagnosis",condition:"Histopathological confirmation of gastric malignancy.",message:"Gastric cancer diagnosed. Proceed with comprehensive staging and MDT discussion.",severity:"critical",recommendations:["Ensure pathology report includes histologic type, grade, Lauren classification (intestinal/diffuse/mixed), HER2 IHC, PD-L1 CPS, and MSI status (NCCN GC-2).","Schedule staging CT Chest/Abdomen/Pelvis with oral and IV contrast.","Refer to multidisciplinary team (surgeon, medical oncologist, radiation oncologist, pathologist, radiologist)."],urgency:"Routine",actionType:"Staging & MDT Referral"},{id:"linitis_plastica_suspicion",condition:"Endoscopic suspicion of linitis plastica (diffusely infiltrated, rigid stomach wall).",message:"High suspicion for aggressive diffuse-type adenocarcinoma. Often underdiagnosed on biopsy.",severity:"critical",recommendations:["Take multiple deep biopsies or jumbo biopsies from different areas.","Consider EUS with FNA of thickened wall.","CT scan may show characteristic wall thickening. PET-CT can be helpful.","Early surgical consultation is critical due to poor prognosis."],urgency:"Same-day",actionType:"Enhanced Biopsy & Imaging, Urgent Consult"}]},{id:"pathology_review_molecular_testing",title:"Pathology Review & Molecular Testing",description:"Confirm histologic type (adenocarcinoma most common). For adenocarcinoma: assess grade, Lauren classification. Perform HER2 IHC (reflex FISH if IHC 2+). Test for MSI (IHC or PCR) and PD-L1 (CPS score, e.g., 22C3 or 28-8 pharmDx). Consider NTRK fusion testing for advanced disease.",expectedDuration:"5-10 days (for full molecular results)",tooltip:"Molecular testing is crucial for guiding systemic therapy in advanced/metastatic disease. Ensure adequate tissue for all tests.",guidelineSource:"NCCN GC-2 & GC-F 2024, CAP Guideline 2022",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain that detailed tumor analysis helps determine the best treatment options, including targeted therapies or immunotherapy.",pitfalls:["Insufficient tissue for all molecular tests.","Delay in obtaining molecular results impacting treatment decisions.","Misinterpretation of HER2 or PD-L1 scoring."],options:[{text:"Pathology and molecular results available",next:"staging_workup_gastric"}]},{id:"staging_workup_gastric",title:"Comprehensive Staging Workup",description:"CT Chest/Abdomen/Pelvis with oral and IV contrast. EUS for T and N staging of non-metastatic disease (NCCN GC-3). PET-CT if potentially resectable M0 disease to rule out occult mets (especially for GEJ or bulky tumors) or if CT equivocal. Diagnostic laparoscopy with peritoneal washings for all potentially resectable (cT1b or higher) gastric cancers before neoadjuvant/adjuvant therapy or surgery (NCCN GC-3). Assess nutritional status (albumin, prealbumin, weight loss %).",expectedDuration:"1-2 weeks",guidelineSource:"NCCN GC-3 & GC-4 2024, ESMO Guidelines 2023",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the purpose of each staging test (CT, EUS, PET, laparoscopy) in determining the extent of cancer and guiding treatment. Discuss nutritional support if needed.",pitfalls:["Omitting diagnostic laparoscopy for potentially resectable cases, leading to unexpected positive cytology or peritoneal mets at surgery.","Underutilization of EUS for local staging.","Not addressing malnutrition preoperatively."],options:[{text:"Resectable disease (cT1-T4a, N0-N3, M0, no positive cytology) - candidate for perioperative/neoadjuvant therapy or upfront surgery based on stage/MDT",next:"mdt_treatment_planning_resectable"},{text:"Unresectable locally advanced disease (T4b, bulky N3, encasement of major vessels) OR Oligometastatic disease potentially convertible",next:"mdt_treatment_planning_unresectable_locally_advanced"},{text:"Widely metastatic disease (M1) or positive peritoneal cytology",next:"mdt_treatment_planning_metastatic",triggers:["metastatic_gastric_cancer"]}],redFlags:[{id:"metastatic_gastric_cancer",condition:"Metastatic disease (M1) confirmed by imaging or positive peritoneal cytology.",message:"Stage IV gastric cancer. Treatment is primarily systemic with palliative intent.",severity:"critical",recommendations:["Medical oncology consultation for systemic therapy (chemotherapy +/- HER2-targeted therapy +/- immunotherapy based on biomarkers).","Early palliative care referral for symptom management and goals of care discussion.","Nutritional support, management of ascites/obstruction as needed.","Consider clinical trials."],urgency:"Same-day",actionType:"Systemic Therapy Planning & Supportive Care"}]}]},_W={id:"head_neck",name:"Head & Neck Cancer Diagnostic Pathway",description:"Structured approach to head and neck cancer diagnosis, staging, and initial management, aligned with NCCN 2024 and ESMO 2023 guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis; 2-3 weeks for full staging and MDT discussion.",steps:[{id:"initial",title:"Initial Presentation & Symptom Assessment",description:"Patient presents with symptoms such as persistent sore throat, dysphagia, odynophagia, hoarseness, neck mass, oral lesion, unexplained otalgia, or cranial neuropathies. Assess risk factors (tobacco, alcohol, HPV).",expectedDuration:"1-2 days",guidelineSource:"NCCN HN-1 2024, ESMO H&N Guidelines 2023",evidenceLevel:"I",patientInfo:"Explain the importance of evaluating persistent symptoms. Discuss risk factors. Address anxiety and the diagnostic plan, likely involving ENT specialist referral.",pitfalls:["Delaying referral for persistent symptoms (>2-4 weeks).","Not performing a thorough cranial nerve exam.","Underestimating significance of unilateral otalgia or serous otitis media in adults (nasopharyngeal cancer risk)."],options:[{text:"Red flag symptoms: Stridor, airway compromise, significant bleeding, rapidly enlarging neck mass, cranial neuropathy",next:"emergency_assessment_ent",triggers:["hn_emergency_symptoms"]},{text:"Suspicious neck mass, persistent hoarseness >2-4 wks, non-healing oral ulcer >2-4 wks, dysphagia/odynophagia, or other concerning symptoms",next:"ent_referral_exam"},{text:"Low suspicion symptoms, no clear red flags",next:"primary_care_monitoring_reassess"}],redFlags:[{id:"hn_emergency_symptoms",condition:"Stridor, airway compromise, active hemorrhage from tumor site, rapidly progressive cranial neuropathy.",message:"Potential life-threatening situation. Requires immediate specialist assessment and possible intervention.",severity:"critical",recommendations:["Immediate referral to ENT/Emergency Department.","Secure airway if compromised (prepare for intubation/tracheostomy).","Control hemorrhage.","Urgent imaging (CT Head/Neck with contrast) may be needed."],urgency:"Immediate",actionType:"Emergency Referral & Airway/Hemorrhage Management"}]},{id:"ent_referral_exam",title:"ENT Specialist Examination & Endoscopy",description:"Comprehensive head and neck examination by ENT specialist, including palpation of neck nodes, oral cavity, and cranial nerve assessment. Perform flexible nasopharyngolaryngoscopy. Examination under anesthesia (EUA) with direct laryngoscopy, esophagoscopy, bronchoscopy (panendoscopy) may be indicated, especially for unknown primary or synchronous primary suspicion.",expectedDuration:"1-3 days",tooltip:"Document all subsites. Biopsy suspicious lesions during endoscopy/EUA. Consider HPV testing for oropharyngeal tumors (p16 IHC).",guidelineSource:"NCCN HN-1 & HN-2 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the specialist exam, including flexible scope. If EUA needed, explain procedure, anesthesia, and purpose of biopsies.",pitfalls:["Incomplete endoscopic examination missing a primary site.","Not biopsying all suspicious areas.","Failure to perform p16 testing on oropharyngeal SCC biopsies."],options:[{text:"Visible lesion identified, biopsy taken/planned",next:"pathology_review_hn"},{text:"Neck mass, primary unknown after initial endoscopy. Plan for EUA, imaging, possible FNA of neck node.",next:"unknown_primary_workup_hn"},{text:"No lesion found, symptoms persist or high suspicion",next:"imaging_hn_initial"}]},{id:"pathology_review_hn",title:"Pathology Review & HPV Testing",description:"Histopathological confirmation of malignancy (usually Squamous Cell Carcinoma). For oropharyngeal SCC, p16 IHC testing is mandatory (NCCN HN-3). For nasopharyngeal carcinoma, EBV (EBER) testing. Note histologic grade and features like PNI, LVI.",expectedDuration:"3-7 days",tooltip:"p16 status significantly impacts staging and prognosis for oropharyngeal cancer. Ensure adequate tissue for all necessary tests.",guidelineSource:"NCCN HN-3 2024, CAP H&N Cancer Reporting Protocols",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the biopsy results, including cancer type and HPV/EBV status if relevant. Discuss how this information guides staging and treatment.",pitfalls:["p16 testing not performed or misinterpreted for oropharyngeal SCC.","Insufficient biopsy material for complete diagnosis and molecular testing.","Delay in pathology reporting."],options:[{text:"Malignancy confirmed (e.g., SCC, NPC, salivary gland tumor)",next:"staging_workup_hn",triggers:["hn_cancer_confirmed"]},{text:"Dysplasia or pre-malignant lesion found",next:"premalignant_lesion_management_hn"},{text:"Biopsy benign or non-diagnostic, but high clinical suspicion remains",next:"repeat_biopsy_further_investigation_hn"}],redFlags:[{id:"hn_cancer_confirmed",condition:"Histopathological confirmation of head and neck malignancy.",message:"Head and neck cancer diagnosed. Proceed with comprehensive staging and multidisciplinary team discussion.",severity:"critical",recommendations:["Schedule staging imaging (CT Neck with contrast, CT Chest, PET-CT as per NCCN HN-4).","Refer to multidisciplinary H&N oncology team (ENT surgeon, radiation oncologist, medical oncologist, pathologist, radiologist, speech pathologist, dietitian, dentist).","Dental assessment prior to radiation therapy.","Speech and swallow evaluation.","Nutritional assessment and support."],urgency:"Routine",actionType:"Staging, MDT Referral & Supportive Care Planning"}]},{id:"staging_workup_hn",title:"Comprehensive Staging Workup",description:"CT Neck with IV contrast (from skull base to clavicles). CT Chest (with or without contrast). PET-CT (skull base to mid-thigh) for stage III/IV disease, unknown primary, or aggressive histology (NCCN HN-4). MRI for specific sites (e.g., nasopharynx, paranasal sinus, skull base, salivary glands, PNI assessment). Dental evaluation and speech/swallow function assessment.",expectedDuration:"1-2 weeks",guidelineSource:"NCCN HN-4 & HN-5 2024, AJCC 8th Ed. Staging Manual",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the purpose of staging scans (CT, PET-CT, MRI) to determine cancer extent. Discuss importance of dental, speech, and swallow evaluations before treatment.",pitfalls:["Incomplete staging (e.g., omitting chest imaging).","Not performing PET-CT when indicated, potentially missing distant mets or unknown primary.","Delay in dental clearance impacting start of radiation.","Underestimation of tumor extent, especially perineural invasion, without appropriate MRI."],options:[{text:"Localized disease (Stage I-II) or selected Stage III/IVA (e.g. HPV+ oropharynx)",next:"mdt_treatment_planning_early_hn"},{text:"Locally/regionally advanced disease (Stage III-IVB, excluding M1)",next:"mdt_treatment_planning_advanced_hn"},{text:"Metastatic disease (Stage IVC / M1) identified",next:"mdt_treatment_planning_metastatic_hn",triggers:["metastatic_hn_cancer"]},{text:"Cancer of Unknown Primary (CUP) with neck node mets",next:"unknown_primary_management_hn"}],redFlags:[{id:"metastatic_hn_cancer",condition:"Metastatic disease (M1) confirmed by staging investigations.",message:"Stage IVC (metastatic) head and neck cancer. Treatment intent is primarily palliative.",severity:"critical",recommendations:["Medical oncology consultation for systemic therapy (chemotherapy, immunotherapy, targeted therapy).","Early palliative care referral for symptom control and goals of care discussion.","Address nutritional support, pain management, and potential airway issues.","Consider clinical trials."],urgency:"Same-day",actionType:"Systemic Therapy & Palliative Care Planning"}]}]},kW={id:"pancreatic",name:"Pancreatic Cancer Diagnostic Pathway",description:"Evidence-based approach to pancreatic cancer diagnosis, staging, and initial management planning, aligned with NCCN 2024, ESMO 2023, and ASGE guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis; 2-3 weeks for full staging and MDT discussion.",steps:[{id:"initial",title:"Initial Presentation & Symptom Evaluation",description:"Patient presents with symptoms such as painless obstructive jaundice, new-onset diabetes (especially >50 yrs with weight loss), unexplained persistent abdominal/back pain, weight loss, steatorrhea, or acute pancreatitis without clear cause.",expectedDuration:"1-2 days",guidelineSource:"NCCN PA-1 & PA-2 2024, ESMO Pancreatic Cancer Guidelines 2023",evidenceLevel:"I",patientInfo:"Explain that symptoms warrant investigation to rule out serious conditions, including pancreatic cancer. Discuss the diagnostic plan, likely involving imaging and specialist referral.",pitfalls:["Attributing symptoms to benign GI issues, delaying diagnosis.","Not recognizing new-onset diabetes with weight loss as a red flag.","Delay in imaging for painless jaundice."],options:[{text:"Painless obstructive jaundice (elevated bilirubin, dark urine, pale stools)",next:"urgent_imaging_jaundice",triggers:["pan_jaundice"]},{text:"Suspicious pancreatic mass/lesion found on incidental imaging",next:"dedicated_pancreatic_imaging"},{text:"Concerning symptoms (e.g., persistent epigastric pain radiating to back, unexplained significant weight loss, new-onset diabetes with weight loss) without jaundice",next:"initial_labs_imaging_non_jaundice"},{text:"Vague symptoms, low suspicion initially",next:"primary_care_workup_monitoring"}],redFlags:[{id:"pan_jaundice",condition:"Painless obstructive jaundice.",message:"High suspicion for pancreatic head or periampullary malignancy. Requires urgent evaluation.",severity:"critical",recommendations:["Urgent (within 48 hours) high-quality multiphase pancreatic protocol CT scan (or MRI/MRCP if CT contraindicated/equivocal).","Check LFTs, coagulation profile (INR).","Urgent referral to HPB surgeon / Gastroenterologist with expertise in pancreatobiliary diseases.","Consider biliary drainage (ERCP with stenting or PTBD) if severe jaundice or cholangitis, after imaging if possible."],urgency:"Immediate",actionType:"Urgent Imaging, Labs & Specialist Referral"},{id:"cholangitis_signs",condition:"Jaundice with fever, chills, RUQ pain (Charcot's triad) or sepsis.",message:"Acute cholangitis, a medical emergency. Requires immediate biliary decompression and antibiotics.",severity:"critical",recommendations:["Immediate hospital admission.","Broad-spectrum IV antibiotics.","Urgent biliary decompression (ERCP or PTBD) within 12-24 hours.","Fluid resuscitation and supportive care."],urgency:"Immediate",actionType:"Emergency Admission & Intervention"}]},{id:"dedicated_pancreatic_imaging",title:"High-Quality Pancreatic Imaging",description:"Perform multiphase pancreatic protocol CT (preferred) or MRI/MRCP. This is crucial for characterizing the lesion, assessing vascular involvement (SMA, SMV, portal vein, celiac axis), and detecting metastatic disease.",expectedDuration:"2-5 days",tooltip:"CT protocol: non-contrast, arterial, pancreatic parenchymal, and portal venous phases. Thin slices. Radiologist expertise is key.",guidelineSource:"NCCN PA-2 & PA-3 2024, International Consensus Guidelines 2017 (Radiology)",evidenceLevel:"I",patientInfo:"Explain the specific type of CT or MRI needed and why its important for detailed views of the pancreas and surrounding structures.",pitfalls:["Using a generic abdominal CT instead of a dedicated pancreatic protocol scan.","Misinterpretation of vascular involvement.","Not identifying small liver or peritoneal metastases."],options:[{text:"Solid pancreatic mass identified, potentially resectable or borderline resectable",next:"ca19_9_tissue_acquisition"},{text:"Clearly unresectable locally advanced disease (e.g., extensive vascular encasement)",next:"ca19_9_tissue_acquisition_unresectable"},{text:"Metastatic disease identified on imaging",next:"ca19_9_biopsy_metastatic_site",triggers:["pan_metastatic_imaging"]},{text:"Cystic lesion of pancreas identified",next:"pancreatic_cystic_lesion_pathway"},{text:"No discrete mass, but diffuse changes or secondary signs (e.g. dilated pancreatic duct)",next:"eus_evaluation_pancreas"}],redFlags:[{id:"pan_metastatic_imaging",condition:"Evidence of metastatic disease (e.g., liver, lung, peritoneal metastases) on initial high-quality imaging.",message:"Metastatic pancreatic cancer. Tissue diagnosis is needed, preferably from a metastatic site. Treatment is systemic.",severity:"critical",recommendations:["Obtain CA 19-9.","Biopsy of an accessible metastatic lesion is preferred for diagnosis and molecular profiling.","Refer to Medical Oncologist.","Early Palliative Care consultation."],urgency:"Routine",actionType:"Biopsy Planning & Oncology Referral"}]},{id:"ca19_9_tissue_acquisition",title:"CA 19-9 & Tissue Acquisition Strategy",description:"Measure serum CA 19-9. Plan for tissue acquisition. EUS-FNA is preferred for most pancreatic head/body/tail lesions. CT-guided biopsy if EUS not feasible or for specific targets. Biopsy of suspected metastatic sites is preferred if M1 disease. For resectable disease without preoperative therapy planned, some centers proceed to surgery without biopsy if imaging is classic, but biopsy is generally recommended (NCCN PA-3).",expectedDuration:"3-7 days (including EUS scheduling and procedure)",tooltip:"CA 19-9 can be falsely normal in Lewis antigen negative individuals (~10%). EUS allows FNA and detailed local staging.",guidelineSource:"NCCN PA-3 2024, ASGE Guideline 2022 (EUS)",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain CA 19-9 blood test. Discuss EUS/biopsy procedure, its purpose for confirming diagnosis and guiding treatment, risks (pancreatitis, bleeding, perforation).",pitfalls:["Not obtaining tissue prior to neoadjuvant therapy.","Performing percutaneous biopsy through uninvolved peritoneum if potentially resectable (risk of seeding - though controversial and often unavoidable).","Non-diagnostic biopsy delaying treatment."],options:[{text:"Pancreatic adenocarcinoma or other malignancy confirmed by biopsy",next:"molecular_testing_staging_mdt"},{text:"Biopsy non-diagnostic, but high suspicion remains",next:"repeat_biopsy_alternative_approach"},{text:"Benign pathology, concordant with less suspicious imaging",next:"benign_pancreas_followup"}]},{id:"molecular_testing_staging_mdt",title:"Molecular Testing, Full Staging Review & MDT",description:"For confirmed adenocarcinoma, perform germline testing for all patients (BRCA1/2, PALB2, ATM, Lynch syndrome genes, etc.). Somatic tumor testing (e.g., KRAS, NRG1, NTRK fusions, MSI/dMMR, HRD) for advanced/metastatic disease or if informing neoadjuvant/adjuvant choices (NCCN PA-4). Review all imaging with MDT (HPB surgeon, medical/radiation oncologist, radiologist, pathologist) to confirm resectability status (resectable, borderline, locally advanced unresectable, metastatic) using NCCN criteria. Consider staging laparoscopy for select cases (e.g. high CA19-9, large tumors, borderline resectable) to rule out occult peritoneal/liver mets.",expectedDuration:"1-2 weeks (molecular testing can take time)",guidelineSource:"NCCN PA-3, PA-4, PA-5 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain that genetic testing (blood and/or tumor) can identify specific mutations that might guide treatment. Discuss MDT review and its role in formulating the best treatment plan. Explain staging laparoscopy if considered.",pitfalls:["Not performing germline testing for all patients.","Delay in obtaining molecular results for treatment decisions.","Inaccurate staging due to lack of MDT review or omitting staging laparoscopy when indicated."],options:[{text:"Resectable disease confirmed by MDT",next:"treatment_planning_resectable_pancreas"},{text:"Borderline resectable disease confirmed by MDT",next:"treatment_planning_borderline_pancreas"},{text:"Locally advanced, unresectable disease confirmed by MDT",next:"treatment_planning_locally_advanced_pancreas"},{text:"Metastatic disease confirmed by MDT",next:"treatment_planning_metastatic_pancreas",triggers:["pan_metastatic_mdt"]}],redFlags:[{id:"pan_metastatic_mdt",condition:"Metastatic pancreatic cancer confirmed after full workup and MDT review.",message:"Definitive metastatic disease. Focus on systemic therapy and supportive/palliative care.",severity:"critical",recommendations:["Medical Oncology to lead systemic therapy (chemotherapy +/- targeted therapy based on molecular results).","Palliative care for symptom management, QoL, and goals of care.","Nutritional support, pain management, management of biliary/duodenal obstruction.","Discuss clinical trial options."],urgency:"Routine",actionType:"Systemic Therapy & Palliative Care"}]}]},MW={id:"bladder",name:"Bladder Cancer Diagnostic Pathway",description:"Systematic approach to bladder cancer diagnosis and staging",recommendedTimeframe:"2-3 weeks",steps:[{id:"initial",title:"Initial Assessment",description:"Patient presents with hematuria or urinary symptoms",expectedDuration:"1-2 days",tooltip:"Document gross vs microscopic hematuria and associated symptoms",options:[{text:"Gross hematuria",next:"urgent_cystoscopy",triggers:["gross_bleeding"]},{text:"Microscopic hematuria",next:"initial_workup"},{text:"Irritative symptoms",next:"urinalysis"}],redFlags:[{id:"gross_bleeding",condition:"Gross hematuria with clots",message:"Active bleeding requiring evaluation",severity:"critical",recommendations:["Urgent urologic consultation","CBC and coagulation profile","Consider admission if heavy bleeding"]}]},{id:"urinalysis",title:"Urinalysis and Cytology",description:"Initial laboratory evaluation",expectedDuration:"2-3 days",tooltip:"Include urine cytology and culture if indicated",options:[{text:"Positive cytology",next:"cystoscopy",triggers:["positive_cytology"]},{text:"Persistent hematuria",next:"cystoscopy"},{text:"Negative workup",next:"risk_assessment"}],redFlags:[{id:"positive_cytology",condition:"Positive urine cytology",message:"Cytology suggesting malignancy",severity:"warning",recommendations:["Expedite cystoscopy","Consider upper tract imaging","Document smoking history"]}]},{id:"cystoscopy",title:"Diagnostic Cystoscopy",description:"Direct visualization of bladder mucosa",expectedDuration:"1 day",tooltip:"Document location, size, and number of lesions",options:[{text:"Visible tumor",next:"turbt",triggers:["visible_tumor"]},{text:"Suspicious areas",next:"biopsy"},{text:"Normal cystoscopy",next:"imaging"}],redFlags:[{id:"visible_tumor",condition:"Visible bladder tumor",message:"Tumor identified on cystoscopy",severity:"critical",recommendations:["Schedule TURBT within 2 weeks","Complete staging workup","Consider enhanced cystoscopy"]}]},{id:"imaging",title:"Upper Tract Imaging",description:"CT urogram or other appropriate imaging",expectedDuration:"2-3 days",tooltip:"Evaluate upper tracts and look for metastatic disease",options:[{text:"Bladder mass",next:"turbt"},{text:"Upper tract lesion",next:"specialized_evaluation",triggers:["upper_tract"]},{text:"Metastatic disease",next:"staging",triggers:["metastatic"]}],redFlags:[{id:"upper_tract",condition:"Upper tract lesion",message:"Suspicious upper tract finding",severity:"warning",recommendations:["Urology consultation","Consider ureteroscopy","Plan comprehensive evaluation"]},{id:"metastatic",condition:"Metastatic disease",message:"Evidence of metastatic spread",severity:"critical",recommendations:["Tissue confirmation needed","Oncology consultation","Discuss treatment goals"]}]},{id:"turbt",title:"TURBT",description:"Transurethral resection of bladder tumor",expectedDuration:"1-2 days",tooltip:"Complete resection with muscle if possible",options:[{text:"Non-muscle invasive",next:"risk_stratification"},{text:"Muscle invasive",next:"staging",triggers:["muscle_invasive"]},{text:"Incomplete resection",next:"repeat_turbt"}],redFlags:[{id:"muscle_invasive",condition:"Muscle invasive disease",message:"Muscle invasion confirmed",severity:"critical",recommendations:["Complete staging workup","Multidisciplinary consultation","Discuss treatment options","Consider clinical trials"]}]}]},aN={breast:wW,prostate:DW,lung:EW,ovarian:TW,gastric:SW,head_neck:_W,pancreatic:kW,bladder:MW},lN=({redFlag:e,onDismiss:t})=>{const{severity:n,message:s,condition:i,recommendations:o}=e;return l.jsxDEV("div",{className:`p-4 rounded-lg border ${n==="critical"?"bg-red-50 border-red-300":"bg-yellow-50 border-yellow-300"}`,children:l.jsxDEV("div",{className:"flex items-start space-x-3",children:[l.jsxDEV("div",{className:"flex-shrink-0 mt-1",children:n==="critical"?l.jsxDEV(Ps,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:22,columnNumber:13},void 0):l.jsxDEV(Qe,{className:"w-5 h-5 text-yellow-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:24,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:20,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-1",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h3",{className:`font-semibold ${n==="critical"?"text-red-800":"text-yellow-800"}`,children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:29,columnNumber:13},void 0),t&&l.jsxDEV("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:[l.jsxDEV("span",{className:"sr-only",children:"Dismiss"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:39,columnNumber:17},void 0),l.jsxDEV("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsxDEV("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:41,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:40,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:35,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:28,columnNumber:11},void 0),l.jsxDEV("p",{className:`mt-1 text-sm ${n==="critical"?"text-red-700":"text-yellow-700"}`,children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:46,columnNumber:11},void 0),o&&o.length>0&&l.jsxDEV("div",{className:"mt-3",children:[l.jsxDEV("h4",{className:`text-sm font-medium ${n==="critical"?"text-red-800":"text-yellow-800"}`,children:"Recommendations:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:53,columnNumber:15},void 0),l.jsxDEV("ul",{className:`mt-2 text-sm space-y-1 list-disc list-inside ${n==="critical"?"text-red-700":"text-yellow-700"}`,children:o.map((r,a)=>l.jsxDEV("li",{children:r},a,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:62,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:58,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:14,columnNumber:5},void 0)},CW=({summary:e,onRedFlagDismiss:t})=>{const{totalSteps:n,completedSteps:s,activeRedFlags:i,estimatedTimeRemaining:o,nextRequiredActions:r}=e,a=Math.round(s/n*100),c=i.filter(d=>d.severity==="critical"),u=i.filter(d=>d.severity==="warning");return l.jsxDEV("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:[l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h3",{className:"text-lg font-medium text-gray-900",children:"Pathway Progress"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:26,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:[s," of ",n," steps completed"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:29,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:[a,"%"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:32,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:28,columnNumber:11},void 0),l.jsxDEV("div",{className:"mt-2 relative",children:l.jsxDEV("div",{className:"h-2 bg-gray-100 rounded-full",children:l.jsxDEV("div",{className:`absolute left-0 h-2 rounded-full ${a===100?"bg-green-500":"bg-blue-500"}`,style:{width:`${a}%`}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:38,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:37,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:36,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:27,columnNumber:9},void 0),o&&l.jsxDEV("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[l.jsxDEV(ko,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:51,columnNumber:13},void 0),l.jsxDEV("span",{children:["Estimated time remaining: ",o]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:50,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:25,columnNumber:7},void 0),i.length>0&&l.jsxDEV("div",{className:"p-6 space-y-4",children:[l.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:"Active Red Flags"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:60,columnNumber:11},void 0),l.jsxDEV("div",{className:"space-y-3",children:[c.map(d=>l.jsxDEV(lN,{redFlag:d,onDismiss:t?()=>t(d.id):void 0},d.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:63,columnNumber:15},void 0)),u.map(d=>l.jsxDEV(lN,{redFlag:d,onDismiss:t?()=>t(d.id):void 0},d.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:74,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:59,columnNumber:9},void 0),r.length>0&&l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:"Next Required Actions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:91,columnNumber:11},void 0),l.jsxDEV("ul",{className:"mt-4 space-y-3",children:r.map((d,m)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV(ku,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:95,columnNumber:17},void 0),l.jsxDEV("span",{className:"text-gray-600",children:d},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:96,columnNumber:17},void 0)]},m,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:94,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:90,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-6",children:l.jsxDEV("button",{className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>{console.log("Generate AI suggestions")},children:[l.jsxDEV("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:112,columnNumber:11},void 0),"Get AI Suggestions"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:105,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:104,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:23,columnNumber:5},void 0)},PW=({pathway:e})=>{const[t,n]=b.useState("initial"),[s,i]=b.useState({completedSteps:[],currentStep:"initial",redFlagsTriggered:[],timeStarted:Date.now()}),o=e.steps.find(u=>u.id===t),r=()=>{const u=e.steps.length,d=s.completedSteps.length,m=e.steps.filter(p=>s.redFlagsTriggered.some(g=>{var v;return(v=p.redFlags)==null?void 0:v.some(x=>x.id===g)})).flatMap(p=>p.redFlags||[]).filter(p=>s.redFlagsTriggered.includes(p.id)),f=e.recommendedTimeframe?`${e.recommendedTimeframe} (estimated)`:void 0,h=o?[o.description,...(o.redFlags||[]).flatMap(p=>p.recommendations)]:[];return{totalSteps:u,completedSteps:d,activeRedFlags:m,estimatedTimeRemaining:f,nextRequiredActions:h}},a=(u,d)=>{i(m=>({...m,completedSteps:[...m.completedSteps,t],currentStep:u,redFlagsTriggered:[...m.redFlagsTriggered,...d||[]]})),n(u)},c=u=>{i(d=>({...d,redFlagsTriggered:d.redFlagsTriggered.filter(m=>m!==u)}))};return o?l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxDEV("div",{className:"flex items-start justify-between",children:[l.jsxDEV("div",{children:[l.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:o.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:88,columnNumber:13},void 0),l.jsxDEV("p",{className:"mt-2 text-gray-700",children:o.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:87,columnNumber:11},void 0),o.tooltip&&l.jsxDEV("div",{className:"group relative",children:[l.jsxDEV(ld,{className:"w-5 h-5 text-gray-400 hover:text-gray-500 cursor-help"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:93,columnNumber:15},void 0),l.jsxDEV("div",{className:"invisible group-hover:visible absolute right-0 w-64 p-2 mt-2 text-sm text-gray-600 bg-white rounded-lg shadow-lg border border-gray-200",children:o.tooltip},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:94,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:86,columnNumber:9},void 0),o.expectedDuration&&l.jsxDEV("div",{className:"mt-4 text-sm text-gray-600",children:["Expected duration: ",o.expectedDuration]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:85,columnNumber:7},void 0),l.jsxDEV(CW,{summary:r(),onRedFlagDismiss:c},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:109,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-4",children:o.options.map((u,d)=>l.jsxDEV("button",{onClick:()=>a(u.next,u.triggers),className:"w-full py-3 px-4 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white font-medium text-left",children:u.text},d,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:117,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:115,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:83,columnNumber:5},void 0):l.jsxDEV("div",{className:"p-4 rounded-md bg-red-50 text-red-700",children:['Error: Step not found for ID "',t,'"']},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:76,columnNumber:7},void 0)},p_=()=>{const[e,t]=b.useState(null),n={breast:l.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:21,columnNumber:7},void 0),prostate:l.jsxDEV(Xs,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:25,columnNumber:15},void 0),lung:l.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11c0-4.4-3.6-8-8-8S3 6.6 3 11c0 2.5 1.2 4.8 3 6.2V21h12v-3.8c1.8-1.4 3-3.7 3-6.2z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:28,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:27,columnNumber:7},void 0),ovarian:l.jsxDEV(fC,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:31,columnNumber:14},void 0),gastric:l.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 13.87C6 16.15 7.57 18 9.46 18H14.54C16.43 18 18 16.15 18 13.87C18 10.5 14 9 12 9C10 9 6 10.5 6 13.87Z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:33,columnNumber:7},void 0),head_neck:l.jsxDEV(mC,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:37,columnNumber:16},void 0),pancreatic:l.jsxDEV(Hl,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:38,columnNumber:17},void 0),bladder:l.jsxDEV(dC,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:39,columnNumber:14},void 0),colorectal:l.jsxDEV(uC,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:40,columnNumber:17},void 0),lymphoma:l.jsxDEV(ei,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:41,columnNumber:15},void 0)};return l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Diagnostic Pathways"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:47,columnNumber:9},void 0),e&&l.jsxDEV("button",{onClick:()=>t(null),className:"text-sm text-gray-600 hover:text-gray-800 flex items-center",children:[l.jsxDEV("svg",{className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:54,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:53,columnNumber:13},void 0),"Back to Cancer Types"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:46,columnNumber:7},void 0),e?l.jsxDEV("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:l.jsxDEV(PW,{pathway:aN[e]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:109,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:108,columnNumber:9},void 0):l.jsxDEV("div",{className:"grid gap-6",children:[l.jsxDEV("div",{className:"p-4 bg-white rounded-lg shadow border border-gray-200",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Select Cancer Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:64,columnNumber:13},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(aN).map(([s,i])=>l.jsxDEV("button",{onClick:()=>t(s),className:"p-4 text-left bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 flex items-start space-x-3",children:[l.jsxDEV("div",{className:"text-blue-600",children:n[s]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:72,columnNumber:19},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-blue-800",children:i.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:76,columnNumber:21},void 0),l.jsxDEV("p",{className:"text-sm text-blue-600 mt-1",children:i.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:77,columnNumber:21},void 0),i.recommendedTimeframe&&l.jsxDEV("p",{className:"text-sm text-blue-500 mt-2",children:["Typical timeline: ",i.recommendedTimeframe]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:79,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:75,columnNumber:19},void 0)]},s,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:67,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:65,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:63,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-4 bg-white rounded-lg shadow border border-gray-200",children:l.jsxDEV("div",{className:"flex items-start space-x-3",children:[l.jsxDEV(Ep,{className:"w-6 h-6 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:91,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"About Diagnostic Pathways"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:93,columnNumber:17},void 0),l.jsxDEV("p",{className:"mt-2 text-gray-600",children:"Select a cancer type above to view its specific diagnostic pathway. Each pathway provides:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:94,columnNumber:17},void 0),l.jsxDEV("ul",{className:"mt-2 space-y-2 text-gray-600 list-disc list-inside",children:[l.jsxDEV("li",{children:"Step-by-step diagnostic guidance"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:98,columnNumber:19},void 0),l.jsxDEV("li",{children:"Red flag alerts for critical findings"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:99,columnNumber:19},void 0),l.jsxDEV("li",{children:"Expected timelines and progress tracking"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:100,columnNumber:19},void 0),l.jsxDEV("li",{children:"AI-powered suggestions and summaries"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:101,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:45,columnNumber:5},void 0)};function AW(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}AW(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ob=e=>typeof e=="number"&&!isNaN(e),Al=e=>typeof e=="string",g_=e=>typeof e=="function",jW=e=>Al(e)||ob(e),IW=e=>b.isValidElement(e)||Al(e)||g_(e)||ob(e),RW=1,b_=()=>`${RW++}`,Ms=new Map,Gh=[],cN=new Set,v_=()=>Ms.size>0,VW=(e,{containerId:t})=>{var n;return(n=Ms.get(t||1))==null?void 0:n.toasts.get(e)};function OW(e,t){var n;if(t)return!!((n=Ms.get(t))!=null&&n.isToastActive(e));let s=!1;return Ms.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function LW(e){if(!v_()){Gh=Gh.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||jW(e))Ms.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ms.get(e.containerId);t?t.removeToast(e.id):Ms.forEach(n=>{n.removeToast(e.id)})}}var FW=(e={})=>{Ms.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function BW(e,t){IW(e)&&(v_()||Gh.push({content:e,options:t}),Ms.forEach(n=>{n.buildToast(e,t)}))}function x_(e,t){Ms.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function HW(e){return cN.add(e),()=>{cN.delete(e)}}function UW(e){return e&&(Al(e.toastId)||ob(e.toastId))?e.toastId:b_()}function ic(e,t){return BW(e,t),t.toastId}function Fd(e,t){return{...t,type:t&&t.type||e,toastId:UW(t)}}function Bd(e){return(t,n)=>ic(t,Fd(e,n))}function gt(e,t){return ic(e,Fd("default",t))}gt.loading=(e,t)=>ic(e,Fd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function $W(e,{pending:t,error:n,success:s},i){let o;t&&(o=Al(t)?gt.loading(t,i):gt.loading(t.render,{...i,...t}));let r={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,d,m)=>{if(d==null){gt.dismiss(o);return}let f={type:u,...r,...i,data:m},h=Al(d)?{render:d}:d;return o?gt.update(o,{...f,...h}):gt(h.render,{...f,...h}),m},c=g_(e)?e():e;return c.then(u=>a("success",s,u)).catch(u=>a("error",n,u)),c}gt.promise=$W;gt.success=Bd("success");gt.info=Bd("info");gt.error=Bd("error");gt.warning=Bd("warning");gt.warn=gt.warning;gt.dark=(e,t)=>ic(e,Fd("default",{theme:"dark",...t}));function zW(e){LW(e)}gt.dismiss=zW;gt.clearWaitingQueue=FW;gt.isActive=OW;gt.update=(e,t={})=>{let n=VW(e,t);if(n){let{props:s,content:i}=n,o={delay:100,...s,...t,toastId:t.toastId||e,updateId:b_()};o.toastId!==e&&(o.staleId=e);let r=o.render||i;delete o.render,ic(r,o)}};gt.done=e=>{gt.update(e,{progress:1})};gt.onChange=HW;gt.play=e=>x_(!0,e);gt.pause=e=>x_(!1,e);const qt=[];for(let e=0;e<256;++e)qt.push((e+256).toString(16).slice(1));function WW(e,t=0){return(qt[e[t+0]]+qt[e[t+1]]+qt[e[t+2]]+qt[e[t+3]]+"-"+qt[e[t+4]]+qt[e[t+5]]+"-"+qt[e[t+6]]+qt[e[t+7]]+"-"+qt[e[t+8]]+qt[e[t+9]]+"-"+qt[e[t+10]]+qt[e[t+11]]+qt[e[t+12]]+qt[e[t+13]]+qt[e[t+14]]+qt[e[t+15]]).toLowerCase()}let of;const qW=new Uint8Array(16);function GW(){if(!of){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");of=crypto.getRandomValues.bind(crypto)}return of(qW)}const YW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uN={randomUUID:YW};function N_(e,t,n){var i;if(uN.randomUUID&&!e)return uN.randomUUID();e=e||{};const s=e.random??((i=e.rng)==null?void 0:i.call(e))??GW();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,WW(s)}const dN="gemini-pro",mN=3,KW=1e3,XW=[{category:gc.HARM_CATEGORY_HARASSMENT,threshold:pc.BLOCK_MEDIUM_AND_ABOVE},{category:gc.HARM_CATEGORY_HATE_SPEECH,threshold:pc.BLOCK_MEDIUM_AND_ABOVE},{category:gc.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:pc.BLOCK_MEDIUM_AND_ABOVE},{category:gc.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:pc.BLOCK_MEDIUM_AND_ABOVE}];class il extends Error{constructor(n,s,i=500){super(n);Me(this,"code");Me(this,"statusCode");this.name="GeminiError",this.code=s,this.statusCode=i}}function JW(){var t,n,s;const e=((n=(t=import.meta)==null?void 0:t.env)==null?void 0:n.VITE_GEMINI_API_KEY)??((s=process==null?void 0:process.env)==null?void 0:s.VITE_GEMINI_API_KEY)??"";if(!e)throw new il("Gemini API key not configured","API_KEY_MISSING",400);return e}const QW=e=>new Promise(t=>setTimeout(t,e));async function y_(e,t=mN){try{return await e()}catch(n){if(t<=0||n instanceof il&&["API_KEY_MISSING","INVALID_RESPONSE","RATE_LIMIT_EXCEEDED"].includes(n.code))throw n;return await QW(KW*(mN-t+1)),y_(e,t-1)}}function ZW(e){try{return{valid:!0,sanitized:JSON.parse(JSON.stringify(e))}}catch{return{valid:!1}}}async function eq(e,t,n){const s=JW();return y_(async()=>{try{const o=new HC(s).getGenerativeModel({model:dN,safetySettings:XW}),r=[];n!=null&&n.length,r.push({role:"user",parts:[{text:e}]});const d=(await(await o.startChat({history:r,generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}).sendMessage(e)).response).text(),m=ZW(d);if(!m.valid||!m.sanitized)throw new Error("Response contains invalid JSON characters");return{id:N_(),content:m.sanitized,timestamp:new Date().toISOString(),metadata:{model:dN}}}catch(i){throw i instanceof il?i:i instanceof Error?i.message.includes("API quota exceeded")||i.message.includes("Network error")||i.message.includes("Response contains invalid JSON characters")?new Error(i.message):i.message.toLowerCase().includes("network")||i.message.toLowerCase().includes("fetch")||i.message.toLowerCase().includes("connection")?new Error("Network error"):new il(`Failed to generate response: ${i.message}`,"GENERATION_FAILED",500):new il("Unknown error occurred","UNKNOWN_ERROR",500)}})}const tq={OPD:{screening:["Based on the patient's age and risk factors, recommended screening includes annual mammography and colonoscopy every 10 years.","Given the family history, consider genetic counseling and BRCA testing."],triage:["Patient requires urgent evaluation due to severe symptoms.","Routine follow-up recommended in 3 months."]},CDU:{toxicity:["Grade 3 neutropenia detected. Consider G-CSF support and dose reduction.","Mild peripheral neuropathy - continue monitoring, consider vitamin B6."]},Inpatient:{},Palliative:{},RadOnc:{}};let nq=class extends Error{constructor(t,n){super(t),this.code=n,this.name="APIError"}};function sq(e,t){const n=tq[e];if(!n)return"Mock response not found for this module.";const s=n[t];if(!s)return"Mock response not found for this intent.";const i=Math.floor(Math.random()*s.length);return s[i]}async function rb({module:e,intent:t,prompt:n,context:s,mockMode:i,iterationCount:o=0,previousResponse:r,feedbackType:a,history:c=[]}){if(i)return{id:N_(),content:sq(e,t),timestamp:new Date,metadata:{module:e,intent:t,model:"mock"}};let u=n;if(o>0&&r){const m=`Previous response:
${r}

User feedback:
${n}`;u=a==="refine"?`Please refine and improve the previous response, focusing on accuracy and clarity.
${m}`:a==="elaborate"?`Please provide more detailed information and examples to elaborate on the previous response.
${m}`:a==="correct"?`Please correct any errors or inaccuracies in the previous response, ensuring medical accuracy.
${m}`:`Please continue with this additional context:
${m}`}const d=`
Context:
${s||"No specific context provided"}

Module: ${e}
Intent: ${t}

History:
${c.length>0?c.join(`

`):"No previous history"}

Current Task:
${u}

Please provide a comprehensive response suitable for a medical professional.`;try{const m=await eq(d);return{id:m.id,content:m.content,timestamp:new Date(m.timestamp),metadata:{module:e,intent:t,model:m.metadata.model}}}catch(m){throw new nq(m instanceof Error?m.message:"Failed to get AI response","GEMINI_API_ERROR")}}const w_=()=>{const[e,t]=b.useState(!1),[n,s]=b.useState({age:0,gender:"female",smokingHistory:!1,packYears:0,isHighRisk:!1,riskFactors:{priorCancer:!1,immunocompromised:!1,radiationExposure:!1,geneticRisk:{brcaPositive:!1,lynchSyndrome:!1}},familyHistory:{breast:!1,colorectal:!1,prostate:!1,ovarian:!1},lastScreening:{mammogram:"",colonoscopy:"",papSmear:"",ldct:"",psa:"",breastMri:"",endoscopy:"",ctAbdomen:""},activeSymptoms:{weightLoss:!1,abdominalPain:!1,backPain:!1,jaundice:!1,bloating:!1,earlySatiety:!1,hoarseness:!1,dysphagia:!1,earPain:!1,vomiting:!1,bleeding:!1,fever:!1,nightSweats:!1}}),[i,o]=b.useState({breast:!0,cervical:!0,colorectal:!0,lung:!0,prostate:!0}),[r,a]=b.useState(!1),c=N=>N.target.checked,u=N=>N!=null&&N.length>0,d=N=>u(N)?new Date().getFullYear()-new Date(N).getFullYear():1/0,m=()=>{const N=n.activeSymptoms,D=[];return N.weightLoss&&(N.backPain||N.jaundice)&&D.push("pancreatic"),N.bloating&&N.earlySatiety&&n.gender==="female"&&D.push("ovarian"),(N.hoarseness||N.dysphagia||N.earPain)&&D.push("headNeck"),(N.vomiting||N.bleeding)&&D.push("gastric"),(N.fever||N.nightSweats)&&N.weightLoss&&D.push("lymphoma"),D},f=()=>{const N={colorectal:{cancerType:"colorectal",status:"not-indicated",reason:"Age below screening threshold"},lung:{cancerType:"lung",status:"not-indicated",reason:"Not meeting screening criteria"}};if(n.age>=45){const w=n.lastScreening.colonoscopy,T=d(w);u(w)?T>=10?N.colorectal={cancerType:"colorectal",status:"due",reason:"Follow-up colonoscopy needed",isOverdue:!0}:T>=8&&(N.colorectal={cancerType:"colorectal",status:"upcoming",reason:"Colonoscopy due within 2 years",nextDue:w}):N.colorectal={cancerType:"colorectal",status:"due",reason:"Initial screening colonoscopy needed",isOverdue:n.age>45}}const D=m();if(D.length>0&&D.forEach(w=>{N[w]={cancerType:w,status:"due",reason:"Concerning symptoms present - requires immediate evaluation",isOverdue:!0}}),n.gender==="female"){if(n.age>=40&&n.age<=74){const w=n.lastScreening.mammogram;N.breast={cancerType:"breast",status:!u(w)||d(w)>=1?"due":"upcoming",reason:n.familyHistory.breast?"High-risk patient requires more frequent screening":n.isHighRisk?"Modified screening interval due to risk factors":"Regular annual screening recommended",isOverdue:u(w)&&d(w)>1}}if(n.age>=21&&n.age<=65){const w=n.lastScreening.papSmear;N.cervical={cancerType:"cervical",status:!u(w)||d(w)>=3?"due":"upcoming",reason:n.age>=30?"Co-testing with HPV recommended every 5 years":"Pap smear recommended every 3 years",isOverdue:u(w)&&d(w)>3}}}if(n.gender==="male"&&n.age>=50){const w=n.lastScreening.psa;N.prostate={cancerType:"prostate",status:!u(w)||d(w)>=1?"due":"upcoming",reason:n.familyHistory.prostate?"High-risk patient requires annual PSA screening":"Consider PSA screening based on shared decision making",isOverdue:u(w)&&d(w)>1}}if(n.age>=50&&n.age<=80&&n.smokingHistory&&(n.packYears??0)>=20){const w=n.lastScreening.ldct;N.lung={cancerType:"lung",status:!u(w)||d(w)>=1?"due":"upcoming",reason:"Annual LDCT recommended for high-risk patients",isOverdue:u(w)&&d(w)>1}}return N},h=async({prompt:N,context:D})=>{try{return(await rb({module:"OPD",intent:"screening",prompt:N,context:D,mockMode:e})).content}catch(w){if(console.error("Generate Summary Error:",w),w.name==="APIError")switch(w.code){case"INVALID_JSON":case"INVALID_RESPONSE":throw new Error("The AI service returned an invalid response. Please try again.");case"RATE_LIMIT":throw new Error("Too many requests. Please wait a moment and try again.");case"CONNECTION_ERROR":throw new Error("Unable to connect to the AI service. Please check your connection.");default:throw new Error(w.message||"Failed to generate summary")}throw new Error("Failed to generate summary")}},p=f(),g=({title:N,description:D,duration:w=5e3,variant:T="default"})=>{gt(D,{type:T==="destructive"?"error":"info",autoClose:w,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},v=async N=>{a(!0);const D=p[N.toLowerCase()];if(D)try{const w=`
Patient Information:
- Age: ${n.age}
- Gender: ${n.gender}
- Smoking History: ${n.smokingHistory?`Yes (${n.packYears} pack years)`:"No"}
- High Risk: ${n.isHighRisk?"Yes":"No"}
- Family History: ${Object.entries(n.familyHistory).filter(([M,_])=>_).map(([M])=>M).join(", ")}

Screening Status:
Cancer Type: ${N}
Current Status: ${D.status}
Reason: ${D.reason}
Last Screening: ${n.lastScreening[N.toLowerCase()]||"Never"}
${D.isOverdue?"OVERDUE FOR SCREENING":""}
`,T=await h({prompt:"Analyze this patient's cancer screening status and provide personalized recommendations.",context:w});g({title:`${N} Screening Analysis`,description:T,duration:1e4})}catch(w){console.error("AI Consultation Error:",w),g({title:"Consultation Failed",description:w.message||"Unable to provide AI consultation at this time. Please try again later.",variant:"destructive"})}finally{a(!1)}},x=()=>{console.log("Exporting recommendations...")},E=(N,D)=>{if(D)return"text-red-600 bg-red-50";switch(N){case"due":return"text-yellow-600 bg-yellow-50";case"upcoming":return"text-blue-600 bg-blue-50";case"not-indicated":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}};return l.jsxDEV("div",{className:"space-y-6 max-w-4xl mx-auto p-6",children:[l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Cancer Screening Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:473,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center gap-4",children:[l.jsxDEV("button",{onClick:()=>t(!e),className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e?" Mock Mode":" Gemini Mode"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:475,columnNumber:11},void 0),l.jsxDEV("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsxDEV(Bl,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:487,columnNumber:13},void 0),"Export PDF"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:483,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:474,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:472,columnNumber:7},void 0),l.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"High Risk Assessment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:497,columnNumber:11},void 0),l.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsxDEV("input",{type:"checkbox",checked:n.isHighRisk,onChange:N=>s(D=>({...D,isHighRisk:c(N)})),className:"sr-only peer"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:499,columnNumber:13},void 0),l.jsxDEV("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 peer-checked:after:translate-x-full peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:508,columnNumber:13},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"High Risk Patient"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:509,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:498,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:496,columnNumber:9},void 0),n.isHighRisk&&l.jsxDEV("div",{className:"mt-4 space-y-4",children:l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.geneticRisk.brcaPositive,onChange:N=>s(D=>({...D,riskFactors:{...D.riskFactors,geneticRisk:{...D.riskFactors.geneticRisk,brcaPositive:c(N)}}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:517,columnNumber:17},void 0),l.jsxDEV("span",{children:"BRCA1/2 Positive"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:532,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:516,columnNumber:15},void 0),l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.geneticRisk.lynchSyndrome,onChange:N=>s(D=>({...D,riskFactors:{...D.riskFactors,geneticRisk:{...D.riskFactors.geneticRisk,lynchSyndrome:c(N)}}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:535,columnNumber:17},void 0),l.jsxDEV("span",{children:"Lynch Syndrome"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:550,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:534,columnNumber:15},void 0),l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.priorCancer,onChange:N=>s(D=>({...D,riskFactors:{...D.riskFactors,priorCancer:c(N)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:553,columnNumber:17},void 0),l.jsxDEV("span",{children:"Prior Cancer History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:565,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:552,columnNumber:15},void 0),l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.immunocompromised,onChange:N=>s(D=>({...D,riskFactors:{...D.riskFactors,immunocompromised:c(N)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:568,columnNumber:17},void 0),l.jsxDEV("span",{children:"Immunocompromised"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:580,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:567,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:515,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:514,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:495,columnNumber:7},void 0),l.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Patient Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:589,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Age"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:592,columnNumber:13},void 0),l.jsxDEV("input",{type:"number",value:n.age||"",onChange:N=>s(D=>({...D,age:parseInt(N.target.value)||0})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:593,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:591,columnNumber:11},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:601,columnNumber:13},void 0),l.jsxDEV("select",{value:n.gender,onChange:N=>s(D=>({...D,gender:N.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsxDEV("option",{value:"female",children:"Female"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:607,columnNumber:15},void 0),l.jsxDEV("option",{value:"male",children:"Male"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:608,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:602,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:600,columnNumber:11},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Smoking History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:612,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-1 space-y-2",children:[l.jsxDEV("label",{className:"inline-flex items-center",children:[l.jsxDEV("input",{type:"checkbox",checked:n.smokingHistory,onChange:N=>s(D=>({...D,smokingHistory:c(N)})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:615,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-2",children:"Current or Former Smoker"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:621,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:614,columnNumber:15},void 0),n.smokingHistory&&l.jsxDEV("input",{type:"number",placeholder:"Pack Years",value:n.packYears||"",onChange:N=>s(D=>({...D,packYears:parseInt(N.target.value)||0})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:624,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:613,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:611,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:590,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Family History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:638,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:Object.keys(n.familyHistory).map(N=>l.jsxDEV("label",{className:"inline-flex items-center",children:[l.jsxDEV("input",{type:"checkbox",checked:n.familyHistory[N],onChange:D=>s(w=>({...w,familyHistory:{...w.familyHistory,[N]:c(D)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:642,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-2 capitalize",children:[N," Cancer"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:654,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:641,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:639,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:637,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4 border-t pt-4",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:662,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(n.activeSymptoms).map(([N,D])=>l.jsxDEV("label",{className:"inline-flex items-center",children:[l.jsxDEV("input",{type:"checkbox",checked:D,onChange:w=>s(T=>({...T,activeSymptoms:{...T.activeSymptoms,[N]:c(w)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:666,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-2 capitalize",children:N.replace(/([A-Z])/g," $1").toLowerCase()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:678,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:665,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:663,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:661,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4 border-t pt-4",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Last Screening Dates"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:686,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:Object.keys(n.lastScreening).map(N=>l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:N.replace(/([A-Z])/g," $1").trim()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:690,columnNumber:17},void 0),l.jsxDEV("input",{type:"date",value:n.lastScreening[N]||"",onChange:D=>s(w=>({...w,lastScreening:{...w.lastScreening,[N]:D.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:693,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:689,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:687,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:685,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:588,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-4",children:Object.entries(p).map(([N,D])=>!D||(N==="breast"||N==="cervical")&&n.gender==="male"||N==="prostate"&&n.gender==="female"?null:l.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:[l.jsxDEV("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>o(w=>({...w,[N]:!w[N]})),children:[l.jsxDEV("div",{className:"flex items-center gap-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 capitalize",children:[N," Cancer Screening"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:726,columnNumber:19},void 0),l.jsxDEV("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${E(D.status,D.isOverdue)}`,children:D.status.toUpperCase()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:729,columnNumber:19},void 0),D.isOverdue&&l.jsxDEV(Qe,{className:"text-red-500",size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:733,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:725,columnNumber:17},void 0),i[N]?l.jsxDEV(Tp,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:736,columnNumber:47},void 0):l.jsxDEV(Br,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:736,columnNumber:73},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:721,columnNumber:15},void 0),i[N]&&l.jsxDEV("div",{className:"p-4 border-t border-gray-200 space-y-4",children:[l.jsxDEV("p",{className:"text-gray-600",children:D.reason},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:741,columnNumber:19},void 0),(D==null?void 0:D.nextDue)&&l.jsxDEV("p",{className:"text-sm text-gray-500",children:["Next screening due: ",new Date(D.nextDue).toLocaleDateString()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:743,columnNumber:21},void 0),l.jsxDEV("button",{onClick:()=>v(D.cancerType),className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",disabled:r,children:[l.jsxDEV(hC,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:752,columnNumber:21},void 0),"Ask AI about ",N," screening"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:747,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:740,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:720,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:712,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:471,columnNumber:5},void 0)};function iq({guideline:e}){return console.log("ReferralCard guideline prop:",e),l.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[l.jsxDEV("h3",{className:"font-medium text-gray-900",children:e.condition},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:19,columnNumber:9},this),l.jsxDEV("span",{className:`text-xs px-2 py-1 rounded-full ${e.urgency.includes("Urgent")?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:e.urgency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:20,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:18,columnNumber:7},this),l.jsxDEV("div",{className:"space-y-3 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Referral Criteria:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:31,columnNumber:11},this),l.jsxDEV("ul",{className:"mt-1 space-y-1",children:e.criteria.map((t,n)=>l.jsxDEV("li",{className:"text-gray-900 flex items-start",children:[l.jsxDEV("span",{className:"mr-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:35,columnNumber:17},this),t]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:34,columnNumber:15},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:32,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:30,columnNumber:9},this),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Required Workup:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:43,columnNumber:11},this),l.jsxDEV("ul",{className:"mt-1 space-y-1",children:e.workup.map((t,n)=>l.jsxDEV("li",{className:"text-gray-900 flex items-start",children:[l.jsxDEV("span",{className:"mr-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:47,columnNumber:17},this),t]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:46,columnNumber:15},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:44,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:29,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:17,columnNumber:5},this)}const oq=({formData:e,setFormData:t})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"Age"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:22,columnNumber:9},void 0),l.jsxDEV("input",{type:"number",id:"age",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:e.age,onChange:n=>t(s=>({...s,age:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:25,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:21,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"symptoms",className:"block text-sm font-medium text-gray-700",children:"Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:35,columnNumber:9},void 0),l.jsxDEV("textarea",{id:"symptoms",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:e.symptoms,onChange:n=>t(s=>({...s,symptoms:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:38,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:34,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"Duration of Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:48,columnNumber:9},void 0),l.jsxDEV("input",{type:"text",id:"duration",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 2 weeks",value:e.duration,onChange:n=>t(s=>({...s,duration:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:51,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:47,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"clinicalFindings",className:"block text-sm font-medium text-gray-700",children:"Clinical Findings"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:62,columnNumber:9},void 0),l.jsxDEV("textarea",{id:"clinicalFindings",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:e.clinicalFindings,onChange:n=>t(s=>({...s,clinicalFindings:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:65,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:61,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:20,columnNumber:5},void 0),rq=({aiTriageResult:e})=>{if(!e)return null;const t={Urgent:"bg-red-50 text-red-600",Soon:"bg-yellow-50 text-yellow-600",Routine:"bg-green-50 text-green-600"},n=e.urgency==="Urgent"?Qe:e.urgency==="Soon"?ko:ji;return l.jsxDEV("div",{className:`p-4 rounded-md ${t[e.urgency]}`,children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(n,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:30,columnNumber:9},void 0),l.jsxDEV("h4",{className:"font-medium",children:[e.urgency," Referral"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:29,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-2 text-sm",children:[l.jsxDEV("p",{children:["Timeframe: ",e.timeframe]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:34,columnNumber:9},void 0),l.jsxDEV("ul",{className:"mt-2 pl-5 list-disc",children:e.reasoning.map((s,i)=>l.jsxDEV("li",{children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:37,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:35,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:28,columnNumber:5},void 0)},fN=[{id:"breast-001",cancerType:"Breast Cancer",pathwayName:"Suspected Breast Cancer Pathway",urgencyLevel:"Calculated",aiTriageFactors:{highRiskFactors:["Palpable lump","Skin changes (peau d'orange)","Nipple discharge (bloody)"],moderateRiskFactors:["Axillary lymphadenopathy","Persistent breast pain"],lowRiskFactors:["Family history (low risk)","Fibrocystic changes"],redFlags:[{trigger:["Palpable lump","Skin changes"],message:" Red Flag: High suspicion for inflammatory breast cancer."}]},requiredInformation:{clinical:["Age","Symptoms","Duration","Clinical Findings"]},slaTimeframes:{urgent:"See within 2 weeks",soon:"See within 4 weeks",routine:"See within 6 weeks"}},{id:"lung-001",cancerType:"Lung Cancer",pathwayName:"Suspected Lung Cancer Pathway",urgencyLevel:"Calculated",aiTriageFactors:{highRiskFactors:["Hemoptysis","Unexplained weight loss (>10%)","Chest X-ray suggestive of malignancy"],moderateRiskFactors:["Persistent cough (>3 weeks)","Smoker (>20 pack-years)","Hoarseness"],lowRiskFactors:["Shortness of breath (stable)","Resolved pneumonia"],redFlags:[{trigger:["Hemoptysis","Weight loss"],message:" Red Flag: High suspicion for malignancy. Expedite referral."},{trigger:["Hoarseness","Persistent cough"],message:" Red Flag: Possible recurrent laryngeal nerve involvement."}]},requiredInformation:{clinical:["Age","Symptoms","Duration","Smoking history","Clinical Findings"]},slaTimeframes:{urgent:"See within 1 week",soon:"See within 3 weeks",routine:"See within 5 weeks"}},{id:"colorectal-001",cancerType:"Colorectal Cancer",pathwayName:"Suspected Colorectal Cancer Pathway",urgencyLevel:"Calculated",aiTriageFactors:{highRiskFactors:["Rectal bleeding with change in bowel habit","Palpable abdominal mass","Iron deficiency anemia (unexplained)"],moderateRiskFactors:["Change in bowel habit (>6 weeks)","Family history (first-degree relative)","Weight loss"],lowRiskFactors:["Hemorrhoids (confirmed)","Anal fissure"],redFlags:[{trigger:["Rectal bleeding","Change in bowel habit","Age > 50"],message:" Red Flag: High suspicion for colorectal cancer. Urgent colonoscopy needed."}]},requiredInformation:{clinical:["Age","Symptoms","Duration","Family history","Clinical Findings"]},slaTimeframes:{urgent:"See within 2 weeks",soon:"See within 4 weeks",routine:"See within 6 weeks"}}],aq=e=>{let t=0;return e.highRiskFactors.forEach(n=>{(e.clinicalFindings.toLowerCase().includes(n.toLowerCase())||e.symptoms.toLowerCase().includes(n.toLowerCase()))&&(t+=3)}),e.moderateRiskFactors.forEach(n=>{(e.clinicalFindings.toLowerCase().includes(n.toLowerCase())||e.symptoms.toLowerCase().includes(n.toLowerCase()))&&(t+=2)}),e.age>60&&(t+=1),e.age>75&&(t+=1),(e.duration.includes("month")||e.duration.includes("week")&&parseInt(e.duration)>6)&&(t+=1),t},lq=(e,t)=>{const n=aq(e),s=n>=7?"Urgent":n>=4?"Soon":"Routine",i=[];n>=7?(i.push("Multiple high-risk factors identified"),i.push("Requires urgent assessment")):n>=4?(i.push("Moderate risk factors present"),i.push("Early assessment recommended")):(i.push("Routine assessment appropriate"),i.push("Low-risk presentation"));const o=s==="Urgent"?t.urgent:t.routine||"Not specified";return{urgency:s,reasoning:i,timeframe:o}};function D_(){const[e,t]=b.useState(!1),[n,s]=b.useState(""),[i,o]=b.useState({age:"",symptoms:"",duration:"",clinicalFindings:""}),[r,a]=b.useState(null),[c,u]=b.useState([]),[d,m]=b.useState(!1),f=b.useMemo(()=>[...new Set(fN.map(v=>v.cancerType))],[]),h=b.useMemo(()=>fN.find(v=>v.cancerType===n),[n]),p=async()=>{if(!h)return;const v={age:parseInt(i.age)||0,symptoms:i.symptoms,duration:i.duration,clinicalFindings:i.clinicalFindings,highRiskFactors:h.aiTriageFactors.highRiskFactors,moderateRiskFactors:h.aiTriageFactors.moderateRiskFactors},x={urgent:h.slaTimeframes.urgent,routine:h.slaTimeframes.routine},E=lq(v,x);a(E);const N=[],D=`${i.symptoms.toLowerCase()} ${i.clinicalFindings.toLowerCase()}`;h.aiTriageFactors.redFlags.forEach(w=>{w.trigger.every(M=>D.includes(M.toLowerCase()))&&N.push(w.message)}),u(N),g()},g=async()=>{if(!(!h||!r)){m(!0);try{const v=`
Cancer Type: ${h.pathwayName}
Patient Age: ${i.age}
Presenting Symptoms: ${i.symptoms}
Duration: ${i.duration}
Clinical Findings: ${i.clinicalFindings}

Initial Triage Result: ${r.urgency}
Red Flags Present: ${c.length>0?c.join(", "):"None"}

High Risk Factors to Consider:
${h.aiTriageFactors.highRiskFactors.join(`
`)}

Moderate Risk Factors to Consider:
${h.aiTriageFactors.moderateRiskFactors.join(`
`)}
`,x=await rb({module:"OPD",intent:"triage",prompt:"Analyze this oncology referral and provide additional insights. Consider the urgency level, risk factors, and any concerning features that might need immediate attention. Suggest additional workup if needed.",context:v,mockMode:e});Ar({title:"AI Clinical Insights",description:x.content,duration:1e4})}catch(v){console.error("AI Analysis Error:",v),Ar({title:"AI Analysis Error",description:"Unable to get AI insights at this time. Using local triage results only.",variant:"destructive"})}finally{m(!1)}}};return l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:l.jsxDEV(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[l.jsxDEV("h2",{className:"text-2xl font-bold",children:" Referral Guidelines"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:127,columnNumber:11},this),l.jsxDEV("button",{onClick:()=>t(!e),className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e?" Mock Mode":" Gemini Mode"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:122,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:121,columnNumber:7},this),l.jsxDEV(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg shadow-lg",children:l.jsxDEV(ad,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:144,columnNumber:9},this),l.jsxDEV("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Referral Guideline Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:147,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:139,columnNumber:7},this),l.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxDEV("div",{className:"space-y-4 p-6 backdrop-blur-sm bg-white bg-opacity-40 rounded-xl shadow-lg border border-gray-200 border-opacity-40 transition-all duration-300 hover:shadow-xl",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Clinical Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:155,columnNumber:11},this),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"cancerType",className:"block text-sm font-medium text-gray-700",children:"Select Cancer Type / Pathway"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:159,columnNumber:13},this),l.jsxDEV("select",{id:"cancerType",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:n,onChange:v=>{s(v.target.value),a(null),u([])},children:[l.jsxDEV("option",{value:"",children:"Please select"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:172,columnNumber:15},this),f.map(v=>l.jsxDEV("option",{value:v,children:v},v,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:174,columnNumber:17},this))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:158,columnNumber:11},this),n&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(oq,{formData:i,setFormData:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:184,columnNumber:15},this),l.jsxDEV("button",{onClick:p,disabled:!n||d,className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d&&l.jsxDEV(ri,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:192,columnNumber:33},this),d?"Analyzing...":"Determine Suggested Action"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:187,columnNumber:15},this),c.length>0&&l.jsxDEV("div",{className:"space-y-2",children:c.map((v,x)=>l.jsxDEV("div",{className:"p-3 bg-red-100 border border-red-300 rounded-md flex items-center gap-2 text-red-700",children:[l.jsxDEV(Qe,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:201,columnNumber:23},this),l.jsxDEV("span",{className:"text-sm font-medium",children:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:202,columnNumber:23},this)]},x,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:200,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:198,columnNumber:17},this),r&&l.jsxDEV("div",{className:"mt-4 space-y-4",children:[l.jsxDEV("h4",{className:"text-md font-semibold text-gray-700",children:"Suggested Action:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:211,columnNumber:20},this),l.jsxDEV(rq,{aiTriageResult:r},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:212,columnNumber:20},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:210,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:154,columnNumber:9},this),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Guideline Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:222,columnNumber:11},this),h?l.jsxDEV(iq,{guideline:{condition:h.pathwayName,urgency:h.urgencyLevel,criteria:h.requiredInformation.clinical,workup:[...h.aiTriageFactors.highRiskFactors.map(v=>`High Risk: ${v}`),...h.aiTriageFactors.moderateRiskFactors.map(v=>`Moderate Risk: ${v}`)]}},h.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:224,columnNumber:14},this):l.jsxDEV("div",{className:"p-4 text-center text-gray-500 bg-gray-50 rounded-lg",children:"Select a cancer type to view guideline details."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:221,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:120,columnNumber:5},this)}const cq=[{type:"breast",label:"Breast Cancer",icon:""},{type:"lung",label:"Lung Cancer",icon:""},{type:"colorectal",label:"Colorectal Cancer",icon:""}],uq=({onSelect:e,selected:t})=>l.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:cq.map(({type:n,label:s,icon:i})=>l.jsxDEV(Be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-4 rounded-lg ${t===n?"bg-blue-100 border-blue-500":"bg-gray-50"} border-2 flex flex-col items-center`,onClick:()=>e(n),children:[l.jsxDEV("span",{className:"text-2xl mb-2",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:29,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-sm font-medium",children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:30,columnNumber:11},void 0)]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:20,columnNumber:9},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:18,columnNumber:5},void 0),dq={first_visit:T1,imaging:vC,biopsy:bC,histopathology:gC,molecular:ad,final:pC},mq={first_visit:"First Visit",imaging:"Imaging",biopsy:"Biopsy",histopathology:"Histopathology",molecular:"Molecular Testing",final:"Final Diagnosis"},fq=({events:e})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsxDEV(T1,{className:"w-5 h-5 text-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:38,columnNumber:9},void 0),"Diagnostic Timeline"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:37,columnNumber:7},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:43,columnNumber:9},void 0),l.jsxDEV("div",{className:"space-y-6",children:e.map((t,n)=>{const s=dq[t.type];return l.jsxDEV(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"relative flex items-start gap-4 pl-8",children:[l.jsxDEV("div",{className:`absolute left-0 p-1 rounded-full bg-white ring-2 ${t.status==="completed"?"ring-green-500":t.status==="scheduled"?"ring-blue-500":"ring-gray-300"}`,children:l.jsxDEV(s,{className:`w-4 h-4 ${t.status==="completed"?"text-green-500":t.status==="scheduled"?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:62,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:57,columnNumber:17},void 0),l.jsxDEV("div",{className:"flex-1 bg-white rounded-lg border p-3",children:l.jsxDEV("div",{className:"flex justify-between items-start",children:[l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-medium text-gray-900",children:mq[t.type]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:71,columnNumber:23},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600",children:t.detail},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:72,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:70,columnNumber:21},void 0),l.jsxDEV("time",{className:"text-sm text-gray-500",children:t.date},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:74,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:69,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:68,columnNumber:17},void 0)]},t.type,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:50,columnNumber:15},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:46,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:41,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:36,columnNumber:5},void 0);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function oc(e){return e+.5|0}const Di=(e,t,n)=>Math.max(Math.min(e,n),t);function Oa(e){return Di(oc(e*2.55),0,255)}function Ti(e){return Di(oc(e*255),0,255)}function Ys(e){return Di(oc(e/2.55)/100,0,1)}function hN(e){return Di(oc(e*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yh=[..."0123456789ABCDEF"],hq=e=>Yh[e&15],pq=e=>Yh[(e&240)>>4]+Yh[e&15],Oc=e=>(e&240)>>4===(e&15),gq=e=>Oc(e.r)&&Oc(e.g)&&Oc(e.b)&&Oc(e.a);function bq(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Fn[e[1]]*17,g:255&Fn[e[2]]*17,b:255&Fn[e[3]]*17,a:t===5?Fn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Fn[e[1]]<<4|Fn[e[2]],g:Fn[e[3]]<<4|Fn[e[4]],b:Fn[e[5]]<<4|Fn[e[6]],a:t===9?Fn[e[7]]<<4|Fn[e[8]]:255})),n}const vq=(e,t)=>e<255?t(e):"";function xq(e){var t=gq(e)?hq:pq;return e?"#"+t(e.r)+t(e.g)+t(e.b)+vq(e.a,t):void 0}const Nq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function E_(e,t,n){const s=t*Math.min(n,1-n),i=(o,r=(o+e/30)%12)=>n-s*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function yq(e,t,n){const s=(i,o=(i+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function wq(e,t,n){const s=E_(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function Dq(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function ab(e){const n=e.r/255,s=e.g/255,i=e.b/255,o=Math.max(n,s,i),r=Math.min(n,s,i),a=(o+r)/2;let c,u,d;return o!==r&&(d=o-r,u=a>.5?d/(2-o-r):d/(o+r),c=Dq(n,s,i,d,o),c=c*60+.5),[c|0,u||0,a]}function lb(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Ti)}function cb(e,t,n){return lb(E_,e,t,n)}function Eq(e,t,n){return lb(wq,e,t,n)}function Tq(e,t,n){return lb(yq,e,t,n)}function T_(e){return(e%360+360)%360}function Sq(e){const t=Nq.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Oa(+t[5]):Ti(+t[5]));const i=T_(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?s=Eq(i,o,r):t[1]==="hsv"?s=Tq(i,o,r):s=cb(i,o,r),{r:s[0],g:s[1],b:s[2],a:n}}function _q(e,t){var n=ab(e);n[0]=T_(n[0]+t),n=cb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function kq(e){if(!e)return;const t=ab(e),n=t[0],s=hN(t[1]),i=hN(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ys(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const pN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Mq(){const e={},t=Object.keys(gN),n=Object.keys(pN);let s,i,o,r,a;for(s=0;s<t.length;s++){for(r=a=t[s],i=0;i<n.length;i++)o=n[i],a=a.replace(o,pN[o]);o=parseInt(gN[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let Lc;function Cq(e){Lc||(Lc=Mq(),Lc.transparent=[0,0,0,0]);const t=Lc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Pq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Aq(e){const t=Pq.exec(e);let n=255,s,i,o;if(t){if(t[7]!==s){const r=+t[7];n=t[8]?Oa(r):Di(r*255,0,255)}return s=+t[1],i=+t[3],o=+t[5],s=255&(t[2]?Oa(s):Di(s,0,255)),i=255&(t[4]?Oa(i):Di(i,0,255)),o=255&(t[6]?Oa(o):Di(o,0,255)),{r:s,g:i,b:o,a:n}}}function jq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ys(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const rf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Wo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Iq(e,t,n){const s=Wo(Ys(e.r)),i=Wo(Ys(e.g)),o=Wo(Ys(e.b));return{r:Ti(rf(s+n*(Wo(Ys(t.r))-s))),g:Ti(rf(i+n*(Wo(Ys(t.g))-i))),b:Ti(rf(o+n*(Wo(Ys(t.b))-o))),a:e.a+n*(t.a-e.a)}}function Fc(e,t,n){if(e){let s=ab(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=cb(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function S_(e,t){return e&&Object.assign(t||{},e)}function bN(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ti(e[3]))):(t=S_(e,{r:0,g:0,b:0,a:1}),t.a=Ti(t.a)),t}function Rq(e){return e.charAt(0)==="r"?Aq(e):Sq(e)}class jl{constructor(t){if(t instanceof jl)return t;const n=typeof t;let s;n==="object"?s=bN(t):n==="string"&&(s=bq(t)||Cq(t)||Rq(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=S_(this._rgb);return t&&(t.a=Ys(t.a)),t}set rgb(t){this._rgb=bN(t)}rgbString(){return this._valid?jq(this._rgb):void 0}hexString(){return this._valid?xq(this._rgb):void 0}hslString(){return this._valid?kq(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let o;const r=n===o?.5:n,a=2*r-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-u,s.r=255&u*s.r+o*i.r+.5,s.g=255&u*s.g+o*i.g+.5,s.b=255&u*s.b+o*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=Iq(this._rgb,t._rgb,n)),this}clone(){return new jl(this.rgb)}alpha(t){return this._rgb.a=Ti(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=oc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fc(this._rgb,2,t),this}darken(t){return Fc(this._rgb,2,-t),this}saturate(t){return Fc(this._rgb,1,t),this}desaturate(t){return Fc(this._rgb,1,-t),this}rotate(t){return _q(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $s(){}const Vq=(()=>{let e=0;return()=>e++})();function dt(e){return e==null}function Ut(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function et(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Gn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ps(e,t){return Gn(e)?e:t}function Ke(e,t){return typeof e>"u"?t:e}const Oq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ft(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ot(e,t,n,s){let i,o,r;if(Ut(e))for(o=e.length,i=0;i<o;i++)t.call(n,e[i],i);else if(et(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(n,e[r[i]],r[i])}function qu(e,t){let n,s,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Gu(e){if(Ut(e))return e.map(Gu);if(et(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Gu(e[n[i]]);return t}return e}function __(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Lq(e,t,n,s){if(!__(e))return;const i=t[e],o=n[e];et(i)&&et(o)?Il(i,o,s):t[e]=Gu(o)}function Il(e,t,n){const s=Ut(t)?t:[t],i=s.length;if(!et(e))return e;n=n||{};const o=n.merger||Lq;let r;for(let a=0;a<i;++a){if(r=s[a],!et(r))continue;const c=Object.keys(r);for(let u=0,d=c.length;u<d;++u)o(c[u],e,r,n)}return e}function ol(e,t){return Il(e,t,{merger:Fq})}function Fq(e,t,n){if(!__(e))return;const s=t[e],i=n[e];et(s)&&et(i)?ol(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Gu(i))}const vN={"":e=>e,x:e=>e.x,y:e=>e.y};function Bq(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Hq(e){const t=Bq(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Yu(e,t){return(vN[t]||(vN[t]=Hq(t)))(e)}function ub(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ku=e=>typeof e<"u",Ai=e=>typeof e=="function",xN=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Uq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const $t=Math.PI,Cs=2*$t,$q=Cs+$t,Xu=Number.POSITIVE_INFINITY,zq=$t/180,ns=$t/2,Wi=$t/4,NN=$t*2/3,k_=Math.log10,jr=Math.sign;function rl(e,t,n){return Math.abs(e-t)<n}function yN(e){const t=Math.round(e);e=rl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(k_(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Wq(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,o)=>i-o).pop(),t}function qq(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Rl(e){return!qq(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Gq(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Yq(e,t,n){let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function lo(e){return e*($t/180)}function Kq(e){return e*(180/$t)}function wN(e){if(!Gn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Xq(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*$t&&(o+=Cs),{angle:o,distance:i}}function Kh(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Jq(e,t){return(e-t+$q)%Cs-$t}function hi(e){return(e%Cs+Cs)%Cs}function M_(e,t,n,s){const i=hi(e),o=hi(t),r=hi(n),a=hi(o-i),c=hi(r-i),u=hi(i-o),d=hi(i-r);return i===o||i===r||s&&o===r||a>c&&u<d}function zn(e,t,n){return Math.max(t,Math.min(n,e))}function Qq(e){return zn(e,-32768,32767)}function La(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function db(e,t,n){n=n||(r=>e[r]<t);let s=e.length-1,i=0,o;for(;s-i>1;)o=i+s>>1,n(o)?i=o:s=o;return{lo:i,hi:s}}const co=(e,t,n,s)=>db(e,n,s?i=>{const o=e[i][t];return o<n||o===n&&e[i+1][t]===n}:i=>e[i][t]<n),Zq=(e,t,n)=>db(e,n,s=>e[s][t]>=n);function eG(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const C_=["push","pop","shift","splice","unshift"];function tG(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),C_.forEach(n=>{const s="_onData"+ub(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function DN(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(C_.forEach(o=>{delete e[o]}),delete e._chartjs)}function nG(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const P_=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function A_(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,P_.call(window,()=>{s=!1,e.apply(t,n)}))}}function sG(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const mb=e=>e==="start"?"left":e==="end"?"right":"center",Xt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,iG=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function oG(e,t,n){const s=t.length;let i=0,o=s;if(e._sorted){const{iScale:r,vScale:a,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:m,max:f,minDefined:h,maxDefined:p}=r.getUserBounds();if(h){if(i=Math.min(co(c,d,m).lo,n?s:co(t,d,r.getPixelForValue(m)).lo),u){const g=c.slice(0,i+1).reverse().findIndex(v=>!dt(v[a.axis]));i-=Math.max(0,g)}i=zn(i,0,s-1)}if(p){let g=Math.max(co(c,r.axis,f,!0).hi+1,n?0:co(t,d,r.getPixelForValue(f),!0).hi+1);if(u){const v=c.slice(g-1).findIndex(x=>!dt(x[a.axis]));g+=Math.max(0,v)}o=zn(g,i,s)-i}else o=s-i}return{start:i,count:o}}function rG(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),o}const Bc=e=>e===0||e===1,EN=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Cs/n)),TN=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Cs/n)+1,al={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ns)+1,easeOutSine:e=>Math.sin(e*ns),easeInOutSine:e=>-.5*(Math.cos($t*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Bc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Bc(e)?e:EN(e,.075,.3),easeOutElastic:e=>Bc(e)?e:TN(e,.075,.3),easeInOutElastic(e){return Bc(e)?e:e<.5?.5*EN(e*2,.1125,.45):.5+.5*TN(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-al.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?al.easeInBounce(e*2)*.5:al.easeOutBounce(e*2-1)*.5+.5};function fb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function SN(e){return fb(e)?e:new jl(e)}function af(e){return fb(e)?e:new jl(e).saturate(.5).darken(.1).hexString()}const aG=["x","y","borderWidth","radius","tension"],lG=["color","borderColor","backgroundColor"];function cG(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:lG},numbers:{type:"number",properties:aG}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function uG(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _N=new Map;function dG(e,t){t=t||{};const n=e+JSON.stringify(t);let s=_N.get(n);return s||(s=new Intl.NumberFormat(e,t),_N.set(n,s)),s}function j_(e,t,n){return dG(t,n).format(e)}const mG={values(e){return Ut(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,o=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),o=fG(e,n)}const r=k_(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),j_(e,s,c)}};function fG(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var I_={formatters:mG};function hG(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:I_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Eo=Object.create(null),Xh=Object.create(null);function ll(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function lf(e,t,n){return typeof t=="string"?Il(ll(e,t),n):Il(ll(e,""),t)}class pG{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>af(i.backgroundColor),this.hoverBorderColor=(s,i)=>af(i.borderColor),this.hoverColor=(s,i)=>af(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return lf(this,t,n)}get(t){return ll(this,t)}describe(t,n){return lf(Xh,t,n)}override(t,n){return lf(Eo,t,n)}route(t,n,s,i){const o=ll(this,t),r=ll(this,s),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=r[i];return et(c)?Object.assign({},u,c):Ke(c,u)},set(c){this[a]=c}}})}apply(t){t.forEach(n=>n(this))}}var _t=new pG({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[cG,uG,hG]);function gG(e){return!e||dt(e.size)||dt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function kN(e,t,n,s,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>s&&(s=o),s}function qi(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function MN(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Jh(e,t,n,s){R_(e,t,n,s,null)}function R_(e,t,n,s,i){let o,r,a,c,u,d,m,f;const h=t.pointStyle,p=t.rotation,g=t.radius;let v=(p||0)*zq;if(h&&typeof h=="object"&&(o=h.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(v),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),h){default:i?e.ellipse(n,s,i/2,g,0,0,Cs):e.arc(n,s,g,0,Cs),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(n+Math.sin(v)*d,s-Math.cos(v)*g),v+=NN,e.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*g),v+=NN,e.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,r=Math.cos(v+Wi)*c,m=Math.cos(v+Wi)*(i?i/2-u:c),a=Math.sin(v+Wi)*c,f=Math.sin(v+Wi)*(i?i/2-u:c),e.arc(n-m,s-a,u,v-$t,v-ns),e.arc(n+f,s-r,u,v-ns,v),e.arc(n+m,s+a,u,v,v+ns),e.arc(n-f,s+r,u,v+ns,v+$t),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,d=i?i/2:c,e.rect(n-d,s-c,2*d,2*c);break}v+=Wi;case"rectRot":m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+f,s-r),e.lineTo(n+m,s+a),e.lineTo(n-f,s+r),e.closePath();break;case"crossRot":v+=Wi;case"cross":m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+m,s+a),e.moveTo(n+f,s-r),e.lineTo(n-f,s+r);break;case"star":m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+m,s+a),e.moveTo(n+f,s-r),e.lineTo(n-f,s+r),v+=Wi,m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+m,s+a),e.moveTo(n+f,s-r),e.lineTo(n-f,s+r);break;case"line":r=i?i/2:Math.cos(v)*g,a=Math.sin(v)*g,e.moveTo(n-r,s-a),e.lineTo(n+r,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(v)*(i?i/2:g),s+Math.sin(v)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Vl(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function hb(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function pb(e){e.restore()}function bG(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function vG(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function xG(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),dt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function NG(e,t,n,s,i){if(i.strikethrough||i.underline){const o=e.measureText(s),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(a,d),e.stroke()}}function yG(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ol(e,t,n,s,i,o={}){const r=Ut(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let c,u;for(e.save(),e.font=i.string,xG(e,o),c=0;c<r.length;++c)u=r[c],o.backdrop&&yG(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),dt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,n,s,o.maxWidth)),e.fillText(u,n,s,o.maxWidth),NG(e,n,s,u,o),s+=Number(i.lineHeight);e.restore()}function Qh(e,t){const{x:n,y:s,w:i,h:o,radius:r}=t;e.arc(n+r.topLeft,s+r.topLeft,r.topLeft,1.5*$t,$t,!0),e.lineTo(n,s+o-r.bottomLeft),e.arc(n+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,$t,ns,!0),e.lineTo(n+i-r.bottomRight,s+o),e.arc(n+i-r.bottomRight,s+o-r.bottomRight,r.bottomRight,ns,0,!0),e.lineTo(n+i,s+r.topRight),e.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-ns,!0),e.lineTo(n+r.topLeft,s)}const wG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,DG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function EG(e,t){const n=(""+e).match(wG);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const TG=e=>+e||0;function V_(e,t){const n={},s=et(t),i=s?Object.keys(t):t,o=et(e)?s?r=>Ke(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)n[r]=TG(o(r));return n}function SG(e){return V_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function cl(e){return V_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(e){const t=SG(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function sn(e,t){e=e||{},t=t||_t.font;let n=Ke(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ke(e.style,t.style);s&&!(""+s).match(DG)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Ke(e.family,t.family),lineHeight:EG(Ke(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Ke(e.weight,t.weight),string:""};return i.string=gG(i),i}function Hc(e,t,n,s){let i,o,r;for(i=0,o=e.length;i<o;++i)if(r=e[i],r!==void 0&&r!==void 0)return r}function _G(e,t,n){const{min:s,max:i}=e,o=Oq(t,(i-s)/2),r=(a,c)=>n&&a===0?0:a+c;return{min:r(s,-Math.abs(o)),max:r(i,o)}}function Ao(e,t){return Object.assign(Object.create(e),t)}function gb(e,t=[""],n,s,i=()=>e[0]){const o=n||e;typeof s>"u"&&(s=B_("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:i,override:a=>gb([a,...e],t,o,s)};return new Proxy(r,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return L_(a,c,()=>RG(c,t,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return PN(a).includes(c)},ownKeys(a){return PN(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function Ir(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:O_(e,s),setContext:o=>Ir(e,o,n,s),override:o=>Ir(e.override(o),t,n,s)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return L_(o,r,()=>MG(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function O_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ai(n)?n:()=>n,isIndexable:Ai(s)?s:()=>s}}const kG=(e,t)=>e?e+ub(t):t,bb=(e,t)=>et(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function L_(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function MG(e,t,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:r}=e;let a=s[t];return Ai(a)&&r.isScriptable(t)&&(a=CG(t,a,e,n)),Ut(a)&&a.length&&(a=PG(t,a,e,r.isIndexable)),bb(t,a)&&(a=Ir(a,i,o&&o[t],r)),a}function CG(e,t,n,s){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(o,r||s);return a.delete(e),bb(e,c)&&(c=vb(i._scopes,i,e,c)),c}function PG(e,t,n,s){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;if(typeof o.index<"u"&&s(e))return t[o.index%t.length];if(et(t[0])){const c=t,u=i._scopes.filter(d=>d!==c);t=[];for(const d of c){const m=vb(u,i,e,d);t.push(Ir(m,o,r&&r[e],a))}}return t}function F_(e,t,n){return Ai(e)?e(t,n):e}const AG=(e,t)=>e===!0?t:typeof e=="string"?Yu(t,e):void 0;function jG(e,t,n,s,i){for(const o of t){const r=AG(n,o);if(r){e.add(r);const a=F_(r._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(r===!1&&typeof s<"u"&&n!==s)return null}return!1}function vb(e,t,n,s){const i=t._rootScopes,o=F_(t._fallback,n,s),r=[...e,...i],a=new Set;a.add(s);let c=CN(a,r,n,o||n,s);return c===null||typeof o<"u"&&o!==n&&(c=CN(a,r,o,c,s),c===null)?!1:gb(Array.from(a),[""],i,o,()=>IG(t,n,s))}function CN(e,t,n,s,i){for(;n;)n=jG(e,t,n,s,i);return n}function IG(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Ut(i)&&et(n)?n:i||{}}function RG(e,t,n,s){let i;for(const o of t)if(i=B_(kG(o,e),n),typeof i<"u")return bb(e,i)?vb(n,s,e,i):i}function B_(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function PN(e){let t=e._keys;return t||(t=e._keys=VG(e._scopes)),t}function VG(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}const OG=Number.EPSILON||1e-14,Rr=(e,t)=>t<e.length&&!e[t].skip&&e[t],H_=e=>e==="x"?"y":"x";function LG(e,t,n,s){const i=e.skip?t:e,o=t,r=n.skip?t:n,a=Kh(o,i),c=Kh(r,o);let u=a/(a+c),d=c/(a+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const m=s*u,f=s*d;return{previous:{x:o.x-m*(r.x-i.x),y:o.y-m*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function FG(e,t,n){const s=e.length;let i,o,r,a,c,u=Rr(e,0);for(let d=0;d<s-1;++d)if(c=u,u=Rr(e,d+1),!(!c||!u)){if(rl(t[d],0,OG)){n[d]=n[d+1]=0;continue}i=n[d]/t[d],o=n[d+1]/t[d],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[d]=i*r*t[d],n[d+1]=o*r*t[d])}}function BG(e,t,n="x"){const s=H_(n),i=e.length;let o,r,a,c=Rr(e,0);for(let u=0;u<i;++u){if(r=a,a=c,c=Rr(e,u+1),!a)continue;const d=a[n],m=a[s];r&&(o=(d-r[n])/3,a[`cp1${n}`]=d-o,a[`cp1${s}`]=m-o*t[u]),c&&(o=(c[n]-d)/3,a[`cp2${n}`]=d+o,a[`cp2${s}`]=m+o*t[u])}}function HG(e,t="x"){const n=H_(t),s=e.length,i=Array(s).fill(0),o=Array(s);let r,a,c,u=Rr(e,0);for(r=0;r<s;++r)if(a=c,c=u,u=Rr(e,r+1),!!c){if(u){const d=u[t]-c[t];i[r]=d!==0?(u[n]-c[n])/d:0}o[r]=a?u?jr(i[r-1])!==jr(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}FG(e,i,o),BG(e,o,t)}function Uc(e,t,n){return Math.max(Math.min(e,n),t)}function UG(e,t){let n,s,i,o,r,a=Vl(e[0],t);for(n=0,s=e.length;n<s;++n)r=o,o=a,a=n<s-1&&Vl(e[n+1],t),o&&(i=e[n],r&&(i.cp1x=Uc(i.cp1x,t.left,t.right),i.cp1y=Uc(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Uc(i.cp2x,t.left,t.right),i.cp2y=Uc(i.cp2y,t.top,t.bottom)))}function $G(e,t,n,s,i){let o,r,a,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")HG(e,i);else{let u=s?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],c=LG(u,a,e[Math.min(o+1,r-(s?0:1))%r],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}t.capBezierPoints&&UG(e,n)}function xb(){return typeof window<"u"&&typeof document<"u"}function Nb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ju(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Hd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function zG(e,t){return Hd(e).getPropertyValue(t)}const WG=["top","right","bottom","left"];function xo(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=WG[i];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const qG=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function GG(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=s;let r=!1,a,c;if(qG(i,o,e.target))a=i,c=o;else{const u=t.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,r=!0}return{x:a,y:c,box:r}}function Ji(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Hd(n),o=i.boxSizing==="border-box",r=xo(i,"padding"),a=xo(i,"border","width"),{x:c,y:u,box:d}=GG(e,n),m=r.left+(d&&a.left),f=r.top+(d&&a.top);let{width:h,height:p}=t;return o&&(h-=r.width+a.width,p-=r.height+a.height),{x:Math.round((c-m)/h*n.width/s),y:Math.round((u-f)/p*n.height/s)}}function YG(e,t,n){let s,i;if(t===void 0||n===void 0){const o=e&&Nb(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Hd(o),c=xo(a,"border","width"),u=xo(a,"padding");t=r.width-u.width-c.width,n=r.height-u.height-c.height,s=Ju(a.maxWidth,o,"clientWidth"),i=Ju(a.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Xu,maxHeight:i||Xu}}const $c=e=>Math.round(e*10)/10;function KG(e,t,n,s){const i=Hd(e),o=xo(i,"margin"),r=Ju(i.maxWidth,e,"clientWidth")||Xu,a=Ju(i.maxHeight,e,"clientHeight")||Xu,c=YG(e,t,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=xo(i,"border","width"),h=xo(i,"padding");u-=h.width+f.width,d-=h.height+f.height}return u=Math.max(0,u-o.width),d=Math.max(0,s?u/s:d-o.height),u=$c(Math.min(u,r,c.maxWidth)),d=$c(Math.min(d,a,c.maxHeight)),u&&!d&&(d=$c(u/2)),(t!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=$c(Math.floor(d*s))),{width:u,height:d}}function AN(e,t,n){const s=t||1,i=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=s,r.height=i,r.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const XG=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};xb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function jN(e,t){const n=zG(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Qi(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function JG(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function QG(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=Qi(e,i,n),a=Qi(i,o,n),c=Qi(o,t,n),u=Qi(r,a,n),d=Qi(a,c,n);return Qi(u,d,n)}const ZG=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},eY=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Nr(e,t,n){return e?ZG(t,n):eY()}function U_(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function $_(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function z_(e){return e==="angle"?{between:M_,compare:Jq,normalize:hi}:{between:La,compare:(t,n)=>t-n,normalize:t=>t}}function IN({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function tY(e,t,n){const{property:s,start:i,end:o}=n,{between:r,normalize:a}=z_(s),c=t.length;let{start:u,end:d,loop:m}=e,f,h;if(m){for(u+=c,d+=c,f=0,h=c;f<h&&r(a(t[u%c][s]),i,o);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:m,style:e.style}}function nY(e,t,n){if(!n)return[e];const{property:s,start:i,end:o}=n,r=t.length,{compare:a,between:c,normalize:u}=z_(s),{start:d,end:m,loop:f,style:h}=tY(e,t,n),p=[];let g=!1,v=null,x,E,N;const D=()=>c(i,N,x)&&a(i,N)!==0,w=()=>a(o,x)===0||c(o,N,x),T=()=>g||D(),M=()=>!g||w();for(let _=d,C=d;_<=m;++_)E=t[_%r],!E.skip&&(x=u(E[s]),x!==N&&(g=c(x,i,o),v===null&&T()&&(v=a(x,i)===0?_:C),v!==null&&M()&&(p.push(IN({start:v,end:_,loop:f,count:r,style:h})),v=null),C=_,N=x));return v!==null&&p.push(IN({start:v,end:m,loop:f,count:r,style:h})),p}function sY(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const o=nY(s[i],e.points,t);o.length&&n.push(...o)}return n}function iY(e,t,n,s){let i=0,o=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function oY(e,t,n,s){const i=e.length,o=[];let r=t,a=e[t],c;for(c=t+1;c<=n;++c){const u=e[c%i];u.skip||u.stop?a.skip||(s=!1,o.push({start:t%i,end:(c-1)%i,loop:s}),t=r=u.stop?c:null):(r=c,a.skip&&(t=c)),a=u}return r!==null&&o.push({start:t%i,end:r%i,loop:s}),o}function rY(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=iY(n,i,o,s);if(s===!0)return RN(e,[{start:r,end:a,loop:o}],n,t);const c=a<r?a+i:a,u=!!e._fullLoop&&r===0&&a===i-1;return RN(e,oY(n,r,c,u),n,t)}function RN(e,t,n,s){return!s||!s.setContext||!n?t:aY(e,t,n,s)}function aY(e,t,n,s){const i=e._chart.getContext(),o=VN(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,c=n.length,u=[];let d=o,m=t[0].start,f=m;function h(p,g,v,x){const E=a?-1:1;if(p!==g){for(p+=c;n[p%c].skip;)p-=E;for(;n[g%c].skip;)g+=E;p%c!==g%c&&(u.push({start:p%c,end:g%c,loop:v,style:x}),d=x,m=g%c)}}for(const p of t){m=a?m:p.start;let g=n[m%c],v;for(f=m+1;f<=p.end;f++){const x=n[f%c];v=VN(s.setContext(Ao(i,{type:"segment",p0:g,p1:x,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:r}))),lY(v,d)&&h(m,f-1,p.loop,d),g=x,d=v}m<f-1&&h(m,f-1,p.loop,d)}return u}function VN(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function lY(e,t){if(!t)return!1;const n=[],s=function(i,o){return fb(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function zc(e,t,n){return e.options.clip?e[n]:t[n]}function cY(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:zc(n,t,"left"),right:zc(n,t,"right"),top:zc(s,t,"top"),bottom:zc(s,t,"bottom")}:t}function uY(e,t){const n=t._clip;if(n.disabled)return!1;const s=cY(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const o=n.listeners[i],r=n.duration;o.forEach(a=>a({chart:t,initial:n.initial,numSteps:r,currentStep:Math.min(s-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=P_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let r=o.length-1,a=!1,c;for(;r>=0;--r)c=o[r],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),o.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ws=new dY;const ON="transparent",mY={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=SN(e||ON),i=s.valid&&SN(t||ON);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class fY{constructor(t,n,s,i){const o=n[s];i=Hc([t.to,i,o,t.from]);const r=Hc([t.from,o,i]);this._active=!0,this._fn=t.fn||mY[t.type||typeof r],this._easing=al[t.easing]||al.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Hc([t.to,n,i,t.from]),this._from=Hc([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let c;if(this._active=o!==a&&(r||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}c=n/s%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class W_{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!et(t))return;const n=Object.keys(_t.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!et(o))return;const r={};for(const a of n)r[a]=o[a];(Ut(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,r)})})}_animateOptions(t,n){const s=n.options,i=pY(t,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&hY(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(n),a=Date.now();let c;for(c=r.length-1;c>=0;--c){const u=r[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const d=n[u];let m=o[u];const f=s.get(u);if(m)if(f&&m.active()){m.update(f,d,a);continue}else m.cancel();if(!f||!f.duration){t[u]=d;continue}o[u]=m=new fY(f,t,u,d),i.push(m)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ws.add(this._chart,s),!0}}function hY(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const o=e[s[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function pY(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function LN(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:i,end:s?i:o}}function gY(e,t,n){if(n===!1)return!1;const s=LN(e,n),i=LN(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function bY(e){let t,n,s,i;return et(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function q_(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=s.length;i<o;++i)n.push(s[i].index);return n}function FN(e,t,n,s={}){const i=e.keys,o=s.mode==="single";let r,a,c,u;if(t===null)return;let d=!1;for(r=0,a=i.length;r<a;++r){if(c=+i[r],c===n){if(d=!0,s.all)continue;break}u=e.values[c],Gn(u)&&(o||t===0||jr(t)===jr(u))&&(t+=u)}return!d&&!s.all?0:t}function vY(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let c,u,d;for(c=0,u=r.length;c<u;++c)d=r[c],a[c]={[i]:d,[o]:e[d]};return a}function cf(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function xY(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function NY(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function yY(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function BN(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const o=e[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function HN(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=s,c=o.axis,u=r.axis,d=xY(o,r,s),m=t.length;let f;for(let h=0;h<m;++h){const p=t[h],{[c]:g,[u]:v}=p,x=p._stacks||(p._stacks={});f=x[u]=yY(i,d,g),f[a]=v,f._top=BN(f,r,!0,s.type),f._bottom=BN(f,r,!1,s.type);const E=f._visualValues||(f._visualValues={});E[a]=v}}function uf(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function wY(e,t){return Ao(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function DY(e,t,n){return Ao(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Da(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const df=e=>e==="reset"||e==="none",UN=(e,t)=>t?e:Object.assign({},e),EY=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:q_(n,!0),values:null};class ul{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=cf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Da(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(m,f,h,p)=>m==="x"?f:m==="r"?p:h,o=n.xAxisID=Ke(s.xAxisID,uf(t,"x")),r=n.yAxisID=Ke(s.yAxisID,uf(t,"y")),a=n.rAxisID=Ke(s.rAxisID,uf(t,"r")),c=n.indexAxis,u=n.iAxisID=i(c,o,r,a),d=n.vAxisID=i(c,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&DN(this._data,this),t._stacked&&Da(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(et(n)){const i=this._cachedMeta;this._data=vY(n,i)}else if(s!==n){if(s){DN(s,this);const i=this._cachedMeta;Da(i),i._parsed=[]}n&&Object.isExtensible(n)&&tG(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=cf(n.vScale,n),n.stack!==s.stack&&(i=!0,Da(n),n.stack=s.stack),this._resyncElements(t),(i||o!==n._stacked)&&(HN(this,n._parsed),n._stacked=cf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:r}=s,a=o.axis;let c=t===0&&n===i.length?!0:s._sorted,u=t>0&&s._parsed[t-1],d,m,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Ut(i[t])?f=this.parseArrayData(s,i,t,n):et(i[t])?f=this.parseObjectData(s,i,t,n):f=this.parsePrimitiveData(s,i,t,n);const h=()=>m[a]===null||u&&m[a]<u[a];for(d=0;d<n;++d)s._parsed[d+t]=m=f[d],c&&(h()&&(c=!1),u=m);s._sorted=c}r&&HN(this,f)}parsePrimitiveData(t,n,s,i){const{iScale:o,vScale:r}=t,a=o.axis,c=r.axis,u=o.getLabels(),d=o===r,m=new Array(i);let f,h,p;for(f=0,h=i;f<h;++f)p=f+s,m[f]={[a]:d||o.parse(u[p],p),[c]:r.parse(n[p],p)};return m}parseArrayData(t,n,s,i){const{xScale:o,yScale:r}=t,a=new Array(i);let c,u,d,m;for(c=0,u=i;c<u;++c)d=c+s,m=n[d],a[c]={x:o.parse(m[0],d),y:r.parse(m[1],d)};return a}parseObjectData(t,n,s,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,m,f,h;for(d=0,m=i;d<m;++d)f=d+s,h=n[f],u[d]={x:o.parse(Yu(h,a),f),y:r.parse(Yu(h,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,o=this._cachedMeta,r=n[t.axis],a={keys:q_(i,!0),values:n._stacks[t.axis]._visualValues};return FN(a,r,o.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const o=s[n.axis];let r=o===null?NaN:o;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,r=FN(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&t===s.iScale,r=i.length,a=this._getOtherScale(t),c=EY(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:m}=NY(a);let f,h;function p(){h=i[f];const g=h[a.axis];return!Gn(h[t.axis])||d>g||m<g}for(f=0;f<r&&!(!p()&&(this.updateRangeFromParsed(u,t,h,c),o));++f);if(o){for(f=r-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,t,h,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i][t.axis],Gn(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=bY(Ke(this.options.clip,gY(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],o=n.chartArea,r=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(t,o,a,c),d=a;d<a+c;++d){const m=i[d];m.hidden||(m.active&&u?r.push(m):m.draw(t,o))}for(d=0;d<r.length;++d)r[d].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=DY(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=wY(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",o=this._cachedDataOpts,r=t+"-"+n,a=o[r],c=this.enableOptionSharing&&Ku(s);if(a)return UN(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),m=i?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),h=Object.keys(_t.elements[t]),p=()=>this.getContext(s,i,n),g=u.resolveNamedOptions(f,h,p,m);return g.$shared&&(g.$shared=c,o[r]=Object.freeze(UN(g,c))),g}_resolveAnimations(t,n,s){const i=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,m=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),m);c=d.createResolver(f,this.getContext(t,s,n))}const u=new W_(i,c&&c.animations);return c&&c._cacheable&&(o[r]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||df(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,o=this.getSharedOptions(s),r=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:r}}updateElement(t,n,s,i){df(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!df(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,o=n.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,n,s=!0){const i=this._cachedMeta,o=i.data,r=t+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=r;a--)u[a]=u[a-n]};for(c(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&Da(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Me(ul,"defaults",{}),Me(ul,"datasetElementType",null),Me(ul,"dataElementType",null);class yu extends ul{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:c}=oG(n,i,r);this._drawStart=a,this._drawCount=c,rG(n)&&(a=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:u},t),this.updateElements(i,a,c,t)}updateElements(t,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:m}=this._getSharedOptions(n,i),f=r.axis,h=a.axis,{spanGaps:p,segment:g}=this.options,v=Rl(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||i==="none",E=n+s,N=t.length;let D=n>0&&this.getParsed(n-1);for(let w=0;w<N;++w){const T=t[w],M=x?T:{};if(w<n||w>=E){M.skip=!0;continue}const _=this.getParsed(w),C=dt(_[h]),k=M[f]=r.getPixelForValue(_[f],w),L=M[h]=o||C?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,_,c):_[h],w);M.skip=isNaN(k)||isNaN(L)||C,M.stop=w>0&&Math.abs(_[f]-D[f])>v,g&&(M.parsed=_,M.raw=u.data[w]),m&&(M.options=d||this.resolveDataElementOptions(w,T.active?"active":i)),x||this.updateElement(T,w,M,i),D=_}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Me(yu,"id","line"),Me(yu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Me(yu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yb{constructor(t){Me(this,"options");this.options=t||{}}static override(t){Object.assign(yb.prototype,t)}init(){}formats(){return Gi()}parse(){return Gi()}format(){return Gi()}add(){return Gi()}diff(){return Gi()}startOf(){return Gi()}endOf(){return Gi()}}var TY={_date:yb};function SY(e,t,n,s){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const u=a._reversePixels?Zq:co;if(s){if(i._sharedOptions){const d=o[0],m=typeof d.getRange=="function"&&d.getRange(t);if(m){const f=u(o,t,n-m),h=u(o,t,n+m);return{lo:f.lo,hi:h.hi}}}}else{const d=u(o,t,n);if(c){const{vScale:m}=i._cachedMeta,{_parsed:f}=e,h=f.slice(0,d.lo+1).reverse().findIndex(g=>!dt(g[m.axis]));d.lo-=Math.max(0,h);const p=f.slice(d.hi).findIndex(g=>!dt(g[m.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:o.length-1}}function Ud(e,t,n,s,i){const o=e.getSortedVisibleDatasetMetas(),r=n[t];for(let a=0,c=o.length;a<c;++a){const{index:u,data:d}=o[a],{lo:m,hi:f}=SY(o[a],t,r,i);for(let h=m;h<=f;++h){const p=d[h];p.skip||s(p,u,h)}}}function _Y(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const o=t?Math.abs(s.x-i.x):0,r=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function mf(e,t,n,s,i){const o=[];return!i&&!e.isPointInArea(t)||Ud(e,n,t,function(a,c,u){!i&&!Vl(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&o.push({element:a,datasetIndex:c,index:u})},!0),o}function kY(e,t,n,s){let i=[];function o(r,a,c){const{startAngle:u,endAngle:d}=r.getProps(["startAngle","endAngle"],s),{angle:m}=Xq(r,{x:t.x,y:t.y});M_(m,u,d)&&i.push({element:r,datasetIndex:a,index:c})}return Ud(e,n,t,o),i}function MY(e,t,n,s,i,o){let r=[];const a=_Y(n);let c=Number.POSITIVE_INFINITY;function u(d,m,f){const h=d.inRange(t.x,t.y,i);if(s&&!h)return;const p=d.getCenterPoint(i);if(!(!!o||e.isPointInArea(p))&&!h)return;const v=a(t,p);v<c?(r=[{element:d,datasetIndex:m,index:f}],c=v):v===c&&r.push({element:d,datasetIndex:m,index:f})}return Ud(e,n,t,u),r}function ff(e,t,n,s,i,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?kY(e,t,n,i):MY(e,t,n,s,i,o)}function $N(e,t,n,s,i){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return Ud(e,n,t,(c,u,d)=>{c[r]&&c[r](t[n],i)&&(o.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(t.x,t.y,i))}),s&&!a?[]:o}var CY={modes:{index(e,t,n,s){const i=Ji(t,e),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?mf(e,i,o,s,r):ff(e,i,o,!1,s,r),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,m=u.data[d];m&&!m.skip&&c.push({element:m,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,n,s){const i=Ji(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?mf(e,i,o,s,r):ff(e,i,o,!1,s,r);if(a.length>0){const c=a[0].datasetIndex,u=e.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(e,t,n,s){const i=Ji(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return mf(e,i,o,s,r)},nearest(e,t,n,s){const i=Ji(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return ff(e,i,o,n.intersect,s,r)},x(e,t,n,s){const i=Ji(t,e);return $N(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=Ji(t,e);return $N(e,i,"y",n.intersect,s)}}};const G_=["left","top","right","bottom"];function Ea(e,t){return e.filter(n=>n.pos===t)}function zN(e,t){return e.filter(n=>G_.indexOf(n.pos)===-1&&n.box.axis===t)}function Ta(e,t){return e.sort((n,s)=>{const i=t?s:n,o=t?n:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function PY(e){const t=[];let n,s,i,o,r,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function AY(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:o}=n;if(!s||!G_.includes(i))continue;const r=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function jY(e,t){const n=AY(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&t.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&t.availableHeight)}return n}function IY(e){const t=PY(e),n=Ta(t.filter(u=>u.box.fullSize),!0),s=Ta(Ea(t,"left"),!0),i=Ta(Ea(t,"right")),o=Ta(Ea(t,"top"),!0),r=Ta(Ea(t,"bottom")),a=zN(t,"x"),c=zN(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:i.concat(c).concat(r).concat(a),chartArea:Ea(t,"chartArea"),vertical:s.concat(i).concat(c),horizontal:o.concat(r).concat(a)}}function WN(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function Y_(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function RY(e,t,n,s){const{pos:i,box:o}=n,r=e.maxPadding;if(!et(i)){n.size&&(e[i]-=n.size);const m=s[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?o.height:o.width),n.size=m.size/m.count,e[i]+=n.size}o.getPadding&&Y_(r,o.getPadding());const a=Math.max(0,t.outerWidth-WN(r,e,"left","right")),c=Math.max(0,t.outerHeight-WN(r,e,"top","bottom")),u=a!==e.w,d=c!==e.h;return e.w=a,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function VY(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function OY(e,t){const n=t.maxPadding;function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],n[r])}),o}return s(e?["left","right"]:["top","bottom"])}function Fa(e,t,n,s){const i=[];let o,r,a,c,u,d;for(o=0,r=e.length,u=0;o<r;++o){a=e[o],c=a.box,c.update(a.width||t.w,a.height||t.h,OY(a.horizontal,t));const{same:m,other:f}=RY(t,n,a,s);u|=m&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&Fa(i,t,n,s)||d}function Wc(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function qN(e,t,n,s){const i=n.padding;let{x:o,y:r}=t;for(const a of e){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const m=t.w*d,f=u.size||c.height;Ku(u.start)&&(r=u.start),c.fullSize?Wc(c,i.left,r,n.outerWidth-i.right-i.left,f):Wc(c,t.left+u.placed,r,m,f),u.start=r,u.placed+=m,r=c.bottom}else{const m=t.h*d,f=u.size||c.width;Ku(u.start)&&(o=u.start),c.fullSize?Wc(c,o,i.top,f,n.outerHeight-i.bottom-i.top):Wc(c,o,t.top+u.placed,f,m),u.start=o,u.placed+=m,o=c.right}}t.x=o,t.y=r}var Wn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=Yn(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(n-i.height,0),a=IY(e.boxes),c=a.vertical,u=a.horizontal;ot(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);Y_(f,Yn(s));const h=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),p=jY(c.concat(u),m);Fa(a.fullSize,h,m,p),Fa(c,h,m,p),Fa(u,h,m,p)&&Fa(c,h,m,p),VY(h),qN(a.leftAndTop,h,m,p),h.x+=h.w,h.y+=h.h,qN(a.rightAndBottom,h,m,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ot(a.chartArea,g=>{const v=g.box;Object.assign(v,e.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class K_{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class LY extends K_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wu="$chartjs",FY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GN=e=>e===null||e==="";function BY(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[wu]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",GN(i)){const o=jN(e,"width");o!==void 0&&(e.width=o)}if(GN(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=jN(e,"height");o!==void 0&&(e.height=o)}return e}const X_=XG?{passive:!0}:!1;function HY(e,t,n){e&&e.addEventListener(t,n,X_)}function UY(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,X_)}function $Y(e,t){const n=FY[e.type]||e.type,{x:s,y:i}=Ji(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Qu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function zY(e,t,n){const s=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Qu(a.addedNodes,s),r=r&&!Qu(a.removedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function WY(e,t,n){const s=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Qu(a.removedNodes,s),r=r&&!Qu(a.addedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ll=new Map;let YN=0;function J_(){const e=window.devicePixelRatio;e!==YN&&(YN=e,Ll.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function qY(e,t){Ll.size||window.addEventListener("resize",J_),Ll.set(e,t)}function GY(e){Ll.delete(e),Ll.size||window.removeEventListener("resize",J_)}function YY(e,t,n){const s=e.canvas,i=s&&Nb(s);if(!i)return;const o=A_((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),r=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||o(u,d)});return r.observe(i),qY(e,o),r}function hf(e,t,n){n&&n.disconnect(),t==="resize"&&GY(e)}function KY(e,t,n){const s=e.canvas,i=A_(o=>{e.ctx!==null&&n($Y(o,e))},e);return HY(s,t,i),i}class XY extends K_{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(BY(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[wu])return!1;const s=n[wu].initial;["height","width"].forEach(o=>{const r=s[o];dt(r)?n.removeAttribute(o):n.setAttribute(o,r)});const i=s.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[wu],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),r={attach:zY,detach:WY,resize:YY}[n]||KY;i[n]=r(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:hf,detach:hf,resize:hf}[n]||UY)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return KG(t,n,s,i)}isAttached(t){const n=t&&Nb(t);return!!(n&&n.isConnected)}}function JY(e){return!xb()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?LY:XY}var au;let jo=(au=class{constructor(){Me(this,"x");Me(this,"y");Me(this,"active",!1);Me(this,"options");Me(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Rl(this.x)&&Rl(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}},Me(au,"defaults",{}),Me(au,"defaultRoutes"),au);function QY(e,t){const n=e.options.ticks,s=ZY(e),i=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?tK(t):[],r=o.length,a=o[0],c=o[r-1],u=[];if(r>i)return nK(t,u,o,r/i),u;const d=eK(o,t,i);if(r>0){let m,f;const h=r>1?Math.round((c-a)/(r-1)):null;for(qc(t,u,d,dt(h)?0:a-h,a),m=0,f=r-1;m<f;m++)qc(t,u,d,o[m],o[m+1]);return qc(t,u,d,c,dt(h)?t.length:c+h),u}return qc(t,u,d),u}function ZY(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function eK(e,t,n){const s=sK(e),i=t.length/n;if(!s)return Math.max(i,1);const o=Wq(s);for(let r=0,a=o.length-1;r<a;r++){const c=o[r];if(c>i)return c}return Math.max(i,1)}function tK(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function nK(e,t,n,s){let i=0,o=n[0],r;for(s=Math.ceil(s),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=n[i*s])}function qc(e,t,n,s,i){const o=Ke(s,0),r=Math.min(Ke(i,e.length),e.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=o;d<0;)a++,d=Math.round(o+a*n);for(u=Math.max(o,0);u<r;u++)u===d&&(t.push(e[u]),a++,d=Math.round(o+a*n))}function sK(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const iK=e=>e==="left"?"right":e==="right"?"left":e,KN=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,XN=(e,t)=>Math.min(t||e,e);function JN(e,t){const n=[],s=e.length/t,i=e.length;let o=0;for(;o<i;o+=s)n.push(e[Math.floor(o)]);return n}function oK(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),o=e._startPixel,r=e._endPixel,a=1e-6;let c=e.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-o,r-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(i-1))/2,c+=i<t?u:-u,c<o-a||c>r+a)))return c}function rK(e,t){ot(e,n=>{const s=n.gc,i=s.length/2;let o;if(i>t){for(o=0;o<i;++o)delete n.data[s[o]];s.splice(0,i)}})}function Sa(e){return e.drawTicks?e.tickLength:0}function QN(e,t){if(!e.display)return 0;const n=sn(e.font,t),s=Yn(e.padding);return(Ut(e.text)?e.text.length:1)*n.lineHeight+s.height}function aK(e,t){return Ao(e,{scale:t,type:"scale"})}function lK(e,t,n){return Ao(e,{tick:n,index:t,type:"tick"})}function cK(e,t,n){let s=mb(e);return(n&&t!=="right"||!n&&t==="right")&&(s=iK(s)),s}function uK(e,t,n,s){const{top:i,left:o,bottom:r,right:a,chart:c}=e,{chartArea:u,scales:d}=c;let m=0,f,h,p;const g=r-i,v=a-o;if(e.isHorizontal()){if(h=Xt(s,o,a),et(n)){const x=Object.keys(n)[0],E=n[x];p=d[x].getPixelForValue(E)+g-t}else n==="center"?p=(u.bottom+u.top)/2+g-t:p=KN(e,n,t);f=a-o}else{if(et(n)){const x=Object.keys(n)[0],E=n[x];h=d[x].getPixelForValue(E)-v+t}else n==="center"?h=(u.left+u.right)/2-v+t:h=KN(e,n,t);p=Xt(s,r,i),m=n==="left"?-ns:ns}return{titleX:h,titleY:p,maxWidth:f,rotation:m}}class na extends jo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=ps(t,Number.POSITIVE_INFINITY),n=ps(n,Number.NEGATIVE_INFINITY),s=ps(s,Number.POSITIVE_INFINITY),i=ps(i,Number.NEGATIVE_INFINITY),{min:ps(t,s),max:ps(n,i),minDefined:Gn(t),maxDefined:Gn(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)r=a[c].controller.getMinMax(this,t),i||(n=Math.min(n,r.min)),o||(s=Math.max(s,r.max));return n=o&&n>s?s:n,s=i&&n>s?n:s,{min:ps(n,ps(s,n)),max:ps(s,ps(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_G(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?JN(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=QY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ft(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s],o.label=ft(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=XN(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let r=i,a,c,u;if(!this._isVisible()||!n.display||i>=o||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),m=d.widest.width,f=d.highest.height,h=zn(this.chart.width-m,0,this.maxWidth);a=t.offset?this.maxWidth/s:h/(s-1),m+6>a&&(a=h/(s-(t.offset?.5:1)),c=this.maxHeight-Sa(t.grid)-n.padding-QN(t.title,this.chart.options.font),u=Math.sqrt(m*m+f*f),r=Kq(Math.min(Math.asin(zn((d.highest.height+6)/a,-1,1)),Math.asin(zn(c/u,-1,1))-Math.asin(zn(f/u,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const c=QN(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Sa(o)+c):(t.height=this.maxHeight,t.width=Sa(o)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:m,highest:f}=this._getLabelSizes(),h=s.padding*2,p=lo(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const x=s.mirror?0:v*m.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+x+h)}else{const x=s.mirror?0:g*m.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+x+h)}this._calculatePadding(u,d,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:o,padding:r},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;c?u?(f=i*t.width,h=s*n.height):(f=s*t.height,h=i*n.width):o==="start"?h=n.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,h=n.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-m+r)*this.width/(this.width-m),0)}else{let d=n.height/2,m=t.height/2;o==="start"?(d=0,m=t.height):o==="end"&&(d=n.height,m=0),this.paddingTop=d+r,this.paddingBottom=m+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)dt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=JN(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],c=Math.floor(n/XN(n,s));let u=0,d=0,m,f,h,p,g,v,x,E,N,D,w;for(m=0;m<n;m+=c){if(p=t[m].label,g=this._resolveTickFontOptions(m),i.font=v=g.string,x=o[v]=o[v]||{data:{},gc:[]},E=g.lineHeight,N=D=0,!dt(p)&&!Ut(p))N=kN(i,x.data,x.gc,N,p),D=E;else if(Ut(p))for(f=0,h=p.length;f<h;++f)w=p[f],!dt(w)&&!Ut(w)&&(N=kN(i,x.data,x.gc,N,w),D+=E);r.push(N),a.push(D),u=Math.max(N,u),d=Math.max(D,d)}rK(o,n);const T=r.indexOf(u),M=a.indexOf(d),_=C=>({width:r[C]||0,height:a[C]||0});return{first:_(0),last:_(n-1),widest:_(T),highest:_(M),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Qq(this._alignToPixels?qi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=lK(this.getContext(),t,s))}return this.$context||(this.$context=aK(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=lo(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,c=o?o.highest.height+r:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:o,position:r,border:a}=i,c=o.offset,u=this.isHorizontal(),m=this.ticks.length+(c?1:0),f=Sa(o),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,x=function(U){return qi(s,U,g)};let E,N,D,w,T,M,_,C,k,L,B,P;if(r==="top")E=x(this.bottom),M=this.bottom-f,C=E-v,L=x(t.top)+v,P=t.bottom;else if(r==="bottom")E=x(this.top),L=t.top,P=x(t.bottom)-v,M=E+v,C=this.top+f;else if(r==="left")E=x(this.right),T=this.right-f,_=E-v,k=x(t.left)+v,B=t.right;else if(r==="right")E=x(this.left),k=t.left,B=x(t.right)-v,T=E+v,_=this.left+f;else if(n==="x"){if(r==="center")E=x((t.top+t.bottom)/2+.5);else if(et(r)){const U=Object.keys(r)[0],G=r[U];E=x(this.chart.scales[U].getPixelForValue(G))}L=t.top,P=t.bottom,M=E+v,C=M+f}else if(n==="y"){if(r==="center")E=x((t.left+t.right)/2);else if(et(r)){const U=Object.keys(r)[0],G=r[U];E=x(this.chart.scales[U].getPixelForValue(G))}T=E-v,_=T-f,k=t.left,B=t.right}const j=Ke(i.ticks.maxTicksLimit,m),R=Math.max(1,Math.ceil(m/j));for(N=0;N<m;N+=R){const U=this.getContext(N),G=o.setContext(U),$=a.setContext(U),Z=G.lineWidth,I=G.color,oe=$.dash||[],be=$.dashOffset,O=G.tickWidth,ue=G.tickColor,ge=G.tickBorderDash||[],xe=G.tickBorderDashOffset;D=oK(this,N,c),D!==void 0&&(w=qi(s,D,Z),u?T=_=k=B=w:M=C=L=P=w,h.push({tx1:T,ty1:M,tx2:_,ty2:C,x1:k,y1:L,x2:B,y2:P,width:Z,color:I,borderDash:oe,borderDashOffset:be,tickWidth:O,tickColor:ue,tickBorderDash:ge,tickBorderDashOffset:xe}))}return this._ticksLength=m,this._borderValue=E,h}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:m}=o,f=Sa(s.grid),h=f+d,p=m?-d:h,g=-lo(this.labelRotation),v=[];let x,E,N,D,w,T,M,_,C,k,L,B,P="middle";if(i==="top")T=this.bottom-p,M=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+p,M=this._getXAxisLabelAlignment();else if(i==="left"){const R=this._getYAxisLabelAlignment(f);M=R.textAlign,w=R.x}else if(i==="right"){const R=this._getYAxisLabelAlignment(f);M=R.textAlign,w=R.x}else if(n==="x"){if(i==="center")T=(t.top+t.bottom)/2+h;else if(et(i)){const R=Object.keys(i)[0],U=i[R];T=this.chart.scales[R].getPixelForValue(U)+h}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(t.left+t.right)/2-h;else if(et(i)){const R=Object.keys(i)[0],U=i[R];w=this.chart.scales[R].getPixelForValue(U)}M=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const j=this._getLabelSizes();for(x=0,E=a.length;x<E;++x){N=a[x],D=N.label;const R=o.setContext(this.getContext(x));_=this.getPixelForTick(x)+o.labelOffset,C=this._resolveTickFontOptions(x),k=C.lineHeight,L=Ut(D)?D.length:1;const U=L/2,G=R.color,$=R.textStrokeColor,Z=R.textStrokeWidth;let I=M;r?(w=_,M==="inner"&&(x===E-1?I=this.options.reverse?"left":"right":x===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?u==="near"||g!==0?B=-L*k+k/2:u==="center"?B=-j.highest.height/2-U*k+k:B=-j.highest.height+k/2:u==="near"||g!==0?B=k/2:u==="center"?B=j.highest.height/2-U*k:B=j.highest.height-L*k,m&&(B*=-1),g!==0&&!R.showLabelBackdrop&&(w+=k/2*Math.sin(g))):(T=_,B=(1-L)*k/2);let oe;if(R.showLabelBackdrop){const be=Yn(R.backdropPadding),O=j.heights[x],ue=j.widths[x];let ge=B-be.top,xe=0-be.left;switch(P){case"middle":ge-=O/2;break;case"bottom":ge-=O;break}switch(M){case"center":xe-=ue/2;break;case"right":xe-=ue;break;case"inner":x===E-1?xe-=ue:x>0&&(xe-=ue/2);break}oe={left:xe,top:ge,width:ue+be.width,height:O+be.height,color:R.backdropColor}}v.push({label:D,font:C,textOffset:B,options:{rotation:g,color:G,strokeColor:$,strokeWidth:Z,textAlign:I,textBaseline:P,translation:[w,T],backdrop:oe}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-lo(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,c=r.widest.width;let u,d;return n==="left"?i?(d=this.right+o,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+o,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:o,height:r}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,o,r),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(o=0,r=i.length;o<r;++o){const c=i[o];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),r=s.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,m,f;this.isHorizontal()?(u=qi(t,this.left,r)-r/2,d=qi(t,this.right,a)+a/2,m=f=c):(m=qi(t,this.top,r)-r/2,f=qi(t,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(u,m),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&hb(s,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,c=r.font,u=r.label,d=r.textOffset;Ol(s,u,0,d,c,a)}i&&pb(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const o=sn(s.font),r=Yn(s.padding),a=s.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||et(n)?(c+=r.bottom,Ut(s.text)&&(c+=o.lineHeight*(s.text.length-1))):c+=r.top;const{titleX:u,titleY:d,maxWidth:m,rotation:f}=uK(this,c,n,a);Ol(t,s.text,0,0,o,{color:s.color,maxWidth:m,rotation:f,textAlign:cK(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Ke(t.grid&&t.grid.z,-1),i=Ke(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==na.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return sn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Gc{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;fK(n)&&(s=this.register(n));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,dK(t,r,s),this.override&&_t.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in _t[i]&&(delete _t[i][s],this.override&&delete Eo[s])}}function dK(e,t,n){const s=Il(Object.create(null),[n?_t.get(n):{},_t.get(t),e.defaults]);_t.set(t,s),e.defaultRoutes&&mK(t,e.defaultRoutes),e.descriptors&&_t.describe(t,e.descriptors)}function mK(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),o=[e].concat(s).join("."),r=t[n].split("."),a=r.pop(),c=r.join(".");_t.route(o,i,c,a)})}function fK(e){return"id"in e&&"defaults"in e}class hK{constructor(){this.controllers=new Gc(ul,"datasets",!0),this.elements=new Gc(jo,"elements"),this.plugins=new Gc(Object,"plugins"),this.scales=new Gc(na,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):ot(i,r=>{const a=s||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,n,s){const i=ub(t);ft(s["before"+i],[],s),n[t](s),ft(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var Ns=new hK;class pK{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,n,s,i){i=i||{};for(const o of t){const r=o.plugin,a=r[s],c=[n,i,o.options];if(ft(a,c,r)===!1&&i.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=Ke(s.options&&s.options.plugins,{}),o=gK(s);return i===!1&&!n?[]:vK(t,o,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(o,r)=>o.filter(a=>!r.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function gK(e){const t={},n=[],s=Object.keys(Ns.plugins.items);for(let o=0;o<s.length;o++)n.push(Ns.getPlugin(s[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];n.indexOf(r)===-1&&(n.push(r),t[r.id]=!0)}return{plugins:n,localIds:t}}function bK(e,t){return!t&&e===!1?null:e===!0?{}:e}function vK(e,{plugins:t,localIds:n},s,i){const o=[],r=e.getContext();for(const a of t){const c=a.id,u=bK(s[c],i);u!==null&&o.push({plugin:a,options:xK(e.config,{plugin:a,local:n[c]},u,r)})}return o}function xK(e,{plugin:t,local:n},s,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(s,o);return n&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zh(e,t){const n=_t.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function NK(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function yK(e,t){return e===t?"_index_":"_value_"}function ZN(e){if(e==="x"||e==="y"||e==="r")return e}function wK(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ep(e,...t){if(ZN(e))return e;for(const n of t){const s=n.axis||wK(n.position)||e.length>1&&ZN(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ey(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function DK(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return ey(e,"x",n[0])||ey(e,"y",n[0])}return{}}function EK(e,t){const n=Eo[e.type]||{scales:{}},s=t.scales||{},i=Zh(e.type,t),o=Object.create(null);return Object.keys(s).forEach(r=>{const a=s[r];if(!et(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=ep(r,a,DK(r,e),_t.scales[a.type]),u=yK(c,i),d=n.scales||{};o[r]=ol(Object.create(null),[{axis:c},a,d[c],d[u]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,c=r.indexAxis||Zh(a,t),d=(Eo[a]||{}).scales||{};Object.keys(d).forEach(m=>{const f=NK(m,c),h=r[f+"AxisID"]||f;o[h]=o[h]||Object.create(null),ol(o[h],[{axis:f},s[h],d[m]])})}),Object.keys(o).forEach(r=>{const a=o[r];ol(a,[_t.scales[a.type],_t.scale])}),o}function Q_(e){const t=e.options||(e.options={});t.plugins=Ke(t.plugins,{}),t.scales=EK(e,t)}function Z_(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function TK(e){return e=e||{},e.data=Z_(e.data),Q_(e),e}const ty=new Map,ek=new Set;function Yc(e,t){let n=ty.get(e);return n||(n=t(),ty.set(e,n),ek.add(n)),n}const _a=(e,t,n)=>{const s=Yu(t,n);s!==void 0&&e.add(s)};class SK{constructor(t){this._config=TK(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Z_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Q_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Yc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Yc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Yc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Yc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:o}=this,r=this._cachedScopes(t,s),a=r.get(n);if(a)return a;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(m=>_a(c,t,m))),d.forEach(m=>_a(c,i,m)),d.forEach(m=>_a(c,Eo[o]||{},m)),d.forEach(m=>_a(c,_t,m)),d.forEach(m=>_a(c,Xh,m))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),ek.has(n)&&r.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Eo[n]||{},_t.datasets[n]||{},{type:n},_t,Xh]}resolveNamedOptions(t,n,s,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=ny(this._resolverCache,t,i);let c=r;if(kK(r,n)){o.$shared=!1,s=Ai(s)?s():s;const u=this.createResolver(t,s,a);c=Ir(r,s,u)}for(const u of n)o[u]=c[u];return o}createResolver(t,n,s=[""],i){const{resolver:o}=ny(this._resolverCache,t,s);return et(n)?Ir(o,n,void 0,i):o}}function ny(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let o=s.get(i);return o||(o={resolver:gb(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,o)),o}const _K=e=>et(e)&&Object.getOwnPropertyNames(e).some(t=>Ai(e[t]));function kK(e,t){const{isScriptable:n,isIndexable:s}=O_(e);for(const i of t){const o=n(i),r=s(i),a=(r||o)&&e[i];if(o&&(Ai(a)||_K(a))||r&&Ut(a))return!0}return!1}var MK="4.4.9";const CK=["top","bottom","left","right","chartArea"];function sy(e,t){return e==="top"||e==="bottom"||CK.indexOf(e)===-1&&t==="x"}function iy(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function oy(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ft(n&&n.onComplete,[e],t)}function PK(e){const t=e.chart,n=t.options.animation;ft(n&&n.onProgress,[e],t)}function tk(e){return xb()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Du={},ry=e=>{const t=tk(e);return Object.values(Du).filter(n=>n.canvas===t).pop()};function AK(e,t,n){const s=Object.keys(e);for(const i of s){const o=+i;if(o>=t){const r=e[i];delete e[i],(n>0||o>t)&&(e[o+n]=r)}}}function jK(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var ui;let $d=(ui=class{static register(...t){Ns.add(...t),ay()}static unregister(...t){Ns.remove(...t),ay()}constructor(t,n){const s=this.config=new SK(n),i=tk(t),o=ry(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||JY(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Vq(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sG(m=>this.update(m),r.resizeDelay||0),this._dataChanges=[],Du[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ws.listen(this,"complete",oy),Ws.listen(this,"progress",PK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:o}=this;return dt(t)?n&&o?o:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():AN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return MN(this.canvas,this.ctx),this}stop(){return Ws.stop(this),this}resize(t,n){Ws.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,n,o),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,AN(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),ft(s.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ot(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],c=ep(r,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ot(o,r=>{const a=r.options,c=a.id,u=ep(c,a),d=Ke(a.type,r.dtype);(a.position===void 0||sy(a.position,u)!==sy(r.dposition))&&(a.position=r.dposition),i[c]=!0;let m=null;if(c in s&&s[c].type===d)m=s[c];else{const f=Ns.getScale(d);m=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[m.id]=m}m.init(a,t)}),ot(i,(r,a)=>{r||delete s[a]}),ot(s,r=>{Wn.configure(this,r,r.options),Wn.addBox(this,r)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,o)=>i.index-o.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(iy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const o=n[s];let r=this.getDatasetMeta(s);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=o.indexAxis||Zh(a,this.options),r.order=o.order||0,r.index=s,r.label=""+o.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const c=Ns.getController(a),{datasetElementType:u,dataElementType:d}=_t.datasets[a];Object.assign(c,{dataElementType:Ns.getElement(d),datasetElementType:u&&Ns.getElement(u)}),r.controller=new c(this,s),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){ot(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:m}=this.getDatasetMeta(u),f=!i&&o.indexOf(m)===-1;m.buildOrUpdateElements(f),r=Math.max(+m.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||ot(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(iy("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ot(this.scales,t=>{Wn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!xN(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of n){const r=s==="_removeElements"?-o:o;AK(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=s(0);for(let o=1;o<n;o++)if(!xN(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ot(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ai(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ws.has(this)?this.attached&&!Ws.running(this)&&Ws.start(this):(this.draw(),oy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,o;for(i=0,o=n.length;i<o;++i){const r=n[i];(!t||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=uY(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&hb(n,i),t.controller.draw(),i&&pb(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Vl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const o=CY.modes[n];return typeof o=="function"?o(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);Ku(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),r.update(o,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ws.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),MN(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Du[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,r)=>{n.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};ot(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},i=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){ot(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ot(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let o,r,a,c;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){r=t[a];const u=r&&this.getDatasetMeta(r.datasetIndex).controller;u&&u[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!qu(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(m=>d.datasetIndex===m.datasetIndex&&d.index===m.index)),r=o(n,t),a=s?t:o(t,n);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:o}=this,r=n,a=this._getActiveElements(t,i,s,r),c=Uq(t),u=jK(t,this._lastEvent,s,c);s&&(this._lastEvent=null,ft(o.onHover,[t,a,this],this),c&&ft(o.onClick,[t,a,this],this));const d=!qu(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}},Me(ui,"defaults",_t),Me(ui,"instances",Du),Me(ui,"overrides",Eo),Me(ui,"registry",Ns),Me(ui,"version",MK),Me(ui,"getChart",ry),ui);function ay(){return ot($d.instances,e=>e._plugins.invalidate())}function nk(e,t,n=t){e.lineCap=Ke(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ke(n.borderDash,t.borderDash)),e.lineDashOffset=Ke(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ke(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ke(n.borderWidth,t.borderWidth),e.strokeStyle=Ke(n.borderColor,t.borderColor)}function IK(e,t,n){e.lineTo(n.x,n.y)}function RK(e){return e.stepped?bG:e.tension||e.cubicInterpolationMode==="monotone"?vG:IK}function sk(e,t,n={}){const s=e.length,{start:i=0,end:o=s-1}=n,{start:r,end:a}=t,c=Math.max(i,r),u=Math.min(o,a),d=i<r&&o<r||i>a&&o>a;return{count:s,start:c,loop:t.loop,ilen:u<c&&!d?s+u-c:u-c}}function VK(e,t,n,s){const{points:i,options:o}=t,{count:r,start:a,loop:c,ilen:u}=sk(i,n,s),d=RK(o);let{move:m=!0,reverse:f}=s||{},h,p,g;for(h=0;h<=u;++h)p=i[(a+(f?u-h:h))%r],!p.skip&&(m?(e.moveTo(p.x,p.y),m=!1):d(e,g,p,f,o.stepped),g=p);return c&&(p=i[(a+(f?u:0))%r],d(e,g,p,f,o.stepped)),!!c}function OK(e,t,n,s){const i=t.points,{count:o,start:r,ilen:a}=sk(i,n,s),{move:c=!0,reverse:u}=s||{};let d=0,m=0,f,h,p,g,v,x;const E=D=>(r+(u?a-D:D))%o,N=()=>{g!==v&&(e.lineTo(d,v),e.lineTo(d,g),e.lineTo(d,x))};for(c&&(h=i[E(0)],e.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[E(f)],h.skip)continue;const D=h.x,w=h.y,T=D|0;T===p?(w<g?g=w:w>v&&(v=w),d=(m*d+D)/++m):(N(),e.lineTo(D,w),p=T,m=0,g=v=w),x=w}N()}function tp(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?OK:VK}function LK(e){return e.stepped?JG:e.tension||e.cubicInterpolationMode==="monotone"?QG:Qi}function FK(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),nk(e,t.options),e.stroke(i)}function BK(e,t,n,s){const{segments:i,options:o}=t,r=tp(t);for(const a of i)nk(e,o,a.style),e.beginPath(),r(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const HK=typeof Path2D=="function";function UK(e,t,n,s){HK&&!t.options.segment?FK(e,t,n,s):BK(e,t,n,s)}class Ba extends jo{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;$G(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=rY(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],o=this.points,r=sY(this,{property:n,start:i,end:i});if(!r.length)return;const a=[],c=LK(s);let u,d;for(u=0,d=r.length;u<d;++u){const{start:m,end:f}=r[u],h=o[m],p=o[f];if(h===p){a.push(h);continue}const g=Math.abs((i-h[n])/(p[n]-h[n])),v=c(h,p,g,s.stepped);v[n]=t[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,n,s){return tp(this)(t,this,n,s)}path(t,n,s){const i=this.segments,o=tp(this);let r=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)r&=o(t,this,a,{start:n,end:n+s-1});return!!r}draw(t,n,s,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),UK(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Me(Ba,"id","line"),Me(Ba,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Me(Ba,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Me(Ba,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ly(e,t,n,s){const i=e.options,{[n]:o}=e.getProps([n],s);return Math.abs(t-o)<i.radius+i.hitRadius}class Eu extends jo{constructor(n){super();Me(this,"parsed");Me(this,"skip");Me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(n-r,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return ly(this,n,"x",s)}inYRange(n,s){return ly(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Vl(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Jh(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Me(Eu,"id","point"),Me(Eu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Me(Eu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cy=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},$K=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class uy extends jo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ft(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=sn(s.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=cy(s,o);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(r,o,a,c)+10):(d=this.maxHeight,u=this._fitCols(r,i,a,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let m=t;o.textAlign="left",o.textBaseline="middle";let f=-1,h=-d;return this.legendItems.forEach((p,g)=>{const v=s+n/2+o.measureText(p.text).width;(g===0||u[u.length-1]+v+2*a>r)&&(m+=d,u[u.length-(g>0?0:1)]=0,h+=d,f++),c[g]={left:0,top:h,row:f,width:v,height:i},u[u.length-1]+=v+a}),m}_fitCols(t,n,s,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=r-t;let m=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((v,x)=>{const{itemWidth:E,itemHeight:N}=zK(s,n,o,v,i);x>0&&h+N+2*a>d&&(m+=f+a,u.push({width:f,height:h}),p+=f+a,g++,f=h=0),c[x]={left:p,top:h,col:g,width:E,height:N},f=Math.max(f,E),h+=N+a}),m+=f,u.push({width:f,height:h}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:o}}=this,r=Nr(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Xt(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=Xt(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+t+i,u.left=r.leftForLtr(r.x(c),u.width),c+=u.width+i}else{let a=0,c=Xt(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=Xt(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=r.leftForLtr(r.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;hb(t,this),this._draw(),pb(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:o,labels:r}=t,a=_t.color,c=Nr(t.rtl,this.left,this.width),u=sn(r.font),{padding:d}=r,m=u.size,f=m/2;let h;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=cy(r,m),x=function(T,M,_){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const C=Ke(_.lineWidth,1);if(i.fillStyle=Ke(_.fillStyle,a),i.lineCap=Ke(_.lineCap,"butt"),i.lineDashOffset=Ke(_.lineDashOffset,0),i.lineJoin=Ke(_.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Ke(_.strokeStyle,a),i.setLineDash(Ke(_.lineDash,[])),r.usePointStyle){const k={radius:g*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:C},L=c.xPlus(T,p/2),B=M+f;R_(i,k,L,B,r.pointStyleWidth&&p)}else{const k=M+Math.max((m-g)/2,0),L=c.leftForLtr(T,p),B=cl(_.borderRadius);i.beginPath(),Object.values(B).some(P=>P!==0)?Qh(i,{x:L,y:k,w:p,h:g,radius:B}):i.rect(L,k,p,g),i.fill(),C!==0&&i.stroke()}i.restore()},E=function(T,M,_){Ol(i,_.text,T,M+v/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},N=this.isHorizontal(),D=this._computeTitleHeight();N?h={x:Xt(o,this.left+d,this.right-s[0]),y:this.top+d+D,line:0}:h={x:this.left+d,y:Xt(o,this.top+D+d,this.bottom-n[0].height),line:0},U_(this.ctx,t.textDirection);const w=v+d;this.legendItems.forEach((T,M)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const _=i.measureText(T.text).width,C=c.textAlign(T.textAlign||(T.textAlign=r.textAlign)),k=p+f+_;let L=h.x,B=h.y;c.setWidth(this.width),N?M>0&&L+k+d>this.right&&(B=h.y+=w,h.line++,L=h.x=Xt(o,this.left+d,this.right-s[h.line])):M>0&&B+w>this.bottom&&(L=h.x=L+n[h.line].width+d,h.line++,B=h.y=Xt(o,this.top+D+d,this.bottom-n[h.line].height));const P=c.x(L);if(x(P,B,T),L=iG(C,L+p+f,N?L+k:this.right,t.rtl),E(c.x(L),B,T),N)h.x+=k+d;else if(typeof T.text!="string"){const j=u.lineHeight;h.y+=ik(T,j)+d}else h.y+=w}),$_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=sn(n.font),i=Yn(n.padding);if(!n.display)return;const o=Nr(t.rtl,this.left,this.width),r=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,m=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,m=Xt(t.align,m,this.right-f);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);d=u+Xt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=Xt(a,m,m+f);r.textAlign=o.textAlign(mb(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=s.string,Ol(r,n.text,h,d,s)}_computeTitleHeight(){const t=this.options.title,n=sn(t.font),s=Yn(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,o;if(La(t,this.left,this.right)&&La(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],La(t,i.left,i.left+i.width)&&La(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!GK(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=$K(i,s);i&&!o&&ft(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!o&&ft(n.onHover,[t,s,this],this)}else s&&ft(n.onClick,[t,s,this],this)}}function zK(e,t,n,s,i){const o=WK(s,e,t,n),r=qK(i,s,t.lineHeight);return{itemWidth:o,itemHeight:r}}function WK(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+n.size/2+s.measureText(i).width}function qK(e,t,n){let s=e;return typeof t.text!="string"&&(s=ik(t,n)),s}function ik(e,t){const n=e.text?e.text.length:0;return t*n}function GK(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var YK={id:"legend",_element:uy,start(e,t,n){const s=e.legend=new uy({ctx:e.ctx,options:n,chart:e});Wn.configure(e,s,n),Wn.addBox(e,s)},stop(e){Wn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Wn.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Yn(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:r&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let ok=class extends jo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Ut(s.text)?s.text.length:1;this._padding=Yn(s.padding);const o=i*sn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:o,options:r}=this,a=r.align;let c=0,u,d,m;return this.isHorizontal()?(d=Xt(a,s,o),m=n+t,u=o-s):(r.position==="left"?(d=s+t,m=Xt(a,i,n),c=$t*-.5):(d=o-t,m=Xt(a,n,i),c=$t*.5),u=i-n),{titleX:d,titleY:m,maxWidth:u,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=sn(n.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(o);Ol(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:mb(n.align),textBaseline:"middle",translation:[r,a]})}};function KK(e,t){const n=new ok({ctx:e.ctx,options:t,chart:e});Wn.configure(e,n,t),Wn.addBox(e,n),e.titleBlock=n}var XK={id:"title",_element:ok,start(e,t,n){KK(e,n)},stop(e){const t=e.titleBlock;Wn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Wn.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ha={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const c=e[o].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Kh(t,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function bs(e,t){return t&&(Ut(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function qs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function JK(e,t){const{element:n,datasetIndex:s,index:i}=t,o=e.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function dy(e,t){const n=e.chart.ctx,{body:s,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,c=sn(t.bodyFont),u=sn(t.titleFont),d=sn(t.footerFont),m=o.length,f=i.length,h=s.length,p=Yn(t.padding);let g=p.height,v=0,x=s.reduce((D,w)=>D+w.before.length+w.lines.length+w.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,m&&(g+=m*u.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),x){const D=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=h*D+(x-h)*c.lineHeight+(x-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let E=0;const N=function(D){v=Math.max(v,n.measureText(D).width+E)};return n.save(),n.font=u.string,ot(e.title,N),n.font=c.string,ot(e.beforeBody.concat(e.afterBody),N),E=t.displayColors?r+2+t.boxPadding:0,ot(s,D=>{ot(D.before,N),ot(D.lines,N),ot(D.after,N)}),E=0,n.font=d.string,ot(e.footer,N),n.restore(),v+=p.width,{width:v,height:g}}function QK(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function ZK(e,t,n,s){const{x:i,width:o}=s,r=n.caretSize+n.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function eX(e,t,n,s){const{x:i,width:o}=n,{width:r,chartArea:{left:a,right:c}}=e;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=o/2?u="left":i>=r-o/2&&(u="right"),ZK(u,e,t,n)&&(u="center"),u}function my(e,t,n){const s=n.yAlign||t.yAlign||QK(e,n);return{xAlign:n.xAlign||t.xAlign||eX(e,t,n,s),yAlign:s}}function tX(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function nX(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function fy(e,t,n,s){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:c}=n,u=i+o,{topLeft:d,topRight:m,bottomLeft:f,bottomRight:h}=cl(r);let p=tX(t,a);const g=nX(t,c,u);return c==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(d,f)+i:a==="right"&&(p+=Math.max(m,h)+i),{x:zn(p,0,s.width-t.width),y:zn(g,0,s.height-t.height)}}function Kc(e,t,n){const s=Yn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function hy(e){return bs([],qs(e))}function sX(e,t,n){return Ao(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function py(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const rk={beforeTitle:$s,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:$s,beforeBody:$s,beforeLabel:$s,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return dt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$s,afterBody:$s,beforeFooter:$s,footer:$s,afterFooter:$s};function xn(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?rk[t].call(n,s):i}class np extends jo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,o=new W_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=sX(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=xn(s,"beforeTitle",this,t),o=xn(s,"title",this,t),r=xn(s,"afterTitle",this,t);let a=[];return a=bs(a,qs(i)),a=bs(a,qs(o)),a=bs(a,qs(r)),a}getBeforeBody(t,n){return hy(xn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return ot(t,o=>{const r={before:[],lines:[],after:[]},a=py(s,o);bs(r.before,qs(xn(a,"beforeLabel",this,o))),bs(r.lines,xn(a,"label",this,o)),bs(r.after,qs(xn(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,n){return hy(xn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=xn(s,"beforeFooter",this,t),o=xn(s,"footer",this,t),r=xn(s,"afterFooter",this,t);let a=[];return a=bs(a,qs(i)),a=bs(a,qs(o)),a=bs(a,qs(r)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],o=[],r=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(JK(this.chart,n[c]));return t.filter&&(a=a.filter((d,m,f)=>t.filter(d,m,f,s))),t.itemSort&&(a=a.sort((d,m)=>t.itemSort(d,m,s))),ot(a,d=>{const m=py(t.callbacks,d);i.push(xn(m,"labelColor",this,d)),o.push(xn(m,"labelPointStyle",this,d)),r.push(xn(m,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Ha[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const c=this._size=dy(this,s),u=Object.assign({},a,c),d=my(this.chart,s,u),m=fy(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const o=this.getCaretPosition(t,s,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:m}=cl(a),{x:f,y:h}=t,{width:p,height:g}=n;let v,x,E,N,D,w;return o==="center"?(D=h+g/2,i==="left"?(v=f,x=v-r,N=D+r,w=D-r):(v=f+p,x=v+r,N=D-r,w=D+r),E=v):(i==="left"?x=f+Math.max(c,d)+r:i==="right"?x=f+p-Math.max(u,m)-r:x=this.caretX,o==="top"?(N=h,D=N-r,v=x-r,E=x+r):(N=h+g,D=N+r,v=x+r,E=x-r),w=N),{x1:v,x2:x,x3:E,y1:N,y2:D,y3:w}}drawTitle(t,n,s){const i=this.title,o=i.length;let r,a,c;if(o){const u=Nr(s.rtl,this.x,this.width);for(t.x=Kc(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",r=sn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,c=0;c<o;++c)n.fillText(i[c],u.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,c+1===o&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,o){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=o,d=sn(o.bodyFont),m=Kc(this,"left",o),f=i.x(m),h=c<d.lineHeight?(d.lineHeight-c)/2:0,p=n.y+h;if(o.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(f,u)+u/2,x=p+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Jh(t,g,v,x),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Jh(t,g,v,x)}else{t.lineWidth=et(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(f,u),v=i.leftForLtr(i.xPlus(f,1),u-2),x=cl(r.borderRadius);Object.values(x).some(E=>E!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qh(t,{x:g,y:p,w:u,h:c,radius:x}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Qh(t,{x:v,y:p+1,w:u-2,h:c-2,radius:x}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,p,u,c),t.strokeRect(g,p,u,c),t.fillStyle=r.backgroundColor,t.fillRect(v,p+1,u-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,m=sn(s.bodyFont);let f=m.lineHeight,h=0;const p=Nr(s.rtl,this.x,this.width),g=function(_){n.fillText(_,p.x(t.x+h),t.y+f/2),t.y+=f+o},v=p.textAlign(r);let x,E,N,D,w,T,M;for(n.textAlign=r,n.textBaseline="middle",n.font=m.string,t.x=Kc(this,v,s),n.fillStyle=s.bodyColor,ot(this.beforeBody,g),h=a&&v!=="right"?r==="center"?u/2+d:u+2+d:0,D=0,T=i.length;D<T;++D){for(x=i[D],E=this.labelTextColors[D],n.fillStyle=E,ot(x.before,g),N=x.lines,a&&N.length&&(this._drawColorBox(n,t,D,p,s),f=Math.max(m.lineHeight,c)),w=0,M=N.length;w<M;++w)g(N[w]),f=m.lineHeight;ot(x.after,g)}h=0,f=m.lineHeight,ot(this.afterBody,g),t.y-=o}drawFooter(t,n,s){const i=this.footer,o=i.length;let r,a;if(o){const c=Nr(s.rtl,this.x,this.width);for(t.x=Kc(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",r=sn(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(i[a],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:o,yAlign:r}=this,{x:a,y:c}=t,{width:u,height:d}=s,{topLeft:m,topRight:f,bottomLeft:h,bottomRight:p}=cl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+m,c),r==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),r==="center"&&o==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+u,c+d-p),n.quadraticCurveTo(a+u,c+d,a+u-p,c+d),r==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+h,c+d),n.quadraticCurveTo(a,c+d,a,c+d-h),r==="center"&&o==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,c+m),n.quadraticCurveTo(a,c,a+m,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const r=Ha[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=dy(this,t),c=Object.assign({},r,this._size),u=my(n,t,c),d=fy(t,c,u,n);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=Yn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,i,n),U_(t,n.textDirection),o.y+=r.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),$_(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),o=!qu(s,i),r=this._positionChanged(i,n);(o||r)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,n,s),a=this._positionChanged(r,t),c=n||!qu(r,o)||a;return c&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,s,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&r.reverse(),r}_positionChanged(t,n){const{caretX:s,caretY:i,options:o}=this,r=Ha[o.position].call(this,t,n);return r!==!1&&(s!==r.x||i!==r.y)}}Me(np,"positioners",Ha);var iX={id:"tooltip",_element:np,positioners:Ha,afterInit(e,t,n){n&&(e.tooltip=new np({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const oX=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function rX(e,t,n,s){const i=e.indexOf(t);if(i===-1)return oX(e,t,n,s);const o=e.lastIndexOf(t);return i!==o?n:i}const aX=(e,t)=>e===null?null:zn(Math.round(e),0,t);function gy(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sp extends na{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:o}of n)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(dt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:rX(s,t,Ke(n,t),this._addedLabels),aX(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=t;r<=n;r++)i.push({value:r});return i}getLabelForValue(t){return gy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Me(sp,"id","category"),Me(sp,"defaults",{ticks:{callback:gy}});function lX(e,t){const n=[],{bounds:i,step:o,min:r,max:a,precision:c,count:u,maxTicks:d,maxDigits:m,includeBounds:f}=e,h=o||1,p=d-1,{min:g,max:v}=t,x=!dt(r),E=!dt(a),N=!dt(u),D=(v-g)/(m+1);let w=yN((v-g)/p/h)*h,T,M,_,C;if(w<1e-14&&!x&&!E)return[{value:g},{value:v}];C=Math.ceil(v/w)-Math.floor(g/w),C>p&&(w=yN(C*w/p/h)*h),dt(c)||(T=Math.pow(10,c),w=Math.ceil(w*T)/T),i==="ticks"?(M=Math.floor(g/w)*w,_=Math.ceil(v/w)*w):(M=g,_=v),x&&E&&o&&Gq((a-r)/o,w/1e3)?(C=Math.round(Math.min((a-r)/w,d)),w=(a-r)/C,M=r,_=a):N?(M=x?r:M,_=E?a:_,C=u-1,w=(_-M)/C):(C=(_-M)/w,rl(C,Math.round(C),w/1e3)?C=Math.round(C):C=Math.ceil(C));const k=Math.max(wN(w),wN(M));T=Math.pow(10,dt(c)?k:c),M=Math.round(M*T)/T,_=Math.round(_*T)/T;let L=0;for(x&&(f&&M!==r?(n.push({value:r}),M<r&&L++,rl(Math.round((M+L*w)*T)/T,r,by(r,D,e))&&L++):M<r&&L++);L<C;++L){const B=Math.round((M+L*w)*T)/T;if(E&&B>a)break;n.push({value:B})}return E&&f&&_!==a?n.length&&rl(n[n.length-1].value,a,by(a,D,e))?n[n.length-1].value=a:n.push({value:a}):(!E||_===a)&&n.push({value:_}),n}function by(e,t,{horizontal:n,minRotation:s}){const i=lo(s),o=(n?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class cX extends na{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const r=c=>i=n?i:c,a=c=>o=s?o:c;if(t){const c=jr(i),u=jr(o);c<0&&u<0?a(0):c>0&&u>0&&r(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),t||r(i-c)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=lX(i,o);return t.bounds==="ticks"&&Yq(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return j_(t,this.chart.options.locale,this.options.ticks.format)}}class ip extends cX{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Gn(t)?t:0,this.max=Gn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=lo(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Me(ip,"id","linear"),Me(ip,"defaults",{ticks:{callback:I_.formatters.numeric}});const zd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(zd);function vy(e,t){return e-t}function xy(e,t){if(dt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof s=="function"&&(r=s(r)),Gn(r)||(r=typeof s=="string"?n.parse(r,s):n.parse(r)),r===null?null:(i&&(r=i==="week"&&(Rl(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,i)),+r)}function Ny(e,t,n,s){const i=Dn.length;for(let o=Dn.indexOf(e);o<i-1;++o){const r=zd[Dn[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-t)/(a*r.size))<=s)return Dn[o]}return Dn[i-1]}function uX(e,t,n,s,i){for(let o=Dn.length-1;o>=Dn.indexOf(n);o--){const r=Dn[o];if(zd[r].common&&e._adapter.diff(i,s,r)>=t-1)return r}return Dn[n?Dn.indexOf(n):0]}function dX(e){for(let t=Dn.indexOf(e)+1,n=Dn.length;t<n;++t)if(zd[Dn[t]].common)return Dn[t]}function yy(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=db(n,t),o=n[s]>=t?n[s]:n[i];e[o]=!0}}function mX(e,t,n,s){const i=e._adapter,o=+i.startOf(t[0].value,s),r=t[t.length-1].value;let a,c;for(a=o;a<=r;a=+i.add(a,1,s))c=n[a],c>=0&&(t[c].major=!0);return t}function wy(e,t,n){const s=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,s.push({value:a,major:!1});return o===0||!n?s:mX(e,s,i,n)}class Zu extends na{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new TY._date(t.adapters.date);i.init(n),ol(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:xy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function c(u){!r&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!r||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Gn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),o=Gn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=eG(i,o,r);return this._unit=n.unit||(s.autoSkip?Ny(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):uX(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:dX(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),wy(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;n=zn(n,0,r),s=zn(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,o=i.time,r=o.unit||Ny(o.minUnit,n,s,this._getLabelCapacity(n)),a=Ke(i.ticks.stepSize,1),c=r==="week"?o.isoWeekday:!1,u=Rl(c)||c===!0,d={};let m=n,f,h;if(u&&(m=+t.startOf(m,"isoWeek",c)),m=+t.startOf(m,u?"day":r),t.diff(s,n,r)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+r);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=m,h=0;f<s;f=+t.add(f,a,r),h++)yy(d,f,p);return(f===s||i.bounds==="ticks"||h===1)&&yy(d,f,p),Object.keys(d).sort(vy).map(g=>+g)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,o=this._unit,r=n||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,n,s,i){const o=this.options,r=o.ticks.callback;if(r)return ft(r,[t,n,s],this);const a=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],m=u&&a[u],f=s[n],h=u&&m&&f&&f.major;return this._adapter.format(t,i||(h?m:d))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=lo(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*o+a*r,h:s*r+a*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,wy(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(xy(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return nG(t.sort(vy))}}Me(Zu,"id","time"),Me(Zu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xc(e,t,n){let s=0,i=e.length-1,o,r,a,c;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=co(e,"pos",t)),{pos:o,time:a}=e[s],{pos:r,time:c}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=co(e,"time",t)),{time:o,pos:a}=e[s],{time:r,pos:c}=e[i]);const u=r-o;return u?a+(c-a)*(t-o)/u:a}class Dy extends Zu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Xc(n,this.min),this._tableRange=Xc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],o=[];let r,a,c,u,d;for(r=0,a=t.length;r<a;++r)u=t[r],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(r=0,a=i.length;r<a;++r)d=i[r+1],c=i[r-1],u=i[r],Math.round((d+c)/2)!==u&&o.push({time:u,pos:r/(a-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Xc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Xc(this._table,s*this._tableRange+this._minPos,!0)}}Me(Dy,"id","timeseries"),Me(Dy,"defaults",Zu.defaults);const ak="label";function Ey(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function fX(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function lk(e,t){e.labels=t}function ck(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ak;const s=[];e.datasets=t.map(i=>{const o=e.datasets.find(r=>r[n]===i[n]);return!o||!i.data||s.includes(o)?{...i}:(s.push(o),Object.assign(o,i),o)})}function hX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ak;const n={labels:[],datasets:[]};return lk(n,e.labels),ck(n,e.datasets,t),n}function pX(e,t){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:o,type:r,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:m,...f}=e,h=b.useRef(null),p=b.useRef(null),g=()=>{h.current&&(p.current=new $d(h.current,{type:r,data:hX(a,o),options:c&&{...c},plugins:u}),Ey(t,p.current))},v=()=>{Ey(t,null),p.current&&(p.current.destroy(),p.current=null)};return b.useEffect(()=>{!i&&p.current&&c&&fX(p.current,c)},[i,c]),b.useEffect(()=>{!i&&p.current&&lk(p.current.config.data,a.labels)},[i,a.labels]),b.useEffect(()=>{!i&&p.current&&a.datasets&&ck(p.current.config.data,a.datasets,o)},[i,a.datasets]),b.useEffect(()=>{p.current&&(i?(v(),setTimeout(g)):p.current.update(m))},[i,c,a.labels,a.datasets,m]),b.useEffect(()=>{p.current&&(v(),setTimeout(g))},[r]),b.useEffect(()=>(g(),()=>v()),[]),Ee.createElement("canvas",{ref:h,role:"img",height:n,width:s,...f},d)}const gX=b.forwardRef(pX);function bX(e,t){return $d.register(t),b.forwardRef((n,s)=>Ee.createElement(gX,{...n,ref:s,type:e}))}const vX=bX("line",yu);$d.register(sp,ip,Eu,Ba,XK,iX,YK);const xX=({data:e})=>{const t={labels:e.map(s=>new Date(s.date).toLocaleDateString()),datasets:[{label:"ECOG Score",data:e.map(s=>s.ecog),borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",yAxisID:"y"},{label:"KPS Score",data:e.map(s=>s.kps),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",yAxisID:"y1"}]},n={responsive:!0,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"ECOG Score"},min:0,max:4,grid:{color:"rgba(0, 0, 0, 0.1)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"KPS Score"},min:0,max:100,grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top"},title:{display:!0,text:"Performance Status Trends"}}};return l.jsxDEV("div",{className:"p-4 bg-white rounded-lg border",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Score Trends"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:105,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-64",children:l.jsxDEV(vX,{options:n,data:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:107,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:106,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm text-gray-600",children:[l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"ECOG Score Interpretation:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:111,columnNumber:11},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:[l.jsxDEV("li",{children:"0: Fully active"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:113,columnNumber:13},void 0),l.jsxDEV("li",{children:"1: Restricted but ambulatory"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:114,columnNumber:13},void 0),l.jsxDEV("li",{children:"2: Ambulatory, capable of self-care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:115,columnNumber:13},void 0),l.jsxDEV("li",{children:"3: Limited self-care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:116,columnNumber:13},void 0),l.jsxDEV("li",{children:"4: Completely disabled"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:117,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:112,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:110,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"KPS Score Interpretation:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:121,columnNumber:11},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:[l.jsxDEV("li",{children:"100-90: Normal activity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:123,columnNumber:13},void 0),l.jsxDEV("li",{children:"80-70: Normal activity with effort"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:124,columnNumber:13},void 0),l.jsxDEV("li",{children:"60-50: Occasional assistance needed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:125,columnNumber:13},void 0),l.jsxDEV("li",{children:"40-30: Disabled, special care needed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:126,columnNumber:13},void 0),l.jsxDEV("li",{children:"20-10: Very sick, hospitalization"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:127,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:122,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:109,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:104,columnNumber:5},void 0)},NX=({cancerType:e,stage:t,tnmStage:n,diagnosisDate:s,currentECOG:i,currentKPS:o,onGenerate:r,followUpPlan:a})=>{const[c,u]=b.useState(""),[d,m]=b.useState(!1),f=async()=>{m(!0);try{const p=await r();u(p)}catch(p){console.error("Error generating summary:",p)}finally{m(!1)}},h=()=>{const p=document.createElement("a"),g=new Blob([c],{type:"text/markdown"});p.href=URL.createObjectURL(g),p.download=`follow-up-summary-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return l.jsxDEV(Be.div,{className:"p-4 bg-white rounded-lg border shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsxDEV(ei,{className:"w-5 h-5 text-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:60,columnNumber:11},void 0),"Smart Follow-Up Summary"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:59,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV("button",{onClick:f,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:[l.jsxDEV(ei,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:69,columnNumber:13},void 0),d?"Generating...":"Generate Summary"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:64,columnNumber:11},void 0),c&&l.jsxDEV("button",{onClick:h,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 flex items-center gap-2",children:[l.jsxDEV(Bl,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:77,columnNumber:15},void 0),"Export"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:73,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:63,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:58,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-gray-600",children:["Cancer Type: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:86,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:86,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["Stage: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:87,columnNumber:47},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:87,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["TNM: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:["T",n.t,"N",n.n,"M",n.m]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:88,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:88,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:85,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-gray-600",children:["Diagnosis Date: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:new Date(s).toLocaleDateString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:91,columnNumber:56},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:91,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["Current ECOG: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:92,columnNumber:54},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:92,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["Current KPS: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:93,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:84,columnNumber:7},void 0),c&&l.jsxDEV("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg prose prose-sm max-w-none",children:l.jsxDEV("div",{dangerouslySetInnerHTML:{__html:c}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:99,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:98,columnNumber:9},void 0),!c&&!d&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:'Click "Generate Summary" to create a comprehensive follow-up summary based on current patient data'},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:104,columnNumber:9},void 0),d&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500 animate-pulse",children:"Generating comprehensive follow-up summary..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:53,columnNumber:5},void 0)},yX={breast:[{type:"first_visit",date:"2025-03-15",detail:"Initial consultation for breast lump",status:"completed"},{type:"imaging",date:"2025-03-18",detail:"Mammogram and breast ultrasound",status:"completed"},{type:"biopsy",date:"2025-03-22",detail:"Core needle biopsy performed",status:"completed"},{type:"histopathology",date:"2025-03-28",detail:"Invasive ductal carcinoma confirmed",status:"completed"},{type:"molecular",date:"2025-04-02",detail:"ER+/PR+, HER2-, Ki-67 25%",status:"completed"},{type:"final",date:"2025-04-05",detail:"Stage IIA (T2N0M0) breast cancer diagnosis",status:"completed"}],lung:[{type:"first_visit",date:"2025-03-10",detail:"Referral for persistent cough and weight loss",status:"completed"},{type:"imaging",date:"2025-03-12",detail:"Chest CT showing RUL mass",status:"completed"},{type:"biopsy",date:"2025-03-16",detail:"CT-guided needle biopsy",status:"completed"},{type:"histopathology",date:"2025-03-20",detail:"Non-small cell lung cancer (adenocarcinoma)",status:"completed"},{type:"molecular",date:"2025-03-25",detail:"Pending molecular testing results",status:"scheduled"},{type:"final",date:"2025-03-28",detail:"Awaiting complete staging workup",status:"pending"}]},wX={breast:[{date:"2025-03-15",ecog:0,kps:100},{date:"2025-03-28",ecog:0,kps:90},{date:"2025-04-10",ecog:1,kps:80},{date:"2025-04-25",ecog:1,kps:80},{date:"2025-05-01",ecog:0,kps:90}],lung:[{date:"2025-03-10",ecog:1,kps:80},{date:"2025-03-24",ecog:1,kps:70},{date:"2025-04-07",ecog:2,kps:60},{date:"2025-04-21",ecog:1,kps:70},{date:"2025-05-01",ecog:1,kps:80}]},DX={breast:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"Clinical breast exam",frequency:"Every 3-4 months for 3 years"},{title:"Review symptoms",frequency:"Every visit"}],"6mo":[{title:"Mammogram",frequency:"Every 6-12 months"},{title:"Blood tests",frequency:"As clinically indicated"}],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[{title:"Symptom assessment",frequency:"Every visit"},{title:"Pain evaluation",frequency:"Every visit"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"Mammogram",frequency:"Every 12 months",duration:"5 years"},{title:"Clinical exam",frequency:"Every 3-4 months",duration:"2 years"}],imaging:[{title:"Breast MRI",frequency:"As indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"CT scan",frequency:"Every 6 months",duration:"2 years"},{title:"Bone scan",frequency:"As clinically indicated"}],imaging:[{title:"PET scan",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"New breast lumps",severity:"urgent",action:"Immediate referral"},{symptom:"Bone pain",severity:"warning",action:"Further investigation"},{symptom:"Persistent cough",severity:"warning",action:"Further investigation"},{symptom:"Unexplained weight loss",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Lymphedema",description:"Swelling in arm or breast",recommendations:["Exercise","Compression garments","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Arm swelling",severity:"medium"},{symptom:"Hot flashes",severity:"low"}]},lung:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"Chest CT",frequency:"Every 3-6 months for 2 years"},{title:"Physical exam",frequency:"Every 3 months"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"Chest X-ray",frequency:"Every 6 months",duration:"2 years"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"PET scan",frequency:"As clinically indicated"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"New cough",severity:"urgent",action:"Immediate referral"},{symptom:"Hemoptysis",severity:"urgent",action:"Immediate referral"},{symptom:"Shortness of breath",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Smoking cessation",description:"Support to quit smoking",recommendations:["Counseling","Nicotine replacement","Medications"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Cough",severity:"medium"},{symptom:"Shortness of breath",severity:"high"},{symptom:"Chest pain",severity:"medium"}]},colorectal:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"CEA test",frequency:"Every 3-6 months for 5 years"},{title:"CT scan",frequency:"Every 6-12 months for 5 years"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"Colonoscopy",frequency:"Every 1 year",duration:"5 years"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"PET scan",frequency:"As clinically indicated"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Rectal bleeding",severity:"urgent",action:"Immediate referral"},{symptom:"Abdominal pain",severity:"warning",action:"Further investigation"},{symptom:"Change in bowel habits",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Dietary advice",description:"Nutritional support",recommendations:["High fiber diet","Hydration","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Abdominal pain",severity:"high"},{symptom:"Weight loss",severity:"medium"}]},prostate:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"PSA test",frequency:"Every 3 months for 2 years"}],"6mo":[{title:"Physical exam",frequency:"Every 6 months"}],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"PSA test",frequency:"Every 6 months",duration:"5 years"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"Bone scan",frequency:"As clinically indicated"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Urinary retention",severity:"urgent",action:"Immediate referral"},{symptom:"Bone pain",severity:"warning",action:"Further investigation"},{symptom:"Weight loss",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Sexual health",description:"Support for sexual health",recommendations:["Counseling","Medications","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Urinary issues",severity:"high"},{symptom:"Erectile dysfunction",severity:"medium"}]},pancreatic:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"CA 19-9",frequency:"Every 3 months",duration:"2 years"},{title:"CT abdomen",frequency:"Every 3-6 months",duration:"2 years"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"CA 19-9",frequency:"Every 3 months",duration:"2 years"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"PET scan",frequency:"As clinically indicated"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Jaundice",severity:"urgent",action:"Immediate referral"},{symptom:"Abdominal pain",severity:"warning",action:"Further investigation"},{symptom:"Weight loss",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Nutritional support",description:"Support for maintaining nutrition",recommendations:["High calorie diet","Enzyme supplements","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Abdominal pain",severity:"high"},{symptom:"Weight loss",severity:"medium"}]},esophageal:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"CT chest/abdomen",frequency:"Every 3-6 months",duration:"2 years"},{title:"Endoscopy",frequency:"Every 6 months",duration:"2 years"}],"6mo":[{title:"Physical exam",frequency:"Every 6 months",duration:"3 years"},{title:"Nutritional assessment",frequency:"Every 6 months"}],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[{title:"Symptom assessment",frequency:"Every 3 months"},{title:"Weight monitoring",frequency:"Every visit"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Progressive dysphagia",severity:"urgent",action:"Immediate evaluation"},{symptom:"Weight loss > 5%",severity:"warning",action:"Early review"}],urgentFlags:[],qolTopics:[{topic:"Nutrition",description:"Managing eating difficulties and maintaining weight",recommendations:["Small frequent meals","Soft diet when needed"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Swallowing difficulty",severity:"high",relatedFlags:["Progressive dysphagia"]}]},bladder:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},headneck:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},ovarian:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},gastric:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},lymphoma:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},melanoma:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},thyroid:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},hepatocellular:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},testicular:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},brain:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},sarcoma:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]}},EX=(e,t)=>{var o;const n=[],s=[];return["intervals","surveillance","redFlags","urgentFlags","qolTopics","commonSymptoms"].forEach(r=>{e[r]||n.push(`Missing required section: ${r}`)}),(o=e.metadata)!=null&&o.version||n.push("Missing template version"),Object.entries(e.intervals).forEach(([r,a])=>{Object.keys(a).length===0&&n.push(`No follow-up intervals defined for ${r} intent`)}),e.commonSymptoms.forEach(r=>{["low","medium","high"].includes(r.severity)||n.push(`Invalid severity for symptom: ${r.symptom}`)}),e.redFlags.forEach(r=>{e.commonSymptoms.some(a=>{var c;return(c=a.relatedFlags)==null?void 0:c.includes(r.symptom)})||s.push(`Red flag "${r.symptom}" not linked to any common symptoms`)}),e.qolTopics.length===0&&n.push("No quality of life topics defined"),{isValid:n.length===0,errors:n,warnings:s}},pf=e=>({"3m":"3 months","6m":"6 months","1y":"1 year"})[e]||e,TX=(e,t,n)=>{const s=DX[e],{isValid:i,errors:o}=EX(s);if(!i)throw console.error(`Template validation failed for ${e}:`,o),new Error("Invalid follow-up template");const r=`${t.t}${t.n}${t.m}`,a=s.stageGuidelines[r],c=[...((a==null?void 0:a.surveillance)||[]).map(d=>({frequency:d.frequency})),...((a==null?void 0:a.imaging)||[]).map(d=>({frequency:d.frequency})),...((a==null?void 0:a.labTests)||[]).map(d=>({frequency:d.frequency}))],u=s.intervals[n]||{};return{timeline:Object.entries(u).map(([d,m])=>({interval:pf(d),actions:m.map(f=>`${f.title} (${pf(f.frequency)})`),guidelines:c.map(f=>pf(f.frequency))})),surveillance:{investigations:s.surveillance.investigations.map(d=>({...d,isDue:!1})),examinations:s.surveillance.examinations.map(d=>({...d,isDue:!1}))},redFlags:s.redFlags.map(d=>d.symptom),urgentFlags:s.urgentFlags.map(d=>d.condition),qolTopics:s.qolTopics,commonSymptoms:s.commonSymptoms}},Ty=1,SX=1e3;class gf extends Error{constructor(t,n,s){super(t),this.statusCode=n,this.details=s,this.name="AIAssistantError"}}const _X=e=>new Promise(t=>setTimeout(t,e));async function kX(e){let t;for(let n=0;n<=Ty;n++)try{n>0&&await _X(SX);const s=await fetch("/api/ai/generate-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const o=await s.json();throw s.status===429?new gf("Rate limit exceeded. Please try again later.",429):new gf(o.error||"Failed to generate summary",s.status,o.details)}return(await s.json()).summary}catch(s){if(console.error(`AI Summary Generation Error (Attempt ${n+1}/${Ty+1}):`,s),t=s,s.statusCode===429||s.statusCode===400)throw s}throw t||new gf("Failed to generate summary after retries")}const MX=({cancerType:e,stage:t,intent:n,plan:s,onInsightsReady:i})=>{const[o,r]=b.useState(!1),[a,c]=b.useState(null),[u,d]=b.useState(null);b.useEffect(()=>{async function f(){if(s){r(!0),c(null),d(null);try{const h=`
Cancer Type: ${e}
Disease Stage: ${t}
Treatment Intent: ${n}

Follow-up Plan:
Timeline: ${s.timeline.map(g=>`${g.interval}: ${g.actions.join(", ")}`).join(`
`)}

Surveillance:
Investigations: ${s.surveillance.investigations.map(g=>g.title).join(", ")}
Examinations: ${s.surveillance.examinations.map(g=>g.title).join(", ")}

Red Flags to Monitor: ${s.redFlags.join(", ")}
Urgent Flags: ${s.urgentFlags.join(", ")}

Quality of Life Topics: ${s.qolTopics.map(g=>g.topic).join(", ")}
Common Symptoms to Monitor: ${s.commonSymptoms.map(g=>g.symptom).join(", ")}
`,p=await kX({prompt:"Review this oncology follow-up plan and provide enhanced recommendations. Consider surveillance frequency, symptom monitoring, quality of life aspects, and potential areas needing closer monitoring. Suggest any additional screenings or monitoring based on current guidelines.",context:h});d(p),i&&i(p),Ar({title:"AI Follow-up Insights",description:p,duration:1e4})}catch(h){console.error("AI Analysis Error:",h),c(h.message||"Failed to analyze follow-up plan"),Ar({title:"AI Analysis Failed",description:"Unable to provide AI insights at this time. Using standard follow-up plan.",variant:"destructive"})}finally{r(!1)}}}f()},[e,t,n,s,i]);const m=()=>{if(!u)return;const f=new Blob([u],{type:"text/markdown"}),h=URL.createObjectURL(f),p=document.createElement("a");p.href=h,p.download=`followup-summary-${e}.md`,p.click(),URL.revokeObjectURL(h)};return o?l.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-indigo-600 dark:text-indigo-300 animate-pulse",children:[l.jsxDEV(ri,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:99,columnNumber:9},void 0),"AI analyzing follow-up plan..."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:98,columnNumber:7},void 0):a?l.jsxDEV("div",{className:"text-sm text-red-600 dark:text-red-400",children:a},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:107,columnNumber:7},void 0):u?l.jsxDEV("div",{className:"mt-2 flex flex-col gap-2",children:[l.jsxDEV("div",{className:"prose prose-sm dark:prose-invert max-w-none border rounded p-2 bg-gray-50 dark:bg-gray-800",children:l.jsxDEV("pre",{className:"whitespace-pre-wrap text-xs",children:u},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:117,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:116,columnNumber:9},void 0),l.jsxDEV(It,{variant:"outline",size:"sm",onClick:m,className:"self-end flex items-center gap-1",title:"Export summary as Markdown",children:[l.jsxDEV(Bl,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:121,columnNumber:11},void 0)," Export Markdown"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:115,columnNumber:7},void 0):null};function CX(e,t){return t in e}function Sy(e,t){return CX(e,t)?e[t]:void 0}const uk=()=>{const[e,t]=b.useState(!1),[n,s]=b.useState(null),[i,o]=b.useState({t:"",n:"",m:""}),[r,a]=b.useState("curative"),[c,u]=b.useState(!1),[d,m]=b.useState(null),[f,h]=b.useState(null);return b.useEffect(()=>{if(n){u(!0);try{const p=TX(n,i,r);m(p)}catch{Ar({title:"Error",description:"Failed to generate follow-up plan. Please try again.",variant:"destructive"})}finally{u(!1)}}},[n,i,r]),l.jsxDEV(st,{children:l.jsxDEV("div",{className:"space-y-6 p-6",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Follow-up Oncology"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:64,columnNumber:11},void 0),l.jsxDEV("button",{onClick:()=>t(!e),className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e?" Mock Mode":" Gemini Mode"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:63,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxDEV(Be.div,{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(uq,{selected:n,onSelect:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:76,columnNumber:11},void 0),n&&!c&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(Be.div,{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(Kt,{className:"dark:bg-gray-900 shadow-lg",children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{children:l.jsxDEV(ho,{children:l.jsxDEV(po,{children:[l.jsxDEV(go,{asChild:!0,children:l.jsxDEV("span",{children:"Diagnostic Timeline"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:100,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:99,columnNumber:27},void 0),l.jsxDEV(Ei,{children:l.jsxDEV("p",{children:"Key milestones in the diagnostic journey"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:103,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:102,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:98,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:97,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:96,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:95,columnNumber:19},void 0),l.jsxDEV(tn,{children:l.jsxDEV(fq,{events:Sy(yX,n)||[]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:110,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:109,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:94,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:89,columnNumber:15},void 0),l.jsxDEV(Be.div,{className:"lg:col-span-2 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(Kt,{className:"dark:bg-gray-900 shadow-lg",children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{children:l.jsxDEV(ho,{children:l.jsxDEV(po,{children:[l.jsxDEV(go,{asChild:!0,children:l.jsxDEV("span",{children:"Performance Score Trends"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:128,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:127,columnNumber:27},void 0),l.jsxDEV(Ei,{children:l.jsxDEV("p",{children:"ECOG and KPS scores over time"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:131,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:130,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:126,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:125,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:124,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:123,columnNumber:19},void 0),l.jsxDEV(tn,{children:l.jsxDEV(xX,{data:Sy(wX,n)||[]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:138,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:137,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:122,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:117,columnNumber:15},void 0),l.jsxDEV(Be.div,{className:"lg:col-span-2 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(Kt,{className:"dark:bg-gray-900 shadow-lg",children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{children:l.jsxDEV(ho,{children:l.jsxDEV(po,{children:[l.jsxDEV(go,{asChild:!0,children:l.jsxDEV("span",{children:"Smart Follow-Up Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:156,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:155,columnNumber:27},void 0),l.jsxDEV(Ei,{children:l.jsxDEV("p",{children:"AI-generated follow-up summary and recommendations"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:159,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:158,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:154,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:153,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:152,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:151,columnNumber:19},void 0),l.jsxDEV(tn,{children:[l.jsxDEV(NX,{cancerType:n,stage:`${i.t}${i.n}${i.m}`,tnmStage:i,diagnosisDate:"2025-04-01",currentECOG:0,currentKPS:90,onGenerate:async()=>{try{return(await rb({module:"OPD",intent:"follow-up",prompt:"Generate a follow-up summary and recommendations",context:`Cancer Type: ${n}
Stage: ${i.t}${i.n}${i.m}
Intent: ${r}`,mockMode:e})).content}catch(p){throw console.error("Error generating AI summary:",p),p}}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:166,columnNumber:21},void 0),l.jsxDEV(MX,{cancerType:n,stage:i,intent:"follow-up",plan:d,onInsightsReady:h},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:189,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:165,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:150,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:145,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:88,columnNumber:13},void 0),c&&l.jsxDEV(Be.div,{className:"flex justify-center items-center p-12",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV("div",{className:"animate-pulse flex space-x-4",children:[l.jsxDEV("div",{className:"h-12 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:209,columnNumber:17},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:211,columnNumber:19},void 0),l.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-32"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:212,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:208,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:203,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:62,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:61,columnNumber:5},void 0)},_y=[{label:"Patient Evaluation",icon:xC,component:yW,card:pW},{label:"Diagnostic Pathways",icon:NC,component:p_,card:gW},{label:"Cancer Screening",icon:yC,component:w_,card:bW},{label:"Referral Guidelines",icon:wC,component:D_,card:vW},{label:"Follow-Up Oncology",icon:DC,component:uk,card:xW}],PX=()=>{const e={age:58,gender:"female",chiefComplaint:"Persistent cough and weight loss",riskFactors:["Smoking history","Family history of lung cancer"]};return l.jsxDEV("div",{children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-800 mb-8 flex items-center gap-2",children:" Oncology OPD Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:68,columnNumber:7},void 0),l.jsxDEV(pt.Group,{children:[l.jsxDEV(pt.List,{className:"flex space-x-2 mb-8",children:_y.map(({label:t,icon:n})=>l.jsxDEV(pt,{className:({selected:s})=>`
                opd-tab flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all
                ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md scale-[1.02]":"bg-white text-gray-700 hover:bg-gray-50 hover:text-indigo-600"}
              `,children:[l.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:86,columnNumber:15},void 0),t]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:75,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:73,columnNumber:9},void 0),l.jsxDEV(pt.Panels,{children:_y.map(({label:t,component:n,card:s})=>l.jsxDEV(pt.Panel,{children:l.jsxDEV(s,{children:[l.jsxDEV(n,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:96,columnNumber:17},void 0),l.jsxDEV(NW,{patientData:e,isEnabled:!0},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:95,columnNumber:15},void 0)},t,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:94,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:92,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:72,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:67,columnNumber:5},void 0)},AX=({children:e})=>l.jsxDEV("div",{className:"opd-module",children:l.jsxDEV("div",{className:"opd-content p-6",children:l.jsxDEV("div",{className:"max-w-5xl mx-auto",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/layout/OPDLayout.tsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/layout/OPDLayout.tsx",lineNumber:11,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/layout/OPDLayout.tsx",lineNumber:10,columnNumber:5},void 0),jX=({template:e,formData:t})=>{const n=e.sections.flatMap((i,o)=>i.items.map((r,a)=>({item:r,id:`section-${o}-item-${a}`}))).filter(({item:i,id:o})=>i.required&&(!t[o]||t[o].trim()==="")),s=n.length===0;return l.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 mb-3",children:"Evaluation Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:27,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[s?l.jsxDEV(ku,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:32,columnNumber:11},void 0):l.jsxDEV(Qe,{className:"w-5 h-5 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:34,columnNumber:11},void 0),l.jsxDEV("span",{className:s?"text-green-700":"text-amber-700",children:s?"All required fields are completed":`${n.length} required field(s) need attention`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:30,columnNumber:7},void 0),!s&&l.jsxDEV("div",{className:"mt-2 pl-7",children:l.jsxDEV("ul",{className:"list-disc text-sm text-amber-700",children:n.map(({item:i,id:o})=>l.jsxDEV("li",{children:i.text},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:48,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:46,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:45,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxDEV(Qe,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:57,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-red-700 font-medium",children:"Red Flag Checks"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:58,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:56,columnNumber:9},void 0),l.jsxDEV("ul",{className:"pl-7 list-disc text-sm text-red-700 space-y-1",children:e.redFlags.map((i,o)=>l.jsxDEV("li",{children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:62,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:26,columnNumber:5},void 0)},IX={breast:{sections:[{title:"Clinical Presentation",items:[{text:"Breast Mass Characteristics",tooltip:"Size, location, mobility, skin changes, nipple changes",required:!0,redFlags:["Skin ulceration","Peau d'orange","Fixed mass"]},{text:"Lymph Node Status",tooltip:"Axillary, supraclavicular, cervical nodes",required:!0}],cancerSpecificNotes:["Document distance from nipple","Check for bilateral findings"]},{title:"Risk Assessment",items:[{text:"Family History",tooltip:"First-degree relatives with breast/ovarian cancer, age at diagnosis",required:!0,redFlags:["Multiple affected relatives","Young age at diagnosis"]},{text:"Genetic Factors",tooltip:"Known BRCA status, other genetic syndromes",required:!1}]}],notes:["Consider mammogram  ultrasound for imaging","Assess BIRADS category if imaging available","Consider genetic counseling if strong family history"],redFlags:["Inflammatory breast cancer signs","Nipple discharge/retraction","Axillary lymphadenopathy"]},lung:{sections:[{title:"Respiratory Symptoms",items:[{text:"Cough Characteristics",tooltip:"Duration, type, hemoptysis",required:!0,redFlags:["Hemoptysis","Stridor"]},{text:"Systemic Symptoms",tooltip:"Weight loss, fatigue, chest pain",required:!0}],cancerSpecificNotes:["Quantify pack-years if smoker","Note occupational exposures"]},{title:"Metastatic Symptoms",items:[{text:"Neurological Symptoms",tooltip:"Headache, weakness, confusion",required:!0,redFlags:["New neurological symptoms","Severe headache"]},{text:"Bone Pain",tooltip:"Location, severity, duration",required:!0}]}],notes:["Order chest CT if suspicious","Consider PET-CT for staging","Assess smoking cessation support needs"],redFlags:["Superior vena cava syndrome","Severe dyspnea","Significant hemoptysis"]},prostate:{sections:[{title:"Urinary Symptoms",items:[{text:"LUTS Assessment",tooltip:"Frequency, urgency, nocturia, stream",required:!0,redFlags:["Acute retention","Severe urinary symptoms"]},{text:"Obstructive Symptoms",tooltip:"Hesitancy, poor stream, retention",required:!0,redFlags:["Complete obstruction"]}],cancerSpecificNotes:["Document IPSS score","Record voiding diary findings"]},{title:"Physical Examination",items:[{text:"Digital Rectal Examination",tooltip:"Size, consistency, nodules, tenderness",required:!0,redFlags:["Hard nodular prostate","Fixed mass"]}]},{title:"Metastatic Assessment",items:[{text:"Bone Pain",tooltip:"Location, severity, duration",required:!0,redFlags:["Severe back pain","Pathological fracture risk"]},{text:"Neurological Symptoms",tooltip:"Lower limb weakness, sensory changes",required:!0,redFlags:["Cord compression symptoms"]}]}],notes:["Check PSA level","Consider bone scan if indicated","Family history documentation essential","Consider hereditary cancer syndromes"],redFlags:["Spinal cord compression","Urinary retention","Rapidly rising PSA","Pathological fracture risk"]},lymphoma:{sections:[{title:"Lymphadenopathy Assessment",items:[{text:"Node Characteristics",tooltip:"Size, location, consistency, mobility",required:!0,redFlags:["Rapid enlargement","Rock-hard nodes"]},{text:"Distribution Pattern",tooltip:"Document all involved sites systematically",required:!0}],cancerSpecificNotes:["Map out all involved nodes","Compare with previous examinations"]},{title:"B Symptoms",items:[{text:"Fever Pattern",tooltip:"Document temperature, duration, pattern",required:!0},{text:"Night Sweats",tooltip:"Severity, frequency, impact on daily life",required:!0},{text:"Weight Loss",tooltip:"Amount, duration, associated symptoms",required:!0,redFlags:[">10% in 6 months"]}]},{title:"Systemic Examination",items:[{text:"Hepatosplenomegaly",tooltip:"Size, tenderness, associated symptoms",required:!0},{text:"Extra-nodal Involvement",tooltip:"Skin lesions, bone pain, CNS symptoms",required:!0,redFlags:["CNS involvement","Airway compromise"]}]}],notes:["Document performance status","Consider PET-CT staging","Plan for bone marrow assessment","Check EBV status in young patients"],redFlags:["Superior vena cava syndrome","Airway compromise","CNS involvement","Significant B symptoms"]},colon:{sections:[{title:"Gastrointestinal Symptoms",items:[{text:"Bowel Habits",tooltip:"Changes in frequency, caliber, blood in stool",required:!0,redFlags:["Rectal bleeding","Severe constipation"]},{text:"Abdominal Symptoms",tooltip:"Pain, distention, mass",required:!0}],cancerSpecificNotes:["Document Bristol stool scale","Note any screening history"]},{title:"Risk Assessment",items:[{text:"Family History",tooltip:"History of colorectal cancer or polyps",required:!0},{text:"Lynch Syndrome Screening",tooltip:"Family history of associated cancers",required:!1}]}],notes:["Check hemoglobin level","Consider colonoscopy referral","Assess for Lynch syndrome criteria"],redFlags:["Bowel obstruction","Significant weight loss","Iron deficiency anemia"]},ovarian:{sections:[{title:"Symptoms & History",items:[{text:"Abdominal/Pelvic Symptoms",tooltip:"Bloating, early satiety, abdominal pain",required:!0,redFlags:["Rapidly increasing abdominal girth","Severe pain"]},{text:"Menstrual History",tooltip:"Pattern changes, irregular bleeding",required:!0,redFlags:["Post-menopausal bleeding"]},{text:"Constitutional Symptoms",tooltip:"Weight loss, fatigue, appetite changes",required:!0}],cancerSpecificNotes:["Document family history of ovarian/breast cancer","Check BRCA status if applicable"]},{title:"Physical Examination",items:[{text:"Abdominal Assessment",tooltip:"Ascites, masses, organomegaly",required:!0,redFlags:["Fixed pelvic mass","Omental cake"]},{text:"Pelvic Examination",tooltip:"Adnexal masses, tenderness",required:!0}]}],notes:["Check CA-125 if postmenopausal","Consider CT abdomen/pelvis","Consider genetic counseling referral"],redFlags:["Fixed pelvic mass","Rapidly growing abdominal distention","Significant ascites"]},gastric:{sections:[{title:"Upper GI Symptoms",items:[{text:"Epigastric Symptoms",tooltip:"Pain pattern, relation to food, duration",required:!0,redFlags:["Persistent pain","Progressive dysphagia"]},{text:"Eating Difficulties",tooltip:"Loss of appetite, early satiety, weight loss",required:!0,redFlags:["Significant weight loss","Complete dysphagia"]},{text:"GI Bleeding Signs",tooltip:"Hematemesis, melena, chronic blood loss",required:!0,redFlags:["Active bleeding","Severe anemia"]}],cancerSpecificNotes:["Note H. pylori status if known","Document family history"]}],notes:["Check for Virchow's node","Consider urgent gastroscopy","Check H. pylori status"],redFlags:["Persistent vomiting","Gastrointestinal bleeding","Severe weight loss","Iron deficiency anemia"]},"head-and-neck":{sections:[{title:"ENT Symptoms",items:[{text:"Voice Changes",tooltip:"Hoarseness, duration, progression",required:!0,redFlags:["Progressive hoarseness","Stridor"]},{text:"Swallowing Issues",tooltip:"Dysphagia pattern, odynophagia",required:!0,redFlags:["Complete dysphagia","Aspiration"]},{text:"Neck Masses",tooltip:"Location, size, duration, mobility",required:!0,redFlags:["Rapidly growing mass","Fixed mass"]}],cancerSpecificNotes:["Document smoking/alcohol history","Note occupational exposures"]},{title:"Physical Examination",items:[{text:"Oral Cavity Exam",tooltip:"Mucosal lesions, ulcers, masses",required:!0,redFlags:["Non-healing ulcers","Bleeding lesions"]},{text:"Neck Examination",tooltip:"Systematic lymph node assessment",required:!0,redFlags:["Fixed nodes","Multiple levels involved"]}]}],notes:["Complete head and neck exam essential","Consider nasendoscopy if indicated","Document risk factors carefully"],redFlags:["Stridor or airway compromise","Unilateral ear pain","Progressive dysphagia","Cranial nerve involvement"]}},RX=({id:e,label:t,tooltip:n,required:s=!1,value:i,onChange:o,error:r=!1,redFlags:a=[],rows:c=3,inputClassName:u})=>{const d={};return s&&(d["aria-required"]="true"),r&&(d["aria-invalid"]="true"),l.jsxDEV("div",{children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:l.jsxDEV("label",{htmlFor:e,className:"text-sm font-medium text-gray-900",children:[t,s&&l.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:46,columnNumber:24},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:41,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:40,columnNumber:7},void 0),l.jsxDEV("textarea",{id:e,value:i,onChange:m=>o(m.target.value),placeholder:n,rows:c,className:`w-full p-2 border rounded-md focus:ring-2 focus:ring-indigo-500 ${r?"border-red-300 bg-red-50":""} ${u||""}`,required:s,...d},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:49,columnNumber:7},void 0),a.length>0&&l.jsxDEV("div",{className:"mt-1 text-sm text-red-600",children:["Monitor for: ",a.join(", ")]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:39,columnNumber:5},void 0)},bf=({children:e,variant:t="primary",size:n="md",isLoading:s=!1,disabled:i=!1,icon:o,fullWidth:r=!1,className:a="",...c})=>{const u="rounded-md inline-flex items-center justify-center transition-colors font-medium",d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},m={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 shadow-sm",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 shadow-sm"},f=i||s?"opacity-70 cursor-not-allowed":"",h=r?"w-full":"",p=[u,d[n],m[t],f,h,a].join(" ");return l.jsxDEV("button",{className:p,disabled:i||s,...c,children:[s&&l.jsxDEV(ri,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/Button.tsx",lineNumber:65,columnNumber:9},void 0),!s&&o&&l.jsxDEV("span",{className:"mr-2",children:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/Button.tsx",lineNumber:68,columnNumber:9},void 0),e]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/Button.tsx",lineNumber:59,columnNumber:5},void 0)},dk=b.createContext(void 0),VX=()=>{const e=b.useContext(dk);if(!e)throw new Error("useEvaluation must be used within an EvaluationProvider");return e},OX=({children:e})=>{const[t,n]=b.useState({}),[s,i]=b.useState(""),[o,r]=b.useState(!1),[a,c]=b.useState(null),[u,d]=b.useState(!1),m=b.useCallback((p,g)=>{n(v=>({...v,[p]:g})),u&&d(!1),a&&c(null)},[u,a]),f=b.useCallback(()=>{window.confirm("Are you sure you want to clear all form data?")&&(n({}),c(null),d(!1))},[]),h={formData:t,updateFormField:m,clearFormData:f,selectedCancerType:s,setSelectedCancerType:i,isFormSubmitting:o,setIsFormSubmitting:r,formError:a,setFormError:c,formSuccess:u,setFormSuccess:d};return l.jsxDEV(dk.Provider,{value:h,children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/context/EvaluationContext.tsx",lineNumber:70,columnNumber:5},void 0)},LX="modulepreload",FX=function(e){return"/"+e},ky={},cs=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){let r=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=r(n.map(u=>{if(u=FX(u),u in ky)return;ky[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":LX,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return i.then(r=>{for(const a of r||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},BX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cs(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class wb extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class HX extends wb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class UX extends wb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $X extends wb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var op;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(op||(op={}));var zX=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};class WX{constructor(t,{headers:n={},customFetch:s,region:i=op.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=BX(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return zX(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:r}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=r):typeof r=="string"?(a["Content-Type"]="text/plain",u=r):typeof FormData<"u"&&r instanceof FormData?u=r:(a["Content-Type"]="application/json",u=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(p=>{throw new HX(p)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new UX(d);if(!d.ok)throw new $X(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield d.json():f==="application/octet-stream"?h=yield d.blob():f==="text/event-stream"?h=d:f==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var Ot={},qo={},Go={},Yo={},Ko={},Xo={},qX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vr=qX();const GX=Vr.fetch,mk=Vr.fetch.bind(Vr),fk=Vr.Headers,YX=Vr.Request,KX=Vr.Response,sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:fk,Request:YX,Response:KX,default:mk,fetch:GX},Symbol.toStringTag,{value:"Module"})),XX=J2(sa);var Jc={},My;function hk(){if(My)return Jc;My=1,Object.defineProperty(Jc,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Jc.default=e,Jc}var Cy;function pk(){if(Cy)return Xo;Cy=1;var e=Xo&&Xo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xo,"__esModule",{value:!0});const t=e(XX),n=e(hk());class s{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,r){return this.headers=Object.assign({},this.headers),this.headers[o]=r,this}then(o,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,m,f;let h=null,p=null,g=null,v=u.status,x=u.statusText;if(u.ok){if(this.method!=="HEAD"){const w=await u.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=w:p=JSON.parse(w))}const N=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),D=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&D&&D.length>1&&(g=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,v=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const N=await u.text();try{h=JSON.parse(N),Array.isArray(h)&&u.status===404&&(p=[],h=null,v=200,x="OK")}catch{u.status===404&&N===""?(v=204,x="No Content"):h={message:N}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,x="OK"),h&&this.shouldThrowOnError)throw new n.default(h)}return{error:h,data:p,count:g,status:v,statusText:x}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,m,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(m=u==null?void 0:u.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,r)}returns(){return this}overrideTypes(){return this}}return Xo.default=s,Xo}var Py;function gk(){if(Py)return Ko;Py=1;var e=Ko&&Ko.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ko,"__esModule",{value:!0});const t=e(pk());class n extends t.default{select(i){let o=!1;const r=(i??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:o=!0,nullsFirst:r,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${o?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:r=o}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,o,{foreignTable:r,referencedTable:a=r}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:o=!1,settings:r=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const m=[i?"analyze":null,o?"verbose":null,r?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${m};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ko.default=n,Ko}var Ay;function Db(){if(Ay)return Yo;Ay=1;var e=Yo&&Yo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yo,"__esModule",{value:!0});const t=e(gk());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const r=Array.from(new Set(o)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:r,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${c}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,r])=>{this.url.searchParams.append(o,`eq.${r}`)}),this}not(i,o,r){return this.url.searchParams.append(i,`not.${o}.${r}`),this}or(i,{foreignTable:o,referencedTable:r=o}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,o,r){return this.url.searchParams.append(i,`${o}.${r}`),this}}return Yo.default=n,Yo}var jy;function bk(){if(jy)return Go;jy=1;var e=Go&&Go.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Go,"__esModule",{value:!0});const t=e(Db());class n{constructor(i,{headers:o={},schema:r,fetch:a}){this.url=i,this.headers=o,this.schema=r,this.fetch=a}select(i,{head:o=!1,count:r}={}){const a=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:o,defaultToNull:r=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),r||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){const d=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:o,ignoreDuplicates:r=!1,count:a,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${r?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const m=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(m.length>0){const f=[...new Set(m)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:o}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),this.headers.Prefer=a.join(","),new t.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const o="DELETE",r=[];return i&&r.push(`count=${i}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Go.default=n,Go}var ka={},Ma={},Iy;function JX(){return Iy||(Iy=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.version=void 0,Ma.version="0.0.0-automated"),Ma}var Ry;function QX(){if(Ry)return ka;Ry=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.DEFAULT_HEADERS=void 0;const e=JX();return ka.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ka}var Vy;function ZX(){if(Vy)return qo;Vy=1;var e=qo&&qo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qo,"__esModule",{value:!0});const t=e(bk()),n=e(Db()),s=QX();class i{constructor(r,{headers:a={},schema:c,fetch:u}={}){this.url=r,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=u}from(r){const a=new URL(`${this.url}/${r}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new i(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,a={},{head:c=!1,get:u=!1,count:d}={}){let m;const f=new URL(`${this.url}/rpc/${r}`);let h;c||u?(m=c?"HEAD":"GET",Object.entries(a).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(m="POST",h=a);const p=Object.assign({},this.headers);return d&&(p.Prefer=`count=${d}`),new n.default({method:m,url:f,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return qo.default=i,qo}var Oy;function eJ(){if(Oy)return Ot;Oy=1;var e=Ot&&Ot.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const t=e(ZX());Ot.PostgrestClient=t.default;const n=e(bk());Ot.PostgrestQueryBuilder=n.default;const s=e(Db());Ot.PostgrestFilterBuilder=s.default;const i=e(gk());Ot.PostgrestTransformBuilder=i.default;const o=e(pk());Ot.PostgrestBuilder=o.default;const r=e(hk());return Ot.PostgrestError=r.default,Ot.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:r.default},Ot}var tJ=eJ();const nJ=Lr(tJ),{PostgrestClient:sJ,PostgrestQueryBuilder:Yse,PostgrestFilterBuilder:Kse,PostgrestTransformBuilder:Xse,PostgrestBuilder:Jse,PostgrestError:Qse}=nJ,iJ="2.11.2",oJ={"X-Client-Info":`realtime-js/${iJ}`},rJ="1.0.0",vk=1e4,aJ=1e3;var yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yr||(yr={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var ts;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ts||(ts={}));var rp;(function(e){e.websocket="websocket"})(rp||(rp={}));var to;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(to||(to={}));class lJ{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),o=n.getUint8(2);let r=this.HEADER_LENGTH+2;const a=s.decode(t.slice(r,r+i));r=r+i;const c=s.decode(t.slice(r,r+o));r=r+o;const u=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class xk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const Ly=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((o,r)=>(o[r]=cJ(r,e,t,i),o),{})},cJ=(e,t,n,s)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,r=n[e];return o&&!s.includes(o)?Nk(o,r):ap(r)},Nk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return fJ(t,n)}switch(e){case lt.bool:return uJ(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return dJ(t);case lt.json:case lt.jsonb:return mJ(t);case lt.timestamp:return hJ(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return ap(t);default:return ap(t)}},ap=e=>e,uJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dJ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mJ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fJ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let o;const r=e.slice(1,n);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(a=>Nk(t,a))}return e},hJ=e=>typeof e=="string"?e.replace(" ","T"):e,yk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class vf{constructor(t,n,s={},i=vk){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fy||(Fy={}));class dl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dl.syncState(this.state,i,o,r),this.pendingDiffs.forEach(c=>{this.state=dl.syncDiff(this.state,c,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=dl.syncDiff(this.state,i,o,r),a())}),this.onJoin((i,o,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:r})}),this.onLeave((i,o,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const o=this.cloneDeep(t),r=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{r[u]||(c[u]=d)}),this.map(r,(u,d)=>{const m=o[u];if(m){const f=d.map(v=>v.presence_ref),h=m.map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0),g=m.filter(v=>f.indexOf(v.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:o,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const m=t[a].map(h=>h.presence_ref),f=d.filter(h=>m.indexOf(h.presence_ref)<0);t[a].unshift(...f)}s(a,d,c)}),this.map(r,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[a]=u,i(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var By;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(By||(By={}));var Hy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hy||(Hy={}));var Gs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gs||(Gs={}));class Eb{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vf(this,ts.join,this.params,this.timeout),this.rejoinTimer=new xk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ts.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new dl(this),this.broadcastEndpointURL=yk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Gs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Gs.CLOSED));const c={},u={broadcast:o,presence:r,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){t==null||t(Gs.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(m=f==null?void 0:f.length)!==null&&m!==void 0?m:0,p=[];for(let g=0;g<h;g++){const v=f[g],{filter:{event:x,schema:E,table:N,filter:D}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===E&&w.table===N&&w.filter===D)p.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),t==null||t(Gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Gs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:r}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ts.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new vf(this,ts.leave,{},t);i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const i=new AbortController,o=setTimeout(()=>i.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),r}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vf(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,o;const r=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=ts;if(s&&[a,c,u,d].indexOf(r)>=0&&s!==this._joinRef())return;let f=this._onMessage(r,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,g,v;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===r}).map(h=>h.callback(f,s)):(o=this.bindings[r])===null||o===void 0||o.filter(h=>{var p,g,v,x,E,N;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in h){const D=h.id,w=(p=h.filter)===null||p===void 0?void 0:p.event;return D&&((g=n.ids)===null||g===void 0?void 0:g.includes(D))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const D=(E=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return D==="*"||D===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===r}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:v,commit_timestamp:x,type:E,errors:N}=p;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:E,new:{},old:{},errors:N}),this._getPayloadRecords(p))}h.callback(f,s)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Eb.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ts.close,{},t)}_onError(t){this._on(ts.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ly(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ly(t.columns,t.old_record)),n}}const pJ=()=>{},gJ=typeof WebSocket<"u",bJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vJ{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oJ,this.params={},this.timeout=vk,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pJ,this.conn=null,this.sendBuffer=[],this.serializer=new lJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>cs(async()=>{const{default:c}=await Promise.resolve().then(()=>sa);return{default:c}},void 0).then(({default:c})=>c(...a)):r=fetch,(...a)=>r(...a)},this.endPoint=`${t}/${rp.websocket}`,this.httpEndpoint=yk(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,r)=>r(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gJ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xJ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),cs(async()=>{const{default:t}=await import("./browser-DncY6Ibi.js").then(n=>n.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rJ}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return to.Connecting;case yr.open:return to.Open;case yr.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}channel(t,n={config:{}}){const s=new Eb(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:i,ref:o}=t,r=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${s} (${o})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(ts.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(aJ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:o,ref:r}=n;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${s} ${i} ${r&&"("+r+")"||""}`,o),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(i,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ts.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([bJ],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class xJ{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Tb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class NJ extends Tb{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lp extends Tb{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var yJ=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const wk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cs(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},wJ=()=>yJ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>sa),void 0)).Response:Response}),cp=e=>{if(Array.isArray(e))return e.map(n=>cp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=cp(s)}),t};var Io=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const xf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DJ=(e,t,n)=>Io(void 0,void 0,void 0,function*(){const s=yield wJ();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new NJ(xf(i),e.status||500))}).catch(i=>{t(new lp(xf(i),i))}):t(new lp(xf(e),e))}),EJ=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function rc(e,t,n,s,i,o){return Io(this,void 0,void 0,function*(){return new Promise((r,a)=>{e(n,EJ(t,s,i,o)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>r(c)).catch(c=>DJ(c,a,s))})})}function ed(e,t,n,s){return Io(this,void 0,void 0,function*(){return rc(e,"GET",t,n,s)})}function vi(e,t,n,s,i){return Io(this,void 0,void 0,function*(){return rc(e,"POST",t,s,i,n)})}function TJ(e,t,n,s,i){return Io(this,void 0,void 0,function*(){return rc(e,"PUT",t,s,i,n)})}function SJ(e,t,n,s){return Io(this,void 0,void 0,function*(){return rc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Dk(e,t,n,s,i){return Io(this,void 0,void 0,function*(){return rc(e,"DELETE",t,s,i,n)})}var Nn=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const _J={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kJ{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=wk(i)}uploadOrUpdate(t,n,s,i){return Nn(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},Uy),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const c=r.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",r.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=s,a["cache-control"]=`max-age=${r.cacheControl}`,a["content-type"]=r.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),m=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield m.json();return m.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Ft(o))return{data:null,error:o};throw o}})}upload(t,n,s){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Nn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),r=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${r}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Uy.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),f=yield m.json();return m.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Nn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield vi(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new Tb("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:a},error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}update(t,n,s){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Nn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Nn(this,void 0,void 0,function*(){try{return{data:{path:(yield vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield vi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${r}`)},{data:o,error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Nn(this,void 0,void 0,function*(){try{const i=yield vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${o}`):null})),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}download(t,n){return Nn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ed(this.fetch,`${this.url}/${i}/${a}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}info(t){return Nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield ed(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cp(s),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}exists(t){return Nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield SJ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ft(s)&&s instanceof lp){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield Dk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}list(t,n,s){return Nn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_J),n),{prefix:t||""});return{data:yield vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const MJ="2.7.1",CJ={"X-Client-Info":`storage-js/${MJ}`};var Jo=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};class PJ{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},CJ),n),this.fetch=wk(s)}listBuckets(){return Jo(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jo(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Jo(this,void 0,void 0,function*(){try{return{data:yield TJ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield Dk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}}class AJ extends PJ{constructor(t,n={},s){super(t,n,s)}from(t){return new kJ(this.url,this.headers,t,this.fetch)}}const jJ="2.49.8";let Ua="";typeof Deno<"u"?Ua="deno":typeof document<"u"?Ua="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ua="react-native":Ua="node";const IJ={"X-Client-Info":`supabase-js-${Ua}/${jJ}`},RJ={headers:IJ},VJ={schema:"public"},OJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LJ={};var FJ=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const BJ=e=>{let t;return e?t=e:typeof fetch>"u"?t=mk:t=fetch,(...n)=>t(...n)},HJ=()=>typeof Headers>"u"?fk:Headers,UJ=(e,t,n)=>{const s=BJ(n),i=HJ();return(o,r)=>FJ(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(o,Object.assign(Object.assign({},r),{headers:u}))})};var $J=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};function zJ(e){return e.endsWith("/")?e:e+"/"}function WJ(e,t){var n,s;const{db:i,auth:o,realtime:r,global:a}=e,{db:c,auth:u,realtime:d,global:m}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},m),a),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>$J(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ek="2.69.1",ar=30*1e3,up=3,Nf=up*ar,qJ="http://localhost:9999",GJ="supabase.auth.token",YJ={"X-Client-Info":`gotrue-js/${Ek}`},dp="X-Supabase-Api-Version",Tk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XJ=6e5;class Sb extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JJ extends Sb{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function QJ(e){return Oe(e)&&e.name==="AuthApiError"}class Sk extends Sb{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Oi extends Sb{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class pi extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZJ(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class yf extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qc extends Oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zc extends Oi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eQ(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class $y extends Oi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mp extends Oi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function wf(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class zy extends Oi{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ml extends Oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qy=` 	
\r=`.split(""),tQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qy.length;t+=1)e[qy[t].charCodeAt(0)]=-2;for(let t=0;t<Wy.length;t+=1)e[Wy[t].charCodeAt(0)]=t;return e})();function _k(e,t,n){const s=tQ[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gy(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=r=>{iQ(r,s,n)};for(let r=0;r<e.length;r+=1)_k(e.charCodeAt(r),i,o);return t.join("")}function nQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sQ(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}nQ(s,t)}}function iQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function oQ(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)_k(e.charCodeAt(i),n,s);return new Uint8Array(t)}function rQ(e){const t=[];return sQ(e,n=>t.push(n)),new Uint8Array(t)}function aQ(e){return Math.round(Date.now()/1e3)+e}function lQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vs=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},fl=()=>{if(!vs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function cQ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const kk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cs(async()=>{const{default:s}=await Promise.resolve().then(()=>sa);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},uQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mk=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},eu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tu=async(e,t)=>{await e.removeItem(t)};class Wd{constructor(){this.promise=new Wd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wd.promiseConstructor=Promise;function Df(e){const t=e.split(".");if(t.length!==3)throw new ml("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!KJ.test(t[s]))throw new ml("JWT not in base64url format");return{header:JSON.parse(Gy(t[0])),payload:JSON.parse(Gy(t[1])),signature:oQ(t[2]),raw:{header:t[0],payload:t[1]}}}async function dQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mQ(e,t){return new Promise((s,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await e(o);if(!t(o,null,r)){s(r);return}}catch(r){if(!t(o,r)){i(r);return}}})()})}function fQ(e){return("0"+e.toString(16)).substr(-2)}function hQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,fQ).join("")}async function pQ(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function gQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qo(e,t,n=!1){const s=hQ();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Mk(e,`${t}-code-verifier`,i);const o=await gQ(s);return[o,s===o?"plain":"s256"]}const bQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vQ(e){const t=e.headers.get(dp);if(!t||!t.match(bQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function NQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var yQ=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const Zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wQ=[502,503,504];async function Yy(e){var t;if(!uQ(e))throw new mp(Zi(e),0);if(wQ.includes(e.status))throw new mp(Zi(e),e.status);let n;try{n=await e.json()}catch(o){throw new Sk(Zi(o),o)}let s;const i=vQ(e);if(i&&i.getTime()>=Tk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new zy(Zi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new zy(Zi(n),e.status,n.weak_password.reasons);throw new JJ(Zi(n),e.status||500,s)}const DQ=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Ge(e,t,n,s){var i;const o=Object.assign({},s==null?void 0:s.headers);o[dp]||(o[dp]=Tk["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const r=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",c=await EQ(e,t,n+a,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function EQ(e,t,n,s,i,o){const r=DQ(t,s,i,o);let a;try{a=await e(n,Object.assign({},r))}catch(c){throw console.error(c),new mp(Zi(c),0)}if(a.ok||await Yy(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(c){await Yy(c)}}function gi(e){var t;let n=null;kQ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aQ(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Ky(e){const t=gi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TQ(e){return{data:e,error:null}}function SQ(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:o}=e,r=yQ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:o},c=Object.assign({},r);return{data:{properties:a,user:c},error:null}}function _Q(e){return e}function kQ(e){return e.access_token&&e.refresh_token&&e.expires_in}var MQ=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class CQ{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=kk(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ni})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=MQ(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SQ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ni})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,o,r,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:_Q});if(d.error)throw d.error;const m=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,h=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ni})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ni})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ni})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}const PQ={getItem:e=>fl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fl()&&globalThis.localStorage.removeItem(e)}};function Xy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function AQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zo={debug:!!(globalThis&&fl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ck extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jQ extends Ck{}async function IQ(e,t,n){Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}AQ();const RQ={url:qJ,storageKey:GJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jy(e,t,n){return await n()}class Fl{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&vs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},RQ),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kk(i.fetch),this.lock=i.lock||Jy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=IQ:this.lock=Jy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:fl()?this.storage=PQ:(this.memoryStorage={},this.storage=Xy(this.memoryStorage)):(this.memoryStorage={},this.storage=Xy(this.memoryStorage)),vs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ek}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=cQ(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),vs()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),eQ(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?{error:n}:{error:new Sk("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gi}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,s,i;try{let o;if("email"in t){const{email:d,password:m,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Qo(this.storage,this.storageKey)),o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:gi})}else if("phone"in t){const{phone:d,password:m,options:f}=t;o=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gi})}else throw new Qc("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:r,options:a}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ky})}else if("phone"in t){const{phone:o,password:r,options:a}=t;n=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ky})}else throw new Qc("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new yf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await eu(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:o,error:r}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:gi});if(await tu(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new yf}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:r})}catch(o){if(Oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:o,nonce:r}=t,a=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gi}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new yf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,o,r;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Qo(this.storage,this.storageKey));const{error:m}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(r=c==null?void 0:c.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qc("You must provide either an email or phone number.")}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:a}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:gi});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const c=r.session,u=r.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await Qo(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:TQ})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new pi;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:o}=t,{error:r}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:i,options:o}=t,{data:r,error:a}=await Ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new Qc("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await eu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Nf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!r&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ni}):await this._useSession(async n=>{var s,i,o;const{data:r,error:a}=n;if(a)throw a;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pi}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ni})})}catch(n){if(Oe(n))return ZJ(n)&&(await this._removeSession(),await tu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:o}=s;if(o)throw o;if(!i.session)throw new pi;const r=i.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Qo(this.storage,this.storageKey));const{data:u,error:d}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:r.access_token,xform:Ni});if(d)throw d;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pi;const n=Date.now()/1e3;let s=n,i=!0,o=null;const{payload:r}=Df(t.access_token);if(r.exp&&(s=r.exp,i=s<=n),i){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:r,error:a}=n;if(a)throw a;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new pi;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!vs())throw new Zc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $y("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $y("No code detected.");const{data:E,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:o,refresh_token:r,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!r||!u)throw new Zc("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(a);let f=d+m;c&&(f=parseInt(c));const h=f-d;h*1e3<=ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${m}s`);const p=f-m;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:g,error:v}=await this._getUser(o);if(v)throw v;const x={provider_token:s,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:f,refresh_token:r,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(s){if(Oe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await eu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:o}=n;if(o)return{error:o};const r=(s=i.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:a}=await this.admin.signOut(r,t);if(a&&!(QJ(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await tu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=lQ(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:o},error:r}=n;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Qo(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async o=>{var r,a,c,u,d;const{data:m,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return vs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Oe(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:o,error:r}=n;if(r)throw r;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await mQ(async i=>(i>0&&await dQ(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gi})),(i,o)=>{const r=200*Math.pow(2,i);return o&&wf(o)&&Date.now()+r-s<ar})}catch(s){if(this._debug(n,"error",s),Oe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),vs()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await eu(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Nf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),wf(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wd;const{data:o,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!o.session)throw new pi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),Oe(o)){const r={session:null,error:o};return wf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Mk(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await tu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ar}ms, refresh threshold is ${up} ticks`),i<=up&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ck)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,r]=await Qo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);i.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:o}=n;return o?{data:null,error:o}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:o,error:r}=n;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:r,error:a}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:o}=n;return o?{data:null,error:o}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Df(i.access_token);let a=null;r.aal&&(a=r.aal);let c=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=r.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(r=>r.kid===t);if(s||(s=this.jwks.keys.find(r=>r.kid===t),s&&this.jwks_cached_at+XJ>Date.now()))return s;const{data:i,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new ml("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),s=i.keys.find(r=>r.kid===t),!s)throw new ml("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};s=h.session.access_token}const{header:i,payload:o,signature:r,raw:{header:a,payload:c}}=Df(s);if(xQ(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(s);if(h)throw h;return{data:{claims:o,header:i,signature:r},error:null}}const u=NQ(i.alg),d=await this.fetchJwk(i.kid,n),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,r,rQ(`${a}.${c}`)))throw new ml("Invalid JWT signature");return{data:{claims:o,header:i,signature:r},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}}Fl.nextInstanceID=0;const VQ=Fl;class OQ extends VQ{constructor(t){super(t)}}var LQ=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};class FQ{constructor(t,n,s){var i,o,r;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=zJ(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:VJ,realtime:LJ,auth:Object.assign(Object.assign({},OJ),{storageKey:u}),global:RJ},m=WJ(s??{},d);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=m.auth)!==null&&r!==void 0?r:{},this.headers,m.global.fetch),this.fetch=UJ(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new sJ(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new WX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AJ(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return LQ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:o,flowType:r,lock:a,debug:c},u,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:r,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new vJ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BQ=(e,t,n)=>new FQ(e,t,n),HQ="https://hdrsfyljgabmxwxmpbix.supabase.co",UQ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcnNmeWxqZ2FibXh3eG1wYml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwNjc5NDAsImV4cCI6MjA1NzY0Mzk0MH0.VPnBZfe-BFSZ3L-YyWJUHYZz4fwt7uyY57KWYYAa3C4";let Ef=null;const $Q=()=>{if(!Ef)try{Ef=BQ(HQ,UQ,{auth:{detectSessionInUrl:!0,persistSession:!0,autoRefreshToken:!0}}),console.info(" Supabase client initialized")}catch(e){throw console.error(" Failed to create Supabase client:",e),new Error("Failed to initialize Supabase client")}return Ef},Ro=$Q();class zQ extends Error{constructor(t){super(t),this.name="APIError"}}async function WQ(e){const{error:t}=await Ro.from("patient_evaluations").insert([{cancer_type:e.cancerType,form_data:e.formData,timestamp:e.timestamp}]);if(t)throw console.error("Failed to save patient evaluation:",t),new zQ(t.message)}const qQ=({steps:e,currentStep:t})=>l.jsxDEV("nav",{"aria-label":"Progress",className:"mb-8",children:l.jsxDEV("ol",{className:"flex items-center",children:e.map((n,s)=>l.jsxDEV("li",{className:`relative ${s!==e.length-1?"flex-1":""}`,children:[n.status==="complete"?l.jsxDEV(Be.div,{className:"group",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:l.jsxDEV("span",{className:"flex items-center",children:[l.jsxDEV("span",{className:"relative flex h-8 w-8 items-center justify-center rounded-full bg-indigo-600",children:l.jsxDEV(ji,{className:"h-5 w-5 text-white","aria-hidden":"true"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:32,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:31,columnNumber:19},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-gray-900",children:n.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:34,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:30,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:24,columnNumber:15},void 0):n.status==="current"?l.jsxDEV(Be.div,{className:"flex items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[l.jsxDEV("span",{className:"relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-indigo-600",children:l.jsxDEV("span",{className:"h-2.5 w-2.5 rounded-full bg-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:45,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:44,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-indigo-600",children:n.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:47,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:38,columnNumber:15},void 0):l.jsxDEV("div",{className:"flex items-center",children:[l.jsxDEV("div",{className:"relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-gray-300",children:l.jsxDEV("span",{className:"h-2.5 w-2.5 rounded-full bg-transparent"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:52,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:51,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-gray-500",children:n.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:50,columnNumber:15},void 0),s!==e.length-1&&l.jsxDEV(l.Fragment,{children:l.jsxDEV("div",{className:"absolute left-4 top-4 -ml-px mt-0.5 h-0.5 w-full bg-gray-300",children:l.jsxDEV("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:n.status==="complete"?"100%":"0%"}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:62,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:61,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:59,columnNumber:15},void 0)]},n.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:22,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:20,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:19,columnNumber:5},void 0),Qy={"Chief Complaint":["Consider duration and pattern of symptoms","Note any associated symptoms","Document severity and impact on daily life"],"History of Present Illness":["Include timeline of symptom progression","Note previous treatments and responses","Document diagnostic tests already done"],"Physical Examination":["Always document ECOG/PS score","Note lymph node regions systematically","Document any B symptoms","Consider paraneoplastic manifestations"],"Performance Status":["Patients with ECOG 2 may need early palliative consult","Document any recent changes in performance","Consider impact on treatment choices"],"Past Medical History":["Note any contraindications to therapy","Document previous malignancies","Include relevant surgeries and procedures"]},GQ=({isOpen:e,onClose:t,currentSection:n})=>l.jsxDEV(As,{children:e&&l.jsxDEV(Be.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:20},className:"fixed right-0 top-0 h-screen w-80 bg-white/95 backdrop-blur-sm shadow-xl border-l border-gray-200 z-50",children:[l.jsxDEV("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(ei,{className:"w-5 h-5 text-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:53,columnNumber:15},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900",children:"AI Assistant Tips"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:54,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:52,columnNumber:13},void 0),l.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:l.jsxDEV(ss,{className:"w-5 h-5 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:56,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:51,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-4 space-y-6 overflow-y-auto max-h-[calc(100vh-64px)]",children:n&&Qy[n]?l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsxDEV(EC,{className:"w-4 h-4 text-yellow-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:68,columnNumber:19},void 0),"Tips for: ",n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:67,columnNumber:17},void 0),l.jsxDEV("ul",{className:"space-y-2",children:Qy[n].map((s,i)=>l.jsxDEV(Be.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"p-3 bg-indigo-50 rounded-lg text-sm text-indigo-700",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:73,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:66,columnNumber:15},void 0):l.jsxDEV("div",{className:"text-center text-gray-500 py-8",children:[l.jsxDEV(ei,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:87,columnNumber:17},void 0),l.jsxDEV("p",{children:"Select a section to see relevant AI tips"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:88,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:86,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:64,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:42,columnNumber:5},void 0),YQ=({cancerType:e,value:t,onChange:n})=>{const s=r=>["X","is","0","1","1a","1b","2","2a","2b","3","3a","3b","4","4a","4b"],i=()=>["X","0","1","2","3"],o=()=>["X","0","1","1a","1b"];return l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"TNM Staging"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:25,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"T Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:28,columnNumber:11},void 0),l.jsxDEV("select",{value:t.t,onChange:r=>n({...t,t:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select T Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:34,columnNumber:13},void 0),s().map(r=>l.jsxDEV("option",{value:r,children:["T",r]},r,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:36,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:29,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:27,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"N Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:43,columnNumber:11},void 0),l.jsxDEV("select",{value:t.n,onChange:r=>n({...t,n:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select N Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:49,columnNumber:13},void 0),i().map(r=>l.jsxDEV("option",{value:r,children:["N",r]},r,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:51,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:42,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"M Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:58,columnNumber:11},void 0),l.jsxDEV("select",{value:t.m,onChange:r=>n({...t,m:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select M Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:64,columnNumber:13},void 0),o().map(r=>l.jsxDEV("option",{value:r,children:["M",r]},r,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:66,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:59,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:26,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:24,columnNumber:5},void 0)},KQ=[{score:0,description:"Fully active, able to carry on all pre-disease performance without restriction"},{score:1,description:"Restricted in physically strenuous activity but ambulatory and able to carry out work of a light or sedentary nature"},{score:2,description:"Ambulatory and capable of all self-care but unable to carry out any work activities; up and about more than 50% of waking hours"},{score:3,description:"Capable of only limited self-care; confined to bed or chair more than 50% of waking hours"},{score:4,description:"Completely disabled; cannot carry on any self-care; totally confined to bed or chair"},{score:5,description:"Dead"}],XQ=({value:e,onChange:t})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"ECOG Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:41,columnNumber:9},void 0),l.jsxDEV(ho,{children:l.jsxDEV(po,{children:[l.jsxDEV(go,{children:l.jsxDEV(Ps,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:44,columnNumber:13},void 0),l.jsxDEV(Ei,{children:l.jsxDEV("p",{className:"max-w-xs text-sm",children:"Eastern Cooperative Oncology Group (ECOG) performance status. Used to assess disease progress and how it affects daily living abilities."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:48,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:47,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:43,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:40,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid gap-4",children:KQ.map(({score:n,description:s})=>l.jsxDEV("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e===n?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-200"}`,onClick:()=>t(n),children:l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-semibold ${e===n?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700"}`,children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:69,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600",children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:74,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:68,columnNumber:13},void 0)},n,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:59,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:57,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:39,columnNumber:5},void 0),JQ=e=>e>=90?"Able to carry on normal activities; minor signs or symptoms of disease":e>=70?"Able to care for self but unable to carry on normal activities or work":e>=50?"Requires considerable assistance and frequent medical care":e>=30?"Severely disabled; hospitalization indicated though death not imminent":"Very sick; hospital admission necessary; active supportive treatment necessary",Zy=e=>e>=90?"bg-green-500":e>=70?"bg-blue-500":e>=50?"bg-yellow-500":e>=30?"bg-orange-500":"bg-red-500",QQ=({value:e,onChange:t})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Karnofsky Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:30,columnNumber:9},void 0),l.jsxDEV(ho,{children:l.jsxDEV(po,{children:[l.jsxDEV(go,{children:l.jsxDEV(Ps,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:34,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:33,columnNumber:13},void 0),l.jsxDEV(Ei,{children:l.jsxDEV("p",{className:"max-w-xs text-sm",children:"Karnofsky Performance Status (KPS) scale quantifies cancer patients' general well-being and activities of daily life. Scores range from 0-100."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:37,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:36,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:32,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:29,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("span",{className:"text-2xl font-bold text-gray-700",children:[e,"%"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:48,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-sm text-gray-500",children:JQ(e)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:47,columnNumber:9},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("input",{type:"range",min:0,max:100,step:10,value:e,onChange:n=>t(parseInt(n.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${Zy(e)} 0%, ${Zy(e)} ${e}%, #e5e7eb ${e}%, #e5e7eb 100%)`}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:53,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500 px-1 mt-2",children:[l.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:66,columnNumber:13},void 0),l.jsxDEV("span",{children:"20"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:67,columnNumber:13},void 0),l.jsxDEV("span",{children:"40"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:68,columnNumber:13},void 0),l.jsxDEV("span",{children:"60"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:69,columnNumber:13},void 0),l.jsxDEV("span",{children:"80"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:70,columnNumber:13},void 0),l.jsxDEV("span",{children:"100"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:71,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:52,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"h-2 w-full bg-red-500 rounded mb-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:77,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-gray-600",children:"Critical"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:76,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"h-2 w-full bg-yellow-500 rounded mb-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:81,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-gray-600",children:"Moderate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:80,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"h-2 w-full bg-green-500 rounded mb-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:85,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-gray-600",children:"Good"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:84,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:46,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:28,columnNumber:5},void 0),ZQ=[{value:"breast",label:"Breast Cancer"},{value:"lung",label:"Lung Cancer"},{value:"colorectal",label:"Colorectal Cancer"},{value:"prostate",label:"Prostate Cancer"},{value:"lymphoma",label:"Lymphoma"},{value:"ovarian",label:"Ovarian Cancer"},{value:"gastric",label:"Gastric Cancer"},{value:"head_neck",label:"Head and Neck Cancer"}],Tf="patient-evaluation-autosave",eZ=3e4,tZ=()=>{const e=us(),{toast:t}=ib(),{formData:n,updateFormField:s,clearFormData:i,selectedCancerType:o,setSelectedCancerType:r,isFormSubmitting:a,setIsFormSubmitting:c,formError:u,setFormError:d,formSuccess:m,setFormSuccess:f}=VX(),[h,p]=b.useState(!1),[g,v]=b.useState(),[x,E]=b.useState({t:"",n:"",m:""}),[N,D]=b.useState({ecog:0,kps:100}),w=b.useMemo(()=>o?IX[o]:null,[o]),T=b.useCallback(P=>{if(!w)return"upcoming";const j=w.sections[P].items.map((G,$)=>`section-${P}-item-${$}`),R=j.every(G=>{var $;return($=n[G])==null?void 0:$.trim()}),U=!R&&j.some(G=>{var $;return($=n[G])==null?void 0:$.trim()});return R?"complete":U?"current":"upcoming"},[w,n]),M=b.useMemo(()=>w?w.sections.map((P,j)=>{var R;return{id:j+1,name:P.title,description:((R=P.cancerSpecificNotes)==null?void 0:R[0])||"",status:T(j)}}):[],[w,n,T]),_=()=>{const P=window.open("","_blank");if(!P)return;const j=`
      <style>
        body { font-family: system-ui; line-height: 1.5; padding: 2rem; }
        h1 { color: #4f46e5; margin-bottom: 1.5rem; }
        .section { margin-bottom: 2rem; }
        .field { margin-bottom: 1rem; }
        .label { font-weight: 600; color: #374151; }
        .value { margin-top: 0.25rem; }
        .red-flag { color: #dc2626; padding: 0.5rem; background: #fee2e2; border-radius: 0.25rem; }
        @media print {
          body { padding: 0; }
          .page-break { page-break-before: always; }
        }
      </style>
    `;let R=`
      <h1>Patient Evaluation - ${o}</h1>
      <div class="content">
    `;w&&w.sections.forEach((U,G)=>{R+=`<div class="section">
          <h2>${U.title}</h2>`,U.items.forEach(($,Z)=>{var be;const I=`section-${G}-item-${Z}`,oe=n[I]||"Not provided";R+=`
            <div class="field">
              <div class="label">${$.text}</div>
              <div class="value">${oe}</div>
              ${((be=$.redFlags)==null?void 0:be.map(O=>`<div class="red-flag"> ${O}</div>`).join(""))||""}
            </div>
          `}),R+="</div>"}),R+="</div>",P.document.write(`
      <!DOCTYPE html>
      <html>
        <head>${j}</head>
        <body>${R}</body>
      </html>
    `),P.document.close(),P.print()};b.useEffect(()=>{const P=localStorage.getItem(Tf);if(P)try{const{cancerType:j,data:R}=JSON.parse(P);r(j),Object.entries(R).forEach(([U,G])=>{s(U,G)}),t({title:"Form Data Restored",description:"Your previous progress has been loaded.",duration:3e3})}catch(j){console.error("Error loading saved form data:",j)}},[]),b.useEffect(()=>{if(!o||Object.keys(n).length===0)return;const j=setInterval(()=>{localStorage.setItem(Tf,JSON.stringify({cancerType:o,data:n,timestamp:new Date().toISOString()}))},eZ);return()=>clearInterval(j)},[o,n]);const C=()=>{localStorage.removeItem(Tf)},k=b.useMemo(()=>w?w.sections.flatMap((P,j)=>P.items.map((R,U)=>({item:R,id:`section-${j}-item-${U}`}))).filter(({item:P,id:j})=>P.required&&(!n[j]||n[j].trim()==="")):[],[w,n]),L=async P=>{if(P.preventDefault(),d(null),f(!1),!o){d("Please select a cancer type."),t({variant:"destructive",title:"Validation Error",description:"Please select a cancer type to proceed."});return}if(k.length>0){const j=`Please complete all required fields (${k.length} missing).`;d(j),t({variant:"destructive",title:"Missing Required Fields",description:j});const R=k[0].id,U=document.getElementById(R);U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),U.focus());return}try{c(!0),await WQ({cancerType:o,formData:n,timestamp:new Date().toISOString()}),C(),f(!0),t({title:"Success",description:"Patient evaluation saved successfully.",duration:3e3}),setTimeout(()=>{e("/opd")},1e3)}catch(j){console.error("Form submission error:",j);const R=j instanceof Error?j.message:"Failed to save evaluation. Please try again.";d(R),t({variant:"destructive",title:"Save Error",description:R,duration:5e3})}finally{c(!1)}},B=()=>{window.confirm("Are you sure you want to clear all form data? This cannot be undone.")&&(i(),C(),t({title:"Form Cleared",description:"All form data has been cleared.",duration:3e3}))};return l.jsxDEV("form",{onSubmit:L,className:"space-y-8",children:[l.jsxDEV("div",{className:"fixed right-4 top-4 z-50",children:l.jsxDEV("button",{type:"button",onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-colors",children:[l.jsxDEV(ei,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:311,columnNumber:11},void 0),l.jsxDEV("span",{children:"AI Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:306,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:305,columnNumber:7},void 0),l.jsxDEV(GQ,{isOpen:h,onClose:()=>p(!1),currentSection:g},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:317,columnNumber:7},void 0),w&&l.jsxDEV(qQ,{steps:M,currentStep:M.findIndex(P=>P.status==="current")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:325,columnNumber:9},void 0),l.jsxDEV("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[l.jsxDEV("label",{htmlFor:"cancer-type-select",className:"block text-lg font-semibold text-gray-900 mb-4",children:"Select Cancer Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:333,columnNumber:9},void 0),l.jsxDEV("select",{id:"cancer-type-select","aria-label":"Cancer Type",value:o||"",onChange:P=>r(P.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select cancer type..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:346,columnNumber:11},void 0),ZQ.map(P=>l.jsxDEV("option",{value:P.value,children:P.label},P.value,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:348,columnNumber:13},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:339,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:332,columnNumber:7},void 0),w&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:" Oncologist's Comprehensive OPD Evaluation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:357,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Use this structured form to guide your clinical judgment and capture essential information during patient evaluation in oncology OPD."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:358,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[l.jsxDEV("h3",{className:"text-blue-800 font-semibold flex items-center gap-2 mb-2",children:[l.jsxDEV(ku,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:365,columnNumber:15},void 0),"Clinical Guidance"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:364,columnNumber:13},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:w.notes.map((P,j)=>l.jsxDEV("li",{children:P},j,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:370,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:368,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:363,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[l.jsxDEV("h3",{className:"text-red-800 font-semibold flex items-center gap-2 mb-2",children:[l.jsxDEV(Qe,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:378,columnNumber:15},void 0),"Red Flags to Monitor"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:377,columnNumber:13},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-red-700",children:w.redFlags.map((P,j)=>l.jsxDEV("li",{children:P},j,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:383,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:381,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:376,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm space-y-6",children:[l.jsxDEV("div",{className:"border-b border-gray-200 pb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Disease Staging & Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:391,columnNumber:15},void 0),l.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Document current disease stage and patient's functional status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:392,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:390,columnNumber:13},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxDEV(YQ,{cancerType:o,value:x,onChange:E},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:398,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(XQ,{value:N.ecog,onChange:P=>D(j=>({...j,ecog:P}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:404,columnNumber:17},void 0),l.jsxDEV(QQ,{value:N.kps,onChange:P=>D(j=>({...j,kps:P}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:408,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:403,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:397,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:389,columnNumber:11},void 0),w.sections.map((P,j)=>l.jsxDEV("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm space-y-6",children:[l.jsxDEV("div",{className:"border-b border-gray-200 pb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:P.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:420,columnNumber:17},void 0),P.cancerSpecificNotes&&l.jsxDEV("div",{className:"mt-2 text-sm text-gray-600",children:P.cancerSpecificNotes.map((R,U)=>l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Ps,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:425,columnNumber:25},void 0),R]},U,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:424,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:422,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:419,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-4",children:P.items.map((R,U)=>{var oe;const G=`section-${j}-item-${U}`,$=!!R.required,Z=k.some(be=>be.id===G),I=R.redFlags&&R.redFlags.length>0;return l.jsxDEV("div",{className:"relative",children:[l.jsxDEV(RX,{id:G,label:R.text,required:$,value:n[G]||"",onChange:be=>s(G,be),error:Z,redFlags:R.redFlags||[],inputClassName:I?"border-red-200 focus:ring-red-500 focus:border-red-500":""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:442,columnNumber:23},void 0),I&&l.jsxDEV(ho,{children:l.jsxDEV(po,{children:[l.jsxDEV(go,{asChild:!0,children:l.jsxDEV("div",{className:"absolute right-3 top-3",children:l.jsxDEV(Qe,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:457,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:456,columnNumber:31},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:455,columnNumber:29},void 0),l.jsxDEV(Ei,{className:"bg-red-50 border border-red-200 p-3 max-w-xs",children:[l.jsxDEV("div",{className:"font-medium mb-1 text-red-800",children:"Clinical Red Flags:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:461,columnNumber:31},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 text-sm text-red-700",children:(oe=R.redFlags)==null?void 0:oe.map((be,O)=>l.jsxDEV("li",{children:be},O,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:464,columnNumber:35},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:462,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:460,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:454,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:453,columnNumber:25},void 0)]},U,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:441,columnNumber:21},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:433,columnNumber:15},void 0)]},j,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:418,columnNumber:13},void 0)),l.jsxDEV("div",{className:"mt-6",children:l.jsxDEV(jX,{template:w,formData:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:479,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:478,columnNumber:11},void 0),u&&l.jsxDEV("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-700 flex items-center gap-2",children:[l.jsxDEV(Qe,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:488,columnNumber:15},void 0),u]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:487,columnNumber:13},void 0),m&&l.jsxDEV("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md text-green-700 flex items-center gap-2",children:[l.jsxDEV(ku,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:496,columnNumber:15},void 0),"Evaluation saved successfully! Redirecting..."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:495,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end gap-4 sticky bottom-0 bg-white p-4 border-t mt-6",children:[l.jsxDEV(bf,{type:"button",variant:"secondary",onClick:_,icon:l.jsxDEV(Sp,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:506,columnNumber:21},void 0),children:"Print Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:502,columnNumber:13},void 0),l.jsxDEV(bf,{type:"button",variant:"secondary",onClick:B,disabled:a,icon:l.jsxDEV(TC,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:515,columnNumber:21},void 0),children:"Clear Form"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:510,columnNumber:13},void 0),l.jsxDEV(bf,{type:"submit",variant:"primary",isLoading:a,icon:a?void 0:l.jsxDEV(SC,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:523,columnNumber:41},void 0),children:a?"Saving...":"Save Evaluation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:519,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:501,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:356,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:303,columnNumber:5},void 0)},nZ=()=>l.jsxDEV(st,{moduleName:"Oncology OPD",children:l.jsxDEV(OX,{children:l.jsxDEV(AX,{children:[l.jsxDEV(wp,{children:[l.jsxDEV(nt,{path:"/",element:l.jsxDEV(PX,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:20,columnNumber:38},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:20,columnNumber:13},void 0),l.jsxDEV(nt,{path:"/patient-evaluation-form",element:l.jsxDEV(tZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:21,columnNumber:61},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:21,columnNumber:13},void 0),l.jsxDEV(nt,{path:"/diagnostic-pathways",element:l.jsxDEV(p_,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:22,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:22,columnNumber:13},void 0),l.jsxDEV(nt,{path:"/cancer-screening",element:l.jsxDEV(w_,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:23,columnNumber:54},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:23,columnNumber:13},void 0),l.jsxDEV(nt,{path:"/referral-guidelines",element:l.jsxDEV(D_,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:24,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:24,columnNumber:13},void 0),l.jsxDEV(nt,{path:"/follow-up-oncology",element:l.jsxDEV(uk,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:25,columnNumber:56},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:25,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:19,columnNumber:11},void 0),l.jsxDEV(hW,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:27,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:18,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:17,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:16,columnNumber:5},void 0),sZ=({protocol:e})=>l.jsxDEV(Kt,{className:"p-4 bg-white dark:bg-gray-900 shadow rounded-lg cursor-pointer hover:shadow-lg transition-all",children:l.jsxDEV("div",{className:"flex flex-col gap-2",children:[l.jsxDEV("span",{className:"text-xl font-bold text-indigo-800",children:e.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:13,columnNumber:9},void 0),l.jsxDEV("span",{className:"text-sm text-gray-600",children:e.tumour_group},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:14,columnNumber:9},void 0),e.treatment_intent&&l.jsxDEV("span",{className:"text-xs text-gray-500",children:e.treatment_intent},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:16,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:11,columnNumber:5},void 0);var Sf="focusScope.autoFocusOnMount",_f="focusScope.autoFocusOnUnmount",e1={bubbles:!1,cancelable:!0},iZ="FocusScope",_b=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...r}=e,[a,c]=b.useState(null),u=Rt(i),d=Rt(o),m=b.useRef(null),f=Je(t,g=>c(g)),h=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let g=function(N){if(h.paused||!a)return;const D=N.target;a.contains(D)?m.current=D:bi(m.current,{select:!0})},v=function(N){if(h.paused||!a)return;const D=N.relatedTarget;D!==null&&(a.contains(D)||bi(m.current,{select:!0}))},x=function(N){if(document.activeElement===document.body)for(const w of N)w.removedNodes.length>0&&bi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const E=new MutationObserver(x);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),E.disconnect()}}},[s,a,h.paused]),b.useEffect(()=>{if(a){n1.add(h);const g=document.activeElement;if(!a.contains(g)){const x=new CustomEvent(Sf,e1);a.addEventListener(Sf,u),a.dispatchEvent(x),x.defaultPrevented||(oZ(uZ(Pk(a)),{select:!0}),document.activeElement===g&&bi(a))}return()=>{a.removeEventListener(Sf,u),setTimeout(()=>{const x=new CustomEvent(_f,e1);a.addEventListener(_f,d),a.dispatchEvent(x),x.defaultPrevented||bi(g??document.body,{select:!0}),a.removeEventListener(_f,d),n1.remove(h)},0)}}},[a,u,d,h]);const p=b.useCallback(g=>{if(!n&&!s||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const E=g.currentTarget,[N,D]=rZ(E);N&&D?!g.shiftKey&&x===D?(g.preventDefault(),n&&bi(N,{select:!0})):g.shiftKey&&x===N&&(g.preventDefault(),n&&bi(D,{select:!0})):x===E&&g.preventDefault()}},[n,s,h.paused]);return q.jsx(Ae.div,{tabIndex:-1,...r,ref:f,onKeyDown:p})});_b.displayName=iZ;function oZ(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(bi(s,{select:t}),document.activeElement!==n)return}function rZ(e){const t=Pk(e),n=t1(t,e),s=t1(t.reverse(),e);return[n,s]}function Pk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function t1(e,t){for(const n of e)if(!aZ(n,{upTo:t}))return n}function aZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lZ(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lZ(e)&&t&&e.select()}}var n1=cZ();function cZ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=s1(e,t),e.unshift(t)},remove(t){var n;e=s1(e,t),(n=e[0])==null||n.resume()}}}function s1(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function uZ(e){return e.filter(t=>t.tagName!=="A")}var kf=0;function Ak(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i1()),document.body.insertAdjacentElement("beforeend",e[1]??i1()),kf++,()=>{kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kf--}},[])}function i1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ts=function(){return Ts=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ts.apply(this,arguments)};function jk(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function dZ(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Tu="right-scroll-bar-position",Su="width-before-scroll-bar",mZ="with-scroll-bars-hidden",fZ="--removed-body-scroll-bar-size";function Mf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hZ(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var pZ=typeof window<"u"?b.useLayoutEffect:b.useEffect,o1=new WeakMap;function gZ(e,t){var n=hZ(null,function(s){return e.forEach(function(i){return Mf(i,s)})});return pZ(function(){var s=o1.get(n);if(s){var i=new Set(s),o=new Set(e),r=n.current;i.forEach(function(a){o.has(a)||Mf(a,null)}),o.forEach(function(a){i.has(a)||Mf(a,r)})}o1.set(n,e)},[e]),n}function bZ(e){return e}function vZ(e,t){t===void 0&&(t=bZ);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var r=t(o,s);return n.push(r),function(){n=n.filter(function(a){return a!==r})}},assignSyncMedium:function(o){for(s=!0;n.length;){var r=n;n=[],r.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){s=!0;var r=[];if(n.length){var a=n;n=[],a.forEach(o),r=n}var c=function(){var d=r;r=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){r.push(d),u()},filter:function(d){return r=r.filter(d),n}}}};return i}function xZ(e){e===void 0&&(e={});var t=vZ(null);return t.options=Ts({async:!0,ssr:!1},e),t}var Ik=function(e){var t=e.sideCar,n=jk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,Ts({},n))};Ik.isSideCarExport=!0;function NZ(e,t){return e.useMedium(t),Ik}var Rk=xZ(),Cf=function(){},qd=b.forwardRef(function(e,t){var n=b.useRef(null),s=b.useState({onScrollCapture:Cf,onWheelCapture:Cf,onTouchMoveCapture:Cf}),i=s[0],o=s[1],r=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,m=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,x=e.as,E=x===void 0?"div":x,N=e.gapMode,D=jk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,T=gZ([n,t]),M=Ts(Ts({},D),i);return b.createElement(b.Fragment,null,d&&b.createElement(w,{sideCar:Rk,removeScrollBar:u,shards:m,noRelative:h,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:N}),r?b.cloneElement(b.Children.only(a),Ts(Ts({},M),{ref:T})):b.createElement(E,Ts({},M,{className:c,ref:T}),a))});qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qd.classNames={fullWidth:Su,zeroRight:Tu};var yZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yZ();return t&&e.setAttribute("nonce",t),e}function DZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wZ())&&(DZ(t,n),EZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},SZ=function(){var e=TZ();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Vk=function(){var e=SZ(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},_Z={left:0,top:0,right:0,gap:0},Pf=function(e){return parseInt(e||"",10)||0},kZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Pf(n),Pf(s),Pf(i)]},MZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _Z;var t=kZ(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},CZ=Vk(),wr="data-scroll-locked",PZ=function(e,t,n,s){var i=e.left,o=e.top,r=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mZ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(a,"px ").concat(s,`;
  }
  body[`).concat(wr,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tu,` {
    right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(Su,` {
    margin-right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(Tu," .").concat(Tu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(wr,`] {
    `).concat(fZ,": ").concat(a,`px;
  }
`)},r1=function(){var e=parseInt(document.body.getAttribute(wr)||"0",10);return isFinite(e)?e:0},AZ=function(){b.useEffect(function(){return document.body.setAttribute(wr,(r1()+1).toString()),function(){var e=r1()-1;e<=0?document.body.removeAttribute(wr):document.body.setAttribute(wr,e.toString())}},[])},jZ=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;AZ();var o=b.useMemo(function(){return MZ(i)},[i]);return b.createElement(CZ,{styles:PZ(o,!t,i,n?"":"!important")})},fp=!1;if(typeof window<"u")try{var nu=Object.defineProperty({},"passive",{get:function(){return fp=!0,!0}});window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{fp=!1}var er=fp?{passive:!1}:!1,IZ=function(e){return e.tagName==="TEXTAREA"},Ok=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!IZ(e)&&n[t]==="visible")},RZ=function(e){return Ok(e,"overflowY")},VZ=function(e){return Ok(e,"overflowX")},a1=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Lk(e,s);if(i){var o=Fk(e,s),r=o[1],a=o[2];if(r>a)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},OZ=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},LZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Lk=function(e,t){return e==="v"?RZ(t):VZ(t)},Fk=function(e,t){return e==="v"?OZ(t):LZ(t)},FZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},BZ=function(e,t,n,s,i){var o=FZ(e,window.getComputedStyle(t).direction),r=o*s,a=n.target,c=t.contains(a),u=!1,d=r>0,m=0,f=0;do{var h=Fk(e,a),p=h[0],g=h[1],v=h[2],x=g-v-o*p;(p||x)&&Lk(e,a)&&(m+=x,f+=p),a=a.parentNode.host||a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(m)<1||!d&&Math.abs(f)<1)&&(u=!0),u},su=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l1=function(e){return[e.deltaX,e.deltaY]},c1=function(e){return e&&"current"in e?e.current:e},HZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$Z=0,tr=[];function zZ(e){var t=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),i=b.useState($Z++)[0],o=b.useState(Vk)[0],r=b.useRef(e);b.useEffect(function(){r.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=dZ([e.lockRef.current],(e.shards||[]).map(c1),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!r.current.allowPinchZoom;var x=su(g),E=n.current,N="deltaX"in g?g.deltaX:E[0]-x[0],D="deltaY"in g?g.deltaY:E[1]-x[1],w,T=g.target,M=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in g&&M==="h"&&T.type==="range")return!1;var _=a1(M,T);if(!_)return!0;if(_?w=M:(w=M==="v"?"h":"v",_=a1(M,T)),!_)return!1;if(!s.current&&"changedTouches"in g&&(N||D)&&(s.current=w),!w)return!0;var C=s.current||w;return BZ(C,v,g,C==="h"?N:D)},[]),c=b.useCallback(function(g){var v=g;if(!(!tr.length||tr[tr.length-1]!==o)){var x="deltaY"in v?l1(v):su(v),E=t.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&HZ(w.delta,x)})[0];if(E&&E.should){v.cancelable&&v.preventDefault();return}if(!E){var N=(r.current.shards||[]).map(c1).filter(Boolean).filter(function(w){return w.contains(v.target)}),D=N.length>0?a(v,N[0]):!r.current.noIsolation;D&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,E){var N={name:g,delta:v,target:x,should:E,shadowParent:WZ(x)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(D){return D!==N})},1)},[]),d=b.useCallback(function(g){n.current=su(g),s.current=void 0},[]),m=b.useCallback(function(g){u(g.type,l1(g),g.target,a(g,e.lockRef.current))},[]),f=b.useCallback(function(g){u(g.type,su(g),g.target,a(g,e.lockRef.current))},[]);b.useEffect(function(){return tr.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,er),document.addEventListener("touchmove",c,er),document.addEventListener("touchstart",d,er),function(){tr=tr.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,er),document.removeEventListener("touchmove",c,er),document.removeEventListener("touchstart",d,er)}},[]);var h=e.removeScrollBar,p=e.inert;return b.createElement(b.Fragment,null,p?b.createElement(o,{styles:UZ(i)}):null,h?b.createElement(jZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function WZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qZ=NZ(Rk,zZ);var kb=b.forwardRef(function(e,t){return b.createElement(qd,Ts({},e,{ref:t,sideCar:qZ}))});kb.classNames=qd.classNames;var GZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nr=new WeakMap,iu=new WeakMap,ou={},Af=0,Bk=function(e){return e&&(e.host||Bk(e.parentNode))},YZ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Bk(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KZ=function(e,t,n,s){var i=YZ(t,Array.isArray(e)?e:[e]);ou[n]||(ou[n]=new WeakMap);var o=ou[n],r=[],a=new Set,c=new Set(i),u=function(m){!m||a.has(m)||(a.add(m),u(m.parentNode))};i.forEach(u);var d=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(a.has(f))d(f);else try{var h=f.getAttribute(s),p=h!==null&&h!=="false",g=(nr.get(f)||0)+1,v=(o.get(f)||0)+1;nr.set(f,g),o.set(f,v),r.push(f),g===1&&p&&iu.set(f,!0),v===1&&f.setAttribute(n,"true"),p||f.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),a.clear(),Af++,function(){r.forEach(function(m){var f=nr.get(m)-1,h=o.get(m)-1;nr.set(m,f),o.set(m,h),f||(iu.has(m)||m.removeAttribute(s),iu.delete(m)),h||m.removeAttribute(n)}),Af--,Af||(nr=new WeakMap,nr=new WeakMap,iu=new WeakMap,ou={})}},Hk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=GZ(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),KZ(s,i,n,"aria-hidden")):function(){return null}},Gd="Dialog",[Uk,Zse]=Is(Gd),[XZ,fs]=Uk(Gd),$k=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:r=!0}=e,a=b.useRef(null),c=b.useRef(null),[u,d]=Pi({prop:s,defaultProp:i??!1,onChange:o,caller:Gd});return q.jsx(XZ,{scope:t,triggerRef:a,contentRef:c,contentId:Js(),titleId:Js(),descriptionId:Js(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(m=>!m),[d]),modal:r,children:n})};$k.displayName=Gd;var zk="DialogTrigger",Wk=b.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=fs(zk,n),o=Je(t,i.triggerRef);return q.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Pb(i.open),...s,ref:o,onClick:_e(e.onClick,i.onOpenToggle)})});Wk.displayName=zk;var Mb="DialogPortal",[JZ,qk]=Uk(Mb,{forceMount:void 0}),Gk=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,o=fs(Mb,t);return q.jsx(JZ,{scope:t,forceMount:n,children:b.Children.map(s,r=>q.jsx(Kn,{present:n||o.open,children:q.jsx(bd,{asChild:!0,container:i,children:r})}))})};Gk.displayName=Mb;var td="DialogOverlay",Yk=b.forwardRef((e,t)=>{const n=qk(td,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=fs(td,e.__scopeDialog);return o.modal?q.jsx(Kn,{present:s||o.open,children:q.jsx(ZZ,{...i,ref:t})}):null});Yk.displayName=td;var QZ=Tr("DialogOverlay.RemoveScroll"),ZZ=b.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=fs(td,n);return q.jsx(kb,{as:QZ,allowPinchZoom:!0,shards:[i.contentRef],children:q.jsx(Ae.div,{"data-state":Pb(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),To="DialogContent",Kk=b.forwardRef((e,t)=>{const n=qk(To,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=fs(To,e.__scopeDialog);return q.jsx(Kn,{present:s||o.open,children:o.modal?q.jsx(eee,{...i,ref:t}):q.jsx(tee,{...i,ref:t})})});Kk.displayName=To;var eee=b.forwardRef((e,t)=>{const n=fs(To,e.__scopeDialog),s=b.useRef(null),i=Je(t,n.contentRef,s);return b.useEffect(()=>{const o=s.current;if(o)return Hk(o)},[]),q.jsx(Xk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,o=>{var r;o.preventDefault(),(r=n.triggerRef.current)==null||r.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,o=>{const r=o.detail.originalEvent,a=r.button===0&&r.ctrlKey===!0;(r.button===2||a)&&o.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault())})}),tee=b.forwardRef((e,t)=>{const n=fs(To,e.__scopeDialog),s=b.useRef(!1),i=b.useRef(!1);return q.jsx(Xk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var r,a;(r=e.onCloseAutoFocus)==null||r.call(e,o),o.defaultPrevented||(s.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const r=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(r))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Xk=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...r}=e,a=fs(To,n),c=b.useRef(null),u=Je(t,c);return Ak(),q.jsxs(q.Fragment,{children:[q.jsx(_b,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:q.jsx(ql,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Pb(a.open),...r,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),q.jsxs(q.Fragment,{children:[q.jsx(nee,{titleId:a.titleId}),q.jsx(iee,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Cb="DialogTitle",Jk=b.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=fs(Cb,n);return q.jsx(Ae.h2,{id:i.titleId,...s,ref:t})});Jk.displayName=Cb;var Qk="DialogDescription",Zk=b.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=fs(Qk,n);return q.jsx(Ae.p,{id:i.descriptionId,...s,ref:t})});Zk.displayName=Qk;var eM="DialogClose",tM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=fs(eM,n);return q.jsx(Ae.button,{type:"button",...s,ref:t,onClick:_e(e.onClick,()=>i.onOpenChange(!1))})});tM.displayName=eM;function Pb(e){return e?"open":"closed"}var nM="DialogTitleWarning",[eie,sM]=PI(nM,{contentName:To,titleName:Cb,docsSlug:"dialog"}),nee=({titleId:e})=>{const t=sM(nM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},see="DialogDescriptionWarning",iee=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sM(see).contentName}}.`;return b.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},oee=$k,ree=Wk,aee=Gk,iM=Yk,oM=Kk,rM=Jk,aM=Zk,lee=tM;const hl=oee,cee=ree,uee=aee,lM=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(iM,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));lM.displayName=iM.displayName;const ia=b.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(uee,{children:[l.jsxDEV(lM,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),l.jsxDEV(oM,{ref:s,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxDEV(lee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsxDEV(ss,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),l.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));ia.displayName=oM.displayName;const ac=({className:e,...t})=>l.jsxDEV("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:58,columnNumber:3},void 0);ac.displayName="DialogHeader";const Yd=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(rM,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:86,columnNumber:3},void 0));Yd.displayName=rM.displayName;const cM=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(aM,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:101,columnNumber:3},void 0));cM.displayName=aM.displayName;var dee=b.createContext(void 0);function Kd(e){const t=b.useContext(dee);return e||t||"ltr"}var jf="rovingFocusGroup.onEntryFocus",mee={bubbles:!1,cancelable:!0},lc="RovingFocusGroup",[hp,uM,fee]=Zg(lc),[hee,dM]=Is(lc,[fee]),[pee,gee]=hee(lc),mM=b.forwardRef((e,t)=>q.jsx(hp.Provider,{scope:e.__scopeRovingFocusGroup,children:q.jsx(hp.Slot,{scope:e.__scopeRovingFocusGroup,children:q.jsx(bee,{...e,ref:t})})}));mM.displayName=lc;var bee=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:r,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=e,f=b.useRef(null),h=Je(t,f),p=Kd(o),[g,v]=Pi({prop:r,defaultProp:a??null,onChange:c,caller:lc}),[x,E]=b.useState(!1),N=Rt(u),D=uM(n),w=b.useRef(!1),[T,M]=b.useState(0);return b.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(jf,N),()=>_.removeEventListener(jf,N)},[N]),q.jsx(pee,{scope:n,orientation:s,dir:p,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(_=>v(_),[v]),onItemShiftTab:b.useCallback(()=>E(!0),[]),onFocusableItemAdd:b.useCallback(()=>M(_=>_+1),[]),onFocusableItemRemove:b.useCallback(()=>M(_=>_-1),[]),children:q.jsx(Ae.div,{tabIndex:x||T===0?-1:0,"data-orientation":s,...m,ref:h,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{w.current=!0}),onFocus:_e(e.onFocus,_=>{const C=!w.current;if(_.target===_.currentTarget&&C&&!x){const k=new CustomEvent(jf,mee);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const L=D().filter(U=>U.focusable),B=L.find(U=>U.active),P=L.find(U=>U.id===g),R=[B,P,...L].filter(Boolean).map(U=>U.ref.current);pM(R,d)}}w.current=!1}),onBlur:_e(e.onBlur,()=>E(!1))})})}),fM="RovingFocusGroupItem",hM=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,children:r,...a}=e,c=Js(),u=o||c,d=gee(fM,n),m=d.currentTabStopId===u,f=uM(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:g}=d;return b.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),q.jsx(hp.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:q.jsx(Ae.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:_e(e.onMouseDown,v=>{s?d.onItemFocus(u):v.preventDefault()}),onFocus:_e(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:_e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Nee(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=f().filter(D=>D.focusable).map(D=>D.ref.current);if(x==="last")N.reverse();else if(x==="prev"||x==="next"){x==="prev"&&N.reverse();const D=N.indexOf(v.currentTarget);N=d.loop?yee(N,D+1):N.slice(D+1)}setTimeout(()=>pM(N))}}),children:typeof r=="function"?r({isCurrentTabStop:m,hasTabStop:g!=null}):r})})});hM.displayName=fM;var vee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nee(e,t,n){const s=xee(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return vee[s]}function pM(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function yee(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var wee=mM,Dee=hM,Xd="Tabs",[Eee,tie]=Is(Xd,[dM]),gM=dM(),[Tee,Ab]=Eee(Xd),bM=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:o,orientation:r="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Kd(a),[m,f]=Pi({prop:s,onChange:i,defaultProp:o??"",caller:Xd});return q.jsx(Tee,{scope:n,baseId:Js(),value:m,onValueChange:f,orientation:r,dir:d,activationMode:c,children:q.jsx(Ae.div,{dir:d,"data-orientation":r,...u,ref:t})})});bM.displayName=Xd;var vM="TabsList",xM=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,o=Ab(vM,n),r=gM(n);return q.jsx(wee,{asChild:!0,...r,orientation:o.orientation,dir:o.dir,loop:s,children:q.jsx(Ae.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});xM.displayName=vM;var NM="TabsTrigger",yM=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...o}=e,r=Ab(NM,n),a=gM(n),c=EM(r.baseId,s),u=TM(r.baseId,s),d=s===r.value;return q.jsx(Dee,{asChild:!0,...a,focusable:!i,active:d,children:q.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...o,ref:t,onMouseDown:_e(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?r.onValueChange(s):m.preventDefault()}),onKeyDown:_e(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&r.onValueChange(s)}),onFocus:_e(e.onFocus,()=>{const m=r.activationMode!=="manual";!d&&!i&&m&&r.onValueChange(s)})})})});yM.displayName=NM;var wM="TabsContent",DM=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:o,...r}=e,a=Ab(wM,n),c=EM(a.baseId,s),u=TM(a.baseId,s),d=s===a.value,m=b.useRef(d);return b.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),q.jsx(Kn,{present:i||d,children:({present:f})=>q.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...r,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});DM.displayName=wM;function EM(e,t){return`${e}-trigger-${t}`}function TM(e,t){return`${e}-content-${t}`}var See=bM,SM=xM,_M=yM,kM=DM;const MM=See,jb=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(SM,{ref:n,className:Ce("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tabs.tsx",lineNumber:13,columnNumber:3},void 0));jb.displayName=SM.displayName;const ln=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(_M,{ref:n,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tabs.tsx",lineNumber:25,columnNumber:3},void 0));ln.displayName=_M.displayName;const cn=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(kM,{ref:n,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tabs.tsx",lineNumber:37,columnNumber:3},void 0));cn.displayName=kM.displayName;const _ee=({treatment:e})=>!e||!e.drugs||e.drugs.length===0?l.jsxDEV("p",{className:"text-muted-foreground",children:"No treatment information available."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:10,columnNumber:12},void 0):l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Treatment Drugs"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:15,columnNumber:7},void 0),l.jsxDEV("div",{className:"overflow-x-auto",children:l.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l.jsxDEV("tr",{children:[l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drug Name"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:20,columnNumber:15},void 0),l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dose"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:21,columnNumber:15},void 0),l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Administration"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:22,columnNumber:15},void 0),l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Special Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:23,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:19,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:18,columnNumber:11},void 0),l.jsxDEV("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.drugs.map((t,n)=>l.jsxDEV("tr",{children:[l.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap",children:t.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:29,columnNumber:17},void 0),l.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap",children:t.dose||"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:30,columnNumber:17},void 0),l.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap",children:t.administration||"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:31,columnNumber:17},void 0),l.jsxDEV("td",{className:"px-4 py-2 whitespace-pre-line",children:t.special_notes&&t.special_notes.length>0?t.special_notes.join("; "):"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:32,columnNumber:17},void 0)]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:28,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:26,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:17,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:16,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:14,columnNumber:5},void 0),kee=({overview:e})=>l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Overview"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:23,columnNumber:5},void 0),e?l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:25,columnNumber:7},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No overview information."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:27,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:22,columnNumber:3},void 0),Mee=({lastReviewed:e,version:t,status:n,createdBy:s,updatedBy:i,createdAt:o,updatedAt:r})=>l.jsxDEV("div",{className:"space-y-4",children:[t&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Version"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:54,columnNumber:9},void 0),l.jsxDEV("p",{children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:55,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:53,columnNumber:7},void 0),n&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:60,columnNumber:9},void 0),l.jsxDEV("p",{children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:59,columnNumber:7},void 0),e&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Last Reviewed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:66,columnNumber:9},void 0),l.jsxDEV("p",{children:new Date(e).toLocaleDateString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:65,columnNumber:7},void 0),(s||o)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Created"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:72,columnNumber:9},void 0),s&&l.jsxDEV("p",{children:["By: ",s]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:73,columnNumber:23},void 0),o&&l.jsxDEV("p",{children:["On: ",new Date(o).toLocaleDateString()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:74,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:71,columnNumber:7},void 0),(i||r)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Last Updated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:79,columnNumber:9},void 0),i&&l.jsxDEV("p",{children:["By: ",i]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:80,columnNumber:23},void 0),r&&l.jsxDEV("p",{children:["On: ",new Date(r).toLocaleDateString()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:81,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:78,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:51,columnNumber:3},void 0),Cee=({protocol:e,open:t,onOpenChange:n})=>{var d,m,f,h,p,g,v,x,E,N,D;const s=Ee.useMemo(()=>e.monitoring||{baseline:[],ongoing:[]},[e.monitoring]),i=Ee.useMemo(()=>e.treatment||{drugs:[]},[e.treatment]),o=Ee.useMemo(()=>Array.isArray(e.tests)?{baseline:[],monitoring:[]}:e.tests||{baseline:[],monitoring:[]},[e.tests]),r=Ee.useMemo(()=>{const w=e.dose_modifications||{};return{hematological:Array.isArray(w.hematological)?w.hematological:[],nonHematological:Array.isArray(w.nonHematological)?w.nonHematological:[],renal:Array.isArray(w.renal)?w.renal:[],hepatic:Array.isArray(w.hepatic)?w.hepatic:[]}},[e.dose_modifications]),a=Ee.useMemo(()=>{const w=e.toxicity_monitoring||{};return{expected_toxicities:Array.isArray(w.expected_toxicities)?w.expected_toxicities:[],monitoring_parameters:w.monitoring_parameters||"",frequency_details:w.frequency_details||"",thresholds_for_action:w.thresholds_for_action||{}}},[e.toxicity_monitoring]),c=Ee.useMemo(()=>{const w=e.supportive_care||{};return{required:Array.isArray(w.required)?w.required:[],optional:Array.isArray(w.optional)?w.optional:[],monitoring:Array.isArray(w.monitoring)?w.monitoring:[]}},[e.supportive_care]),u=Ee.useMemo(()=>{const w=e.interactions||{};return{drugs_to_avoid:Array.isArray(w.drugs_to_avoid)?w.drugs_to_avoid:[],contraindications:Array.isArray(w.contraindications)?w.contraindications:[],precautions_with_other_drugs:Array.isArray(w.precautions_with_other_drugs)?w.precautions_with_other_drugs:[]}},[e.interactions]);return l.jsxDEV(hl,{open:t,onOpenChange:n,children:l.jsxDEV(ia,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxDEV(ac,{children:[l.jsxDEV(Yd,{children:e.code||"Protocol Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:132,columnNumber:11},void 0),l.jsxDEV(cM,{children:e.summary||"Treatment protocol details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:133,columnNumber:11},void 0),"        "]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:131,columnNumber:9},void 0),l.jsxDEV(MM,{defaultValue:"overview",className:"w-full",children:[l.jsxDEV(jb,{className:"mb-4 flex flex-wrap",children:[l.jsxDEV(ln,{value:"overview",children:"Overview"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:138,columnNumber:13},void 0),l.jsxDEV(ln,{value:"treatment",children:"Treatment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:139,columnNumber:13},void 0),l.jsxDEV(ln,{value:"tests",children:"Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:140,columnNumber:13},void 0),l.jsxDEV(ln,{value:"monitoring",children:"Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:141,columnNumber:13},void 0),l.jsxDEV(ln,{value:"doseModifications",children:"Dose Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:142,columnNumber:13},void 0),l.jsxDEV(ln,{value:"safety",className:"text-red-600",children:[l.jsxDEV(Qe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:144,columnNumber:15},void 0),"Safety"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:143,columnNumber:13},void 0),l.jsxDEV(ln,{value:"support",children:[l.jsxDEV(uo,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:148,columnNumber:15},void 0),"Support Care"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:147,columnNumber:13},void 0),l.jsxDEV(ln,{value:"emergency",children:[l.jsxDEV(lu,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:152,columnNumber:15},void 0),"Emergency"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:151,columnNumber:13},void 0),l.jsxDEV(ln,{value:"toxicity",children:"Toxicity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:155,columnNumber:13},void 0),l.jsxDEV(ln,{value:"interactions",children:"Interactions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:156,columnNumber:13},void 0),l.jsxDEV(ln,{value:"references",children:[l.jsxDEV(is,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:158,columnNumber:15},void 0),"References"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:157,columnNumber:13},void 0),l.jsxDEV(ln,{value:"supportiveCare",children:"Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:161,columnNumber:13},void 0),l.jsxDEV(ln,{value:"info",children:"Info"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:162,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:137,columnNumber:11},void 0),l.jsxDEV(cn,{value:"overview",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(kee,{overview:e.summary},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:166,columnNumber:15},void 0),e.eligibility&&l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Eligibility Criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:169,columnNumber:19},void 0),Array.isArray(e.eligibility)?l.jsxDEV("ul",{className:"list-disc list-inside",children:e.eligibility.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:173,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:171,columnNumber:21},void 0):l.jsxDEV(l.Fragment,{children:["                      ",l.jsxDEV("h4",{className:"font-medium mb-1",children:"Inclusion Criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:177,columnNumber:45},void 0),l.jsxDEV("ul",{className:"list-disc list-inside mb-2",children:(d=e.eligibility.inclusion_criteria)==null?void 0:d.map((w,T)=>l.jsxDEV("li",{children:w.criterion},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:180,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:178,columnNumber:23},void 0),l.jsxDEV("h4",{className:"font-medium mb-1",children:"Exclusion Criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:183,columnNumber:23},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:(m=e.eligibility.exclusion_criteria)==null?void 0:m.map((w,T)=>l.jsxDEV("li",{children:w.criterion},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:186,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:184,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:177,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:168,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:165,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:164,columnNumber:11},void 0),l.jsxDEV(cn,{value:"treatment",children:l.jsxDEV(_ee,{treatment:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:196,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:195,columnNumber:11},void 0),"          ",l.jsxDEV(cn,{value:"tests",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Baseline Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:200,columnNumber:17},void 0),"                ",o!=null&&o.baseline&&o.baseline.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:o.baseline.map((w,T)=>l.jsxDEV("li",{children:typeof w=="object"?w.name||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:203,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:201,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No baseline tests specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:207,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:199,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:212,columnNumber:17},void 0),o!=null&&o.monitoring&&o.monitoring.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:o.monitoring.map((w,T)=>l.jsxDEV("li",{children:typeof w=="object"?w.name||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:216,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:214,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No monitoring tests specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:220,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:211,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:198,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:197,columnNumber:35},void 0),l.jsxDEV(cn,{value:"monitoring",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Baseline Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:227,columnNumber:17},void 0),((f=s.baseline)==null?void 0:f.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:s.baseline.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:231,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:229,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No baseline monitoring specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:235,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:226,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Ongoing Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:240,columnNumber:17},void 0),((h=s.ongoing)==null?void 0:h.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:s.ongoing.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:244,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:242,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No ongoing monitoring specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:248,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:239,columnNumber:15},void 0),s.frequency&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Frequency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:254,columnNumber:19},void 0),l.jsxDEV("p",{className:"whitespace-pre-line",children:s.frequency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:255,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:253,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:225,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:224,columnNumber:25},void 0),"          ",l.jsxDEV(cn,{value:"doseModifications",children:l.jsxDEV("div",{className:"space-y-6",children:["              ",l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Hematological Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:261,columnNumber:17},void 0),Array.isArray(r.hematological)&&r.hematological.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:(p=r.hematological)==null?void 0:p.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:265,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:263,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No hematological modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:269,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:260,columnNumber:54},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Non-Hematological Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:274,columnNumber:17},void 0),Array.isArray(r.nonHematological)&&r.nonHematological.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:(g=r.nonHematological)==null?void 0:g.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:278,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:276,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No non-hematological modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:281,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:273,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Renal Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:286,columnNumber:17},void 0),Array.isArray(r.renal)&&r.renal.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:(v=r.renal)==null?void 0:v.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:290,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:288,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No renal modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:294,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:285,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Hepatic Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:298,columnNumber:17},void 0),Array.isArray(r.hepatic)&&r.hepatic.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:(x=r.hepatic)==null?void 0:x.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:302,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:300,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No hepatic modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:306,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:297,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:260,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:259,columnNumber:35},void 0),l.jsxDEV(cn,{value:"safety",className:"mt-6",children:l.jsxDEV(Kt,{children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{className:"flex items-center gap-2 text-red-600",children:[l.jsxDEV(Qe,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:315,columnNumber:19},void 0),"Safety Information"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:314,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:313,columnNumber:15},void 0),l.jsxDEV(tn,{className:"space-y-4",children:[e.precautions&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-amber-600 mb-2",children:"Precautions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:322,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-amber-50 p-3 rounded border-l-4 border-amber-400",children:typeof e.precautions=="string"?e.precautions:Array.isArray(e.precautions)?e.precautions.map((w,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof w=="object"?w.note||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:328,columnNumber:29},void 0)):JSON.stringify(e.precautions,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:323,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:321,columnNumber:19},void 0),e.contraindications&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-red-600 mb-2",children:"Contraindications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:339,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-400",children:typeof e.contraindications=="string"?e.contraindications:JSON.stringify(e.contraindications,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:340,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:338,columnNumber:19},void 0),u&&(u.drugs_to_avoid&&u.drugs_to_avoid.length>0||u.contraindications&&u.contraindications.length>0||u.precautions_with_other_drugs&&u.precautions_with_other_drugs.length>0)&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-orange-600 mb-2",children:"Drug Interactions & Warnings"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:350,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-400 space-y-2",children:["                      ",u.drugs_to_avoid&&u.drugs_to_avoid.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"font-medium text-red-600",children:"Drugs to Avoid:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:353,columnNumber:27},void 0),l.jsxDEV("ul",{className:"list-disc list-inside ml-2",children:u.drugs_to_avoid.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:356,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:354,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:352,columnNumber:25},void 0),u.contraindications&&u.contraindications.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"font-medium text-red-600",children:"Contraindications:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:363,columnNumber:27},void 0),l.jsxDEV("ul",{className:"list-disc list-inside ml-2",children:u.contraindications.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:366,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:364,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:362,columnNumber:25},void 0),u.precautions_with_other_drugs&&u.precautions_with_other_drugs.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"font-medium text-amber-600",children:"Precautions with Other Drugs:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:373,columnNumber:27},void 0),l.jsxDEV("ul",{className:"list-disc list-inside ml-2",children:u.precautions_with_other_drugs.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:376,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:374,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:372,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:349,columnNumber:19},void 0),!e.precautions&&!e.contraindications&&(!u||(!u.drugs_to_avoid||u.drugs_to_avoid.length===0)&&(!u.contraindications||u.contraindications.length===0)&&(!u.precautions_with_other_drugs||u.precautions_with_other_drugs.length===0))&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(Qe,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:387,columnNumber:21},void 0),l.jsxDEV("p",{children:"No specific safety information available for this protocol."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:388,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:386,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:319,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:312,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:311,columnNumber:11},void 0),l.jsxDEV(cn,{value:"support",className:"mt-6",children:l.jsxDEV(Kt,{children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{className:"flex items-center gap-2",children:[l.jsxDEV(uo,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:398,columnNumber:19},void 0),"Support Medications & Care"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:397,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:396,columnNumber:15},void 0),l.jsxDEV(tn,{className:"space-y-4",children:[e.pre_medications&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-blue-600",children:"Pre-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:405,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400",children:typeof e.pre_medications=="string"?e.pre_medications:Array.isArray(e.pre_medications)?e.pre_medications.length>0?e.pre_medications.map((w,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof w=="object"?w.name||w.drug||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:412,columnNumber:31},void 0)):"No pre-medications specified":JSON.stringify(e.pre_medications,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:404,columnNumber:19},void 0),e.post_medications&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-green-600",children:"Post-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:424,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:typeof e.post_medications=="string"?e.post_medications:Array.isArray(e.post_medications)?e.post_medications.length>0?e.post_medications.map((w,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof w=="object"?w.name||w.drug||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:431,columnNumber:31},void 0)):"No post-medications specified":JSON.stringify(e.post_medications,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:425,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:423,columnNumber:19},void 0),e.supportive_meds&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-purple-600",children:"Additional Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:443,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-purple-50 p-3 rounded border-l-4 border-purple-400",children:typeof e.supportive_meds=="string"?e.supportive_meds:Array.isArray(e.supportive_meds)?e.supportive_meds.length>0?e.supportive_meds.map((w,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof w=="object"?w.name||w.drug||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:450,columnNumber:31},void 0)):"No additional supportive medications specified":JSON.stringify(e.supportive_meds,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:444,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:442,columnNumber:19},void 0),!e.pre_medications&&!e.post_medications&&!e.supportive_meds&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(uo,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:462,columnNumber:21},void 0),l.jsxDEV("p",{children:"No support medication information available for this protocol."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:463,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:461,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:402,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:395,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:394,columnNumber:11},void 0),l.jsxDEV(cn,{value:"emergency",className:"mt-6",children:l.jsxDEV(Kt,{children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{className:"flex items-center gap-2 text-red-600",children:[l.jsxDEV(lu,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:473,columnNumber:19},void 0),"Emergency Protocols & Rescue Agents"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:472,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:471,columnNumber:15},void 0),l.jsxDEV(tn,{className:"space-y-4",children:[e.rescue_agents&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-red-600",children:"Emergency/Rescue Agents"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:480,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-400",children:typeof e.rescue_agents=="string"?e.rescue_agents:Array.isArray(e.rescue_agents)?e.rescue_agents.length>0?e.rescue_agents.map((w,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof w=="object"?w.name||w.drug||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:487,columnNumber:31},void 0)):"No rescue agents specified":JSON.stringify(e.rescue_agents,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:481,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:479,columnNumber:19},void 0),"                ",a&&a.thresholds_for_action&&Object.keys(a.thresholds_for_action).length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-orange-600",children:"Emergency Action Thresholds"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:497,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-400",children:l.jsxDEV("div",{className:"grid gap-2",children:Object.entries(a.thresholds_for_action).map(([w,T],M)=>l.jsxDEV("div",{className:"bg-white p-2 rounded border border-orange-200",children:[l.jsxDEV("span",{className:"font-medium text-orange-800",children:[w,":"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:502,columnNumber:29},void 0),l.jsxDEV("span",{className:"ml-2 text-gray-700",children:T},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:503,columnNumber:29},void 0)]},M,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:501,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:499,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:498,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:496,columnNumber:19},void 0),!e.rescue_agents&&(!a||!a.thresholds_for_action||Object.keys(a.thresholds_for_action).length===0)&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(lu,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:513,columnNumber:21},void 0),l.jsxDEV("p",{children:"No emergency protocol information available."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:514,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:512,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:477,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:470,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:469,columnNumber:11},void 0),l.jsxDEV(cn,{value:"references",className:"mt-6",children:l.jsxDEV(Kt,{children:[l.jsxDEV(Zt,{children:l.jsxDEV(en,{className:"flex items-center gap-2",children:[l.jsxDEV(is,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:524,columnNumber:19},void 0),"References & Clinical Evidence"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:523,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:522,columnNumber:15},void 0),l.jsxDEV(tn,{className:"space-y-4",children:[e.reference_list&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-blue-600",children:"Clinical References"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:531,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400",children:typeof e.reference_list=="string"?e.reference_list:Array.isArray(e.reference_list)?e.reference_list.length>0?e.reference_list.map((w,T)=>l.jsxDEV("div",{className:"mb-3 last:mb-0 p-2 bg-white rounded border border-blue-200",children:[l.jsxDEV("span",{className:"text-sm text-blue-800 font-medium",children:["[",T+1,"]"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:539,columnNumber:33},void 0),l.jsxDEV("span",{className:"ml-2",children:typeof w=="object"?w.citation||w.title||JSON.stringify(w):w},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:540,columnNumber:33},void 0)]},T,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:538,columnNumber:31},void 0)):"No references available":JSON.stringify(e.reference_list,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:532,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:530,columnNumber:19},void 0),e.last_reviewed&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-green-600",children:"Protocol Currency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:553,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("span",{className:"font-medium",children:"Last Reviewed:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:556,columnNumber:25},void 0),l.jsxDEV("span",{className:"text-green-700",children:new Date(e.last_reviewed).toLocaleDateString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:557,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:555,columnNumber:23},void 0),(()=>{const w=new Date(e.last_reviewed),_=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60*24))/365;let C="text-green-600",k="Current";return _>2?(C="text-red-600",k="Requires Review"):_>1&&(C="text-amber-600",k="Review Soon"),l.jsxDEV("div",{className:"mt-2 flex items-center justify-between",children:[l.jsxDEV("span",{className:"font-medium",children:"Status:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:578,columnNumber:29},void 0),l.jsxDEV("span",{className:`font-semibold ${C}`,children:k},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:579,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:577,columnNumber:27},void 0)})()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:554,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:552,columnNumber:19},void 0),e.version&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-purple-600",children:"Version Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:589,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-purple-50 p-3 rounded border-l-4 border-purple-400",children:l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("span",{className:"font-medium",children:"Protocol Version:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:592,columnNumber:25},void 0),l.jsxDEV("span",{className:"text-purple-700 font-mono",children:e.version},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:593,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:591,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:590,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:588,columnNumber:19},void 0),!e.reference_list&&!e.last_reviewed&&!e.version&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(is,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:601,columnNumber:21},void 0),l.jsxDEV("p",{children:"No reference or version information available."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:602,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:600,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:521,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:520,columnNumber:11},void 0),l.jsxDEV(cn,{value:"toxicity",children:l.jsxDEV("div",{className:"space-y-6",children:["              ",l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Expected Toxicities"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:610,columnNumber:17},void 0),a!=null&&a.expected_toxicities&&a.expected_toxicities.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:a.expected_toxicities.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:614,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:612,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No expected toxicities specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:618,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:609,columnNumber:54},void 0),(a==null?void 0:a.monitoring_parameters)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Parameters"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:623,columnNumber:19},void 0),l.jsxDEV("p",{className:"whitespace-pre-line",children:a.monitoring_parameters},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:624,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:622,columnNumber:17},void 0),(a==null?void 0:a.frequency_details)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Frequency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:630,columnNumber:19},void 0),l.jsxDEV("p",{className:"whitespace-pre-line",children:a.frequency_details},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:631,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:629,columnNumber:17},void 0),(a==null?void 0:a.thresholds_for_action)&&Object.keys(a.thresholds_for_action).length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Action Thresholds"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:637,columnNumber:19},void 0),l.jsxDEV("div",{className:"grid gap-2",children:Object.entries(a.thresholds_for_action).map(([w,T],M)=>l.jsxDEV("div",{className:"bg-muted p-2 rounded-md",children:[l.jsxDEV("span",{className:"font-medium",children:[w,":"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:641,columnNumber:25},void 0)," ",T]},M,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:640,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:638,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:636,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:609,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:608,columnNumber:11},void 0),"          ",l.jsxDEV(cn,{value:"interactions",children:l.jsxDEV("div",{className:"space-y-6",children:[(u==null?void 0:u.drugs_to_avoid)&&u.drugs_to_avoid.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Drugs to Avoid"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:652,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:u.drugs_to_avoid.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:655,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:653,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:651,columnNumber:17},void 0),(u==null?void 0:u.contraindications)&&u.contraindications.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Contraindications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:663,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:u.contraindications.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:666,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:664,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:662,columnNumber:17},void 0),(u==null?void 0:u.precautions_with_other_drugs)&&u.precautions_with_other_drugs.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Precautions with Other Drugs"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:674,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:u.precautions_with_other_drugs.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:677,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:675,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:673,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:649,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:648,columnNumber:35},void 0),l.jsxDEV(cn,{value:"supportiveCare",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Required Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:686,columnNumber:17},void 0),((E=c==null?void 0:c.required)==null?void 0:E.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:c.required.map((w,T)=>l.jsxDEV("li",{children:typeof w=="object"?w.name||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:690,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:688,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No required supportive care specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:694,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:685,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Optional Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:699,columnNumber:17},void 0),((N=c==null?void 0:c.optional)==null?void 0:N.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:c.optional.map((w,T)=>l.jsxDEV("li",{children:typeof w=="object"?w.name||JSON.stringify(w):w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:703,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:701,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No optional supportive care specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:707,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:698,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Requirements"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:712,columnNumber:17},void 0),((D=c==null?void 0:c.monitoring)==null?void 0:D.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:c.monitoring.map((w,T)=>l.jsxDEV("li",{children:w},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:716,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:714,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No monitoring requirements specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:720,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:711,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:684,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:683,columnNumber:25},void 0),l.jsxDEV(cn,{value:"info",children:l.jsxDEV(Mee,{lastReviewed:e.last_reviewed,version:e.version,status:e.status,createdBy:e.created_by,updatedBy:e.updated_by,createdAt:e.created_at,updatedAt:e.updated_at},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:726,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:725,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:136,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:130,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:129,columnNumber:5},void 0)},CM=e=>{if(!e||typeof e!="object")return!1;const t=e;return typeof t.id=="string"&&typeof t.code=="string"&&typeof t.tumour_group=="string"},PM=e=>{const t=s=>{if(typeof s=="string"){const i=s.trim();if(i.startsWith("{")&&i.endsWith("}")||i.startsWith("[")&&i.endsWith("]"))try{return JSON.parse(i)}catch{return console.warn("Invalid JSON:",s),s}return s}return s};console.log("Raw treatment data:",e.treatment);const n={id:e.id,code:e.code,tumour_group:e.tumour_group,treatment_intent:e.treatment_intent||"",eligibility:t(e.eligibility),treatment:t(e.treatment),tests:t(e.tests),dose_modifications:t(e.dose_modifications),precautions:t(e.precautions),reference_list:t(e.reference_list),toxicity_monitoring:t(e.toxicity_monitoring),supportive_care:t(e.supportive_care),drug_class:t(e.drug_class),interactions:t(e.interactions),administration_notes:e.administration_notes||[],pre_medications:t(e.pre_medications),post_medications:t(e.post_medications),rescue_agents:t(e.rescue_agents)};return console.log("Transformed protocol:",{id:n.id,code:n.code,treatment:n.treatment}),n},AM=async()=>{const{data:e,error:t}=await Ro.from("cd_protocols").select("tumour_supergroup").order("tumour_supergroup");if(t)throw console.error("Error fetching tumour supergroups:",t),new Error("Failed to fetch tumour supergroups.");return Array.isArray(e)?[...new Set(e.map(s=>s.tumour_supergroup).filter(s=>typeof s=="string"))]:(console.error("Invalid response format for tumour supergroups"),[])},Pee=async e=>{let t=Ro.from("cd_protocols").select("tumour_group, tumour_supergroup").order("tumour_group");e&&(t=t.eq("tumour_supergroup",e));const{data:n,error:s}=await t;if(s)throw console.error("Error fetching tumor groups:",s),new Error("Failed to fetch tumor groups.");return Array.isArray(n)?[...new Set(n.map(o=>o.tumour_group).filter(o=>typeof o=="string"))]:(console.error("Invalid response format for tumor groups"),[])},Aee=async e=>{const{data:t,error:n}=await Ro.from("cd_protocols").select("*").eq("tumour_group",e).order("code");if(n)throw console.error("Error fetching protocols for tumor group",e,":",n),new Error(`Failed to fetch protocols for tumor group ${e}.`);if(!Array.isArray(t))return console.error("Invalid response format:",t),[];const s=[];return t.forEach((i,o)=>{if(CM(i))try{s.push(PM(i))}catch(r){console.warn(`Failed to process protocol at index ${o}:`,r)}else console.warn(`Invalid protocol data at index ${o}`)}),s},jee=async e=>{try{let t=Ro.from("cd_protocols").select("*");e&&(e.tumorGroup&&(t=t.eq("tumour_group",e.tumorGroup)),e.treatmentIntent&&(t=t.eq("treatment_intent",e.treatmentIntent)),e.drugName&&(t=t.contains("treatment->>drugs",e.drugName)));const{data:n,error:s}=await t;if(console.log("[CDU] cd_protocols data:",n),s)throw s;if(!(n!=null&&n.length))return[];n.forEach((o,r)=>{["id","code","tumour_group","treatment"].forEach(a=>{a in o||console.warn(`[CDU] cd_protocols row missing field: ${a} (row #${r})`,o)})});const i=[];return n.forEach((o,r)=>{if(CM(o))try{const a=PM(o);i.push(a)}catch(a){console.warn(`Failed to process protocol at index ${r}:`,a)}else console.warn(`Invalid protocol data at index ${r}`)}),i}catch(t){throw console.error("Error fetching protocols:",t),new Error(`Failed to fetch protocols: ${t instanceof Error?t.message:String(t)}`)}},Iee=({error:e,type:t="error"})=>{const n=t==="error"?"bg-red-50 dark:bg-red-900/10":t==="warning"?"bg-yellow-50 dark:bg-yellow-900/10":"bg-blue-50 dark:bg-blue-900/10",s=t==="error"?"text-red-700 dark:text-red-200":t==="warning"?"text-yellow-700 dark:text-yellow-200":"text-blue-700 dark:text-blue-200",i=t==="error"?"text-red-400 dark:text-red-300":t==="warning"?"text-yellow-400 dark:text-yellow-300":"text-blue-400 dark:text-blue-300";return l.jsxDEV("div",{className:`rounded-lg p-4 ${n}`,children:l.jsxDEV("div",{className:"flex items-center space-x-3",children:[l.jsxDEV(Ps,{className:`h-5 w-5 ${i}`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:25,columnNumber:9},void 0),l.jsxDEV("div",{className:`text-sm font-medium ${s}`,children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:26,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:24,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:23,columnNumber:5},void 0)},Ree=()=>l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,t)=>l.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 animate-pulse",children:[l.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:18,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:20,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:21,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-4/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:22,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:19,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-4 flex gap-2",children:[l.jsxDEV("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:25,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:26,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:24,columnNumber:13},void 0)]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:14,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:6,columnNumber:5},void 0);function Vee(){const[e,t]=b.useState([]),[n,s]=b.useState(null),[i,o]=b.useState([]),[r,a]=b.useState(null),[c,u]=b.useState([]),[d,m]=b.useState(null),[f,h]=b.useState(!0),[p,g]=b.useState(null);return b.useEffect(()=>{(async()=>{try{h(!0),g(null);const x=await AM();t(x)}catch{g("Failed to load tumour supergroups.")}finally{h(!1)}})()},[]),b.useEffect(()=>{n&&(h(!0),a(null),u([]),Pee(n).then(v=>{o(v),h(!1)}).catch(()=>{g("Failed to load tumour groups."),h(!1)}))},[n]),b.useEffect(()=>{r&&(h(!0),Aee(r).then(v=>{u(v),h(!1)}).catch(()=>{g("Failed to load protocols for this group."),h(!1)}))},[r]),f?l.jsxDEV(Ree,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:71,columnNumber:23},this):p?l.jsxDEV(Iee,{error:p,type:"error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:72,columnNumber:21},this):n?n&&!r?l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:[l.jsxDEV("button",{onClick:()=>s(null),className:"mb-4 px-4 py-2 text-gray-600 hover:text-gray-800",children:" Back to Supergroups"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:108,columnNumber:9},this),l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Select Tumour Group"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:114,columnNumber:9},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(v=>l.jsxDEV("div",{className:"cursor-pointer p-6 rounded-xl shadow-md bg-gradient-to-br from-blue-50 to-blue-100 hover:bg-blue-200 transition",onClick:()=>a(v),children:l.jsxDEV("h2",{className:"text-xl font-bold text-blue-900",children:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:122,columnNumber:15},this)},v,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:117,columnNumber:13},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:102,columnNumber:7},this):r?l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:[l.jsxDEV("button",{onClick:()=>a(null),className:"mb-4 px-4 py-2 text-gray-600 hover:text-gray-800",children:" Back to Groups"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:139,columnNumber:9},this),l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:["Protocols in ",r]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:145,columnNumber:9},this),c.length===0?l.jsxDEV("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No protocols found."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:147,columnNumber:11},this):l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(v=>l.jsxDEV("div",{onClick:()=>m(v),children:l.jsxDEV(sZ,{protocol:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:154,columnNumber:17},this)},v.code,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:153,columnNumber:15},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:151,columnNumber:11},this),d&&l.jsxDEV(Cee,{protocol:d,open:!!d,onOpenChange:v=>{v||m(null)}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:160,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:133,columnNumber:7},this):null:l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Select Tumour Supergroup"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:83,columnNumber:9},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>l.jsxDEV("div",{className:"cursor-pointer p-6 rounded-xl shadow-md bg-gradient-to-br from-indigo-50 to-indigo-100 hover:bg-indigo-200 transition",onClick:()=>s(v),children:l.jsxDEV("h2",{className:"text-xl font-bold text-indigo-900",children:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:91,columnNumber:15},this)},v,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:86,columnNumber:13},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:77,columnNumber:7},this)}const Oee=[{id:"overview",label:"Overview",color:"bg-blue-500",hoverColor:"hover:bg-blue-600",icon:l.jsxDEV(ld,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:66,columnNumber:11},void 0)},{id:"eligibility",label:"Eligibility",color:"bg-green-500",hoverColor:"hover:bg-green-600",icon:l.jsxDEV(ji,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:73,columnNumber:11},void 0)},{id:"treatment",label:"Treatment",color:"bg-purple-500",hoverColor:"hover:bg-purple-600",icon:l.jsxDEV(uo,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:80,columnNumber:11},void 0)},{id:"tests",label:"Tests",color:"bg-amber-500",hoverColor:"hover:bg-amber-600",icon:l.jsxDEV(Lf,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:87,columnNumber:11},void 0)},{id:"monitoring",label:"Monitoring",color:"bg-cyan-500",hoverColor:"hover:bg-cyan-600",icon:l.jsxDEV(Xs,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:94,columnNumber:11},void 0)},{id:"toxicity",label:"Toxicity",color:"bg-red-500",hoverColor:"hover:bg-red-600",icon:l.jsxDEV(Qe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:101,columnNumber:11},void 0)},{id:"modifications",label:"Modifications",color:"bg-yellow-500",hoverColor:"hover:bg-yellow-600",icon:l.jsxDEV(_C,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:108,columnNumber:11},void 0)},{id:"pharmacology",label:"Pharmacology",color:"bg-pink-500",hoverColor:"hover:bg-pink-600",icon:l.jsxDEV(S1,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:115,columnNumber:11},void 0)},{id:"administration",label:"Administration",color:"bg-violet-500",hoverColor:"hover:bg-violet-600",icon:l.jsxDEV(ko,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:122,columnNumber:11},void 0)},{id:"prepost",label:"Pre/Post Meds",color:"bg-emerald-500",hoverColor:"hover:bg-emerald-600",icon:l.jsxDEV(kC,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:129,columnNumber:11},void 0)},{id:"rescue",label:"Rescue & Support",color:"bg-rose-500",hoverColor:"hover:bg-rose-600",icon:l.jsxDEV(lu,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:136,columnNumber:11},void 0)},{id:"precautions",label:"Precautions",color:"bg-orange-500",hoverColor:"hover:bg-orange-600",icon:l.jsxDEV(MC,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:143,columnNumber:11},void 0)},{id:"ai",label:"AI Insights",color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",icon:l.jsxDEV(_1,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:150,columnNumber:11},void 0)},{id:"info",label:"Info & Metadata",color:"bg-slate-500",hoverColor:"hover:bg-slate-600",icon:l.jsxDEV(CC,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:157,columnNumber:11},void 0)}],u1=({type:e,title:t,message:n})=>{const s={warning:"bg-yellow-50 border-yellow-400 text-yellow-800",error:"bg-red-50 border-red-400 text-red-800",success:"bg-green-50 border-green-400 text-green-800"};return l.jsxDEV("div",{className:`p-4 mb-4 border-l-4 rounded-r ${s[e]}`,children:[l.jsxDEV("div",{className:"flex items-center",children:[e==="warning"&&l.jsxDEV(Qe,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:175,columnNumber:32},void 0),e==="error"&&l.jsxDEV(ss,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:176,columnNumber:30},void 0),e==="success"&&l.jsxDEV(ji,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:177,columnNumber:32},void 0),l.jsxDEV("h3",{className:"font-semibold",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:174,columnNumber:7},void 0),l.jsxDEV("p",{className:"mt-2",children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:180,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:173,columnNumber:5},void 0)},tt=({title:e,children:t,defaultOpen:n=!1})=>{const[s,i]=b.useState(n);return l.jsxDEV("div",{className:"border rounded-lg mb-4",children:[l.jsxDEV("button",{onClick:()=>i(!s),className:"w-full px-4 py-2 flex items-center justify-between bg-gray-50 hover:bg-gray-100 rounded-lg",children:[l.jsxDEV("span",{className:"font-semibold",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:198,columnNumber:9},void 0),s?l.jsxDEV(Tp,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:199,columnNumber:19},void 0):l.jsxDEV(Br,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:199,columnNumber:55},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:194,columnNumber:7},void 0),l.jsxDEV(As,{children:s&&l.jsxDEV(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxDEV("div",{className:"p-4 border-t",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:210,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:203,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:201,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:193,columnNumber:5},void 0)},sr=({data:e})=>l.jsxDEV("div",{className:"overflow-x-auto",children:l.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsxDEV("thead",{className:"bg-gray-50",children:l.jsxDEV("tr",{children:[l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drug Name"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:226,columnNumber:13},void 0),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dose"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:227,columnNumber:13},void 0),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Administration"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:228,columnNumber:13},void 0),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Alternatives"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:229,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:225,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:224,columnNumber:9},void 0),l.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,n)=>{var s;return l.jsxDEV("tr",{className:n%2===0?"bg-white":"bg-gray-50",children:[l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:235,columnNumber:15},void 0),l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.dose},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:236,columnNumber:15},void 0),l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.administration},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:237,columnNumber:15},void 0),l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((s=t.alternative_switches)==null?void 0:s.join(", "))||"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:238,columnNumber:15},void 0)]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:234,columnNumber:13},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:232,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:223,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:222,columnNumber:5},void 0),Lee=({protocol:e,activeTab:t})=>{var i,o,r,a,c,u,d,m,f,h,p,g,v;const n=x=>!x||!Array.isArray(x)||x.length===0?l.jsxDEV("p",{className:"text-gray-600",children:"No information available"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:255,columnNumber:14},void 0):l.jsxDEV("ul",{className:"list-disc list-inside space-y-2",children:x.map((E,N)=>l.jsxDEV("li",{className:"text-gray-700",children:typeof E=="string"?E:l.jsxDEV("div",{children:[E.test&&l.jsxDEV("span",{children:[l.jsxDEV("strong",{children:E.test},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:269,columnNumber:21},void 0),E.purpose&&l.jsxDEV("span",{children:["  ",E.purpose]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:270,columnNumber:38},void 0),E.frequency&&l.jsxDEV("span",{children:[" (",E.frequency,")"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:271,columnNumber:40},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:268,columnNumber:19},void 0),E.name&&l.jsxDEV("span",{children:[l.jsxDEV("strong",{children:E.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:278,columnNumber:21},void 0),E.dose&&l.jsxDEV("span",{children:["  ",E.dose]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:279,columnNumber:35},void 0),E.timing&&l.jsxDEV("span",{children:[" at ",E.timing]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:280,columnNumber:37},void 0),E.route&&l.jsxDEV("span",{children:[" via ",E.route]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:281,columnNumber:36},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:277,columnNumber:19},void 0),E.indication&&l.jsxDEV("span",{children:[l.jsxDEV("strong",{children:E.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:288,columnNumber:21},void 0),E.indication&&l.jsxDEV("span",{children:["  ",E.indication]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:289,columnNumber:41},void 0),E.dosing&&l.jsxDEV("div",{className:"ml-4 text-sm",children:E.dosing},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:290,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:287,columnNumber:19},void 0),E.criteria&&l.jsxDEV("div",{children:[l.jsxDEV("div",{children:[l.jsxDEV("strong",{children:"Criteria:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:297,columnNumber:26},void 0)," ",E.criteria]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:297,columnNumber:21},void 0),E.drug_a_reduction&&l.jsxDEV("div",{className:"ml-4",children:["Drug A: ",E.drug_a_reduction]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:298,columnNumber:47},void 0),E.drug_b_reduction&&l.jsxDEV("div",{className:"ml-4",children:["Drug B: ",E.drug_b_reduction]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:299,columnNumber:47},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:296,columnNumber:19},void 0),!E.test&&!E.name&&!E.indication&&!E.criteria&&l.jsxDEV("span",{children:JSON.stringify(E)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:305,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:265,columnNumber:15},void 0)},N,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:261,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:259,columnNumber:7},void 0),s={overview:l.jsxDEV("div",{className:"space-y-6",children:[((i=e.eligibility)==null?void 0:i.exclusion_criteria)&&l.jsxDEV(u1,{type:"error",title:"Exclusion Criteria",message:e.eligibility.exclusion_criteria.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:319,columnNumber:11},void 0),l.jsxDEV(tt,{title:"Eligibility Criteria",defaultOpen:!0,children:n((o=e.eligibility)==null?void 0:o.inclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:326,columnNumber:9},void 0),l.jsxDEV(tt,{title:"Exclusions",children:n((r=e.eligibility)==null?void 0:r.exclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:330,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:317,columnNumber:7},void 0),eligibility:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(tt,{title:"Inclusion Criteria",defaultOpen:!0,children:n((a=e.eligibility)==null?void 0:a.inclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:337,columnNumber:9},void 0),l.jsxDEV(tt,{title:"Exclusion Criteria",children:n((c=e.eligibility)==null?void 0:c.exclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:341,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:336,columnNumber:7},void 0),tests:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(tt,{title:"Baseline Tests",defaultOpen:!0,children:n((u=e.tests)==null?void 0:u.baseline)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:348,columnNumber:9},void 0),l.jsxDEV(tt,{title:"Monitoring Tests",children:n((d=e.tests)==null?void 0:d.monitoring)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:352,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:347,columnNumber:7},void 0),treatment:l.jsxDEV("div",{className:"space-y-6",children:[e.treatment&&"protocol"in e.treatment&&l.jsxDEV("div",{className:"mb-6",children:[l.jsxDEV("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Treatment Protocol"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:361,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-700",children:e.treatment.protocol},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:360,columnNumber:13},void 0),((m=e.treatment)==null?void 0:m.drugs)&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-indigo-900 mb-4",children:"Treatment Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:368,columnNumber:13},void 0),l.jsxDEV(sr,{data:e.treatment.drugs},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:369,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:367,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:358,columnNumber:9},void 0),monitoring:l.jsxDEV("div",{className:"space-y-6",children:[e.toxicity_monitoring&&l.jsxDEV("div",{className:"bg-orange-50 rounded-lg p-4 mb-6",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-orange-900 mb-2",children:"Toxicity Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:378,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("h5",{className:"font-medium text-orange-800 mb-2",children:"Parameters to Monitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:381,columnNumber:17},void 0),n(e.toxicity_monitoring.parameters)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:380,columnNumber:15},void 0),e.toxicity_monitoring.frequency&&l.jsxDEV("p",{className:"text-orange-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Frequency:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:386,columnNumber:19},void 0)," ",e.toxicity_monitoring.frequency]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:385,columnNumber:17},void 0),Object.keys(e.toxicity_monitoring.thresholds).length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h5",{className:"font-medium text-orange-800 mb-2",children:"Threshold Values"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:391,columnNumber:19},void 0),l.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm text-orange-700",children:JSON.stringify(e.toxicity_monitoring.thresholds,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:392,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:390,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:379,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:377,columnNumber:11},void 0),e.monitoring&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(tt,{title:"Baseline Monitoring",defaultOpen:!0,children:n(e.monitoring.baseline)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:403,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Ongoing Monitoring",children:n(e.monitoring.ongoing)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:406,columnNumber:13},void 0),e.monitoring.frequency&&l.jsxDEV("div",{className:"bg-orange-50 p-4 rounded-lg",children:[l.jsxDEV("h5",{className:"font-medium text-orange-800",children:"Monitoring Frequency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:411,columnNumber:17},void 0),l.jsxDEV("p",{className:"mt-1 text-orange-700",children:e.monitoring.frequency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:412,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:410,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:402,columnNumber:11},void 0),e.ai_notes&&l.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-purple-900 mb-4",children:"AI Monitoring Recommendations"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:420,columnNumber:13},void 0),e.ai_notes.recommendations&&l.jsxDEV(tt,{title:"Recommendations",children:n(e.ai_notes.recommendations)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:422,columnNumber:15},void 0),e.ai_notes.warnings&&l.jsxDEV(tt,{title:"Warnings",children:n(e.ai_notes.warnings)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:427,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:419,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:375,columnNumber:7},void 0),toxicity:l.jsxDEV("div",{className:"space-y-6",children:e.toxicity_monitoring&&l.jsxDEV(tt,{title:"Toxicity Monitoring",defaultOpen:!0,children:n((f=e.toxicity_monitoring)==null?void 0:f.parameters)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:438,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:436,columnNumber:7},void 0),modifications:l.jsxDEV("div",{className:"space-y-6",children:[((h=e.dose_modifications)==null?void 0:h.hematological)&&l.jsxDEV(tt,{title:"Hematological Modifications",defaultOpen:!0,children:n(e.dose_modifications.hematological)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:447,columnNumber:11},void 0),((p=e.dose_modifications)==null?void 0:p.nonHematological)&&l.jsxDEV(tt,{title:"Non-Hematological Modifications",children:n(e.dose_modifications.nonHematological)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:453,columnNumber:11},void 0),((g=e.dose_modifications)==null?void 0:g.renal)&&l.jsxDEV(tt,{title:"Renal Modifications",children:n(e.dose_modifications.renal)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:459,columnNumber:11},void 0),((v=e.dose_modifications)==null?void 0:v.hepatic)&&l.jsxDEV(tt,{title:"Hepatic Modifications",children:n(e.dose_modifications.hepatic)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:445,columnNumber:7},void 0),pharmacology:l.jsxDEV("div",{className:"space-y-6",children:[e.drug_class&&l.jsxDEV("div",{className:"bg-pink-50 p-4 rounded-lg",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-pink-900 mb-2",children:"Drug Classification"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:475,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-2",children:[e.drug_class.name&&l.jsxDEV("p",{className:"text-pink-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Class:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:479,columnNumber:19},void 0)," ",e.drug_class.name]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:478,columnNumber:17},void 0),e.drug_class.mechanism&&l.jsxDEV("p",{className:"text-pink-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Mechanism:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:484,columnNumber:19},void 0)," ",e.drug_class.mechanism]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:483,columnNumber:17},void 0),e.drug_class.classification&&l.jsxDEV("p",{className:"text-pink-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Classification:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:489,columnNumber:19},void 0)," ",e.drug_class.classification]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:488,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:476,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:474,columnNumber:11},void 0),l.jsxDEV(tt,{title:"Pharmacokinetics",defaultOpen:!0,children:l.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(e.pharmacokinetics,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:497,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:496,columnNumber:9},void 0),e.interactions&&l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV(tt,{title:"Drug Interactions",children:n(e.interactions.drugs)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:504,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Contraindications",children:n(e.interactions.contraindications)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:507,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Special Precautions",children:n(e.interactions.precautions)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:510,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:503,columnNumber:11},void 0),e.administration_notes&&l.jsxDEV(tt,{title:"Administration Notes",children:n(e.administration_notes)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:517,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:472,columnNumber:7},void 0),administration:l.jsxDEV("div",{className:"space-y-6",children:e.administration_notes&&l.jsxDEV(tt,{title:"Administration Notes",defaultOpen:!0,children:n(e.administration_notes)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:526,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:524,columnNumber:7},void 0),prepost:l.jsxDEV("div",{className:"space-y-6",children:[e.pre_medications&&l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Pre-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:536,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Required Pre-medications",defaultOpen:!0,children:l.jsxDEV(sr,{data:e.pre_medications.required},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:538,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:537,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Optional Pre-medications",children:l.jsxDEV(sr,{data:e.pre_medications.optional},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:541,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:540,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:535,columnNumber:11},void 0),e.post_medications&&l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Post-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:548,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Required Post-medications",children:l.jsxDEV(sr,{data:e.post_medications.required},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:550,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:549,columnNumber:13},void 0),l.jsxDEV(tt,{title:"Optional Post-medications",children:l.jsxDEV(sr,{data:e.post_medications.optional},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:553,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:552,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:547,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:533,columnNumber:7},void 0),rescue:l.jsxDEV("div",{className:"space-y-6",children:[e.rescue_agents&&e.rescue_agents.length>0&&l.jsxDEV("div",{className:"bg-teal-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Rescue Agents"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:563,columnNumber:13},void 0),l.jsxDEV("div",{className:"divide-y divide-teal-200",children:e.rescue_agents.map((x,E)=>l.jsxDEV("div",{className:"py-3",children:[l.jsxDEV("h5",{className:"font-medium text-teal-800",children:x.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:567,columnNumber:19},void 0),l.jsxDEV("p",{className:"text-sm text-teal-700 mt-1",children:[l.jsxDEV("span",{className:"font-medium",children:"Indication:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:568,columnNumber:61},void 0)," ",x.indication]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:568,columnNumber:19},void 0),l.jsxDEV("p",{className:"text-sm text-teal-700 mt-1",children:[l.jsxDEV("span",{className:"font-medium",children:"Dosing:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:569,columnNumber:61},void 0)," ",x.dosing]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:569,columnNumber:19},void 0)]},E,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:566,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:564,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:562,columnNumber:11},void 0),e.supportive_meds&&e.supportive_meds.length>0&&l.jsxDEV("div",{className:"bg-teal-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Supportive Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:578,columnNumber:13},void 0),l.jsxDEV(sr,{data:e.supportive_meds},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:579,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:577,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:560,columnNumber:7},void 0),precautions:l.jsxDEV("div",{className:"space-y-6",children:[e.precautions&&e.precautions.length>0&&l.jsxDEV(u1,{type:"warning",title:"Precautions",message:e.precautions.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:587,columnNumber:11},void 0),l.jsxDEV(tt,{title:"Precautions",defaultOpen:!0,children:n(e.precautions)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:594,columnNumber:9},void 0),l.jsxDEV(tt,{title:"References",children:n(e.reference_list)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:598,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:585,columnNumber:7},void 0),ai:l.jsxDEV("div",{className:"space-y-6",children:e.ai_notes&&l.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-purple-900 mb-4",children:"AI Insights"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:607,columnNumber:13},void 0),e.ai_notes.recommendations&&l.jsxDEV(tt,{title:"Recommendations",defaultOpen:!0,children:n(e.ai_notes.recommendations)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:609,columnNumber:15},void 0),e.ai_notes.warnings&&l.jsxDEV(tt,{title:"Warnings",children:n(e.ai_notes.warnings)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:614,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:606,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:604,columnNumber:7},void 0),info:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Protocol Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:625,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Code"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:628,columnNumber:15},void 0),l.jsxDEV("p",{className:"font-medium",children:e.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:629,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:627,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Tumor Group"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:632,columnNumber:15},void 0),l.jsxDEV("p",{className:"font-medium",children:e.tumour_group},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:633,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:631,columnNumber:13},void 0),e.treatment_intent&&l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Treatment Intent"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:637,columnNumber:17},void 0),l.jsxDEV("p",{className:"font-medium",children:e.treatment_intent},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:638,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:636,columnNumber:15},void 0),e.version&&l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Version"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:643,columnNumber:17},void 0),l.jsxDEV("p",{className:"font-medium",children:e.version},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:644,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:642,columnNumber:15},void 0),e.last_reviewed&&l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Last Reviewed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:649,columnNumber:17},void 0),l.jsxDEV("p",{className:"font-medium",children:e.last_reviewed},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:650,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:648,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:626,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:624,columnNumber:9},void 0),e.reference_list&&e.reference_list.length>0&&l.jsxDEV(tt,{title:"References",defaultOpen:!0,children:n(e.reference_list)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:657,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:623,columnNumber:7},void 0)};return l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-6",children:s[t]},t,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:666,columnNumber:5},void 0)},jM=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(null),[i,o]=b.useState([]),[r,a]=b.useState(!0),[c,u]=b.useState(null);b.useEffect(()=>{(async()=>{try{a(!0),u(null);const f=await AM();t(f)}catch{u("Failed to load tumour supergroups.")}finally{a(!1)}})()},[]),b.useEffect(()=>{n&&(async()=>{try{a(!0),u(null);const f=await jee({tumorGroup:n,drugName:null,treatmentIntent:null});o(f)}catch{u("Failed to load protocols for this supergroup.")}finally{a(!1)}})()},[n]);const d=()=>{selectedProtocol?setSelectedProtocol(null):n&&(s(null),o([]))};return r?l.jsxDEV("div",{className:"flex items-center justify-center h-32 text-indigo-600",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:769,columnNumber:7},void 0):c?l.jsxDEV("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 text-red-700",children:[c,l.jsxDEV("button",{onClick:d,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:779,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:777,columnNumber:7},void 0):selectedProtocol?l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"flex items-center space-x-4",children:l.jsxDEV("button",{onClick:d,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[l.jsxDEV($b,{className:"w-5 h-5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:797,columnNumber:13},void 0),"Back to Protocols"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:793,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:792,columnNumber:9},void 0),l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsxDEV("div",{className:"p-6 border-b",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-indigo-900",children:selectedProtocol.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:803,columnNumber:13},void 0),selectedProtocol.treatment_intent&&l.jsxDEV("p",{className:"text-gray-600 mt-1",children:["Intent: ",selectedProtocol.treatment_intent]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:807,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:802,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex space-x-1 p-2 bg-gray-50",children:Oee.map(m=>l.jsxDEV("button",{onClick:()=>setActiveTab(m.id),className:`px-4 py-2 rounded-md text-white transition-colors duration-200 flex items-center space-x-2 ${activeTab===m.id?`${m.color}`:"bg-gray-400"} ${m.hoverColor}`,children:[m.icon,l.jsxDEV("span",{children:m.label},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:822,columnNumber:17},void 0)]},m.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:814,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:812,columnNumber:11},void 0),l.jsxDEV(As,{mode:"wait",children:l.jsxDEV(Lee,{protocol:selectedProtocol,activeTab},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:827,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:826,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:801,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:791,columnNumber:7},void 0):n?n&&!selectedProtocol?l.jsxDEV("div",{className:"space-y-8",children:[l.jsxDEV("button",{onClick:d,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[l.jsxDEV($b,{className:"w-5 h-5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:862,columnNumber:11},void 0),"Back to Supergroups"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:858,columnNumber:9},void 0),l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:["Protocols in ",n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:865,columnNumber:9},void 0),i.length===0?l.jsxDEV("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No protocols found."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:867,columnNumber:11},void 0):l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(m=>l.jsxDEV(UnifiedProtocolCard,{protocol:m},m.code,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:873,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:871,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:857,columnNumber:7},void 0):null:l.jsxDEV("div",{className:"space-y-8",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Select Tumour Supergroup"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:838,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(m=>l.jsxDEV("div",{className:"cursor-pointer p-6 rounded-xl shadow-md bg-gradient-to-br from-indigo-50 to-indigo-100 hover:bg-indigo-200 transition",onClick:()=>s(m),children:l.jsxDEV("h2",{className:"text-xl font-bold text-indigo-900",children:m},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:846,columnNumber:15},void 0)},m,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:841,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:839,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:837,columnNumber:7},void 0)},Fee=e=>{var t,n,s;return{id:e.id||crypto.randomUUID(),name:e.name||"Not specified",severity:e.severity||"Not specified",grading_scale:e.grading_scale||"CTCAE v5.0",recognition:e.recognition||"",symptoms:Array.isArray(e.symptoms)?e.symptoms:[],signs:Array.isArray(e.signs)?e.signs:[],imaging:Array.isArray(e.imaging)?e.imaging:[],labs:Array.isArray(e.labs)?e.labs:[],clinical_category:e.clinical_category||"Uncategorized",symptom_onset:e.symptom_onset||"",expected_onset:e.expected_onset||"",onset_timing_days:e.onset_timing_days||0,reversibility:e.reversibility||"Unknown",toxicity_type:e.toxicity_type||"Unknown",is_dose_limiting:!!e.is_dose_limiting,requires_hospitalization:!!e.requires_hospitalization,toxicity_risk_factors:Array.isArray(e.toxicity_risk_factors)?e.toxicity_risk_factors:[],management:Array.isArray(e.management)?e.management:[],dose_guidance:Array.isArray(e.dose_guidance)?e.dose_guidance:[],culprit_drugs:Array.isArray(e.culprit_drugs)?e.culprit_drugs:[],culprit_classes:Array.isArray(e.culprit_classes)?e.culprit_classes:[],intervention_required:Array.isArray(e.intervention_required)?e.intervention_required:[],monitoring_recommendations:Array.isArray(e.monitoring_recommendations)?e.monitoring_recommendations:[],lab_triggers:Array.isArray(e.lab_triggers)?e.lab_triggers:[],related_toxicity_ids:Array.isArray(e.related_toxicity_ids)?e.related_toxicity_ids:[],monitoring_frequency:{initial:((t=e.monitoring_frequency)==null?void 0:t.initial)||"Not specified",followup:((n=e.monitoring_frequency)==null?void 0:n.followup)||"Not specified",longterm:((s=e.monitoring_frequency)==null?void 0:s.longterm)||"Not specified"},reference_data:e.reference_data||{},source_reference:e.source_reference||"",notes:e.notes||"",notes_clinical_pearls:e.notes_clinical_pearls||"",notes_ui_display:e.notes_ui_display||"",toxicity_score_weight:e.toxicity_score_weight||0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||new Date().toISOString()}},Bee=async()=>{try{const{data:e,error:t}=await Ro.from("toxicities").select(`
        id, name, severity, grading_scale, recognition,
        symptoms, signs, imaging, labs, clinical_category,
        symptom_onset, expected_onset, onset_timing_days,
        reversibility, toxicity_type, is_dose_limiting,
        requires_hospitalization, toxicity_risk_factors,
        management, dose_guidance, culprit_drugs,
        culprit_classes, intervention_required,
        monitoring_recommendations, lab_triggers,
        related_toxicity_ids, monitoring_frequency,
        reference_data, source_reference, notes,
        notes_clinical_pearls, notes_ui_display,
        toxicity_score_weight, created_at, updated_at
      `);if(t)throw new Error(`Toxicity fetch error: ${t.message}`);return(e||[]).map(n=>Fee(n))}catch(e){throw console.error("Error fetching toxicities:",e),e}},Hee=({type:e,title:t,message:n,className:s=""})=>{const i={warning:"bg-yellow-50 border-yellow-400 text-yellow-800",error:"bg-red-50 border-red-400 text-red-800",success:"bg-green-50 border-green-400 text-green-800",info:"bg-blue-50 border-blue-400 text-blue-800"},o={warning:l.jsxDEV(Qe,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:46,columnNumber:14},void 0),error:l.jsxDEV(ss,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:47,columnNumber:12},void 0),success:l.jsxDEV(ji,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:48,columnNumber:14},void 0),info:l.jsxDEV(ld,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:49,columnNumber:11},void 0)},r=Array.isArray(n)?n:[n];return l.jsxDEV("div",{className:`p-4 mb-4 border-l-4 rounded-r ${i[e]} ${s}`,children:[l.jsxDEV("div",{className:"flex items-center",children:[o[e],l.jsxDEV("h3",{className:"font-semibold",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:58,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:56,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-2",children:r.map((a,c)=>l.jsxDEV("p",{className:"text-sm leading-snug",children:a},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:62,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:60,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:55,columnNumber:5},void 0)},Uee=e=>e.includes("4")?"bg-red-100 text-red-800":e.includes("3")?"bg-orange-100 text-orange-800":e.includes("2")?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",$ee=e=>e.includes("4")?"border-red-500":e.includes("3")?"border-orange-500":e.includes("2")?"border-yellow-500":"border-green-500",zee=({toxicity:e,isOpen:t,onToggle:n})=>l.jsxDEV("div",{className:`bg-white/90 rounded-lg shadow-sm border-l-4 transition-all duration-200 ${$ee(e.severity)}`,children:[l.jsxDEV("button",{onClick:n,className:"flex items-center justify-between w-full px-3 py-2 text-left hover:bg-gray-50/50","aria-expanded":t,children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("span",{className:"text-base font-medium text-gray-900",children:e.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:42,columnNumber:9},void 0),l.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Uee(e.severity)}`,children:e.severity},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:43,columnNumber:9},void 0),e.is_dose_limiting&&l.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-50 text-red-700",children:"DLT"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:41,columnNumber:7},void 0),l.jsxDEV(Br,{className:`h-4 w-4 text-gray-500 transform transition-transform duration-300 ${t?"rotate-180":""}`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:52,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:36,columnNumber:5},void 0),t&&l.jsxDEV("div",{className:"px-3 pb-3 text-sm",children:l.jsxDEV("div",{className:"space-y-3 pt-1",children:[l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Clinical Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:62,columnNumber:13},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Category:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:65,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.clinical_category},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:66,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:64,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Grade:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:69,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.grading_scale},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:70,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:68,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Onset:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:73,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.expected_onset},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:74,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:72,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Reversibility:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:77,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.reversibility},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:76,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:63,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:61,columnNumber:11},void 0),l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Recognition"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:85,columnNumber:13},void 0),l.jsxDEV("p",{className:"leading-snug text-gray-700 mb-2",children:e.recognition},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:86,columnNumber:13},void 0),e.symptoms.length>0&&l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:90,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.symptoms.map((s,i)=>l.jsxDEV("li",{className:"text-gray-600",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:93,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:91,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:84,columnNumber:11},void 0),l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:102,columnNumber:13},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.management.map((s,i)=>l.jsxDEV("li",{className:"text-gray-700 leading-snug",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:105,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:103,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:101,columnNumber:11},void 0),e.monitoring_recommendations.length>0&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:113,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500 block",children:"Initial:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:117,columnNumber:21},void 0),l.jsxDEV("span",{className:"text-gray-900",children:e.monitoring_frequency.initial},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:118,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:116,columnNumber:19},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500 block",children:"Follow-up:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:121,columnNumber:21},void 0),l.jsxDEV("span",{className:"text-gray-900",children:e.monitoring_frequency.followup},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:122,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:120,columnNumber:19},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500 block",children:"Long-term:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:125,columnNumber:21},void 0),l.jsxDEV("span",{className:"text-gray-900",children:e.monitoring_frequency.longterm},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:126,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:124,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:115,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5 mt-2",children:e.monitoring_recommendations.map((s,i)=>l.jsxDEV("li",{className:"text-gray-700 leading-snug",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:131,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:114,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:112,columnNumber:13},void 0),(e.labs.length>0||e.imaging.length>0)&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Investigations"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:141,columnNumber:15},void 0),e.labs.length>0&&l.jsxDEV("div",{className:"mb-2",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Laboratory Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:144,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.labs.map((s,i)=>l.jsxDEV("li",{className:"text-gray-600",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:147,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:145,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:143,columnNumber:17},void 0),e.imaging.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Imaging"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:154,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.imaging.map((s,i)=>l.jsxDEV("li",{className:"text-gray-600",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:157,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:155,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:153,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:140,columnNumber:13},void 0),e.dose_guidance.length>0&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Dose Modification"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:168,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-0.5",children:e.dose_guidance.map((s,i)=>l.jsxDEV("p",{className:"leading-snug text-gray-700",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:171,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:169,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:167,columnNumber:13},void 0),(e.culprit_drugs.length>0||e.culprit_classes.length>0)&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Causative Agents"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:180,columnNumber:15},void 0),e.culprit_drugs.length>0&&l.jsxDEV("div",{className:"flex flex-wrap gap-1 mb-1",children:e.culprit_drugs.map((s,i)=>l.jsxDEV("span",{className:"px-2 py-0.5 text-xs bg-purple-50 text-purple-700 rounded-full",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:184,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:182,columnNumber:17},void 0),e.culprit_classes.length>0&&l.jsxDEV("div",{className:"flex flex-wrap gap-1",children:e.culprit_classes.map((s,i)=>l.jsxDEV("span",{className:"px-2 py-0.5 text-xs bg-blue-50 text-blue-700 rounded-full",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:193,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:179,columnNumber:13},void 0),e.notes_clinical_pearls&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Clinical Pearls"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:205,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-700 leading-snug whitespace-pre-wrap",children:e.notes_clinical_pearls},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:206,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:204,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:59,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:58,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:35,columnNumber:3},void 0),Wee=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!0),[i,o]=b.useState(null),[r,a]=b.useState(null);return b.useEffect(()=>{async function c(){try{const u=await Bee();t(u)}catch(u){const d=u instanceof Error?u.message:"Unknown error";o(`Failed to load toxicity data: ${d}`),console.error("Error fetching toxicities:",u)}finally{s(!1)}}c()},[]),l.jsxDEV("div",{className:"h-screen flex flex-col",children:[l.jsxDEV("div",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm border-b px-4 py-2",children:l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Toxicity Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:247,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:246,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex-1 overflow-hidden",children:l.jsxDEV("div",{className:"h-full p-4",children:n?l.jsxDEV("div",{className:"flex justify-center items-center h-full",children:l.jsxDEV(ri,{className:"h-6 w-6 text-indigo-600 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:254,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:253,columnNumber:13},void 0):i?l.jsxDEV(Hee,{type:"error",title:"Error Loading Data",message:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:257,columnNumber:13},void 0):e.length===0?l.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[l.jsxDEV(Ps,{className:"h-8 w-8 mb-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:264,columnNumber:15},void 0),l.jsxDEV("p",{children:"No toxicity data available"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:265,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:263,columnNumber:13},void 0):l.jsxDEV("div",{className:"h-full overflow-y-auto scrollbar-thin pr-2",children:l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.map((c,u)=>l.jsxDEV(zee,{toxicity:c,isOpen:r===u,onToggle:()=>a(r===u?null:u)},c.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:271,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:269,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:251,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:250,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:245,columnNumber:5},void 0)},qee=[{diagnosis:"Breast Cancer",stage:"I",name:"AC-T Protocol",premedications:["Dexamethasone","Ondansetron","Diphenhydramine","Fosaprepitant"]},{diagnosis:"Breast Cancer",stage:"II",name:"FEC-T Protocol",premedications:["Dexamethasone","Aprepitant","Ondansetron","Lorazepam"]},{diagnosis:"Breast Cancer",stage:"III",name:"TCHP Protocol",premedications:["Dexamethasone","Ondansetron","Diphenhydramine","Famotidine"]},{diagnosis:"Breast Cancer",stage:"IV",name:"Palliative Capecitabine",premedications:["Dexamethasone","Ondansetron"]},{diagnosis:"Colorectal Cancer",stage:"II",name:"FOLFOX6",premedications:["Dexamethasone","Ondansetron","Calcium gluconate","Magnesium sulfate"]},{diagnosis:"Colorectal Cancer",stage:"III",name:"FOLFOX + Avastin",premedications:["Dexamethasone","Ranitidine","Ondansetron","Calcium gluconate"]},{diagnosis:"Colorectal Cancer",stage:"IV",name:"FOLFIRI + Avastin",premedications:["Dexamethasone","Ondansetron","Atropine","Diphenhydramine"]},{diagnosis:"Lung Cancer",stage:"I",name:"Surgery + Observation",premedications:[]},{diagnosis:"Lung Cancer",stage:"III",name:"Concurrent Chemoradiation",premedications:["Dexamethasone","Ondansetron","Fosaprepitant"]},{diagnosis:"Lung Cancer",stage:"IV",name:"Platinum Doublet",premedications:["Dexamethasone","Granisetron","Fosaprepitant","Lorazepam"]},{diagnosis:"Ovarian Cancer",stage:"III",name:"Carboplatin + Paclitaxel",premedications:["Dexamethasone","Diphenhydramine","Ranitidine","Ondansetron"]},{diagnosis:"Lymphoma",stage:"Any",name:"R-CHOP",premedications:["Acetaminophen","Diphenhydramine","Ondansetron","Mesna"]},{diagnosis:"Leukemia",stage:"Any",name:"7+3 Induction",premedications:["Dexamethasone","Ondansetron","Allopurinol"]},{diagnosis:"Melanoma",stage:"IV",name:"Immunotherapy (PD-1)",premedications:["Acetaminophen","Diphenhydramine"]},{diagnosis:"Prostate Cancer",stage:"IV",name:"ADT + Docetaxel",premedications:["Dexamethasone","Ondansetron","Famotidine"]},{diagnosis:"Other",stage:"Any",name:"Consider Clinical Trial",premedications:[]}],If="disease-progress-tracker-data",Gee={"Breast Cancer":["ACT","FECD","T-DM1","Kadcyla"],"Colorectal Cancer":["FOLFOX","FOLFIRI","FOLFOXIRI","CAPOX"],"Lung Cancer":["Carbo + Pemetrexed","Osimertinib","Durvalumab"],"Prostate Cancer":["Docetaxel","Abiraterone","Enzalutamide"],Lymphoma:["R-CHOP","ABVD","Bendamustine + Rituximab"],Leukemia:["7+3 Regimen","FLAG-IDA","Blinatumomab"],Melanoma:["Nivolumab + Ipilimumab","Pembrolizumab"],"Ovarian Cancer":["Carboplatin + Paclitaxel","Bevacizumab"],Other:[]},Yee=["Breast Cancer","Colorectal Cancer","Lung Cancer","Prostate Cancer","Ovarian Cancer","Lymphoma","Leukemia","Melanoma","Other"],Kee=["HER2 Positive","KRAS Mutant","EGFR Mutant","ALK Rearrangement","MSI-High","PD-L1 Positive","BRAF V600E","TP53 Mutant","Other"],Xee=[{title:"Disease Status",icon:PC},{title:"Performance Status",icon:Xs},{title:"Progression",icon:AC},{title:"Lines of Treatment",icon:S1},{title:"AI Assistant",icon:_1}],Jee=()=>{const{toast:e}=ib(),[t,n]=b.useState(0),[s,i]=b.useState(!1),[o,r]=b.useState([]),a=()=>!u||!h?[]:qee.filter(ce=>ce.diagnosis===(u==="Other"?m:u)&&(ce.stage===h||ce.stage==="Any")),c=()=>{const ce=a();return ce.length?[...new Set(ce.flatMap(ke=>ke.premedications||[]))]:[]},[u,d]=b.useState(""),[m,f]=b.useState(""),[h,p]=b.useState(""),[g,v]=b.useState(""),[x,E]=b.useState(""),[N,D]=b.useState(""),[w,T]=b.useState(""),[M,_]=b.useState(""),[C,k]=b.useState(""),[L,B]=b.useState(""),[P,j]=b.useState(""),[R,U]=b.useState(""),[G,$]=b.useState(""),[Z,I]=b.useState(""),[oe,be]=b.useState(""),[O,ue]=b.useState(""),[ge,xe]=b.useState(""),[ne,me]=b.useState(""),[we,X]=b.useState(""),[Y,K]=b.useState(""),[ie,le]=b.useState(""),[ae,pe]=b.useState(""),[$e,ze]=b.useState(""),[We,Rn]=b.useState(""),[Fs,hs]=b.useState(null),mt=()=>{const ce=g==="Other"?x:g;let ke=` Smart Treatment Suggestions:
`;if(ce)switch(ce){case"HER2 Positive":ke+=`- Consider T-DM1 or Trastuzumab-based therapy
`,ke+=`- Dual HER2 blockade may be appropriate
`;break;case"KRAS Mutant":ke+=`- KRAS mutation limits anti-EGFR therapy options
`,ke+=`- Consider MEK inhibitor clinical trials
`;break;case"EGFR Mutant":ke+=`- EGFR TKI therapy recommended
`,ke+=`- Monitor for T790M resistance mutation
`;break;case"PD-L1 Positive":ke+=`- Consider immunotherapy as monotherapy
`,ke+=`- Evaluate combination chemo-immunotherapy
`;break;default:ke+=`- Consider molecular profiling for targetable mutations
`}if(L){ke+=`
 Performance Status Considerations:
`;const Vt=parseInt(L,10);isNaN(Vt)?ke+=`- Performance score invalid, please reassess
`:Vt<=1?ke+=`- Patient fit for full dose therapy
`:Vt===2?(ke+=`- Consider dose reduction or weekly regimens
`,ke+=`- Close monitoring for toxicity needed
`):(ke+=`- Best supportive care may be most appropriate
`,ke+=`- Avoid aggressive therapy due to poor PS
`)}if(ne)switch(ke+=`
 Line of Therapy Recommendations:
`,ne){case"1st Line":ke+=`- Standard first-line protocols preferred
`,ke+=`- Consider clinical trial enrollment
`;break;case"2nd Line":ke+=`- Review first-line response duration
`,ke+=`- Consider alternative drug class
`;break;case"3rd Line":ke+=`- Molecular profiling guided therapy
`,ke+=`- Early palliative care integration
`;break;case"Maintenance":ke+=`- Less intensive continuation approach
`,ke+=`- Monitor tolerability closely
`;break}return ke},Qn=async()=>{try{i(!0);const ce=mt();await new Promise(ke=>setTimeout(ke,1e3)),(!u||!h)&&e({title:"Warning",description:"Please provide diagnosis and stage for better suggestions",variant:"destructive"}),hs(ce)}catch(ce){console.error("AI Suggestion Error:",ce),e({title:"Error",description:"Failed to generate AI suggestions",variant:"destructive"})}finally{i(!1)}},pn=()=>{var ce,ke,Vt,Vn,wt,Wt,gn,Vo,ra,Bs,Oo,Lo,aa,cc,la,uc,ca,ua,dc,mc,da,fc,hc;try{const z=localStorage.getItem(If);if(z){const se=JSON.parse(z);d(((ce=se.diseaseStatus)==null?void 0:ce.primaryDiagnosis)||""),f(((ke=se.diseaseStatus)==null?void 0:ke.otherPrimaryDiagnosis)||""),p(((Vt=se.diseaseStatus)==null?void 0:Vt.stageAtDiagnosis)||""),v(((Vn=se.diseaseStatus)==null?void 0:Vn.histologyMutation)||""),E(((wt=se.diseaseStatus)==null?void 0:wt.otherHistologyMutation)||""),D(((Wt=se.diseaseStatus)==null?void 0:Wt.dateOfDiagnosis)||""),T(((gn=se.diseaseStatus)==null?void 0:gn.diseaseNotes)||""),_(((Vo=se.performanceStatus)==null?void 0:Vo.assessmentDate)||""),k(((ra=se.performanceStatus)==null?void 0:ra.performanceScale)||""),B(((Bs=se.performanceStatus)==null?void 0:Bs.performanceScore)||""),j(((Oo=se.performanceStatus)==null?void 0:Oo.performanceNotes)||""),U(((Lo=se.progression)==null?void 0:Lo.reassessmentDate)||""),$(((aa=se.progression)==null?void 0:aa.imagingType)||""),I(((cc=se.progression)==null?void 0:cc.findingsSummary)||""),be(((la=se.progression)==null?void 0:la.markerType)||""),ue(((uc=se.progression)==null?void 0:uc.markerValue)||""),xe(((ca=se.progression)==null?void 0:ca.progressionNotes)||""),me(((ua=se.linesOfTreatment)==null?void 0:ua.treatmentLine)||""),X(((dc=se.linesOfTreatment)==null?void 0:dc.treatmentRegimen)||""),K(((mc=se.linesOfTreatment)==null?void 0:mc.startDate)||""),le(((da=se.linesOfTreatment)==null?void 0:da.endDate)||""),pe(((fc=se.linesOfTreatment)==null?void 0:fc.treatmentResponse)||""),ze(((hc=se.linesOfTreatment)==null?void 0:hc.treatmentNotes)||""),e({title:"Success",description:"Previous session data loaded!",variant:"default"})}}catch(z){console.error("Failed to load from localStorage",z),e({title:"Warning",description:"Failed to load previous data",variant:"destructive"})}},ee=()=>{const ce={diseaseStatus:{primaryDiagnosis:u,otherPrimaryDiagnosis:m,stageAtDiagnosis:h,histologyMutation:g,otherHistologyMutation:x,dateOfDiagnosis:N,diseaseNotes:w},performanceStatus:{assessmentDate:M,performanceScale:C,performanceScore:L,performanceNotes:P},progression:{reassessmentDate:R,imagingType:G,findingsSummary:Z,markerType:oe,markerValue:O,progressionNotes:ge},linesOfTreatment:{treatmentLine:ne,treatmentRegimen:we,startDate:Y,endDate:ie,treatmentResponse:ae,treatmentNotes:$e}};localStorage.setItem(If,JSON.stringify(ce))};b.useEffect(()=>{pn()},[]);const Q=()=>{ee(),e({title:"Success",description:"Disease Status Saved!",variant:"default"})},Ne=()=>{ee(),e({title:"Success",description:"Performance Status Saved!",variant:"default"})},Ie=()=>{ee(),e({title:"Success",description:"Progression Record Saved!",variant:"default"})},Le=()=>{ee(),e({title:"Success",description:"Line of Treatment Saved!",variant:"default"})},yt=()=>{localStorage.removeItem(If),d(""),f(""),p(""),v(""),E(""),D(""),T(""),_(""),k(""),B(""),j(""),U(""),$(""),I(""),be(""),ue(""),xe(""),me(""),X(""),K(""),le(""),pe(""),ze(""),e({title:"Success",description:"All data cleared!",variant:"default"})};return b.useEffect(()=>{if(u){const ce=Gee[u]||[];r(ce)}else r([])},[u]),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-2xl shadow-lg",children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:" Disease & Progress Tracker"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:397,columnNumber:9},void 0),l.jsxDEV("button",{type:"button",onClick:yt,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-semibold rounded-lg hover:opacity-90 transition",children:" Clear All Data"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:396,columnNumber:7},void 0),l.jsxDEV(pt.Group,{selectedIndex:t,onChange:n,children:[l.jsxDEV(pt.List,{className:"flex space-x-4 border-b pb-3 mb-6",children:Xee.map((ce,ke)=>l.jsxDEV(pt,{className:({selected:Vt})=>`
              flex items-center gap-2 cursor-pointer py-2 px-4 rounded-lg shadow transition-all duration-300
              ${Vt?"bg-gradient-to-r from-indigo-500 to-teal-500 text-white":"bg-white text-gray-600 hover:text-indigo-500 hover:shadow-md"}
            `,children:[l.jsxDEV(ce.icon,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:417,columnNumber:15},void 0),ce.title]},ke,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:411,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:409,columnNumber:9},void 0),l.jsxDEV(pt.Panels,{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("label",{htmlFor:"primary-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:429,columnNumber:17},void 0),l.jsxDEV("select",{id:"primary-diagnosis",value:u,onChange:ce=>d(ce.target.value),className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Primary Diagnosis",children:[l.jsxDEV("option",{value:"",children:"Select Primary Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:439,columnNumber:19},void 0),Yee.map(ce=>l.jsxDEV("option",{value:ce,children:ce},ce,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:441,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:432,columnNumber:17},void 0),u==="Other"&&l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("label",{htmlFor:"other-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:446,columnNumber:21},void 0),l.jsxDEV("input",{id:"other-diagnosis",type:"text",value:m,onChange:ce=>f(ce.target.value),placeholder:"Specify Other Primary Diagnosis",className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:449,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:445,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:428,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"stage-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage at Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:462,columnNumber:17},void 0),l.jsxDEV("select",{id:"stage-diagnosis",value:h,onChange:ce=>p(ce.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Stage at Diagnosis",children:[l.jsxDEV("option",{value:"",children:"Select Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:472,columnNumber:19},void 0),l.jsxDEV("option",{value:"I",children:"Stage I"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:473,columnNumber:19},void 0),l.jsxDEV("option",{value:"II",children:"Stage II"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:474,columnNumber:19},void 0),l.jsxDEV("option",{value:"III",children:"Stage III"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:475,columnNumber:19},void 0),l.jsxDEV("option",{value:"IV",children:"Stage IV"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:476,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:465,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:461,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("label",{htmlFor:"histology-mutation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Histology/Mutation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:481,columnNumber:17},void 0),l.jsxDEV("select",{id:"histology-mutation",value:g,onChange:ce=>v(ce.target.value),className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Histology or Mutation",children:[l.jsxDEV("option",{value:"",children:"Select Histology/Mutation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:491,columnNumber:19},void 0),Kee.map(ce=>l.jsxDEV("option",{value:ce,children:ce},ce,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:493,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:484,columnNumber:17},void 0),g==="Other"&&l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("label",{htmlFor:"other-mutation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Mutation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:498,columnNumber:21},void 0),l.jsxDEV("input",{id:"other-mutation",type:"text",value:x,onChange:ce=>E(ce.target.value),placeholder:"Specify Other Histology/Mutation",className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:501,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:497,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:480,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"date-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:514,columnNumber:17},void 0),l.jsxDEV("input",{id:"date-diagnosis",type:"date",value:N,onChange:ce=>D(ce.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Date of Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:517,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:513,columnNumber:15},void 0),l.jsxDEV("div",{className:"md:col-span-2",children:[l.jsxDEV("label",{htmlFor:"disease-notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Disease Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:528,columnNumber:17},void 0),l.jsxDEV("textarea",{id:"disease-notes",value:w,onChange:ce=>T(ce.target.value),placeholder:"Disease Notes...",rows:4,className:"textarea-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:531,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:527,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:427,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Q,className:"save-button bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200",children:"Save Disease Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:543,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:542,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:426,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"assessment-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assessment Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:557,columnNumber:17},void 0),l.jsxDEV("input",{id:"assessment-date",type:"date",value:M,onChange:ce=>_(ce.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Assessment Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:560,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:556,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"performance-scale",className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Scale"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:570,columnNumber:17},void 0),l.jsxDEV("select",{id:"performance-scale",value:C,onChange:ce=>k(ce.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Performance Scale",children:[l.jsxDEV("option",{value:"",children:"Select Scale"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:580,columnNumber:19},void 0),l.jsxDEV("option",{value:"ecog",children:"ECOG"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:581,columnNumber:19},void 0),l.jsxDEV("option",{value:"karnofsky",children:"Karnofsky"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:582,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:569,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"performance-score",className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Score"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:586,columnNumber:17},void 0),l.jsxDEV("select",{id:"performance-score",value:L,onChange:ce=>B(ce.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Performance Score",children:[l.jsxDEV("option",{value:"",children:"Select Score"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:596,columnNumber:19},void 0),l.jsxDEV("option",{value:"0",children:"0 - Fully active"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:597,columnNumber:19},void 0),l.jsxDEV("option",{value:"1",children:"1 - Restricted in strenuous activity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:598,columnNumber:19},void 0),l.jsxDEV("option",{value:"2",children:"2 - Ambulatory but unable to work"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:599,columnNumber:19},void 0),l.jsxDEV("option",{value:"3",children:"3 - Limited self-care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:600,columnNumber:19},void 0),l.jsxDEV("option",{value:"4",children:"4 - Completely disabled"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:601,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:589,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:585,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"performance-notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:605,columnNumber:17},void 0),l.jsxDEV("textarea",{id:"performance-notes",value:P,onChange:ce=>j(ce.target.value),placeholder:"Performance Notes...",rows:4,className:"textarea-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:608,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:604,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:555,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Ne,className:"save-button bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200",children:"Save Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:620,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:619,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:554,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("input",{type:"date",value:R,onChange:ce=>U(ce.target.value),className:"input-field","aria-label":"Reassessment Date",placeholder:"Reassessment Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:633,columnNumber:15},void 0),l.jsxDEV("select",{value:G,onChange:ce=>$(ce.target.value),className:"input-field","aria-label":"Imaging Type",children:[l.jsxDEV("option",{value:"",children:"Select Imaging Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:647,columnNumber:17},void 0),l.jsxDEV("option",{value:"CT",children:"CT Scan"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:648,columnNumber:17},void 0),l.jsxDEV("option",{value:"MRI",children:"MRI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:649,columnNumber:17},void 0),l.jsxDEV("option",{value:"PET",children:"PET Scan"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:650,columnNumber:17},void 0),l.jsxDEV("option",{value:"XRay",children:"X-Ray"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:651,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:641,columnNumber:15},void 0),l.jsxDEV("textarea",{value:Z,onChange:ce=>I(ce.target.value),placeholder:"Findings Summary...",rows:4,className:"textarea-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:653,columnNumber:15},void 0),l.jsxDEV("input",{type:"text",value:oe,onChange:ce=>be(ce.target.value),placeholder:"Tumor Marker Type",className:"input-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:654,columnNumber:15},void 0),l.jsxDEV("input",{type:"number",value:O,onChange:ce=>ue(ce.target.value),placeholder:"Tumor Marker Value",className:"input-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:655,columnNumber:15},void 0),l.jsxDEV("textarea",{value:ge,onChange:ce=>xe(ce.target.value),placeholder:"Progression Notes...",rows:4,className:"textarea-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:656,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:632,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Ie,className:"save-button",children:"Save Progression"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:660,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:659,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:631,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("select",{value:ne,onChange:ce=>me(ce.target.value),className:"input-field","aria-label":"Treatment Line",children:[l.jsxDEV("option",{value:"",children:"Select Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:673,columnNumber:17},void 0),l.jsxDEV("option",{value:"1st Line",children:"1st Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:674,columnNumber:17},void 0),l.jsxDEV("option",{value:"2nd Line",children:"2nd Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:675,columnNumber:17},void 0),l.jsxDEV("option",{value:"3rd Line",children:"3rd Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:676,columnNumber:17},void 0),l.jsxDEV("option",{value:"Maintenance",children:"Maintenance"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:677,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:667,columnNumber:15},void 0),l.jsxDEV("input",{type:"text",value:we,onChange:ce=>X(ce.target.value),placeholder:"Treatment Regimen",className:"input-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:679,columnNumber:15},void 0),l.jsxDEV("input",{type:"date",value:Y,onChange:ce=>K(ce.target.value),className:"input-field","aria-label":"Start Date",placeholder:"Start Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:680,columnNumber:15},void 0),l.jsxDEV("input",{type:"date",value:ie,onChange:ce=>le(ce.target.value),className:"input-field","aria-label":"End Date",placeholder:"End Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:688,columnNumber:15},void 0),l.jsxDEV("select",{value:ae,onChange:ce=>pe(ce.target.value),className:"input-field","aria-label":"Treatment Response",children:[l.jsxDEV("option",{value:"",children:"Select Response"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:702,columnNumber:17},void 0),l.jsxDEV("option",{value:"Complete Response",children:"Complete Response (CR)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:703,columnNumber:17},void 0),l.jsxDEV("option",{value:"Partial Response",children:"Partial Response (PR)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:704,columnNumber:17},void 0),l.jsxDEV("option",{value:"Stable Disease",children:"Stable Disease (SD)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:705,columnNumber:17},void 0),l.jsxDEV("option",{value:"Progressive Disease",children:"Progressive Disease (PD)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:706,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:696,columnNumber:15},void 0),l.jsxDEV("textarea",{value:$e,onChange:ce=>ze(ce.target.value),placeholder:"Treatment Notes...",rows:4,className:"textarea-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:708,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:666,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Le,className:"save-button",children:"Save Line of Treatment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:712,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:711,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:665,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:l.jsxDEV("div",{className:"space-y-6",children:[a().length>0&&l.jsxDEV("div",{className:"p-6 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900 dark:to-blue-900 rounded-xl shadow-sm mb-6 transform transition-all duration-300 hover:shadow-md hover:scale-[1.01]",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-indigo-700 dark:text-indigo-300 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-indigo-100 dark:bg-indigo-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:723,columnNumber:21},void 0),"Matched Treatment Protocols"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:722,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1.5",children:a().map((ce,ke)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 mt-1 bg-indigo-400 dark:bg-indigo-600 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:731,columnNumber:25},void 0),l.jsxDEV("span",{children:ce.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:732,columnNumber:25},void 0)]},ke,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:730,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:728,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:721,columnNumber:17},void 0),o.length>0&&l.jsxDEV("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900 dark:to-indigo-900 rounded-xl shadow-sm mb-6 transform transition-all duration-300 hover:shadow-md hover:scale-[1.01]",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-purple-600 dark:text-purple-400 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-purple-100 dark:bg-purple-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:743,columnNumber:21},void 0),"Standard Protocols for ",u]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:742,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1.5",children:o.map((ce,ke)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 mt-1 bg-purple-400 dark:bg-purple-600 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:751,columnNumber:25},void 0),l.jsxDEV("span",{children:ce},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:752,columnNumber:25},void 0)]},ke,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:750,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:748,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:741,columnNumber:17},void 0),c().length>0&&l.jsxDEV("div",{className:"p-6 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900 dark:to-teal-900 rounded-xl shadow-sm mb-6 transform transition-all duration-300 hover:shadow-md hover:scale-[1.01]",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-emerald-700 dark:text-emerald-300 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-emerald-100 dark:bg-emerald-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:763,columnNumber:21},void 0),"Suggested Pre-Medications"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:762,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1.5",children:c().map((ce,ke)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 mt-1 bg-emerald-400 dark:bg-emerald-600 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:771,columnNumber:25},void 0),l.jsxDEV("span",{children:ce},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:772,columnNumber:25},void 0)]},ke,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:770,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:768,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:761,columnNumber:17},void 0),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-200",children:"AI Treatment Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:780,columnNumber:17},void 0),l.jsxDEV("div",{className:"mb-4",children:[l.jsxDEV("label",{htmlFor:"ai-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Case Summary (Optional)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:785,columnNumber:19},void 0),l.jsxDEV("textarea",{id:"ai-input",value:We,onChange:ce=>Rn(ce.target.value),placeholder:"Enter case summary (e.g., Metastatic CRC after FOLFIRI)",rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:788,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:784,columnNumber:17},void 0),l.jsxDEV("button",{onClick:Qn,disabled:s,className:"w-full px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center",children:s?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("div",{className:"w-5 h-5 border-3 border-t-transparent border-white rounded-full animate-spin mr-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:805,columnNumber:23},void 0),l.jsxDEV("span",{children:"Analyzing Patient Data..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:806,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:804,columnNumber:21},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV("span",{className:"mr-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:810,columnNumber:23},void 0),l.jsxDEV("span",{children:"Ask AI for Personalized Suggestions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:811,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:809,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:798,columnNumber:17},void 0),Fs&&l.jsxDEV("div",{className:"p-6 mt-6 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900 rounded-xl shadow-lg border border-blue-100 dark:border-blue-800 transform transition-all duration-500 animate-in fade-in-0 slide-in-from-bottom-4",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-blue-600 dark:text-blue-300 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-blue-100 dark:bg-blue-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:819,columnNumber:23},void 0),"AI Personalized Recommendations"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:818,columnNumber:21},void 0),l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:Fs},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:824,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:817,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:779,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:718,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:717,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:423,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:407,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:394,columnNumber:5},void 0)};function pp(e,[t,n]){return Math.min(n,Math.max(t,e))}function Qee(e,t){return b.useReducer((n,s)=>t[n][s]??n,e)}var Ib="ScrollArea",[IM,nie]=Is(Ib),[Zee,Jn]=IM(Ib),RM=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:o=600,...r}=e,[a,c]=b.useState(null),[u,d]=b.useState(null),[m,f]=b.useState(null),[h,p]=b.useState(null),[g,v]=b.useState(null),[x,E]=b.useState(0),[N,D]=b.useState(0),[w,T]=b.useState(!1),[M,_]=b.useState(!1),C=Je(t,L=>c(L)),k=Kd(i);return q.jsx(Zee,{scope:n,type:s,dir:k,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:m,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:w,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:M,onScrollbarYEnabledChange:_,onCornerWidthChange:E,onCornerHeightChange:D,children:q.jsx(Ae.div,{dir:k,...r,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});RM.displayName=Ib;var VM="ScrollAreaViewport",OM=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:i,...o}=e,r=Jn(VM,n),a=b.useRef(null),c=Je(t,a,r.onViewportChange);return q.jsxs(q.Fragment,{children:[q.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),q.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e.style},children:q.jsx("div",{ref:r.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});OM.displayName=VM;var Ls="ScrollAreaScrollbar",Rb=b.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Jn(Ls,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:r}=i,a=e.orientation==="horizontal";return b.useEffect(()=>(a?o(!0):r(!0),()=>{a?o(!1):r(!1)}),[a,o,r]),i.type==="hover"?q.jsx(ete,{...s,ref:t,forceMount:n}):i.type==="scroll"?q.jsx(tte,{...s,ref:t,forceMount:n}):i.type==="auto"?q.jsx(LM,{...s,ref:t,forceMount:n}):i.type==="always"?q.jsx(Vb,{...s,ref:t}):null});Rb.displayName=Ls;var ete=b.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Jn(Ls,e.__scopeScrollArea),[o,r]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),r(!0)},d=()=>{c=window.setTimeout(()=>r(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),q.jsx(Kn,{present:n||o,children:q.jsx(LM,{"data-state":o?"visible":"hidden",...s,ref:t})})}),tte=b.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=Jn(Ls,e.__scopeScrollArea),o=e.orientation==="horizontal",r=Qd(()=>c("SCROLL_END"),100),[a,c]=Qee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,c]),b.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let m=u[d];const f=()=>{const h=u[d];m!==h&&(c("SCROLL"),r()),m=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,c,r]),q.jsx(Kn,{present:n||a!=="hidden",children:q.jsx(Vb,{"data-state":a==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:_e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:_e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),LM=b.forwardRef((e,t)=>{const n=Jn(Ls,e.__scopeScrollArea),{forceMount:s,...i}=e,[o,r]=b.useState(!1),a=e.orientation==="horizontal",c=Qd(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;r(a?u:d)}},10);return Or(n.viewport,c),Or(n.content,c),q.jsx(Kn,{present:s||o,children:q.jsx(Vb,{"data-state":o?"visible":"hidden",...i,ref:t})})}),Vb=b.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,i=Jn(Ls,e.__scopeScrollArea),o=b.useRef(null),r=b.useRef(0),[a,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$M(a.viewport,a.content),d={...s,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>r.current=0,onThumbPointerDown:f=>r.current=f};function m(f,h){return ate(f,r.current,a,h)}return n==="horizontal"?q.jsx(nte,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollLeft,h=d1(f,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=m(f,i.dir))}}):n==="vertical"?q.jsx(ste,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollTop,h=d1(f,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=m(f))}}):null}),nte=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,o=Jn(Ls,e.__scopeScrollArea),[r,a]=b.useState(),c=b.useRef(null),u=Je(t,c,o.onScrollbarXChange);return b.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),q.jsx(BM,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),WM(f,m)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&r&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sd(r.paddingLeft),paddingEnd:sd(r.paddingRight)}})}})}),ste=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,o=Jn(Ls,e.__scopeScrollArea),[r,a]=b.useState(),c=b.useRef(null),u=Je(t,c,o.onScrollbarYChange);return b.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),q.jsx(BM,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),WM(f,m)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&r&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sd(r.paddingTop),paddingEnd:sd(r.paddingBottom)}})}})}),[ite,FM]=IM(Ls),BM=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:o,onThumbPointerUp:r,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:m,...f}=e,h=Jn(Ls,n),[p,g]=b.useState(null),v=Je(t,C=>g(C)),x=b.useRef(null),E=b.useRef(""),N=h.viewport,D=s.content-s.viewport,w=Rt(d),T=Rt(c),M=Qd(m,10);function _(C){if(x.current){const k=C.clientX-x.current.left,L=C.clientY-x.current.top;u({x:k,y:L})}}return b.useEffect(()=>{const C=k=>{const L=k.target;(p==null?void 0:p.contains(L))&&w(k,D)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[N,p,D,w]),b.useEffect(T,[s,T]),Or(p,M),Or(h.content,M),q.jsx(ite,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Rt(o),onThumbPointerUp:Rt(r),onThumbPositionChange:T,onThumbPointerDown:Rt(a),children:q.jsx(Ae.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:_e(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=p.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:_e(e.onPointerMove,_),onPointerUp:_e(e.onPointerUp,C=>{const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=E.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),nd="ScrollAreaThumb",HM=b.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=FM(nd,e.__scopeScrollArea);return q.jsx(Kn,{present:n||i.hasThumb,children:q.jsx(ote,{ref:t,...s})})}),ote=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...i}=e,o=Jn(nd,n),r=FM(nd,n),{onThumbPositionChange:a}=r,c=Je(t,m=>r.onThumbChange(m)),u=b.useRef(void 0),d=Qd(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const m=o.viewport;if(m){const f=()=>{if(d(),!u.current){const h=lte(m,a);u.current=h,a()}};return a(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[o.viewport,d,a]),q.jsx(Ae.div,{"data-state":r.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:_e(e.onPointerDownCapture,m=>{const h=m.target.getBoundingClientRect(),p=m.clientX-h.left,g=m.clientY-h.top;r.onThumbPointerDown({x:p,y:g})}),onPointerUp:_e(e.onPointerUp,r.onThumbPointerUp)})});HM.displayName=nd;var Ob="ScrollAreaCorner",UM=b.forwardRef((e,t)=>{const n=Jn(Ob,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?q.jsx(rte,{...e,ref:t}):null});UM.displayName=Ob;var rte=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,i=Jn(Ob,n),[o,r]=b.useState(0),[a,c]=b.useState(0),u=!!(o&&a);return Or(i.scrollbarX,()=>{var m;const d=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),Or(i.scrollbarY,()=>{var m;const d=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(d),r(d)}),u?q.jsx(Ae.div,{...s,ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sd(e){return e?parseInt(e,10):0}function $M(e,t){const n=e/t;return isNaN(n)?0:n}function Jd(e){const t=$M(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function ate(e,t,n,s="ltr"){const i=Jd(n),o=i/2,r=t||o,a=i-r,c=n.scrollbar.paddingStart+r,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,m=s==="ltr"?[0,d]:[d*-1,0];return zM([c,u],m)(e)}function d1(e,t,n="ltr"){const s=Jd(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,r=t.content-t.viewport,a=o-s,c=n==="ltr"?[0,r]:[r*-1,0],u=pp(e,c);return zM([0,r],[0,a])(u)}function zM(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function WM(e,t){return e>0&&e<t}var lte=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},r=n.left!==o.left,a=n.top!==o.top;(r||a)&&t(),n=o,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function Qd(e,t){const n=Rt(e),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Or(e,t){const n=Rt(t);zt(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,n])}var qM=RM,cte=OM,ute=UM;const GM=b.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(qM,{ref:s,className:Ce("relative overflow-hidden",e),...n,children:[l.jsxDEV(cte,{className:"h-full w-full rounded-[inherit]",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:17,columnNumber:5},void 0),l.jsxDEV(YM,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:20,columnNumber:5},void 0),l.jsxDEV(ute,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:21,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:12,columnNumber:3},void 0));GM.displayName=qM.displayName;const YM=b.forwardRef(({className:e,orientation:t="vertical",...n},s)=>l.jsxDEV(Rb,{ref:s,orientation:t,className:Ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...n,children:l.jsxDEV(HM,{className:"relative flex-1 rounded-full bg-slate-200 dark:bg-slate-800"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:43,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:30,columnNumber:3},void 0));YM.displayName=Rb.displayName;const dte=Td("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wn({className:e,variant:t,...n}){return l.jsxDEV("div",{className:Ce(dte({variant:t}),e),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}const mte=()=>l.jsxDEV(ia,{className:"w-[95vw] max-w-4xl h-[95vh] flex flex-col bg-white dark:bg-gray-900 p-0 gap-0",children:l.jsxDEV("div",{className:"animate-pulse",children:[l.jsxDEV(ac,{className:"px-6 py-4 border-b dark:border-gray-800",children:l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-8 w-64 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:38,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 w-48 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:39,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:36,columnNumber:7},void 0),l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[l.jsxDEV("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:44,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:45,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-6 w-28 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:43,columnNumber:9},void 0),[...Array(3)].map((e,t)=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"h-6 w-48 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:50,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"h-4 w-full bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:52,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-4 w-5/6 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:53,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-4 w-4/6 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:54,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:51,columnNumber:13},void 0)]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:49,columnNumber:11},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:42,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:35,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:34,columnNumber:3},void 0),fte=({error:e,onRetry:t})=>l.jsxDEV(ia,{className:"w-[95vw] max-w-4xl h-[95vh] flex flex-col bg-white dark:bg-gray-900 p-0 gap-0",children:l.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:l.jsxDEV("div",{className:"p-6 flex flex-col items-center justify-center text-center space-y-4",children:[l.jsxDEV("div",{className:"p-3 rounded-full bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400",children:l.jsxDEV(Qe,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:69,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:68,columnNumber:9},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Error Loading Medication Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:72,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:73,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:71,columnNumber:9},void 0),l.jsxDEV("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors",children:"Try Again"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:67,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:66,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:65,columnNumber:3},void 0),gs=({title:e,icon:t,children:n})=>l.jsxDEV("div",{className:"relative border border-gray-100 dark:border-gray-800 rounded-xl bg-gradient-to-b from-white/50 to-gray-50/50 dark:from-gray-900/50 dark:to-gray-800/50 p-6 backdrop-blur shadow-sm",children:[l.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[t&&l.jsxDEV("div",{className:"p-2 bg-gray-100/80 dark:bg-gray-800/80 rounded-lg",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:94,columnNumber:16},void 0),l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:95,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:93,columnNumber:5},void 0),n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:92,columnNumber:3},void 0),it=({title:e,children:t,variant:n="default"})=>l.jsxDEV("div",{className:Ce("rounded-lg p-4 backdrop-blur-sm",n==="warning"&&"bg-yellow-100/30 dark:bg-yellow-900/30 border border-yellow-200/50 dark:border-yellow-700/50",n==="danger"&&"bg-red-100/30 dark:bg-red-900/30 border border-red-200/50 dark:border-red-700/50",n==="default"&&"bg-gray-100/30 dark:bg-gray-800/30 border border-gray-200/50 dark:border-gray-700/50"),children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:l.jsxDEV("h4",{className:Ce("text-sm font-medium",n==="warning"&&"text-yellow-800 dark:text-yellow-200",n==="danger"&&"text-red-800 dark:text-red-200",n==="default"&&"text-gray-900 dark:text-gray-100"),children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:116,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:115,columnNumber:5},void 0),l.jsxDEV("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:125,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:109,columnNumber:3},void 0);function hte({medication:e,isOpen:t,onClose:n}){var c,u,d,m,f,h,p,g,v,x,E,N,D,w,T,M,_,C,k,L,B,P,j,R,U,G,$,Z,I,oe,be,O,ue,ge,xe,ne,me,we,X,Y,K,ie,le;const[s,i]=b.useState(!1),[o,r]=b.useState(null),a=()=>{r(null),i(!0),i(!1)};return e?s?l.jsxDEV(hl,{open:t,onOpenChange:n,children:l.jsxDEV(mte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:149,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:148,columnNumber:7},this):o?l.jsxDEV(hl,{open:t,onOpenChange:n,children:l.jsxDEV(fte,{error:o,onRetry:a},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:157,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:156,columnNumber:7},this):l.jsxDEV(hl,{open:t,onOpenChange:n,"aria-label":`${e.name} Details`,children:l.jsxDEV(ia,{className:"w-[95vw] max-w-4xl h-[95vh] flex flex-col bg-white dark:bg-gray-900 p-0 gap-0",role:"dialog","aria-modal":"true","aria-labelledby":"medication-title","aria-describedby":"medication-description",children:[l.jsxDEV(ac,{className:"px-6 py-4 border-b dark:border-gray-800 sticky top-0 z-10 bg-white dark:bg-gray-900 backdrop-blur-sm bg-opacity-90",children:l.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[l.jsxDEV("div",{className:"flex-1 min-w-0",children:["              ",l.jsxDEV(Yd,{id:"medication-title",className:"text-2xl font-bold text-gray-900 dark:text-gray-50 truncate",children:e.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:176,columnNumber:59},this),l.jsxDEV("p",{id:"medication-description",className:"sr-only",children:"Detailed information about the medication, including dosing, side effects, and monitoring."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:182,columnNumber:15},this),((c=e.brand_names)==null?void 0:c.length)>0&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:e.brand_names.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:184,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:176,columnNumber:13},this),"            ",l.jsxDEV("button",{onClick:n,onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),n())},className:"absolute right-4 top-4 text-gray-400 hover:text-gray-700 dark:text-gray-500 dark:hover:text-gray-300 transition-colors rounded-full p-2 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900","aria-label":"Close medication details",children:l.jsxDEV(ss,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:199,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:188,columnNumber:31},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:175,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:174,columnNumber:9},this),"        ",l.jsxDEV(GM,{className:"flex-1 h-[calc(95vh-4rem)] overflow-y-auto",role:"region","aria-label":"Medication details",children:l.jsxDEV("div",{className:"p-6 space-y-8",children:[l.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxDEV(wn,{variant:"outline",className:"px-2.5 py-1 whitespace-nowrap",children:e.classification},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:206,columnNumber:15},this),e.is_chemotherapy&&l.jsxDEV(wn,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-300",children:[l.jsxDEV(Xs,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:211,columnNumber:19},this),"Chemotherapy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:210,columnNumber:17},this),e.is_immunotherapy&&l.jsxDEV(wn,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:bg-green-500/20 dark:text-green-300",children:[l.jsxDEV(ei,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:217,columnNumber:19},this),"Immunotherapy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:216,columnNumber:17},this),e.is_targeted_therapy&&l.jsxDEV(wn,{variant:"secondary",className:"bg-purple-500/10 text-purple-700 dark:bg-purple-500/20 dark:text-purple-300",children:[l.jsxDEV(uo,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:223,columnNumber:19},this),"Targeted Therapy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:222,columnNumber:17},this),e.is_orphan_drug&&l.jsxDEV(wn,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300",children:[l.jsxDEV(Lf,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:229,columnNumber:19},this),"Orphan Drug"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:228,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:205,columnNumber:13},this),"            ",e.black_box_warning&&l.jsxDEV("div",{className:"relative p-6 border-2 border-red-500 dark:border-red-700 bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-950/50 dark:to-red-900/30 rounded-xl shadow-lg backdrop-blur-sm",children:[l.jsxDEV("div",{className:"absolute -top-3 left-4 px-2 py-0.5 bg-red-500 text-white text-xs font-bold uppercase tracking-wider rounded",children:"Black Box Warning"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:236,columnNumber:17},this),l.jsxDEV("div",{className:"flex gap-3 items-start mt-2",children:[l.jsxDEV(Qe,{className:"w-5 h-5 flex-shrink-0 text-red-500 dark:text-red-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:240,columnNumber:19},this),l.jsxDEV("div",{className:"flex-1 text-red-800 dark:text-red-200 whitespace-pre-wrap",children:e.black_box_warning},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:241,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:239,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:235,columnNumber:15},this),e.mechanism&&l.jsxDEV(gs,{title:"Mechanism of Action",icon:l.jsxDEV(Lf,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:250,columnNumber:58},this),children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.mechanism},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:251,columnNumber:17},this),e.summary&&l.jsxDEV("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:e.summary},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:250,columnNumber:15},this),e.indications&&l.jsxDEV(gs,{title:"Indications",icon:l.jsxDEV(Xs,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:260,columnNumber:50},this),children:l.jsxDEV("div",{className:"grid gap-6 sm:grid-cols-2",children:[((d=(u=e.indications)==null?void 0:u.cancer_types)==null?void 0:d.length)>0&&l.jsxDEV(it,{title:"Cancer Types",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.cancer_types.map((ae,pe)=>l.jsxDEV(wn,{variant:"secondary",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:266,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:264,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:263,columnNumber:21},this),((f=(m=e.indications)==null?void 0:m.biomarkers)==null?void 0:f.length)>0&&l.jsxDEV(it,{title:"Biomarkers",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.biomarkers.map((ae,pe)=>l.jsxDEV(wn,{variant:"outline",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:275,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:273,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:272,columnNumber:21},this),((p=(h=e.indications)==null?void 0:h.staging)==null?void 0:p.length)>0&&l.jsxDEV(it,{title:"Disease Stage",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.staging.map((ae,pe)=>l.jsxDEV(wn,{variant:"secondary",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:284,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:282,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:281,columnNumber:21},this),((v=(g=e.indications)==null?void 0:g.line_of_therapy)==null?void 0:v.length)>0&&l.jsxDEV(it,{title:"Line of Therapy",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.line_of_therapy.map((ae,pe)=>l.jsxDEV(wn,{variant:"secondary",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:293,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:291,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:261,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:260,columnNumber:15},this),(e.dosing||e.administration)&&l.jsxDEV(gs,{title:"Dosing & Administration",icon:l.jsxDEV(jC,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:304,columnNumber:62},this),children:l.jsxDEV("div",{className:"space-y-4",children:[((x=e.dosing)==null?void 0:x.standard)&&l.jsxDEV(it,{title:"Standard Dose",children:l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.dosing.standard},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:309,columnNumber:25},this),e.administration&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Administration: ",e.administration]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:308,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:307,columnNumber:21},this),((E=e.dosing)==null?void 0:E.schedule)&&l.jsxDEV(it,{title:"Schedule",children:l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.dosing.schedule},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:321,columnNumber:25},this),e.dosing.cycle_length&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cycle Length: ",e.dosing.cycle_length]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:323,columnNumber:27},this),e.dosing.duration&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Duration: ",e.dosing.duration]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:328,columnNumber:27},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:320,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:319,columnNumber:21},this),((D=(N=e.dosing)==null?void 0:N.adjustments)==null?void 0:D.length)>0&&l.jsxDEV(it,{title:"Dose Adjustments",variant:"warning",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.dosing.adjustments.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:339,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:337,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:336,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:305,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:304,columnNumber:15},this),e.side_effects&&l.jsxDEV(gs,{title:"Side Effects",icon:l.jsxDEV(Hl,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:350,columnNumber:51},this),children:l.jsxDEV("div",{className:"grid gap-6 sm:grid-cols-2",children:[((w=e.side_effects.common)==null?void 0:w.length)>0&&l.jsxDEV(it,{title:"Common Side Effects",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.common.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:356,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:354,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:353,columnNumber:21},this),((T=e.side_effects.severe)==null?void 0:T.length)>0&&l.jsxDEV(it,{title:"Severe Side Effects",variant:"danger",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.severe.map((ae,pe)=>l.jsxDEV("li",{className:"text-red-700 dark:text-red-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:365,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:363,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:362,columnNumber:21},this),((M=e.side_effects.monitoring)==null?void 0:M.length)>0&&l.jsxDEV(it,{title:"Monitoring Required",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.monitoring.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:374,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:372,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:371,columnNumber:21},this),((_=e.side_effects.management)==null?void 0:_.length)>0&&l.jsxDEV(it,{title:"Management",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.management.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:383,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:381,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:380,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:350,columnNumber:15},this),e.monitoring&&l.jsxDEV(gs,{title:"Monitoring",icon:l.jsxDEV(Ff,{className:"h-5 w-5 text-indigo-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:394,columnNumber:49},this),children:l.jsxDEV("div",{className:"space-y-4",children:[((C=e.pre_treatment_tests)==null?void 0:C.length)>0&&l.jsxDEV(it,{title:"Pre-Treatment Tests",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.pre_treatment_tests.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:400,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:398,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:397,columnNumber:21},this),((k=e.monitoring.baseline)==null?void 0:k.length)>0&&l.jsxDEV(it,{title:"Baseline Tests",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.monitoring.baseline.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:409,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:407,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:406,columnNumber:21},this),((L=e.monitoring.ongoing)==null?void 0:L.length)>0&&l.jsxDEV(it,{title:"Ongoing Monitoring",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.monitoring.ongoing.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:418,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:416,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:415,columnNumber:21},this),"                  ",((P=(B=e.monitoring)==null?void 0:B.parameters)==null?void 0:P.length)>0&&l.jsxDEV(it,{title:"Parameters",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.monitoring.parameters.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:426,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:424,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:423,columnNumber:21},this),((j=e.monitoring)==null?void 0:j.frequency)&&l.jsxDEV(it,{title:"Frequency",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.monitoring.frequency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:433,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:432,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:395,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:394,columnNumber:15},this),(e.interactions||((R=e.contraindications)==null?void 0:R.length)>0)&&l.jsxDEV(gs,{title:"Drug Interactions",icon:l.jsxDEV(Xs,{className:"h-5 w-5 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:442,columnNumber:56},this),children:l.jsxDEV("div",{className:"space-y-4",children:[(((G=(U=e.interactions)==null?void 0:U.contraindications)==null?void 0:G.length)>0||(($=e.contraindications)==null?void 0:$.length)>0)&&l.jsxDEV(it,{title:"Contraindications",variant:"danger",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:[...((Z=e.interactions)==null?void 0:Z.contraindications)||[],...e.contraindications||[]].map((ae,pe)=>l.jsxDEV("li",{className:"text-red-700 dark:text-red-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:451,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:446,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:445,columnNumber:21},this),"                  ",((oe=(I=e.interactions)==null?void 0:I.drugs)==null?void 0:oe.length)>0&&l.jsxDEV(it,{title:"Interacting Medications",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:(O=(be=e.interactions)==null?void 0:be.drugs)==null?void 0:O.map((ae,pe)=>l.jsxDEV(wn,{variant:"outline",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:459,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:457,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:456,columnNumber:21},this),((ge=(ue=e.interactions)==null?void 0:ue.precautions)==null?void 0:ge.length)>0&&l.jsxDEV(it,{title:"Precautions",variant:"warning",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:(ne=(xe=e.interactions)==null?void 0:xe.precautions)==null?void 0:ne.map((ae,pe)=>l.jsxDEV("li",{className:"text-amber-700 dark:text-amber-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:468,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:466,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:465,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:443,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:442,columnNumber:15},this),e.special_considerations&&l.jsxDEV(gs,{title:"Special Considerations",icon:l.jsxDEV(Qe,{className:"h-5 w-5 text-orange-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:481,columnNumber:61},this),children:l.jsxDEV("div",{className:"space-y-4",children:[e.special_considerations.pregnancy&&l.jsxDEV(it,{title:"Pregnancy",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.pregnancy},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:485,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:484,columnNumber:21},this),e.special_considerations.elderly&&l.jsxDEV(it,{title:"Elderly",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.elderly},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:492,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:491,columnNumber:21},this),e.special_considerations.renal&&l.jsxDEV(it,{title:"Renal Impairment",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.renal},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:499,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:498,columnNumber:21},this),e.special_considerations.hepatic&&l.jsxDEV(it,{title:"Hepatic Impairment",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.hepatic},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:506,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:505,columnNumber:21},this),"                  ",((we=(me=e.special_considerations)==null?void 0:me.other)==null?void 0:we.length)>0&&l.jsxDEV(it,{title:"Other Considerations",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:(Y=(X=e.special_considerations)==null?void 0:X.other)==null?void 0:Y.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:514,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:512,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:511,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:482,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:481,columnNumber:15},this),e.pharmacokinetics&&l.jsxDEV(gs,{title:"Pharmacokinetics",icon:l.jsxDEV(ko,{className:"h-5 w-5 text-purple-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:525,columnNumber:55},this),children:l.jsxDEV("div",{className:"grid gap-4 sm:grid-cols-2",children:["                  ",((K=e.pharmacokinetics)==null?void 0:K.half_life)&&l.jsxDEV(it,{title:"Half-Life",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.half_life},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:528,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:527,columnNumber:21},this),e.pharmacokinetics.metabolism&&l.jsxDEV(it,{title:"Metabolism",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.metabolism},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:535,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:534,columnNumber:21},this),e.pharmacokinetics.excretion&&l.jsxDEV(it,{title:"Excretion",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.excretion},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:542,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:541,columnNumber:21},this),e.pharmacokinetics.bioavailability&&l.jsxDEV(it,{title:"Bioavailability",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.bioavailability},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:549,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:548,columnNumber:21},this),e.pharmacokinetics.protein_binding&&l.jsxDEV(it,{title:"Protein Binding",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.protein_binding},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:556,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:555,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:526,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:525,columnNumber:15},this),l.jsxDEV("div",{className:"grid gap-6 sm:grid-cols-2",children:[((ie=e.reference_sources)==null?void 0:ie.length)>0&&l.jsxDEV(gs,{title:"References",icon:l.jsxDEV(uo,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:568,columnNumber:51},this),children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.reference_sources.map((ae,pe)=>l.jsxDEV(wn,{variant:"outline",className:"text-xs",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:571,columnNumber:23},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:569,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:568,columnNumber:17},this),((le=e.routine_monitoring)==null?void 0:le.length)>0&&l.jsxDEV(gs,{title:"Routine Testing",icon:l.jsxDEV(Ff,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:579,columnNumber:56},this),children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.routine_monitoring.map((ae,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:ae},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:582,columnNumber:23},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:580,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:579,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:566,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:203,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:202,columnNumber:32},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:167,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:162,columnNumber:15},this):null}const Ca=e=>{try{const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),s=t.createGain();switch(n.connect(s),s.connect(t.destination),e){case"sort":n.type="sine",n.frequency.setValueAtTime(440,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),n.start(t.currentTime),n.stop(t.currentTime+.1);break;case"select":n.type="sine",n.frequency.setValueAtTime(520,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.05),n.start(t.currentTime),n.stop(t.currentTime+.05);break;case"success":n.type="sine",n.frequency.setValueAtTime(780,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),n.start(t.currentTime),n.stop(t.currentTime+.15);break;case"warning":n.type="triangle",n.frequency.setValueAtTime(320,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.start(t.currentTime),n.stop(t.currentTime+.3);break;case"error":n.type="square",n.frequency.setValueAtTime(220,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),n.start(t.currentTime),n.stop(t.currentTime+.2);break}}catch(t){console.warn("Audio feedback not supported",t)}},pte=()=>typeof window<"u"&&(typeof window.AudioContext<"u"||typeof window.webkitAudioContext<"u");function gte(e,t){const[n,s]=b.useState(e);return b.useEffect(()=>{const i=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}class bte extends Ee.Component{constructor(){super(...arguments);Me(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("Medication component error:",n,s)}render(){return this.state.hasError?this.props.fallback||l.jsxDEV("div",{className:"p-6 text-center",children:[l.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-red-600 font-medium mb-2",children:[l.jsxDEV(Qe,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:23,columnNumber:13},this),l.jsxDEV("h2",{children:"Error loading medication data"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:24,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:22,columnNumber:11},this),l.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Please try refreshing the page. If the problem persists, contact support."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:26,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:21,columnNumber:9},this):this.props.children}}const m1=(e,t)=>e.localeCompare(t),vte=(e,t,n,s,i)=>b.useMemo(()=>[...e.filter(r=>{var a,c;if(t){const u=t.toLowerCase(),d=(r.name||"").toLowerCase().includes(u),m=(r.brand_names||[]).some(p=>(p||"").toLowerCase().includes(u)),f=(r.classification||"").toLowerCase().includes(u),h=(((a=r.indications)==null?void 0:a.cancer_types)||[]).some(p=>(p||"").toLowerCase().includes(u));if(!d&&!m&&!f&&!h)return!1}return n&&!((c=r.classification)!=null&&c.includes(n))?!1:s?["Antiemetic","Anxiolytic","Antihistamine","Corticosteroid"].some(d=>{var m;return(m=r.classification)==null?void 0:m.includes(d)}):!0})].sort((r,a)=>{const c=i.order==="asc"?1:-1;switch(i.field){case"name":return m1(r.name,a.name)*c;case"classification":return m1(r.classification,a.classification)*c;case"updated_at":return(new Date(r.updated_at).getTime()-new Date(a.updated_at).getTime())*c;default:return 0}}),[e,t,n,s,i]),Rf=()=>l.jsxDEV("div",{className:"bg-white/30 backdrop-blur-md border border-white/20 rounded-xl shadow-lg p-6 animate-pulse","data-testid":"medication-skeleton",children:[l.jsxDEV("div",{className:"flex justify-between items-start",children:[l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-6 w-48 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:84,columnNumber:9},void 0),l.jsxDEV("div",{className:"h-4 w-32 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:85,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:83,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-6 w-24 bg-gray-200 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:87,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:82,columnNumber:5},void 0),l.jsxDEV("div",{className:"mt-4 flex gap-2",children:[l.jsxDEV("div",{className:"h-5 w-20 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:90,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-5 w-24 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:91,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-5 w-16 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:92,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:89,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:81,columnNumber:3},void 0),xte=e=>e.includes("Antiemetic")?"bg-teal-100 text-teal-800 border border-teal-200":e.includes("Antihistamine")?"bg-cyan-100 text-cyan-800 border border-cyan-200":e.includes("Corticosteroid")?"bg-emerald-100 text-emerald-800 border border-emerald-200":e.includes("Anxiolytic")?"bg-indigo-100 text-indigo-800 border border-indigo-200":e.includes("Chemotherapy")?"bg-yellow-100 text-yellow-800 border border-yellow-200":e.includes("Checkpoint Inhibitor")?"bg-green-100 text-green-800 border border-green-200":e.includes("Monoclonal Antibody")?"bg-purple-100 text-purple-800 border border-purple-200":e.includes("Conjugate")?"bg-pink-100 text-pink-800 border border-pink-200":e.includes("Inhibitor")?"bg-blue-100 text-blue-800 border border-blue-200":e.includes("SERM")?"bg-orange-100 text-orange-800 border border-orange-200":"bg-gray-100 text-gray-800 border border-gray-200",Nte=e=>e.includes("5-HT3 Receptor Antagonist")?"5-HT3 RA":e.includes("NK1 Receptor Antagonist")?"NK1 RA":e.includes("Checkpoint Inhibitor")?e.replace("Checkpoint Inhibitor","Inhibitor"):e.includes("Monoclonal Antibody")?e.replace("Monoclonal Antibody","mAb"):e.includes("Tyrosine Kinase Inhibitor")?e.replace("Tyrosine Kinase Inhibitor","TKI"):e.includes("Antibody-Drug Conjugate")?e.replace("Targeted Antibody-Drug Conjugate","ADC"):e==="Selective Estrogen Receptor Modulator (SERM)"?"SERM":e,KM="medications-sort-preference",yte=()=>{try{const e=localStorage.getItem(KM);if(e){const t=JSON.parse(e);if(t.field&&["name","classification","updated_at"].includes(t.field)&&t.order&&["asc","desc"].includes(t.order))return t}}catch{console.warn("Failed to parse saved sort preference")}return{field:"name",order:"asc"}};function wte({initialData:e}){const t=Ee.useRef(null),[n,s]=b.useState(e||[]),[i,o]=b.useState(!e),[r,a]=b.useState(""),c=gte(r,300),[u,d]=b.useState(""),[m,f]=b.useState(!1),[h,p]=b.useState(null),[g,v]=b.useState(null),[x,E]=b.useState(-1),[N,D]=b.useState(yte()),[w,T]=b.useState("");vte(n,c,u,m,N);const M=P=>{if(P!==x&&(E(P),Ca("select"),n[P])){const j=new URL(window.location.href);j.searchParams.set("med",n[P].id),window.history.replaceState({},"",j)}},_=P=>{T(P),setTimeout(()=>T(""),1e3)},C=P=>{if(typeof window>"u")return;const j=new URL(window.location.href);Object.entries(P).forEach(([R,U])=>{U?j.searchParams.set(R==="search"?"q":R,U):j.searchParams.delete(R==="search"?"q":R)}),window.history.replaceState({},"",j)},k=(P,j)=>{D(P),_(j),C({sort:P.field,order:P.order})};b.useEffect(()=>{try{localStorage.setItem(KM,JSON.stringify(N))}catch{console.warn("Failed to save sort preference")}},[N]);const L=P=>{var j;if(((j=document.activeElement)==null?void 0:j.tagName)!=="INPUT")switch(P.key){case"ArrowDown":case"j":{P.preventDefault();const R=x<n.length-1?x+1:x;M(R);break}case"ArrowUp":case"k":{P.preventDefault();const R=x>0?x-1:x;M(R);break}case"Enter":P.preventDefault(),x>=0&&x<n.length&&(v(n[x]),Ca("select"));break;case"Home":P.preventDefault(),E(0);break;case"End":P.preventDefault(),E(n.length-1);break;case"n":case"c":case"u":case"s":case"l":if(P.altKey){if(P.preventDefault(),P.key==="l"){const R=new URL(window.location.href);navigator.clipboard.writeText(R.toString()),_("URL copied to clipboard! "),Ca("select");return}if(P.key==="n"){const R={field:"name",order:N.field==="name"&&N.order==="asc"?"desc":"asc"};k(R,`Sorted by name ${R.order==="asc"?"":""}`)}else if(P.key==="c"){const R={field:"classification",order:N.field==="classification"&&N.order==="asc"?"desc":"asc"};k(R,`Sorted by classification ${R.order==="asc"?"":""}`)}else if(P.key==="u"){const R={field:"updated_at",order:N.field==="updated_at"&&N.order==="asc"?"desc":"asc"};k(R,`Sorted by date ${R.order==="asc"?"":""}`)}if(P.key==="s"){const R={...N,order:N.order==="asc"?"desc":"asc"};k(R,`Sort order: ${R.order==="asc"?"ascending ":"descending "}`)}}break}},B=b.useCallback(async()=>{try{o(!0),p(null);let P=Ro.from("oncology_medications").select("*").order(N.field,{ascending:N.order==="asc"});c&&(P=P.or(`name.ilike.%${c}%,classification.ilike.%${c}%`)),u&&(P=P.eq("classification",u)),m&&(P=P.eq("is_premedication",!0));const{data:j,error:R}=await P;if(R)throw console.error(" Error fetching from oncology_medications:",R),R;console.log(" Medications fetched:",j),s(j)}catch(P){const j=P;console.error(" Error fetching medications:",j);const R=j.message||"Failed to fetch medications. Please try again.";p(R),pte()&&Ca("error"),_(`Error: ${R}`),s([])}finally{o(!1)}},[c,u,m,N]);return b.useEffect(()=>{e||B()},[e]),b.useEffect(()=>{const P=setTimeout(()=>{r||u?B():e||B()},300);return()=>clearTimeout(P)},[r,u,e]),b.useEffect(()=>{E(-1)},[n]),b.useEffect(()=>{if(typeof window<"u"){const P=new URL(window.location.href),j=P.searchParams.get("q");j&&a(j);const R=P.searchParams.get("class");R&&d(R);const U=P.searchParams.get("sort"),G=P.searchParams.get("order");U&&G&&D({field:U,order:G});const $=P.searchParams.get("med");if($&&n.length>0){const Z=n.findIndex(I=>I.id===$);Z!==-1&&(E(Z),setTimeout(()=>{const I=document.getElementById(`medication-${Z}`);I==null||I.scrollIntoView({behavior:"smooth",block:"nearest"})},100))}}},[n]),b.useEffect(()=>{const P=j=>{var R,U;j.key==="/"&&((R=document.activeElement)==null?void 0:R.tagName)!=="INPUT"&&(j.preventDefault(),(U=t.current)==null||U.focus()),j.key==="Escape"&&(r||u?(a(""),d("")):E(-1)),L(j)};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[r,u,n.length]),b.useEffect(()=>{if(x>=0){const P=document.getElementById(`medication-${x}`);P==null||P.scrollIntoView({behavior:"smooth",block:"nearest"})}},[x]),i?l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV(Rf,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:496,columnNumber:9},this),l.jsxDEV(Rf,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:497,columnNumber:9},this),l.jsxDEV(Rf,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:495,columnNumber:7},this):l.jsxDEV(bte,{children:l.jsxDEV("div",{className:"space-y-6 relative",children:[w&&l.jsxDEV("div",{className:`
              fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
              bg-gray-900/90 text-white px-4 py-2 rounded-lg shadow-xl 
              backdrop-blur-sm z-50
              animate-in fade-in-0 zoom-in-95 duration-200
              data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95
              flex items-center gap-2 font-medium
            `,role:"status","aria-live":"polite",children:w},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:508,columnNumber:11},this),l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg shadow-lg",children:l.jsxDEV(uo,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:526,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:525,columnNumber:13},this),l.jsxDEV("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Oncology Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:528,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:524,columnNumber:11},this),l.jsxDEV("button",{onClick:()=>{const P=new URL(window.location.href);navigator.clipboard.writeText(P.toString()),_("URL copied to clipboard! "),Ca("select")},className:"px-3 py-2 flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 bg-white/30 backdrop-blur-md border border-white/20 rounded-lg shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 transition-all duration-300",title:"Copy link to clipboard (Alt+L)",children:[l.jsxDEV(IC,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:542,columnNumber:13},this),"Share View"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:532,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:523,columnNumber:9},this),l.jsxDEV("div",{className:"flex gap-4 items-center",children:[l.jsxDEV("button",{onClick:()=>{f(!m),d("")},className:`
              px-4 py-2 rounded-lg text-sm font-medium 
              transition-all duration-300
              ${m?"bg-indigo-600 text-white shadow-lg":"bg-white/30 text-gray-600 hover:bg-indigo-50"}
            `,children:m?" Pre-Medications Only":"Show Pre-Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:549,columnNumber:11},this),l.jsxDEV("div",{className:"flex-1 relative",children:[l.jsxDEV(yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:567,columnNumber:13},this),l.jsxDEV("input",{ref:t,type:"text",placeholder:"Search medications, classifications, or cancer types... (Press '/' to focus)",value:r,onChange:P=>{a(P.target.value),C({search:P.target.value||void 0})},className:"pl-10 pr-4 py-2 w-full bg-white/30 backdrop-blur-md border border-white/20 rounded-lg shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:568,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:566,columnNumber:11},this),!m&&l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("select",{value:u,onChange:P=>d(P.target.value),className:"pl-4 pr-10 py-2 bg-white/30 backdrop-blur-md border border-white/20 rounded-lg shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 appearance-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300","aria-label":"Filter by classification",children:[l.jsxDEV("option",{value:"",children:"All Classifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:592,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Pre-Medications",children:[l.jsxDEV("option",{value:"5-HT3 Receptor Antagonist Antiemetic",children:"5-HT3 RA Antiemetic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:594,columnNumber:19},this),l.jsxDEV("option",{value:"NK1 Receptor Antagonist Antiemetic",children:"NK1 RA Antiemetic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:595,columnNumber:19},this),l.jsxDEV("option",{value:"D2 Receptor Antagonist Antiemetic",children:"D2 RA Antiemetic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:596,columnNumber:19},this),l.jsxDEV("option",{value:"H1 Antihistamine",children:"H1 Antihistamine"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:597,columnNumber:19},this),l.jsxDEV("option",{value:"H2 Antihistamine",children:"H2 Antihistamine"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:598,columnNumber:19},this),l.jsxDEV("option",{value:"Corticosteroid",children:"Corticosteroid"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:599,columnNumber:19},this),l.jsxDEV("option",{value:"Benzodiazepine Anxiolytic",children:"Benzodiazepine Anxiolytic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:600,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:593,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Traditional Chemotherapy",children:[l.jsxDEV("option",{value:"Platinum Chemotherapy",children:"Platinum Chemotherapy"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:603,columnNumber:19},this),l.jsxDEV("option",{value:"Anthracycline Chemotherapy",children:"Anthracycline Chemotherapy"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:604,columnNumber:19},this),l.jsxDEV("option",{value:"Taxane Chemotherapy",children:"Taxane Chemotherapy"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:605,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:602,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Immunotherapy",children:[l.jsxDEV("option",{value:"PD-1 Checkpoint Inhibitor",children:"PD-1 Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:608,columnNumber:19},this),l.jsxDEV("option",{value:"PD-L1 Checkpoint Inhibitor",children:"PD-L1 Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:609,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:607,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Antibody-Drug Conjugates",children:[l.jsxDEV("option",{value:"HER2-Targeted Antibody-Drug Conjugate",children:"HER2 ADC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:612,columnNumber:19},this),l.jsxDEV("option",{value:"Trop-2-Targeted Antibody-Drug Conjugate",children:"Trop-2 ADC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:613,columnNumber:19},this),l.jsxDEV("option",{value:"CD79b-Targeted Antibody-Drug Conjugate",children:"CD79b ADC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:614,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:611,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Monoclonal Antibodies",children:l.jsxDEV("option",{value:"HER2 Monoclonal Antibody",children:"HER2 mAb"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:617,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:616,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Targeted Therapies",children:[l.jsxDEV("option",{value:"EGFR Tyrosine Kinase Inhibitor",children:"EGFR TKI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:620,columnNumber:19},this),l.jsxDEV("option",{value:"ALK Tyrosine Kinase Inhibitor",children:"ALK TKI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:621,columnNumber:19},this),l.jsxDEV("option",{value:"ALK/ROS1 Tyrosine Kinase Inhibitor",children:"ALK/ROS1 TKI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:622,columnNumber:19},this),l.jsxDEV("option",{value:"KRAS Inhibitor",children:"KRAS Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:623,columnNumber:19},this),l.jsxDEV("option",{value:"PI3K Inhibitor",children:"PI3K Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:624,columnNumber:19},this),l.jsxDEV("option",{value:"CDK4/6 Inhibitor",children:"CDK4/6 Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:625,columnNumber:19},this),l.jsxDEV("option",{value:"BTK Inhibitor",children:"BTK Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:626,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:619,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Hormone Therapy",children:l.jsxDEV("option",{value:"Selective Estrogen Receptor Modulator (SERM)",children:"SERM"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:629,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:628,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:586,columnNumber:15},this),l.jsxDEV(Dp,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:632,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:585,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:548,columnNumber:9},this),l.jsxDEV("div",{className:"text-sm text-gray-500","aria-label":"Keyboard shortcuts",children:[l.jsxDEV("h3",{className:"sr-only",children:"Keyboard shortcuts"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:639,columnNumber:11},this),l.jsxDEV("ul",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[l.jsxDEV("li",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"/"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:644,columnNumber:17},this),l.jsxDEV("span",{children:"Search"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:645,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:643,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:648,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:649,columnNumber:17},this),l.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:650,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"j"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:651,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"k"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:652,columnNumber:17},this),l.jsxDEV("span",{children:"Navigate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:653,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:647,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Home"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:656,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"End"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:657,columnNumber:17},this),l.jsxDEV("span",{children:"Jump to top/bottom"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:658,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:655,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Enter"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:661,columnNumber:17},this),l.jsxDEV("span",{children:"View details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:662,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:660,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Esc"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:665,columnNumber:17},this),l.jsxDEV("span",{children:"Clear filters"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:666,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:664,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:642,columnNumber:13},this),l.jsxDEV("li",{className:"flex flex-wrap gap-x-4 gap-y-2 border-t border-gray-200/30 pt-2 w-full",children:[l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:672,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"N"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:673,columnNumber:17},this),l.jsxDEV("span",{children:"Sort by name"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:674,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:671,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:677,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"C"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:678,columnNumber:17},this),l.jsxDEV("span",{children:"Sort by class"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:679,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:676,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:682,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"U"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:683,columnNumber:17},this),l.jsxDEV("span",{children:"Sort by updated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:684,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:681,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:687,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"S"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:688,columnNumber:17},this),l.jsxDEV("span",{children:"Toggle ascending/descending"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:689,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:686,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:692,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"L"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:693,columnNumber:17},this),l.jsxDEV("span",{children:"Copy sharable link"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:694,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:691,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:670,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:640,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:638,columnNumber:9},this),l.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 text-sm",role:"toolbar","aria-label":"Sort controls",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("label",{htmlFor:"sort-field",className:"text-gray-600",children:"Sort by:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:707,columnNumber:13},this),l.jsxDEV("select",{id:"sort-field",value:N.field,onChange:P=>{const j={field:P.target.value,order:"asc"};k(j,`Sorted by ${P.target.value.replace(/_/g," ")} ${j.order==="asc"?"":""}`)},className:`
                pl-3 pr-8 py-1 bg-white/30 backdrop-blur-md border border-white/20 
                rounded-lg shadow hover:shadow-md opacity-80 hover:opacity-100 
                appearance-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent 
                transition-all duration-300
                ${N.field==="name"&&"text-indigo-700"}
                ${N.field==="classification"&&"text-purple-700"}
                ${N.field==="updated_at"&&"text-blue-700"}
              `,title:"Press Alt+N for name, Alt+C for class, Alt+U for updated","aria-label":`Sort by ${N.field}, currently ${N.order==="asc"?"ascending":"descending"}`,children:[l.jsxDEV("option",{value:"name",children:[N.field==="name"&&(N.order==="asc"?" ":" "),"Name"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:730,columnNumber:15},this),l.jsxDEV("option",{value:"classification",children:[N.field==="classification"&&(N.order==="asc"?" ":" "),"Classification"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:733,columnNumber:15},this),l.jsxDEV("option",{value:"updated_at",children:[N.field==="updated_at"&&(N.order==="asc"?" ":" "),"Last Updated"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:736,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:708,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:706,columnNumber:11},this),l.jsxDEV("button",{onClick:()=>{const P={...N,order:N.order==="asc"?"desc":"asc"};k(P,`Sort order: ${P.order==="asc"?"ascending ":"descending "}`)},className:`
              inline-flex items-center gap-1 px-2.5 py-1.5 
              text-gray-600 hover:text-gray-800 
              border border-transparent hover:border-gray-200 
              rounded-lg transition-all duration-200
              ${N.order==="desc"?"bg-gray-100/50":""}
            `,title:"Press Alt+S to toggle sort order",children:[N.order==="asc"?"":"",N.order==="asc"?"Ascending":"Descending"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:741,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:701,columnNumber:9},this),l.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 text-sm border-t border-gray-200/30 pt-3 mt-3",children:[!i&&!h&&l.jsxDEV("span",{className:"text-gray-600",children:["Found ",n.length," medication",n.length!==1?"s":"",(r||u)&&" matching filters"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:766,columnNumber:13},this),r&&l.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded bg-indigo-100 text-indigo-800 gap-1",children:["Search: ",r,l.jsxDEV("button",{onClick:()=>a(""),className:"hover:text-indigo-600",title:"Clear search",children:l.jsxDEV(ss,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:779,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:772,columnNumber:13},this),u&&l.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded bg-purple-100 text-purple-800 gap-1",children:["Type: ",u,l.jsxDEV("button",{onClick:()=>d(""),className:"hover:text-purple-600",title:"Clear classification filter",children:l.jsxDEV(ss,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:791,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:786,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:784,columnNumber:13},this),(r||u)&&l.jsxDEV("button",{onClick:()=>{a(""),d("")},className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Clear all filters"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:796,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:764,columnNumber:9},this),h&&l.jsxDEV("div",{className:"bg-white/30 backdrop-blur-md border border-white/20 text-red-700 p-4 rounded-xl shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 transition-all duration-300 flex items-center gap-2",children:[l.jsxDEV(ss,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:810,columnNumber:13},this),l.jsxDEV("p",{children:h},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:811,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:809,columnNumber:11},this),l.jsxDEV("div",{className:"space-y-4",children:n.length===0?l.jsxDEV("div",{className:"text-center p-8 bg-white/30 backdrop-blur-md border border-white/20 rounded-xl shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 transition-all duration-300",children:["No medications found. ",r||u?"Try adjusting your filters.":""]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:817,columnNumber:13},this):n.map((P,j)=>{var R,U,G;return l.jsxDEV("div",{id:`medication-${j}`,className:`group bg-white/30 backdrop-blur-md border ${x===j?"border-indigo-500 ring-2 ring-indigo-500 ring-opacity-50 shadow-xl scale-[1.02]":"border-white/20 hover:shadow-2xl hover:scale-[1.02]"} rounded-xl shadow-lg opacity-80 hover:opacity-100 p-6 cursor-pointer 
                  transition-all duration-300
                  motion-safe:animate-in 
                  motion-safe:fade-in-0 
                  ${N.order==="asc"?"motion-safe:slide-in-from-bottom-4":"motion-safe:slide-in-from-top-4"}
                  motion-safe:duration-500
                  motion-safe:delay-[${Math.min(j*50,1e3)}ms]`,onClick:()=>v(P),title:`Click to view detailed information (${j+1} of ${n.length})`,role:"button",tabIndex:0,"aria-selected":x===j?"true":"false",children:[l.jsxDEV("div",{className:"flex justify-between items-start",children:[l.jsxDEV("div",{children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:P.name||"Untitled Medication"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:848,columnNumber:23},this),P.is_premedication&&l.jsxDEV("span",{className:"px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full",children:"Pre-Med"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:852,columnNumber:25},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:847,columnNumber:21},this),((R=P.brand_names)==null?void 0:R.length)>0&&l.jsxDEV("p",{className:"mt-1 text-sm text-gray-600",children:P.brand_names.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:858,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:846,columnNumber:19},this),l.jsxDEV("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${xte(P.classification||"")}`,children:Nte(P.classification||"")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:863,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:845,columnNumber:17},this),l.jsxDEV("div",{className:"mt-2 flex flex-wrap gap-1",children:(G=(U=P.indications)==null?void 0:U.cancer_types)==null?void 0:G.map(($,Z)=>l.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-xs bg-gray-100 text-gray-800 border border-gray-200 hover:bg-gray-200 transition-colors duration-200 cursor-help",title:`Search for medications indicated for ${$}`,onClick:I=>{I.stopPropagation(),a($)},children:$},Z,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:869,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:867,columnNumber:17},this)]},P.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:822,columnNumber:15},this)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:815,columnNumber:9},this),l.jsxDEV(hte,{medication:g,isOpen:!!g,onClose:()=>{v(null);const P=new URL(window.location.href);P.searchParams.delete("med"),window.history.replaceState({},"",P)}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:888,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:505,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:504,columnNumber:5},this)}const Dte=()=>{const[e,t]=b.useState(0),n=[{id:"treatment-protocols",label:"Treatment Protocols",component:l.jsxDEV(Vee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:25,columnNumber:75},void 0)},{id:"medications",label:"Medications",component:l.jsxDEV(wte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:26,columnNumber:59},void 0)},{id:"toxicity",label:"Toxicity",component:l.jsxDEV(Wee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:27,columnNumber:53},void 0)},{id:"disease-progress",label:"Disease Progress",component:l.jsxDEV(Jee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:28,columnNumber:69},void 0)}];return l.jsxDEV(st,{moduleName:"Chemotherapy Day Unit",children:l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-indigo-700",children:"Chemotherapy Day Unit"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:34,columnNumber:9},void 0),l.jsxDEV(pt.Group,{selectedIndex:e,onChange:t,children:[l.jsxDEV(pt.List,{className:"flex space-x-4 border-b pb-3 mb-6",children:n.map((s,i)=>l.jsxDEV(pt,{className:({selected:o})=>`
                cursor-pointer py-2 px-4 rounded-lg shadow transition-all duration-300
                ${o?"bg-gradient-to-r from-indigo-500 to-teal-500 text-white":"bg-white text-gray-600 hover:text-indigo-500 hover:shadow-md"}
              `,children:s.label},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:38,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:36,columnNumber:11},void 0),l.jsxDEV(pt.Panels,{children:n.map((s,i)=>l.jsxDEV(pt.Panel,{children:s.id==="treatment-protocols"?l.jsxDEV(wp,{children:[l.jsxDEV(nt,{index:!0,element:s.component},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:54,columnNumber:21},void 0),l.jsxDEV(nt,{path:"treatment-protocols/:id",element:l.jsxDEV(jM,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:55,columnNumber:68},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:55,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:53,columnNumber:19},void 0):s.component},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:51,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:35,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:33,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:32,columnNumber:5},void 0)},f1=[{id:"neutropenic-fever",title:"Neutropenic Fever",timeToAction:"60 minutes",category:["Hematologic","Infectious"],symptoms:["Fever (single temperature 38.3C or 38.0C sustained over 1 hour)","Absolute neutrophil count <500 cells/mm","Chills or rigors","Hypotension","Altered mental status"],diagnostics:["Complete blood count with differential","Blood cultures (2 sets, peripheral and central line if present)","Urine culture","Chest X-ray","Additional cultures from suspected sites of infection"],management:[{title:"Empiric Antibiotic Therapy",description:"Start broad-spectrum antibiotics within 1 hour of presentation"},{title:"Risk Assessment",description:"Determine high vs low risk based on MASCC score or CISNE index"},{title:"Source Control",description:"Remove infected catheters/devices if indicated"},{title:"Monitoring",description:"Close monitoring for clinical deterioration; ICU assessment if unstable"}],medications:[{name:"Piperacillin-Tazobactam",dosage:"4.5g IV every 6 hours"},{name:"Cefepime",dosage:"2g IV every 8 hours"},{name:"Meropenem",dosage:"1g IV every 8 hours"}],additionalNotes:"Consider antibiotic adjustments after 48-72 hours based on cultures and clinical response."},{id:"spinal-cord-compression",title:"Spinal Cord Compression",timeToAction:"12 hours",category:"Obstructive",symptoms:["Back pain (90% of cases)","Weakness or paralysis in extremities","Sensory loss below level of compression","Urinary or bowel incontinence/retention","Loss of deep tendon reflexes"],diagnostics:["MRI of entire spine (preferred)","CT scan if MRI contraindicated","Complete neurological examination","Laboratory tests: CBC, CMP, Calcium levels"],management:[{title:"High-Dose Corticosteroids",description:"Start dexamethasone immediately upon suspicion"},{title:"Urgent Neurosurgical/Radiation Oncology Consult",description:"Coordinate multidisciplinary care team"},{title:"Radiation Therapy",description:"External beam radiation therapy within 24 hours"},{title:"Surgical Decompression",description:"Consider for spinal instability or radioresistant tumors"}],medications:[{name:"Dexamethasone",dosage:"Loading dose: 10mg IV, then 4mg IV/PO every 6 hours"}]},{id:"tumor-lysis-syndrome",title:"Tumor Lysis Syndrome",timeToAction:"6 hours",category:"Metabolic",symptoms:["Hyperuricemia","Hyperkalemia","Hyperphosphatemia","Hypocalcemia","Acute kidney injury","Cardiac arrhythmias","Seizures"],diagnostics:["Serum electrolytes (K, Ca, P) q6h","Serum creatinine and BUN","Uric acid levels","Urine output monitoring","ECG monitoring for arrhythmias"],management:[{title:"Aggressive Hydration",description:"IV fluids at 2-3L/m/day to maintain high urine output (100-200 mL/h)"},{title:"Electrolyte Management",description:"Correct electrolyte imbalances; avoid calcium supplementation if phosphate is elevated"},{title:"Xanthine Oxidase Inhibitor",description:"Allopurinol for prevention; rasburicase for established hyperuricemia"},{title:"Renal Replacement",description:"Consider hemodialysis for severe electrolyte disturbances, oliguria, or azotemia"}],medications:[{name:"Allopurinol",dosage:"100-300mg PO every 8 hours"},{name:"Rasburicase",dosage:"0.2mg/kg IV as a single dose (use with caution in G6PD deficiency)"},{name:"Sodium Bicarbonate",dosage:"Consider for urinary alkalinization if pH <7.0"}],additionalNotes:"Avoid calcium correction until hyperphosphatemia is addressed to prevent calcium phosphate precipitation."},{id:"superior-vena-cava-syndrome",title:"Superior Vena Cava Syndrome",timeToAction:"24 hours",category:"Obstructive",symptoms:["Facial swelling (especially in morning)","Neck distention","Difficulty breathing/dyspnea","Upper extremity swelling","Dilated neck or chest wall veins","Cough, hoarseness, dysphagia"],diagnostics:["CT of chest with contrast","Venography if diagnosis uncertain","Consider bronchoscopy or mediastinoscopy for tissue diagnosis","Oxygen saturation monitoring"],management:[{title:"Airway Management",description:"Elevate head of bed; supplemental oxygen if needed"},{title:"Radiation Therapy",description:"For known malignancies, especially radiosensitive tumors"},{title:"Stent Placement",description:"Consider urgent stenting for severe symptoms"},{title:"Tissue Diagnosis",description:"Obtain if not previously established (guides definitive treatment)"}],medications:[{name:"Dexamethasone",dosage:"4-10mg IV every 6 hours"},{name:"Furosemide",dosage:"20-40mg IV/PO daily as needed for edema"}]},{id:"hypercalcemia-of-malignancy",title:"Hypercalcemia of Malignancy",timeToAction:"24 hours",category:"Metabolic",symptoms:["Altered mental status, confusion","Nausea, vomiting, constipation","Polydipsia, polyuria","Weakness, fatigue","Cardiac arrhythmias","Bone pain"],diagnostics:["Serum calcium (total and ionized)","Kidney function tests","Serum phosphorus, magnesium","PTH and PTHrP levels","25-OH Vitamin D"],management:[{title:"Volume Expansion",description:"Normal saline at 200-300 mL/hr initially, then maintenance"},{title:"Calciuresis",description:"Loop diuretics after adequate hydration"},{title:"Bisphosphonate Therapy",description:"For moderate to severe hypercalcemia (> 12 mg/dL)"},{title:"Treat Underlying Malignancy",description:"Definitive treatment based on primary tumor"}],medications:[{name:"Zoledronic Acid",dosage:"4mg IV over 15 minutes"},{name:"Pamidronate",dosage:"60-90mg IV over 2-4 hours"},{name:"Furosemide",dosage:"20-40mg IV after hydration"},{name:"Calcitonin",dosage:"4-8 IU/kg SC/IM every 12 hours (short-term use)"}],additionalNotes:"Response to bisphosphonates typically occurs in 2-4 days; monitor calcium levels daily."},{id:"febrile-neutropenia",title:"Febrile Neutropenia",timeToAction:"60 minutes",category:["Hematologic","Infectious"],symptoms:["Fever (38.3C once or 38.0C for 1h)","Absolute neutrophil count <500 cells/mm","Shaking chills","Hypotension","Mucositis","Localizing symptoms of infection"],diagnostics:["Complete blood count with differential","Blood cultures (2 sets)","Urinalysis and urine culture","Chest radiograph","Cultures from any suspected sites of infection"],management:[{title:"Empiric Antibiotics",description:"Start broad-spectrum antibiotics within 1 hour of presentation"},{title:"Risk Stratification",description:"MASCC or CISNE score to determine inpatient vs. outpatient management"},{title:"Infection Site Assessment",description:"Comprehensive evaluation for source of infection"},{title:"G-CSF Consideration",description:"Consider for high-risk patients or expected prolonged neutropenia"}],medications:[{name:"Cefepime",dosage:"2g IV every 8 hours"},{name:"Piperacillin-Tazobactam",dosage:"4.5g IV every 6-8 hours"},{name:"Meropenem",dosage:"1g IV every 8 hours"},{name:"Add Vancomycin",dosage:"15-20mg/kg IV every 8-12 hours if MRSA suspected"}],additionalNotes:"Reassess antibiotic therapy after 48 hours based on cultures and clinical response."},{id:"septic-shock",title:"Septic Shock in Cancer Patients",timeToAction:"30 minutes",category:"Infectious",symptoms:["Persistent hypotension after fluid resuscitation","Temperature >38.3C or <36C","Heart rate >90 beats/minute","Respiratory rate >20 breaths/minute or PaCO2 <32 mmHg","Altered mental status","Decreased urine output (<0.5 mL/kg/hr)","Mottled skin or prolonged capillary refill"],diagnostics:["Blood cultures (at least 2 sets)","CBC with differential","Comprehensive metabolic panel","Lactate level","Blood gases","Chest X-ray","Urinalysis and urine culture","Imaging of suspected infection sites"],management:[{title:"Immediate Fluid Resuscitation",description:"30 mL/kg crystalloid for hypotension or lactate 4 mmol/L within first 3 hours"},{title:"Broad-Spectrum Antibiotics",description:"Administer within 1 hour of recognition"},{title:"Vasopressors",description:"If hypotension persists despite fluid resuscitation"},{title:"Source Control",description:"Identify and control source of infection (drain abscesses, remove infected devices)"},{title:"ICU Transfer",description:"Arrange immediate transfer to intensive care"}],medications:[{name:"Norepinephrine",dosage:"First-line vasopressor, 0.1-0.5 mcg/kg/min IV"},{name:"Broad-spectrum antibiotics",dosage:"Per institutional protocol and suspected source"},{name:"Vasopressin",dosage:"May be added to norepinephrine (0.03-0.04 units/min)"}],additionalNotes:"Cancer patients are at higher risk for multidrug-resistant organisms; consider previous microbiology results and recent antibiotic exposure when selecting empiric therapy."},{id:"chemo-anaphylaxis",title:"Anaphylaxis from Chemotherapy",timeToAction:"5 minutes",category:"Treatment-Related",symptoms:["Hypotension","Wheezing or bronchospasm","Urticaria or flushing","Angioedema","Dyspnea","Gastrointestinal symptoms (nausea, vomiting, diarrhea)","Temporal relationship to chemotherapy infusion"],diagnostics:["Clinical diagnosis based on symptoms","Vital signs monitoring","Pulse oximetry","Consider tryptase level (if available, within 3 hours of reaction)"],management:[{title:"Stop Infusion",description:"Immediately discontinue the offending agent"},{title:"Maintain Airway",description:"Position patient, prepare for intubation if severe"},{title:"Epinephrine",description:"Administer IM epinephrine as first-line treatment"},{title:"Fluid Resuscitation",description:"IV fluids for hypotension"},{title:"Secondary Medications",description:"H1 and H2 antihistamines, corticosteroids"}],medications:[{name:"Epinephrine",dosage:"0.3-0.5 mg IM (1:1000 solution), may repeat every 5-15 minutes as needed"},{name:"Diphenhydramine",dosage:"25-50 mg IV/IM/PO"},{name:"Ranitidine or famotidine",dosage:"Ranitidine 50 mg IV or Famotidine 20 mg IV"},{name:"Methylprednisolone",dosage:"125 mg IV"}],additionalNotes:"Document reaction in detail; consider allergy/immunology consult for desensitization protocols if the chemotherapy agent is essential for treatment."},{id:"leukostasis",title:"Leukostasis in Acute Leukemia",timeToAction:"6 hours",category:"Hematologic",symptoms:["Dyspnea or hypoxemia","Confusion or altered mental status","Visual changes","Headache","Very high WBC count (>100,000/L, especially in AML)","Pulmonary infiltrates without infection","Priapism (rare)"],diagnostics:["Complete blood count with differential","Blood gas analysis","Chest X-ray","Brain imaging (if neurological symptoms)","Coagulation studies","Basic metabolic panel"],management:[{title:"Urgent Leukapheresis",description:"Particularly for symptomatic patients with WBC >100,000/L"},{title:"Hydration",description:"IV fluids to maintain good hydration and urine output"},{title:"Cytoreduction",description:"Hydroxyurea or other rapidly acting cytoreductive therapy"},{title:"Avoid Transfusions",description:"If possible, avoid RBC transfusions which may increase viscosity"},{title:"Allopurinol or Rasburicase",description:"Preemptive treatment for tumor lysis syndrome"}],medications:[{name:"Hydroxyurea",dosage:"50-100 mg/kg/day PO divided in 2-3 doses"},{name:"Rasburicase",dosage:"0.2 mg/kg IV once daily (for high risk of TLS)"},{name:"Allopurinol",dosage:"300-600 mg/day PO"}],additionalNotes:"Leukostasis is a medical emergency requiring prompt hematology consultation. If leukapheresis is not immediately available, cytoreduction with hydroxyurea should be initiated while arranging transfer to a center with apheresis capability."},{id:"bowel-obstruction",title:"Bowel Obstruction due to Tumor",timeToAction:"24 hours",category:"Obstructive",symptoms:["Abdominal pain","Nausea and vomiting","Absence of bowel movements or flatus","Abdominal distention","High-pitched or absent bowel sounds","History of intra-abdominal malignancy (especially colorectal, ovarian, gastric)"],diagnostics:["Abdominal X-ray (supine and upright)","CT abdomen with contrast (if not contraindicated)","Complete blood count","Comprehensive metabolic panel","Blood gas analysis if concern for ischemia"],management:[{title:"NPO Status",description:"Nothing by mouth"},{title:"Nasogastric Tube",description:"For decompression and symptom relief"},{title:"IV Fluids",description:"Correct fluid and electrolyte imbalances"},{title:"Surgical Consultation",description:"Evaluate for possible surgical intervention"},{title:"Pharmacological Management",description:"Antiemetics, pain control, consider octreotide for malignant bowel obstruction"}],medications:[{name:"Octreotide",dosage:"100-600 mcg/day SC or IV continuous infusion"},{name:"Dexamethasone",dosage:"8-20 mg/day IV"},{name:"Ondansetron",dosage:"4-8 mg IV every 8 hours"},{name:"Opioid analgesics",dosage:"Titrate to pain control"}],additionalNotes:"In patients with advanced cancer, consider goals of care discussions. For inoperable cases, palliative measures may be appropriate, including venting gastrostomy for symptom control."},{id:"siadh",title:"SIADH (Syndrome of Inappropriate ADH Secretion)",timeToAction:"12 hours",category:"Metabolic",symptoms:["Hyponatremia (Na <135 mEq/L)","Decreased serum osmolality (<275 mOsm/kg)","Inappropriate urine concentration (Uosm >100 mOsm/kg)","Euvolemia (no edema or dehydration)","Headache","Nausea and vomiting","Confusion or altered mental status","Seizures (in severe cases)"],diagnostics:["Serum sodium and osmolality","Urine sodium and osmolality","Serum cortisol and TSH (to rule out adrenal insufficiency and hypothyroidism)","Chest imaging (to identify SCLC or other pulmonary malignancies)","Brain imaging (for CNS malignancies)","Volume status assessment"],management:[{title:"Fluid Restriction",description:"800-1000 mL/day for mild to moderate hyponatremia"},{title:"Hypertonic Saline",description:"For severe hyponatremia (Na <120 mEq/L) or neurological symptoms"},{title:"Monitor Sodium Correction Rate",description:"Not to exceed 8-10 mEq/L in 24 hours to avoid osmotic demyelination syndrome"},{title:"Treat Underlying Malignancy",description:"Directed therapy for SCLC or other causative tumor"},{title:"Pharmacologic Therapy",description:"Consider salt tablets, loop diuretics, or vasopressin receptor antagonists"}],medications:[{name:"3% Sodium Chloride",dosage:"For severe symptoms: 100-150 mL IV over 10-20 minutes, may repeat; otherwise 0.5-1 mL/kg/hr"},{name:"Tolvaptan",dosage:"Start 15 mg daily, can increase to 30-60 mg daily"},{name:"Salt tablets",dosage:"1-2 g TID with meals"},{name:"Furosemide",dosage:"20-40 mg daily (with salt tablets)"}],additionalNotes:"SIADH is commonly associated with small cell lung cancer, CNS disorders, and certain medications. Monitor sodium levels closely during correction to prevent osmotic demyelination syndrome."},{id:"ici-toxicities",title:"Immune Checkpoint Inhibitor Toxicities",timeToAction:"24 hours",category:"Treatment-Related",symptoms:["Colitis: diarrhea, abdominal pain","Pneumonitis: dyspnea, cough, hypoxia","Hepatitis: elevated liver enzymes, jaundice","Endocrinopathies: fatigue, headache, hypophysitis, thyroid dysfunction","Dermatitis: rash, pruritus","Nephritis: elevated creatinine","Myocarditis: chest pain, arrhythmia, heart failure","Neurological: neuropathy, myasthenia gravis-like syndrome, encephalitis"],diagnostics:["System-specific laboratory tests (liver function, thyroid function, etc.)","Inflammatory markers (CRP, ESR)","Imaging appropriate to affected organ system","Consider specialist consultations based on affected organ","Tissue biopsy in selected cases"],management:[{title:"Grade-Based Management",description:"Severity determines whether to continue, hold, or permanently discontinue ICI"},{title:"Corticosteroids",description:"Cornerstone of management for grade 2 or higher toxicities"},{title:"Specialty Consultation",description:"Based on organ system involved (gastroenterology, pulmonology, etc.)"},{title:"Additional Immunosuppression",description:"For steroid-refractory cases (infliximab, mycophenolate mofetil, etc.)"},{title:"Hormone Replacement",description:"For endocrinopathies"}],medications:[{name:"Prednisone/Methylprednisolone",dosage:"Grade 2: 0.5-1 mg/kg/day; Grade 3-4: 1-2 mg/kg/day"},{name:"Infliximab",dosage:"5 mg/kg IV for steroid-refractory colitis"},{name:"Mycophenolate mofetil",dosage:"500-1000 mg BID for hepatitis not responding to steroids"},{name:"Hormone replacement",dosage:"As needed for specific endocrinopathies"}],additionalNotes:"Early recognition and prompt intervention are critical. Most irAEs occur within first 12 weeks of treatment but can present months after discontinuation. Multidisciplinary management with oncology and organ specialists is recommended."}],Ete=e=>{const t=e.match(/(\d+)\s*(\w+)/);if(!t)return e;const[n,s,i]=t,o=parseInt(s,10);return i.startsWith("minute")?o<60?`${o}m`:`${Math.floor(o/60)}h ${o%60}m`:i.startsWith("hour")?`${o}h`:i.startsWith("day")?`${o}d`:e},XM=({timeToAction:e})=>{const t=()=>{const o=e.match(/(\d+)\s*(minutes?|hours?|days?)/i);if(!o)return{bg:"bg-yellow-600",text:"text-white"};const r=parseInt(o[1],10),a=o[2].toLowerCase();let c=r;return a.startsWith("hour")&&(c=r*60),a.startsWith("day")&&(c=r*24*60),c<=15?{bg:"bg-red-600",text:"text-white"}:c<=60?{bg:"bg-orange-500",text:"text-white"}:c<=360?{bg:"bg-yellow-500",text:"text-white"}:{bg:"bg-blue-500",text:"text-white"}},{bg:n,text:s}=t(),i=Ete(e);return l.jsxDEV(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n} ${s}`,whileHover:{scale:1.05},children:[l.jsxDEV("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/RedFlagTag.tsx",lineNumber:48,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/RedFlagTag.tsx",lineNumber:47,columnNumber:7},void 0),"Act within ",i]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/RedFlagTag.tsx",lineNumber:41,columnNumber:5},void 0)};var JM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h1=Ee.createContext&&Ee.createContext(JM),Tte=["attr","size","title"];function Ste(e,t){if(e==null)return{};var n=_te(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _te(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},id.apply(this,arguments)}function p1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(n),!0).forEach(function(s){kte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kte(e,t,n){return t=Mte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mte(e){var t=Cte(e,"string");return typeof t=="symbol"?t:t+""}function Cte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QM(e){return e&&e.map((t,n)=>Ee.createElement(t.tag,od({key:n},t.attr),QM(t.child)))}function Zd(e){return t=>Ee.createElement(Pte,id({attr:od({},e.attr)},t),QM(e.child))}function Pte(e){var t=n=>{var{attr:s,size:i,title:o}=e,r=Ste(e,Tte),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Ee.createElement("svg",id({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,r,{className:c,style:od(od({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Ee.createElement("title",null,o),e.children)};return h1!==void 0?Ee.createElement(h1.Consumer,null,n=>t(n)):t(JM)}function Ate(e){return Zd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function jte(e){return Zd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Ite(e){return Zd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function Rte(e){return Zd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}const Vte=({protocol:e,onViewDetails:t})=>{const[n,s]=b.useState(!1),i=()=>(Array.isArray(e.category)?e.category:[e.category]).map(r=>l.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mr-2",children:r},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:19,columnNumber:7},void 0));return l.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",children:[l.jsxDEV("button",{className:"w-full flex justify-between items-center p-4 text-left focus:outline-none",onClick:()=>s(!n),children:[l.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:36,columnNumber:11},void 0),e.timeToAction&&l.jsxDEV(XM,{timeToAction:e.timeToAction},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:38,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:35,columnNumber:9},void 0),l.jsxDEV(Be.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:l.jsxDEV(Ate,{className:"text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:45,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:31,columnNumber:7},void 0),l.jsxDEV("div",{className:"px-4 pb-3 border-t border-gray-100",children:l.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[i(),l.jsxDEV("span",{className:"truncate",children:["Key signs: ",e.symptoms.slice(0,2).join(", "),e.symptoms.length>2&&"..."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:51,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:50,columnNumber:7},void 0),l.jsxDEV(As,{children:n&&l.jsxDEV(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxDEV("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:[l.jsxDEV("div",{className:"mb-4",children:[l.jsxDEV("h4",{className:"font-medium text-gray-700 mb-1",children:"Key Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:72,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[e.symptoms.slice(0,3).map((o,r)=>l.jsxDEV("li",{className:"text-sm",children:o},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:75,columnNumber:21},void 0)),e.symptoms.length>3&&l.jsxDEV("li",{className:"text-sm text-gray-500",children:["+ ",e.symptoms.length-3," more symptoms"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:78,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:73,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:71,columnNumber:15},void 0),l.jsxDEV("div",{className:"mb-4",children:[l.jsxDEV("h4",{className:"font-medium text-gray-700 mb-1",children:"Initial Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:84,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[e.management.slice(0,2).map((o,r)=>l.jsxDEV("li",{className:"text-sm",children:o.title},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:87,columnNumber:21},void 0)),e.management.length>2&&l.jsxDEV("li",{className:"text-sm text-gray-500",children:["+ ",e.management.length-2," more steps"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:90,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:85,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:83,columnNumber:15},void 0),l.jsxDEV("button",{onClick:o=>{o.stopPropagation(),t()},className:"mt-2 inline-flex items-center px-3 py-2 border border-red-300 text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:["Full Protocol ",l.jsxDEV(Ite,{className:"ml-2 h-3 w-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:102,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:95,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:70,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:63,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:61,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:29,columnNumber:5},void 0)};var _u={exports:{}},Ote=_u.exports,g1;function Lte(){return g1||(g1=1,function(e,t){(function(n,s){e.exports=s(x1())})(typeof self<"u"?self:Ote,function(n){return function(){var s={155:function(x){x.exports=n}},i={};function o(x){var E=i[x];if(E!==void 0)return E.exports;var N=i[x]={exports:{}};return s[x](N,N.exports,o),N.exports}o.d=function(x,E){for(var N in E)o.o(E,N)&&!o.o(x,N)&&Object.defineProperty(x,N,{enumerable:!0,get:E[N]})},o.o=function(x,E){return Object.prototype.hasOwnProperty.call(x,E)},o.r=function(x){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})};var r={};o.r(r),o.d(r,{useReactToPrint:function(){return v}});var a=o(155);function c({level:x="error",messages:E,suppressErrors:N=!1}){N||(x==="error"?console.error(E):x==="warning"?console.warn(E):console.debug(E))}function u(x,E){if(E||!x){const N=document.getElementById("printWindow");N&&document.body.removeChild(N)}}function d(x){return x instanceof Error?x:new Error("Unknown Error")}function m(x,E){const{documentTitle:N,onAfterPrint:D,onPrintError:w,preserveAfterPrint:T,print:M,suppressErrors:_}=E;setTimeout(()=>{var C,k;if(x.contentWindow){let L=function(){D==null||D(),u(T)};if(x.contentWindow.focus(),M)M(x).then(L).catch(B=>{w?w("print",d(B)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:_})});else{if(x.contentWindow.print){const B=(k=(C=x.contentDocument)===null||C===void 0?void 0:C.title)!==null&&k!==void 0?k:"",P=x.ownerDocument.title;N&&(x.ownerDocument.title=N,x.contentDocument&&(x.contentDocument.title=N)),x.contentWindow.print(),N&&(x.ownerDocument.title=P,x.contentDocument&&(x.contentDocument.title=B))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:_});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(B=>{var P,j;return((j=(P=navigator.userAgent)!==null&&P!==void 0?P:navigator.vendor)!==null&&j!==void 0?j:"opera"in window&&window.opera).match(B)})?setTimeout(L,500):L()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:_})},500)}function f(x){const E=[],N=document.createTreeWalker(x,NodeFilter.SHOW_ELEMENT,null);let D=N.nextNode();for(;D;)E.push(D),D=N.nextNode();return E}function h(x,E,N){const D=f(x),w=f(E);if(D.length===w.length)for(let T=0;T<D.length;T++){const M=D[T],_=w[T],C=M.shadowRoot;if(C!==null){const k=_.attachShadow({mode:C.mode});k.innerHTML=C.innerHTML,h(C,k,N)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",x,E],suppressErrors:N})}const p=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function g(x,E,N,D){var w,T,M,_,C;const{contentNode:k,clonedContentNode:L,clonedImgNodes:B,clonedVideoNodes:P,numResourcesToLoad:j,originalCanvasNodes:R}=N,{bodyClass:U,fonts:G,ignoreGlobalStyles:$,pageStyle:Z,nonce:I,suppressErrors:oe,copyShadowRoots:be}=D;x.onload=null;const O=(w=x.contentDocument)!==null&&w!==void 0?w:(T=x.contentWindow)===null||T===void 0?void 0:T.document;if(O){const ue=O.body.appendChild(L);be&&h(k,ue,!!oe),G&&(!((M=x.contentDocument)===null||M===void 0)&&M.fonts&&(!((_=x.contentWindow)===null||_===void 0)&&_.FontFace)?G.forEach(Y=>{const K=new FontFace(Y.family,Y.source,{weight:Y.weight,style:Y.style});x.contentDocument.fonts.add(K),K.loaded.then(()=>{E(K)}).catch(ie=>{E(K,["Failed loading the font:",K,"Load error:",d(ie)])})}):(G.forEach(Y=>{E(Y)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:oe})));const ge=Z??p,xe=O.createElement("style");I&&(xe.setAttribute("nonce",I),O.head.setAttribute("nonce",I)),xe.appendChild(O.createTextNode(ge)),O.head.appendChild(xe),U&&O.body.classList.add(...U.split(" "));const ne=O.querySelectorAll("canvas");for(let Y=0;Y<R.length;++Y){const K=R[Y],ie=ne[Y];if(ie===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",K],suppressErrors:oe});continue}const le=ie.getContext("2d");le&&le.drawImage(K,0,0)}for(let Y=0;Y<B.length;Y++){const K=B[Y],ie=K.getAttribute("src");if(ie){const le=new Image;le.onload=()=>{E(K)},le.onerror=(ae,pe,$e,ze,We)=>{E(K,["Error loading <img>",K,"Error",We])},le.src=ie}else E(K,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',K])}for(let Y=0;Y<P.length;Y++){const K=P[Y];K.preload="auto";const ie=K.getAttribute("poster");if(ie){const le=new Image;le.onload=()=>{E(K)},le.onerror=(ae,pe,$e,ze,We)=>{E(K,["Error loading video poster",ie,"for video",K,"Error:",We])},le.src=ie}else K.readyState>=2?E(K):K.src?(K.onloadeddata=()=>{E(K)},K.onerror=(le,ae,pe,$e,ze)=>{E(K,["Error loading video",K,"Error",ze])},K.onstalled=()=>{E(K,["Loading video stalled, skipping",K])}):E(K,["Error loading video, `src` is empty",K])}const me="select",we=k.querySelectorAll(me),X=O.querySelectorAll(me);for(let Y=0;Y<we.length;Y++)X[Y].value=we[Y].value;if(!$){const Y=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let K=0,ie=Y.length;K<ie;++K){const le=Y[K];if(le.tagName.toLowerCase()==="style"){const ae=O.createElement(le.tagName),pe=le.sheet;if(pe){let $e="";try{const ze=pe.cssRules.length;for(let We=0;We<ze;++We)typeof pe.cssRules[We].cssText=="string"&&($e+=`${pe.cssRules[We].cssText}\r
`)}catch(ze){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",le,`Original error: ${d(ze).message}`],level:"warning"})}ae.setAttribute("id",`react-to-print-${K}`),I&&ae.setAttribute("nonce",I),ae.appendChild(O.createTextNode($e)),O.head.appendChild(ae)}}else if(le.getAttribute("href"))if(le.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",le],level:"warning"}),E(le);else{const ae=O.createElement(le.tagName);for(let pe=0,$e=le.attributes.length;pe<$e;++pe){const ze=le.attributes[pe];ze&&ae.setAttribute(ze.nodeName,(C=ze.nodeValue)!==null&&C!==void 0?C:"")}ae.onload=()=>{E(ae)},ae.onerror=(pe,$e,ze,We,Rn)=>{E(ae,["Failed to load",ae,"Error:",Rn])},I&&ae.setAttribute("nonce",I),O.head.appendChild(ae)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",le],level:"warning"}),E(le)}}}j===0&&m(x,D)}function v({bodyClass:x,contentRef:E,copyShadowRoots:N,documentTitle:D,fonts:w,ignoreGlobalStyles:T,nonce:M,onAfterPrint:_,onBeforePrint:C,onPrintError:k,pageStyle:L,preserveAfterPrint:B,print:P,suppressErrors:j}){return(0,a.useCallback)(R=>{function U(){const G={bodyClass:x,contentRef:E,copyShadowRoots:N,documentTitle:D,fonts:w,ignoreGlobalStyles:T,nonce:M,onAfterPrint:_,onPrintError:k,pageStyle:L,preserveAfterPrint:B,print:P,suppressErrors:j},$=function(){const oe=document.createElement("iframe");return oe.width=`${document.documentElement.clientWidth}px`,oe.height=`${document.documentElement.clientHeight}px`,oe.style.position="absolute",oe.style.top=`-${document.documentElement.clientHeight+100}px`,oe.style.left=`-${document.documentElement.clientWidth+100}px`,oe.id="printWindow",oe.srcdoc="<!DOCTYPE html>",oe}(),Z=function(oe,be){const{contentRef:O,fonts:ue,ignoreGlobalStyles:ge,suppressErrors:xe}=be,ne=function({contentRef:ie,optionalContent:le,suppressErrors:ae}){return!le||le instanceof Event||(ie&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof le!="function")?ie?ie.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:ae}):le()}({contentRef:O,optionalContent:oe,suppressErrors:xe});if(!ne)return;const me=ne.cloneNode(!0),we=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),X=me.querySelectorAll("img"),Y=me.querySelectorAll("video"),K=ue?ue.length:0;return{contentNode:ne,clonedContentNode:me,clonedImgNodes:X,clonedVideoNodes:Y,numResourcesToLoad:(ge?0:we.length)+X.length+Y.length+K,originalCanvasNodes:ne.querySelectorAll("canvas")}}(R,G);if(!Z)return void c({messages:["There is nothing to print"],suppressErrors:j});const I=function(oe,be,O){const{suppressErrors:ue}=oe,ge=[],xe=[];return function(ne,me){ge.includes(ne)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",ne],suppressErrors:ue}):(me?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...me],suppressErrors:ue}),xe.push(ne)):ge.push(ne),ge.length+xe.length===be&&m(O,oe))}}(G,Z.numResourcesToLoad,$);(function(oe,be,O,ue){oe.onload=()=>{g(oe,be,O,ue)},document.body.appendChild(oe)})($,I,Z,G)}u(B,!0),C?C().then(()=>{U()}).catch(G=>{k==null||k("onBeforePrint",d(G))}):U()},[x,E,N,D,w,T,M,_,C,k,L,B,P,j])}return r}()})}(_u)),_u.exports}var Fte=Lte();const Bte=({protocol:e,onClose:t})=>{const n=b.useRef(null),s=Fte.useReactToPrint({content:()=>n.current});return l.jsxDEV(Be.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:l.jsxDEV(Be.div,{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-auto",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:"spring",damping:25},onClick:i=>i.stopPropagation(),children:[l.jsxDEV("div",{className:"sticky top-0 bg-red-100 p-4 border-b border-red-200 flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex items-center space-x-3",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-red-800",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:37,columnNumber:13},void 0),e.timeToAction&&l.jsxDEV(XM,{timeToAction:e.timeToAction},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:39,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:36,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex space-x-2",children:[l.jsxDEV("button",{onClick:s,className:"p-2 bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200","aria-label":"Print protocol",children:l.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 512 512",children:l.jsxDEV("path",{fill:"currentColor",d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:49,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:48,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:43,columnNumber:13},void 0),l.jsxDEV("button",{onClick:t,className:"p-2 bg-gray-100 text-gray-800 rounded-full hover:bg-gray-200","aria-label":"Close modal",children:l.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 352 512",children:l.jsxDEV("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:58,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:57,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:42,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:35,columnNumber:9},void 0),l.jsxDEV("div",{ref:n,className:"p-6 print:p-4",children:[l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 print:gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Clinical Presentation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:67,columnNumber:15},void 0),l.jsxDEV("ul",{className:"list-disc ml-5 space-y-1 text-gray-700",children:e.symptoms.map((i,o)=>l.jsxDEV("li",{children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:70,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:68,columnNumber:15},void 0),l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-3",children:"Diagnostics"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:74,columnNumber:15},void 0),l.jsxDEV("ul",{className:"list-disc ml-5 space-y-1 text-gray-700",children:e.diagnostics.map((i,o)=>l.jsxDEV("li",{children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:77,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:75,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:66,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:83,columnNumber:15},void 0),l.jsxDEV("ol",{className:"list-decimal ml-5 space-y-2 text-gray-700",children:e.management.map((i,o)=>l.jsxDEV("li",{className:"pl-1",children:[l.jsxDEV("div",{className:"font-medium",children:i.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:87,columnNumber:21},void 0),l.jsxDEV("div",{className:"text-sm mt-1",children:i.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:88,columnNumber:21},void 0)]},o,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:86,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:84,columnNumber:15},void 0),e.medications&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-3",children:"Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:95,columnNumber:19},void 0),l.jsxDEV("div",{className:"border-t border-b border-gray-200",children:e.medications.map((i,o)=>l.jsxDEV("div",{className:`py-2 px-3 ${o%2===0?"bg-gray-50":"bg-white"}`,children:[l.jsxDEV("div",{className:"font-medium",children:i.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:102,columnNumber:25},void 0),l.jsxDEV("div",{className:"text-sm text-gray-600",children:i.dosage},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:103,columnNumber:25},void 0)]},o,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:98,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:96,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:94,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:65,columnNumber:11},void 0),e.additionalNotes&&l.jsxDEV("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[l.jsxDEV("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Additional Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:114,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-yellow-800",children:e.additionalNotes},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:115,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:64,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:20,columnNumber:5},void 0)},Hte=["All","Hematologic","Metabolic","Treatment-Related","Obstructive","Infectious"],Ute=["All","Critical","Non-urgent"],$te=()=>{const[e,t]=b.useState(""),[n,s]=b.useState(null),[i,o]=b.useState("All"),[r,a]=b.useState("All"),c=(f,h)=>h==="All"?!0:Array.isArray(f.category)?f.category.includes(h):f.category===h,u=f=>{if(!f.timeToAction)return"Non-urgent";const h=f.timeToAction.match(/(\d+)\s*(minutes?|hours?|days?)/i);if(!h)return"Non-urgent";const p=parseInt(h[1],10),g=h[2].toLowerCase();let v=p;return g.startsWith("hour")&&(v=p*60),g.startsWith("day")&&(v=p*60*24),v<=60?"Critical":v>720?"Non-urgent":"All"},d=b.useMemo(()=>f1.filter(f=>{const h=e.trim()===""||f.title.toLowerCase().includes(e.toLowerCase())||f.symptoms.some(v=>v.toLowerCase().includes(e.toLowerCase())),p=c(f,i),g=r==="All"||u(f)===r||r==="Critical"&&u(f)==="Critical";return h&&p&&g}),[e,i,r]),m=b.useMemo(()=>f1.find(f=>f.id===n),[n]);return l.jsxDEV("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Emergency Protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:91,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxDEV("div",{className:"relative flex-grow",children:[l.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsxDEV(Rte,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:98,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:97,columnNumber:11},void 0),l.jsxDEV("input",{type:"text",placeholder:"Search by name or symptom...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500",value:e,onChange:f=>t(f.target.value)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:96,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-shrink-0",children:l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("select",{className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-red-500 focus:border-red-500",value:r,onChange:f=>a(f.target.value),children:Ute.map(f=>l.jsxDEV("option",{value:f,children:f==="All"?"All Urgencies":f},f,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:118,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:112,columnNumber:13},void 0),l.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsxDEV(jte,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:124,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:111,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:94,columnNumber:7},void 0),l.jsxDEV("div",{className:"border-b border-gray-200",children:l.jsxDEV("nav",{className:"-mb-px flex flex-wrap space-x-4 overflow-x-auto","aria-label":"Categories",children:Hte.map(f=>l.jsxDEV("button",{className:`whitespace-nowrap pb-2 font-medium text-sm border-b-2 ${i===f?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>o(f),children:f},f,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:134,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:132,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:131,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV(As,{children:d.map(f=>l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0},transition:{duration:.2},children:l.jsxDEV(Vte,{protocol:f,onViewDetails:()=>s(f.id)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:160,columnNumber:15},void 0)},f.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:153,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:151,columnNumber:9},void 0),d.length===0&&l.jsxDEV("div",{className:"text-center py-10",children:l.jsxDEV("p",{className:"text-gray-500",children:"No emergency protocols found matching your criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:171,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:150,columnNumber:7},void 0),l.jsxDEV(As,{children:m&&l.jsxDEV(Bte,{protocol:m,onClose:()=>s(null)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:179,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:177,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:90,columnNumber:5},void 0)},gp=[{key:"breast",label:"Breast Cancer"},{key:"lung",label:"Lung Cancer"},{key:"lymphoma",label:"Lymphoma"},{key:"colorectal",label:"Colorectal Cancer"},{key:"gastric",label:"Gastric Cancer"},{key:"pancreatic",label:"Pancreatic Cancer"},{key:"ovarian",label:"Ovarian Cancer"},{key:"cervical",label:"Cervical Cancer"},{key:"renal",label:"Renal Cell Carcinoma"},{key:"prostate",label:"Prostate Cancer"},{key:"head_neck",label:"Head & Neck Cancer"},{key:"bladder",label:"Bladder Cancer"},{key:"multiple_myeloma",label:"Multiple Myeloma"}];function zte(e){switch(e){case"colorectal":return["CBC","BMP","CT Abdomen","Consent","Isolation if febrile"];case"gastric":return["CBC","CMP","Endoscopy Report","Nutrition Consult"];case"pancreatic":return["LFTs","CT Abdomen","Hydration Orders","Pain Team Consult"];case"ovarian":return["Pelvic US/CT","Ascitic Tap if needed","CBC","Consent"];case"multiple_myeloma":return["CBC","CMP","Calcium","Renal Panel","SPEP"];default:return["CBC","CMP","Consent","Vitals","Isolation if needed"]}}function Wte(e,t){const n=["CBC","CMP","IV Fluids","Vitals Q4H"];return t==="GI Bleeding"?[...n,"Type & Cross","IV PPI","NPO","GI Consult"]:t==="Obstructive Jaundice"?[...n,"LFTs","ERCP/Intervention Referral","Hydration"]:t==="Spinal Cord Compression"?[...n,"MRI Spine","IV Steroids (Dexamethasone)","Neuro Consult"]:t==="Febrile Neutropenia"?[...n,"Blood Cultures","Start Broad-Spectrum Antibiotics","Monitor Temperature Q2H"]:n}function ZM(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qte=[" ","Enter","ArrowUp","ArrowDown"],Gte=[" ","Enter"],So="Select",[em,tm,Yte]=Zg(So),[oa,sie]=Is(So,[Yte,gd]),nm=gd(),[Kte,Li]=oa(So),[Xte,Jte]=oa(So),e2=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:o,value:r,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:m,disabled:f,required:h,form:p}=e,g=nm(t),[v,x]=b.useState(null),[E,N]=b.useState(null),[D,w]=b.useState(!1),T=Kd(u),[M,_]=Pi({prop:s,defaultProp:i??!1,onChange:o,caller:So}),[C,k]=Pi({prop:r,defaultProp:a,onChange:c,caller:So}),L=b.useRef(null),B=v?p||!!v.closest("form"):!0,[P,j]=b.useState(new Set),R=Array.from(P).map(U=>U.props.value).join(";");return q.jsx(VD,{...g,children:q.jsxs(Kte,{required:h,scope:t,trigger:v,onTriggerChange:x,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:D,onValueNodeHasChildrenChange:w,contentId:Js(),value:C,onValueChange:k,open:M,onOpenChange:_,dir:T,triggerPointerDownPosRef:L,disabled:f,children:[q.jsx(em.Provider,{scope:t,children:q.jsx(Xte,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{j(G=>new Set(G).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{j(G=>{const $=new Set(G);return $.delete(U),$})},[]),children:n})}),B?q.jsxs(w2,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:m,value:C,onChange:U=>k(U.target.value),disabled:f,form:p,children:[C===void 0?q.jsx("option",{value:""}):null,Array.from(P)]},R):null]})})};e2.displayName=So;var t2="SelectTrigger",n2=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,o=nm(n),r=Li(t2,n),a=r.disabled||s,c=Je(t,r.onTriggerChange),u=tm(n),d=b.useRef("touch"),[m,f,h]=E2(g=>{const v=u().filter(N=>!N.disabled),x=v.find(N=>N.value===r.value),E=T2(v,g,x);E!==void 0&&r.onValueChange(E.value)}),p=g=>{a||(r.onOpenChange(!0),h()),g&&(r.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return q.jsx(OD,{asChild:!0,...o,children:q.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":r.contentId,"aria-expanded":r.open,"aria-required":r.required,"aria-autocomplete":"none",dir:r.dir,"data-state":r.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D2(r.value)?"":void 0,...i,ref:c,onClick:_e(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:_e(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:_e(i.onKeyDown,g=>{const v=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&qte.includes(g.key)&&(p(),g.preventDefault())})})})});n2.displayName=t2;var s2="SelectValue",i2=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:r="",...a}=e,c=Li(s2,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,m=Je(t,c.onValueNodeChange);return zt(()=>{u(d)},[u,d]),q.jsx(Ae.span,{...a,ref:m,style:{pointerEvents:"none"},children:D2(c.value)?q.jsx(q.Fragment,{children:r}):o})});i2.displayName=s2;var Qte="SelectIcon",o2=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return q.jsx(Ae.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});o2.displayName=Qte;var Zte="SelectPortal",r2=e=>q.jsx(bd,{asChild:!0,...e});r2.displayName=Zte;var _o="SelectContent",a2=b.forwardRef((e,t)=>{const n=Li(_o,e.__scopeSelect),[s,i]=b.useState();if(zt(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?Fr.createPortal(q.jsx(l2,{scope:e.__scopeSelect,children:q.jsx(em.Slot,{scope:e.__scopeSelect,children:q.jsx("div",{children:e.children})})}),o):null}return q.jsx(c2,{...e,ref:t})});a2.displayName=_o;var es=10,[l2,Fi]=oa(_o),ene="SelectContentImpl",tne=Tr("SelectContent.RemoveScroll"),c2=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:r,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v,...x}=e,E=Li(_o,n),[N,D]=b.useState(null),[w,T]=b.useState(null),M=Je(t,ne=>D(ne)),[_,C]=b.useState(null),[k,L]=b.useState(null),B=tm(n),[P,j]=b.useState(!1),R=b.useRef(!1);b.useEffect(()=>{if(N)return Hk(N)},[N]),Ak();const U=b.useCallback(ne=>{const[me,...we]=B().map(K=>K.ref.current),[X]=we.slice(-1),Y=document.activeElement;for(const K of ne)if(K===Y||(K==null||K.scrollIntoView({block:"nearest"}),K===me&&w&&(w.scrollTop=0),K===X&&w&&(w.scrollTop=w.scrollHeight),K==null||K.focus(),document.activeElement!==Y))return},[B,w]),G=b.useCallback(()=>U([_,N]),[U,_,N]);b.useEffect(()=>{P&&G()},[P,G]);const{onOpenChange:$,triggerPointerDownPosRef:Z}=E;b.useEffect(()=>{if(N){let ne={x:0,y:0};const me=X=>{var Y,K;ne={x:Math.abs(Math.round(X.pageX)-(((Y=Z.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(X.pageY)-(((K=Z.current)==null?void 0:K.y)??0))}},we=X=>{ne.x<=10&&ne.y<=10?X.preventDefault():N.contains(X.target)||$(!1),document.removeEventListener("pointermove",me),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",we,{capture:!0})}}},[N,$,Z]),b.useEffect(()=>{const ne=()=>$(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[$]);const[I,oe]=E2(ne=>{const me=B().filter(Y=>!Y.disabled),we=me.find(Y=>Y.ref.current===document.activeElement),X=T2(me,ne,we);X&&setTimeout(()=>X.ref.current.focus())}),be=b.useCallback((ne,me,we)=>{const X=!R.current&&!we;(E.value!==void 0&&E.value===me||X)&&(C(ne),X&&(R.current=!0))},[E.value]),O=b.useCallback(()=>N==null?void 0:N.focus(),[N]),ue=b.useCallback((ne,me,we)=>{const X=!R.current&&!we;(E.value!==void 0&&E.value===me||X)&&L(ne)},[E.value]),ge=s==="popper"?bp:u2,xe=ge===bp?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return q.jsx(l2,{scope:n,content:N,viewport:w,onViewportChange:T,itemRefCallback:be,selectedItem:_,onItemLeave:O,itemTextRefCallback:ue,focusSelectedItem:G,selectedItemText:k,position:s,isPositioned:P,searchRef:I,children:q.jsx(kb,{as:tne,allowPinchZoom:!0,children:q.jsx(_b,{asChild:!0,trapped:E.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:_e(i,ne=>{var me;(me=E.trigger)==null||me.focus({preventScroll:!0}),ne.preventDefault()}),children:q.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:q.jsx(ge,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ne=>ne.preventDefault(),...x,...xe,onPlaced:()=>j(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:_e(x.onKeyDown,ne=>{const me=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!me&&ne.key.length===1&&oe(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let X=B().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Y=ne.target,K=X.indexOf(Y);X=X.slice(K+1)}setTimeout(()=>U(X)),ne.preventDefault()}})})})})})})});c2.displayName=ene;var nne="SelectItemAlignedPosition",u2=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,o=Li(_o,n),r=Fi(_o,n),[a,c]=b.useState(null),[u,d]=b.useState(null),m=Je(t,M=>d(M)),f=tm(n),h=b.useRef(!1),p=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:E}=r,N=b.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&v&&x){const M=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(o.dir!=="rtl"){const Y=k.left-_.left,K=C.left-Y,ie=M.left-K,le=M.width+ie,ae=Math.max(le,_.width),pe=window.innerWidth-es,$e=pp(K,[es,Math.max(es,pe-ae)]);a.style.minWidth=le+"px",a.style.left=$e+"px"}else{const Y=_.right-k.right,K=window.innerWidth-C.right-Y,ie=window.innerWidth-M.right-K,le=M.width+ie,ae=Math.max(le,_.width),pe=window.innerWidth-es,$e=pp(K,[es,Math.max(es,pe-ae)]);a.style.minWidth=le+"px",a.style.right=$e+"px"}const L=f(),B=window.innerHeight-es*2,P=g.scrollHeight,j=window.getComputedStyle(u),R=parseInt(j.borderTopWidth,10),U=parseInt(j.paddingTop,10),G=parseInt(j.borderBottomWidth,10),$=parseInt(j.paddingBottom,10),Z=R+U+P+$+G,I=Math.min(v.offsetHeight*5,Z),oe=window.getComputedStyle(g),be=parseInt(oe.paddingTop,10),O=parseInt(oe.paddingBottom,10),ue=M.top+M.height/2-es,ge=B-ue,xe=v.offsetHeight/2,ne=v.offsetTop+xe,me=R+U+ne,we=Z-me;if(me<=ue){const Y=L.length>0&&v===L[L.length-1].ref.current;a.style.bottom="0px";const K=u.clientHeight-g.offsetTop-g.offsetHeight,ie=Math.max(ge,xe+(Y?O:0)+K+G),le=me+ie;a.style.height=le+"px"}else{const Y=L.length>0&&v===L[0].ref.current;a.style.top="0px";const ie=Math.max(ue,R+g.offsetTop+(Y?be:0)+xe)+we;a.style.height=ie+"px",g.scrollTop=me-ue+g.offsetTop}a.style.margin=`${es}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,a,u,g,v,x,o.dir,s]);zt(()=>N(),[N]);const[D,w]=b.useState();zt(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const T=b.useCallback(M=>{M&&p.current===!0&&(N(),E==null||E(),p.current=!1)},[N,E]);return q.jsx(ine,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:T,children:q.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:q.jsx(Ae.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});u2.displayName=nne;var sne="SelectPopperPosition",bp=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=es,...o}=e,r=nm(n);return q.jsx(LD,{...r,...o,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bp.displayName=sne;var[ine,Lb]=oa(_o,{}),vp="SelectViewport",d2=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,o=Fi(vp,n),r=Lb(vp,n),a=Je(t,o.onViewportChange),c=b.useRef(0);return q.jsxs(q.Fragment,{children:[q.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),q.jsx(em.Slot,{scope:n,children:q.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:_e(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=r;if(f!=null&&f.current&&m){const h=Math.abs(c.current-d.scrollTop);if(h>0){const p=window.innerHeight-es*2,g=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),x=Math.max(g,v);if(x<p){const E=x+h,N=Math.min(p,E),D=E-N;m.style.height=N+"px",m.style.bottom==="0px"&&(d.scrollTop=D>0?D:0,m.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});d2.displayName=vp;var m2="SelectGroup",[one,rne]=oa(m2),ane=b.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Js();return q.jsx(one,{scope:n,id:i,children:q.jsx(Ae.div,{role:"group","aria-labelledby":i,...s,ref:t})})});ane.displayName=m2;var f2="SelectLabel",h2=b.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=rne(f2,n);return q.jsx(Ae.div,{id:i.id,...s,ref:t})});h2.displayName=f2;var rd="SelectItem",[lne,p2]=oa(rd),g2=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...r}=e,a=Li(rd,n),c=Fi(rd,n),u=a.value===s,[d,m]=b.useState(o??""),[f,h]=b.useState(!1),p=Je(t,E=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,E,s,i)}),g=Js(),v=b.useRef("touch"),x=()=>{i||(a.onValueChange(s),a.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return q.jsx(lne,{scope:n,value:s,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(E=>{m(N=>N||((E==null?void 0:E.textContent)??"").trim())},[]),children:q.jsx(em.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:q.jsx(Ae.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...r,ref:p,onFocus:_e(r.onFocus,()=>h(!0)),onBlur:_e(r.onBlur,()=>h(!1)),onClick:_e(r.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:_e(r.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:_e(r.onPointerDown,E=>{v.current=E.pointerType}),onPointerMove:_e(r.onPointerMove,E=>{var N;v.current=E.pointerType,i?(N=c.onItemLeave)==null||N.call(c):v.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(r.onPointerLeave,E=>{var N;E.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:_e(r.onKeyDown,E=>{var D;((D=c.searchRef)==null?void 0:D.current)!==""&&E.key===" "||(Gte.includes(E.key)&&x(),E.key===" "&&E.preventDefault())})})})})});g2.displayName=rd;var $a="SelectItemText",b2=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...o}=e,r=Li($a,n),a=Fi($a,n),c=p2($a,n),u=Jte($a,n),[d,m]=b.useState(null),f=Je(t,x=>m(x),c.onItemTextChange,x=>{var E;return(E=a.itemTextRefCallback)==null?void 0:E.call(a,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,p=b.useMemo(()=>q.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return zt(()=>(g(p),()=>v(p)),[g,v,p]),q.jsxs(q.Fragment,{children:[q.jsx(Ae.span,{id:c.textId,...o,ref:f}),c.isSelected&&r.valueNode&&!r.valueNodeHasChildren?Fr.createPortal(o.children,r.valueNode):null]})});b2.displayName=$a;var v2="SelectItemIndicator",x2=b.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return p2(v2,n).isSelected?q.jsx(Ae.span,{"aria-hidden":!0,...s,ref:t}):null});x2.displayName=v2;var xp="SelectScrollUpButton",cne=b.forwardRef((e,t)=>{const n=Fi(xp,e.__scopeSelect),s=Lb(xp,e.__scopeSelect),[i,o]=b.useState(!1),r=Je(t,s.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?q.jsx(N2,{...e,ref:r,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});cne.displayName=xp;var Np="SelectScrollDownButton",une=b.forwardRef((e,t)=>{const n=Fi(Np,e.__scopeSelect),s=Lb(Np,e.__scopeSelect),[i,o]=b.useState(!1),r=Je(t,s.onScrollButtonChange);return zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?q.jsx(N2,{...e,ref:r,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});une.displayName=Np;var N2=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,o=Fi("SelectScrollButton",n),r=b.useRef(null),a=tm(n),c=b.useCallback(()=>{r.current!==null&&(window.clearInterval(r.current),r.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),zt(()=>{var d;const u=a().find(m=>m.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),q.jsx(Ae.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:_e(i.onPointerDown,()=>{r.current===null&&(r.current=window.setInterval(s,50))}),onPointerMove:_e(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),r.current===null&&(r.current=window.setInterval(s,50))}),onPointerLeave:_e(i.onPointerLeave,()=>{c()})})}),dne="SelectSeparator",y2=b.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return q.jsx(Ae.div,{"aria-hidden":!0,...s,ref:t})});y2.displayName=dne;var yp="SelectArrow",mne=b.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=nm(n),o=Li(yp,n),r=Fi(yp,n);return o.open&&r.position==="popper"?q.jsx(FD,{...i,...s,ref:t}):null});mne.displayName=yp;var fne="SelectBubbleInput",w2=b.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=b.useRef(null),o=Je(s,i),r=ZM(t);return b.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(r!==t&&d){const m=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(m)}},[r,t]),q.jsx(Ae.select,{...n,style:{...BD,...n.style},ref:o,defaultValue:t})});w2.displayName=fne;function D2(e){return e===""||e===void 0}function E2(e){const t=Rt(e),n=b.useRef(""),s=b.useRef(0),i=b.useCallback(r=>{const a=n.current+r;t(a),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=b.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function T2(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let r=hne(e,Math.max(o,0));i.length===1&&(r=r.filter(u=>u!==n));const c=r.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function hne(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var pne=e2,S2=n2,gne=i2,bne=o2,vne=r2,_2=a2,xne=d2,k2=h2,M2=g2,Nne=b2,yne=x2,C2=y2;const wne=pne,Dne=gne,P2=b.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(S2,{ref:s,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,l.jsxDEV(bne,{asChild:!0,children:l.jsxDEV(Br,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:28,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:19,columnNumber:3},void 0));P2.displayName=S2.displayName;const A2=b.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>l.jsxDEV(vne,{children:l.jsxDEV(_2,{ref:i,className:Ce("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:l.jsxDEV(xne,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:51,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:40,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:39,columnNumber:3},void 0));A2.displayName=_2.displayName;const Ene=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(k2,{ref:n,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:69,columnNumber:3},void 0));Ene.displayName=k2.displayName;const j2=b.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(M2,{ref:s,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsxDEV(yne,{children:l.jsxDEV(ji,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:91,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:90,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:89,columnNumber:5},void 0),l.jsxDEV(Nne,{children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:95,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:81,columnNumber:3},void 0));j2.displayName=M2.displayName;const Tne=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(C2,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0));Tne.displayName=C2.displayName;var sm="Checkbox",[Sne,iie]=Is(sm),[_ne,Fb]=Sne(sm);function kne(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:o,form:r,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:m}=e,[f,h]=Pi({prop:n,defaultProp:i??!1,onChange:c,caller:sm}),[p,g]=b.useState(null),[v,x]=b.useState(null),E=b.useRef(!1),N=p?!!r||!!p.closest("form"):!0,D={checked:f,disabled:o,setChecked:h,control:p,setControl:g,name:a,form:r,value:d,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:Si(i)?!1:i,isFormControl:N,bubbleInput:v,setBubbleInput:x};return q.jsx(_ne,{scope:t,...D,children:Mne(m)?m(D):s})}var I2="CheckboxTrigger",R2=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:o,value:r,disabled:a,checked:c,required:u,setControl:d,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:p}=Fb(I2,e),g=Je(i,d),v=b.useRef(c);return b.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const E=()=>m(v.current);return x.addEventListener("reset",E),()=>x.removeEventListener("reset",E)}},[o,m]),q.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Si(c)?"mixed":c,"aria-required":u,"data-state":B2(c),"data-disabled":a?"":void 0,disabled:a,value:r,...s,ref:g,onKeyDown:_e(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:_e(n,x=>{m(E=>Si(E)?!0:!E),p&&h&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});R2.displayName=I2;var Bb=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:o,required:r,disabled:a,value:c,onCheckedChange:u,form:d,...m}=e;return q.jsx(kne,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:r,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>q.jsxs(q.Fragment,{children:[q.jsx(R2,{...m,ref:t,__scopeCheckbox:n}),f&&q.jsx(F2,{__scopeCheckbox:n})]})})});Bb.displayName=sm;var V2="CheckboxIndicator",O2=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,o=Fb(V2,n);return q.jsx(Kn,{present:s||Si(o.checked)||o.checked===!0,children:q.jsx(Ae.span,{"data-state":B2(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});O2.displayName=V2;var L2="CheckboxBubbleInput",F2=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:r,required:a,disabled:c,name:u,value:d,form:m,bubbleInput:f,setBubbleInput:h}=Fb(L2,e),p=Je(n,h),g=ZM(o),v=SD(s);b.useEffect(()=>{const E=f;if(!E)return;const N=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(N,"checked").set,T=!i.current;if(g!==o&&w){const M=new Event("click",{bubbles:T});E.indeterminate=Si(o),w.call(E,Si(o)?!1:o),E.dispatchEvent(M)}},[f,g,o,i]);const x=b.useRef(Si(o)?!1:o);return q.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:r??x.current,required:a,disabled:c,name:u,value:d,form:m,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});F2.displayName=L2;function Mne(e){return typeof e=="function"}function Si(e){return e==="indeterminate"}function B2(e){return Si(e)?"indeterminate":e?"checked":"unchecked"}const Hb=b.forwardRef(({className:e,...t},n)=>l.jsxDEV(Bb,{ref:n,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsxDEV(O2,{className:Ce("flex items-center justify-center text-current"),children:l.jsxDEV(ji,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/checkbox.tsx",lineNumber:24,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/checkbox.tsx",lineNumber:21,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/checkbox.tsx",lineNumber:13,columnNumber:3},void 0));Hb.displayName=Bb.displayName;const Ub=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/textarea.tsx",lineNumber:11,columnNumber:7},void 0));Ub.displayName="Textarea";const H2=[{key:"febrile_neutropenia",label:"Febrile Neutropenia",isUrgent:!0},{key:"pain",label:"Uncontrolled Pain"},{key:"nausea_vomiting",label:"Intractable Nausea/Vomiting"},{key:"sob",label:"Shortness of Breath"},{key:"ams",label:"Altered Mental Status",isUrgent:!0},{key:"cord_compression",label:"Suspected Cord Compression",isUrgent:!0},{key:"svcs",label:"Suspected SVCS",isUrgent:!0},{key:"hypercalcemia",label:"Hypercalcemia",isUrgent:!0},{key:"tls",label:"Tumor Lysis Syndrome Risk",isUrgent:!0}],Cne=(e,t)=>["cord_compression","svcs","ams","hypercalcemia","tls"].includes(t)?{action:"Admit",urgency:"Critical"}:t==="febrile_neutropenia"?{action:"Admit",urgency:"High"}:["pain","nausea_vomiting","sob"].includes(t)?{action:"Admit",urgency:"Moderate"}:{action:"OPD",urgency:"Low"},Pne=(e,t,n)=>n.urgency==="Critical"||["cord_compression","svcs","ams"].includes(t)?{location:"ICU/Step-Down",reason:`Critical issue: ${t}`}:n.action==="Admit"?{location:"Oncology Ward",reason:`Admission required for ${t}`}:n.action==="OPD"?{location:"Outpatient Clinic Follow-up",reason:"Stable for outpatient management"}:{location:"Refer to ED/Specialist",reason:"Requires further evaluation or different service"},Ane=(e,t,n,s,i)=>{var a,c;const o=((a=gp.find(u=>u.key===e))==null?void 0:a.label)||e,r=((c=H2.find(u=>u.key===t))==null?void 0:c.label)||t;return`
**Oncology Admission Note**

**Patient Presentation:** Patient with ${o} presents with ${r}.

**History of Present Illness (HPI):**
[Detailed HPI to be filled in by clinician]

**Reason for Admission:** ${r} requiring inpatient management. Triage assessment indicates ${n.action} with ${n.urgency} urgency.

**Initial Orders:**
${s.map(u=>`- ${u}`).join(`
`)}

**Plan & Disposition:**
- Admit to ${i.location}.
- Rationale: ${i.reason}.
- Consults: [Add consults as needed, e.g., Neurosurgery, Palliative Care]
- Follow-up: [Add follow-up plan]

**Code Status:** [Confirm code status]

[Clinician Name/Signature]
Date/Time: ${new Date().toLocaleString()}
  `.trim()},jne=()=>{const[e,t]=b.useState(1),[n,s]=b.useState(gp[0].key),[i,o]=b.useState(null),[r,a]=b.useState({}),c=b.useMemo(()=>!n||!i?null:Cne(n,i),[n,i]),u=b.useMemo(()=>zte(n),[n]),d=b.useMemo(()=>u.length===0?!0:u.every(D=>r[D]),[u,r]),m=b.useMemo(()=>!n||!i?[]:Wte(n,i),[n,i]),f=b.useMemo(()=>!n||!i||!c?null:Pne(n,i,c),[n,i,c]),h=b.useMemo(()=>!n||!i||!c||!f?"":Ane(n,i,c,m,f),[n,i,c,m,f]),p=b.useCallback((D,w)=>{a(T=>({...T,[D]:w}))},[]);b.useCallback(D=>l.jsxDEV(It,{variant:i===D.key?"default":"outline",size:"sm",className:"rounded-lg px-4 py-2 font-semibold border shadow-sm hover:bg-blue-600 hover:text-white transition-all duration-200",onClick:()=>o(D.key),children:l.jsxDEV("span",{className:"flex items-center gap-2",children:[D.label,D.isUrgent&&l.jsxDEV(Qe,{className:"inline-block w-4 h-4 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:152,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:149,columnNumber:7},void 0)},D.key,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:142,columnNumber:5},void 0),[i]);const g=D=>{switch(D){case"Critical":return"bg-red-600";case"High":return"bg-orange-500";case"Moderate":return"bg-yellow-400 text-black";case"Low":return"bg-green-500";default:return"bg-gray-400"}},v=b.useCallback(()=>{window.print()},[]),x=b.useCallback(()=>{t(D=>Math.min(D+1,5))},[]),E=b.useCallback(()=>{t(D=>Math.max(D-1,1))},[]),N=[{label:"Cancer Type",icon:""},{label:"Issue",icon:""},{label:"Checklist",icon:""},{label:"Note",icon:""}];return l.jsxDEV("div",{className:"space-y-6 p-4 max-w-7xl mx-auto",children:[l.jsxDEV("div",{className:"flex justify-between items-center px-6 py-3 bg-slate-50 rounded-xl shadow-sm text-sm font-medium text-gray-600 mb-6",children:N.map((D,w)=>l.jsxDEV("div",{className:`flex items-center gap-2 px-3 py-2 rounded transition-all ${e===w+1?"text-blue-700 font-bold border-b-2 border-blue-600":"hover:text-blue-500"}`,children:[l.jsxDEV("span",{children:D.icon},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:200,columnNumber:13},void 0),l.jsxDEV("span",{children:["Step ",w+1,": ",D.label]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:201,columnNumber:13},void 0)]},w,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:192,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:190,columnNumber:7},void 0),l.jsxDEV(As,{mode:"wait",children:[e===1&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"transition-all duration-200",children:l.jsxDEV(Kt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(Zt,{className:"pb-2",children:l.jsxDEV(en,{className:"text-xl text-blue-900",children:"Select Cancer Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:216,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:215,columnNumber:15},void 0),l.jsxDEV(tn,{className:"pt-4",children:[l.jsxDEV(wne,{value:n,onValueChange:s,children:[l.jsxDEV(P2,{className:"w-full border-slate-200 rounded-lg relative z-10",children:l.jsxDEV(Dne,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:221,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:220,columnNumber:19},void 0),l.jsxDEV(A2,{className:"absolute z-50 bg-white border shadow-md rounded-md mt-1 w-full max-w-xs min-w-[280px] whitespace-normal overflow-x-hidden overflow-y-auto max-h-72",side:"bottom",children:gp.map(D=>l.jsxDEV(j2,{value:D.key,className:"whitespace-normal px-3 py-2 text-sm",children:D.label},D.key,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:228,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:223,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:219,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-end",children:l.jsxDEV(It,{onClick:x,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"Next"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:239,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:238,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:218,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:214,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:208,columnNumber:11},void 0),e===2&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:l.jsxDEV(Kt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(Zt,{className:"pb-2",children:l.jsxDEV(en,{className:"text-xl text-blue-900",children:"Select Presenting Issue"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:259,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:258,columnNumber:15},void 0),l.jsxDEV(tn,{className:"pt-4",children:[l.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:H2.map(D=>l.jsxDEV(It,{variant:i===D.key?"default":"outline",size:"sm",className:`rounded-lg px-4 py-3 font-medium border hover:shadow-md transition duration-150 ${i===D.key?"bg-blue-700 text-white shadow-blue-100":"bg-white hover:bg-blue-50"}`,onClick:()=>o(D.key),children:l.jsxDEV("span",{className:"flex items-center gap-2",children:[D.label,D.isUrgent&&l.jsxDEV(Qe,{className:"w-4 h-4 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:278,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:275,columnNumber:23},void 0)},D.key,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:264,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:262,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-between",children:[l.jsxDEV(It,{variant:"outline",onClick:E,children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:286,columnNumber:19},void 0),l.jsxDEV(It,{onClick:x,disabled:!i,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"Next"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:257,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:252,columnNumber:11},void 0),e===3&&c&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:l.jsxDEV(Kt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(Zt,{className:"pb-2",children:l.jsxDEV(en,{className:"text-xl text-blue-900",children:"Pre-Admission Checklist"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:309,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:308,columnNumber:15},void 0),l.jsxDEV(tn,{children:[l.jsxDEV("div",{className:"mb-6",children:l.jsxDEV(wn,{className:`px-4 py-1.5 rounded-full text-white font-medium ${g(c.urgency)}`,children:[" ",c.urgency," Priority"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:313,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:312,columnNumber:17},void 0),l.jsxDEV("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2",children:u.map(D=>l.jsxDEV("div",{className:"flex items-center gap-3 p-2.5 rounded hover:bg-slate-50 transition-colors",children:[l.jsxDEV(Hb,{checked:r[D]||!1,onCheckedChange:w=>p(D,w),className:"border-2 border-slate-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:322,columnNumber:23},void 0),l.jsxDEV("span",{className:"text-sm text-slate-700",children:D},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:327,columnNumber:23},void 0)]},D,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:321,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:319,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-between",children:[l.jsxDEV(It,{variant:"outline",onClick:E,children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:333,columnNumber:19},void 0),l.jsxDEV(It,{onClick:x,disabled:!d,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"Next"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:334,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:332,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:307,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:302,columnNumber:11},void 0),e===4&&c&&f&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:l.jsxDEV(Kt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(Zt,{className:"pb-2",children:l.jsxDEV(en,{className:"text-xl text-blue-900",children:"Admission Note"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:356,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:355,columnNumber:15},void 0),l.jsxDEV(tn,{children:[l.jsxDEV(Ub,{value:h,className:"h-[30rem] font-mono text-sm bg-slate-50 border border-slate-200 rounded-lg p-4",readOnly:!0},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:359,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-between",children:[l.jsxDEV(It,{variant:"outline",onClick:E,children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:365,columnNumber:19},void 0),l.jsxDEV(It,{onClick:v,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:[l.jsxDEV(Sp,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:370,columnNumber:21},void 0),"Print Note"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:364,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:358,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:354,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:349,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:206,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:188,columnNumber:5},void 0)},Ine=()=>l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:6,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid gap-4",children:[l.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Pain Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:10,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-green-700",children:"Pain management protocols will be added here."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:11,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:9,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Nutritional Support"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:15,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-green-700",children:"Nutritional support guidelines will be added here."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:16,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:14,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Psychological Support"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:20,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-green-700",children:"Psychological support resources will be added here."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:21,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:8,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:5,columnNumber:5},void 0),Vf=["Afebrile > 24 hrs","Oral intake adequate","Pain controlled","Labs stable (Hb, WBC, Ca)","Performance status acceptable (ECOG  2)","Caregiver plan ready"],Rne=()=>{const[e,t]=b.useState({}),[n,s]=b.useState({diagnosis:"",hospitalCourse:"",medications:"",followUp:"",redFlags:"",consultantNotes:"",contactInfo:"",neutrophilCount:0,nextAppointmentDate:""}),i=(u,d)=>t(m=>({...m,[u]:d})),o=Vf.every(u=>e[u]),r=n.neutrophilCount<1.5,a=()=>{const u=new Date(n.nextAppointmentDate),d=new Date;return(u.getTime()-d.getTime())/(1e3*60*60*24)>7},c=()=>[" Oncology Discharge Summary",`Date: ${new Date().toLocaleDateString()}`,""," Checklist:",...Vf.map(u=>`- [${e[u]?"x":" "}] ${u}`),""," Clinical Details:",`Diagnosis: ${n.diagnosis}`,`Hospital Course: ${n.hospitalCourse}`,`Medications: ${n.medications}`,`Follow-up: ${n.followUp}`,`Red Flags: ${n.redFlags}`,`Consultant Notes: ${n.consultantNotes}`,`Contact Info: ${n.contactInfo}`].join(`
`);return l.jsxDEV("div",{className:"max-w-5xl mx-auto px-6 py-8 space-y-6",children:[l.jsxDEV("h1",{className:"text-2xl font-bold text-blue-900",children:"Oncology Discharge Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:78,columnNumber:7},void 0),l.jsxDEV(Kt,{className:"shadow border-blue-200",children:[l.jsxDEV(Zt,{className:"bg-blue-50 border-b",children:l.jsxDEV(en,{className:"text-blue-800 text-lg font-semibold",children:"Step 1: Discharge Eligibility"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:83,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:82,columnNumber:9},void 0),l.jsxDEV(tn,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:[Vf.map(u=>l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Hb,{checked:!!e[u],onCheckedChange:d=>i(u,d)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:90,columnNumber:15},void 0),l.jsxDEV("span",{children:u},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:94,columnNumber:15},void 0)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:89,columnNumber:13},void 0)),l.jsxDEV("div",{className:"col-span-full",children:l.jsxDEV(wn,{variant:o?"default":"destructive",children:o?" Discharge Ready":" Incomplete Checklist"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:98,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:87,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:81,columnNumber:7},void 0),l.jsxDEV(Kt,{className:"shadow border-blue-200",children:[l.jsxDEV(Zt,{className:"bg-blue-50 border-b",children:l.jsxDEV(en,{className:"text-blue-800 text-lg font-semibold",children:"Step 2: Clinical Discharge Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:108,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:107,columnNumber:9},void 0),l.jsxDEV(tn,{className:"space-y-4 p-4",children:[r&&l.jsxDEV(wn,{variant:"destructive",className:"flex items-center gap-2",children:[l.jsxDEV(Qe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:115,columnNumber:15},void 0),"Neutropenic Alert"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:114,columnNumber:13},void 0),a()&&l.jsxDEV("div",{className:"flex items-center gap-2 bg-yellow-100 text-yellow-800 border border-yellow-300 p-2 rounded",children:[l.jsxDEV(Qe,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:121,columnNumber:15},void 0),l.jsxDEV("span",{children:"Follow-up is more than 7 days"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:120,columnNumber:13},void 0),Object.entries(n).map(([u,d])=>u==="neutrophilCount"||u==="nextAppointmentDate"?null:l.jsxDEV("div",{className:"space-y-1",children:[l.jsxDEV("label",{className:"block font-medium capitalize",children:u.replace(/([A-Z])/g," $1")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:130,columnNumber:17},void 0),l.jsxDEV(Ub,{rows:3,value:d,onChange:m=>s(f=>({...f,[u]:m.target.value})),className:"w-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:133,columnNumber:17},void 0)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:129,columnNumber:15},void 0)),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block font-medium",htmlFor:"neutrophil-count",children:"Neutrophil Count"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:150,columnNumber:15},void 0),l.jsxDEV("input",{id:"neutrophil-count",type:"number",value:n.neutrophilCount,onChange:u=>s(d=>({...d,neutrophilCount:parseFloat(u.target.value)})),className:"w-full mt-1 p-2 border rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:151,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:149,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block font-medium",htmlFor:"next-appointment",children:"Next Appointment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:165,columnNumber:15},void 0),l.jsxDEV("input",{id:"next-appointment",type:"date",value:n.nextAppointmentDate,onChange:u=>s(d=>({...d,nextAppointmentDate:u.target.value})),className:"w-full mt-1 p-2 border rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:148,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:112,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:106,columnNumber:7},void 0),l.jsxDEV(Kt,{className:"shadow border-blue-200",children:[l.jsxDEV(Zt,{className:"bg-blue-50 border-b",children:l.jsxDEV(en,{className:"text-blue-800 text-lg font-semibold",children:"Step 3: Export Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:186,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:185,columnNumber:9},void 0),l.jsxDEV(tn,{className:"space-y-4 p-4",children:[l.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm bg-gray-50 p-4 rounded border",children:c()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:189,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV(It,{className:"flex gap-2 items-center",onClick:()=>window.print(),children:[l.jsxDEV(Sp,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:194,columnNumber:15},void 0),"Print"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:193,columnNumber:13},void 0),l.jsxDEV(It,{variant:"outline",className:"flex gap-2 items-center",children:[l.jsxDEV(Bl,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:198,columnNumber:15},void 0),"Export PDF"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:197,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:188,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:184,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:77,columnNumber:5},void 0)},Vne=()=>{const[e,t]=b.useState(0),n=["Emergencies","Admissions","Supportive Care","Discharge"],s=i=>{switch(i){case 0:return l.jsxDEV($te,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:16,columnNumber:16},void 0);case 1:return l.jsxDEV(jne,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:18,columnNumber:16},void 0);case 2:return l.jsxDEV(Ine,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:20,columnNumber:16},void 0);case 3:return l.jsxDEV(Rne,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:22,columnNumber:16},void 0);default:return null}};return l.jsxDEV(st,{moduleName:"Inpatient Oncology",children:l.jsxDEV("div",{className:"p-6 bg-gradient-to-br from-purple-50 via-indigo-50 to-teal-50 min-h-screen",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-indigo-700",children:"Inpatient Department"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:31,columnNumber:9},void 0),l.jsxDEV(pt.Group,{selectedIndex:e,onChange:t,children:[l.jsxDEV(pt.List,{className:"flex space-x-4 border-b pb-3 mb-6",children:n.map((i,o)=>l.jsxDEV(pt,{className:({selected:r})=>`
                cursor-pointer py-2 px-4 rounded-lg shadow transition-all duration-300
                ${r?"bg-gradient-to-r from-indigo-500 to-teal-500 text-white":"bg-white text-gray-600 hover:text-indigo-500 hover:shadow-md"}
              `,children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:35,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:33,columnNumber:11},void 0),l.jsxDEV(pt.Panels,{className:"bg-white rounded-lg shadow",children:n.map((i,o)=>l.jsxDEV(pt.Panel,{className:"focus:outline-none",children:s(o)},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:47,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:45,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:32,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:30,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:29,columnNumber:5},void 0)},One={currentSymptoms:[],painScore:0,familyMembers:[],advanceDirectives:[],favoriteSymptomIds:[],lastUpdated:new Date().toISOString()},U2=b.createContext(void 0);function Lne(e,t){switch(t.type){case"ADD_SYMPTOM":return{...e,currentSymptoms:[...e.currentSymptoms,t.payload],lastUpdated:new Date().toISOString()};case"UPDATE_SYMPTOM":return{...e,currentSymptoms:e.currentSymptoms.map(i=>i.id===t.payload.id?t.payload:i),lastUpdated:new Date().toISOString()};case"REMOVE_SYMPTOM":return{...e,currentSymptoms:e.currentSymptoms.filter(i=>i.id!==t.payload),lastUpdated:new Date().toISOString()};case"SET_PAIN_SCORE":return{...e,painScore:t.payload,lastUpdated:new Date().toISOString()};case"ADD_FAMILY_MEMBER":return{...e,familyMembers:[...e.familyMembers,t.payload],lastUpdated:new Date().toISOString()};case"UPDATE_FAMILY_MEMBER":return{...e,familyMembers:e.familyMembers.map(i=>i.id===t.payload.id?{...i,...t.payload.updates}:i),lastUpdated:new Date().toISOString()};case"REMOVE_FAMILY_MEMBER":return{...e,familyMembers:e.familyMembers.filter(i=>i.id!==t.payload),lastUpdated:new Date().toISOString()};case"UPDATE_ADVANCE_DIRECTIVE":const s=e.advanceDirectives.findIndex(i=>i.id===t.payload.id)>=0?e.advanceDirectives.map(i=>i.id===t.payload.id?t.payload:i):[...e.advanceDirectives,t.payload];return{...e,advanceDirectives:s,lastUpdated:new Date().toISOString()};case"REMOVE_ADVANCE_DIRECTIVE":return{...e,advanceDirectives:e.advanceDirectives.filter(i=>i.id!==t.payload),lastUpdated:new Date().toISOString()};case"TOGGLE_FAVORITE":return{...e,favoriteSymptomIds:e.favoriteSymptomIds.includes(t.payload)?e.favoriteSymptomIds.filter(i=>i!==t.payload):[...e.favoriteSymptomIds,t.payload],lastUpdated:new Date().toISOString()};case"LOAD_STATE":return t.payload;default:return e}}function Fne({children:e}){const[t,n]=b.useReducer(Lne,One);b.useEffect(()=>{const h=localStorage.getItem("palliativeCareState");if(h)try{const p=JSON.parse(h);n({type:"LOAD_STATE",payload:p})}catch(p){console.error("Error loading palliative care state:",p)}},[]),b.useEffect(()=>{localStorage.setItem("palliativeCareState",JSON.stringify(t))},[t]);const s=h=>{n({type:"ADD_SYMPTOM",payload:h})},i=h=>{n({type:"UPDATE_SYMPTOM",payload:h})},o=h=>{n({type:"REMOVE_SYMPTOM",payload:h})},r=h=>{n({type:"SET_PAIN_SCORE",payload:h})},a=h=>{n({type:"ADD_FAMILY_MEMBER",payload:h})},c=(h,p)=>{n({type:"UPDATE_FAMILY_MEMBER",payload:{id:h,updates:p}})},u=h=>{n({type:"REMOVE_FAMILY_MEMBER",payload:h})},d=h=>{n({type:"UPDATE_ADVANCE_DIRECTIVE",payload:h})},m=h=>{n({type:"REMOVE_ADVANCE_DIRECTIVE",payload:h})},f=h=>{n({type:"TOGGLE_FAVORITE",payload:h})};return l.jsxDEV(U2.Provider,{value:{state:t,addSymptom:s,updateSymptom:i,removeSymptom:o,setPainScore:r,addFamilyMember:a,updateFamilyMember:c,removeFamilyMember:u,updateAdvanceDirective:d,removeAdvanceDirective:m,toggleFavorite:f},children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/context/PalliativeContext.tsx",lineNumber:241,columnNumber:5},this)}function oie(){const e=b.useContext(U2);if(e===void 0)throw new Error("usePalliativeCare must be used within a PalliativeCareProvider");return e}const Pa={light:{primary:"#4f46e5",secondary:"#6b7280",accent:"#8b5cf6",background:"#ffffff",text:"#111827",error:"#ef4444",warning:"#f59e0b",success:"#10b981"},dark:{primary:"#818cf8",secondary:"#9ca3af",accent:"#a78bfa",background:"#1f2937",text:"#f9fafb",error:"#f87171",warning:"#fbbf24",success:"#34d399"}},Bne=(e="system")=>{const[t,n]=b.useState(()=>localStorage.getItem("palliative_theme")||e),[s,i]=b.useState(()=>{if(t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches;return Pa[r?"dark":"light"]}return Pa[t]});return b.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{t==="system"&&i(Pa[r.matches?"dark":"light"])};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)},[t]),b.useEffect(()=>{if(localStorage.setItem("palliative_theme",t),t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches;i(Pa[r?"dark":"light"])}else i(Pa[t])},[t]),{theme:t,colors:s,setTheme:n,toggleTheme:()=>{n(r=>{switch(r){case"light":return"dark";case"dark":return"system";case"system":return"light"}})}}},$2=b.createContext(void 0),Hne=({children:e,defaultTheme:t="system"})=>{const n=Bne(t);return l.jsxDEV($2.Provider,{value:n,children:l.jsxDEV("div",{style:{colorScheme:n.theme==="system"?"light dark":n.theme},children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/context/ThemeProvider.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/context/ThemeProvider.tsx",lineNumber:31,columnNumber:5},void 0)},Une=()=>{const e=b.useContext($2);if(e===void 0)throw new Error("usePalliativeThemeContext must be used within a PalliativeThemeProvider");return e},Of="palliative_active_tab",$ne=e=>{const[t,n]=b.useState(()=>localStorage.getItem(Of)||e),[s,i]=b.useState(!1);return b.useEffect(()=>{localStorage.setItem(Of,t)},[t]),{activeTab:t,isTransitioning:s,handleTabChange:a=>{i(!0),n(a),setTimeout(()=>{i(!1)},300)},resetNavigation:()=>{n(e),localStorage.removeItem(Of)}}},zne=({onNext:e,onPrevious:t,onSave:n,onCancel:s,enabled:i=!0})=>{const o=b.useCallback(r=>{var d,m;if(!i||((d=document.activeElement)==null?void 0:d.tagName)==="INPUT"||((m=document.activeElement)==null?void 0:m.tagName)==="TEXTAREA")return;const{key:a,ctrlKey:c,metaKey:u}=r;a==="ArrowRight"&&e&&(r.preventDefault(),e()),a==="ArrowLeft"&&t&&(r.preventDefault(),t()),(c||u)&&a.toLowerCase()==="s"&&n&&(r.preventDefault(),n()),a==="Escape"&&s&&(r.preventDefault(),s())},[i,e,t,n,s]);return b.useEffect(()=>(window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)),[o]),{isEnabled:i,shortcuts:{next:"",previous:"",save:"/Ctrl + S",cancel:"Esc"}}},Wne={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},qne=({size:e="md",className:t})=>l.jsxDEV(ri,{className:Ce("animate-spin text-gray-400",Wne[e],t)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/LoadingSpinner.tsx",lineNumber:17,columnNumber:5},void 0),Gne=Td("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),z2=b.forwardRef(({className:e,variant:t,...n},s)=>l.jsxDEV("div",{ref:s,role:"alert",className:Ce(Gne({variant:t}),e),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/alert.tsx",lineNumber:26,columnNumber:3},void 0));z2.displayName="Alert";const W2=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("h5",{ref:n,className:Ce("mb-1 font-medium leading-none tracking-tight",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/alert.tsx",lineNumber:39,columnNumber:3},void 0));W2.displayName="AlertTitle";const q2=b.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:Ce("text-sm [&_p]:leading-relaxed",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/alert.tsx",lineNumber:51,columnNumber:3},void 0));q2.displayName="AlertDescription";const Yne=({title:e="Error",message:t,className:n,variant:s="destructive"})=>l.jsxDEV(z2,{variant:s,className:Ce("flex items-center gap-2",n),children:[l.jsxDEV(Qe,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:20,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV(W2,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:22,columnNumber:9},void 0),l.jsxDEV(q2,{children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:21,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:19,columnNumber:5},void 0),Kne=[{key:"",description:"Next tab"},{key:"",description:"Previous tab"},{key:"/Ctrl + S",description:"Save changes"},{key:"Esc",description:"Close dialog/Cancel"},{key:"?",description:"Show keyboard shortcuts"}],Xne=()=>l.jsxDEV(hl,{children:[l.jsxDEV(cee,{asChild:!0,children:l.jsxDEV(It,{variant:"ghost",size:"icon",className:"rounded-full",title:"Keyboard Shortcuts",children:l.jsxDEV(RC,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:35,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:29,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:28,columnNumber:7},void 0),l.jsxDEV(ia,{className:"sm:max-w-md",children:[l.jsxDEV(ac,{children:l.jsxDEV(Yd,{children:"Keyboard Shortcuts"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:40,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:39,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid gap-4",children:Kne.map(({key:e,description:t})=>l.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 rounded-lg bg-gray-50",children:[l.jsxDEV("span",{className:"text-sm text-gray-600",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:48,columnNumber:15},void 0),l.jsxDEV("kbd",{className:"px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:49,columnNumber:15},void 0)]},e,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:44,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:38,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:27,columnNumber:5},void 0),Jne=Ee.lazy(()=>cs(()=>import("./SymptomControl-AhlvZhm1.js"),__vite__mapDeps([2,3,1,4,5,6,7]))),Qne=Ee.lazy(()=>cs(()=>import("./PainManagement-CxpyoN-n.js"),__vite__mapDeps([8,3,1,5,6,9,10,11,7]))),Zne=Ee.lazy(()=>cs(()=>import("./FamilySupport-C7M5TF_g.js"),__vite__mapDeps([12,3,1,4,10,5,6,7]))),ese=Ee.lazy(()=>cs(()=>import("./AdvanceDirectives-CkC2OUTt.js"),__vite__mapDeps([13,3,1,10,5,11,6,7]))),tse=Ee.lazy(()=>cs(()=>import("./PsychosocialCare-rx5sU3kt.js"),__vite__mapDeps([14,3,1,9,5,6,7]))),ir=[{id:"symptoms",label:"Symptom Control",icon:ei,component:Jne},{id:"pain",label:"Pain Management",icon:Hl,component:Qne},{id:"psychosocial",label:"Psychosocial Care",icon:zb,component:tse},{id:"family",label:"Family Support",icon:zb,component:Zne},{id:"directives",label:"Advance Directives",icon:ad,component:ese}],nse=()=>{const{theme:e,toggleTheme:t}=Une(),s={light:LC,dark:OC,system:VC}[e];return l.jsxDEV(It,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",title:`Current theme: ${e}`,children:l.jsxDEV(s,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:73,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:66,columnNumber:5},void 0)},sse=()=>{const{activeTab:e,isTransitioning:t,handleTabChange:n}=$ne("symptoms"),s=ir.findIndex(r=>r.id===e);return zne({onNext:()=>{s<ir.length-1&&n(ir[s+1].id)},onPrevious:()=>{s>0&&n(ir[s-1].id)},enabled:!t}),l.jsxDEV("div",{className:"container mx-auto p-6 max-w-7xl",children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:" Palliative Care Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:103,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Xne,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:107,columnNumber:11},void 0),l.jsxDEV(nse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:106,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:102,columnNumber:7},void 0),l.jsxDEV(MM,{value:e,onValueChange:n,className:"space-y-6",children:[l.jsxDEV(jb,{className:"bg-white border",children:ir.map(({id:r,label:a,icon:c})=>l.jsxDEV(ln,{value:r,className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900",disabled:t,children:l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:122,columnNumber:17},void 0),l.jsxDEV("span",{children:a},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:121,columnNumber:15},void 0)},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:115,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:113,columnNumber:9},void 0),ir.map(({id:r,component:a})=>l.jsxDEV(cn,{value:r,className:"mt-6",forceMount:!0,children:l.jsxDEV("div",{className:`
              transition-all duration-300 ease
              ${e===r?"opacity-100 translate-y-0":"opacity-0 translate-y-4 absolute"}
            `,children:l.jsxDEV(st,{moduleName:`Palliative Care - ${r}`,fallback:l.jsxDEV(Yne,{title:"Section Error",message:`There was an error loading the ${r} section. Please try refreshing the page.`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:143,columnNumber:19},void 0),children:l.jsxDEV(Ee.Suspense,{fallback:l.jsxDEV("div",{className:"flex items-center justify-center h-32",children:l.jsxDEV(qne,{size:"lg"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:151,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:150,columnNumber:19},void 0),children:l.jsxDEV(a,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:154,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:149,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:140,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:136,columnNumber:13},void 0)},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:130,columnNumber:11},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:112,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:101,columnNumber:5},void 0)},ise=()=>l.jsxDEV(Hne,{children:l.jsxDEV(Fne,{children:l.jsxDEV(sse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:169,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:168,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:167,columnNumber:5},void 0),ose=()=>l.jsxDEV(st,{moduleName:"Palliative Care",children:l.jsxDEV(ise,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/Palliative.tsx",lineNumber:8,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/Palliative.tsx",lineNumber:7,columnNumber:5},void 0),rse=({title:e,description:t,icon:n,onClick:s})=>l.jsxDEV("div",{onClick:s,className:"cursor-pointer p-5 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition hover:scale-105 flex flex-col justify-center items-center text-center space-y-3",children:[l.jsxDEV(n,{size:40,className:"text-indigo-500 dark:text-indigo-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:17,columnNumber:7},void 0),l.jsxDEV("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:18,columnNumber:7},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:19,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:13,columnNumber:5},void 0),ase=()=>{const e=us(),t=s=>{e(`/tools/${s}`)},n=[{id:"calculators",title:"Clinical Calculators",description:"BSA, CrCl, ANC, Corrected Calcium, BMI, and more.",icon:k1},{id:"redflags",title:"Red Flags & Emergencies",description:"Neutropenic Fever, Hypercalcemia, TLS, Spinal Cord Compression.",icon:Qe},{id:"quickguides",title:"Symptom Control Quick Guides",description:"Pain Ladder, Anti-emetic protocols, Delirium management.",icon:FC},{id:"labs",title:"Important Labs Reference",description:"Critical lab values, Tumor markers, Electrolyte corrections.",icon:M1},{id:"emergencyregimens",title:"Emergency Regimens",description:"TLS prophylaxis, Neutropenic fever antibiotics, Adrenal rescue.",icon:C1},{id:"cognitive",title:"Cognitive Tools",description:"MMSE, GCS, Delirium Triage Screening.",icon:ei},{id:"toxicities",title:"Treatment Toxicity Checklists",description:"Chemotherapy, Radiotherapy, Immunotherapy toxicity alerts.",icon:Xs},{id:"reminders",title:"Scheduling and Reminders",description:"Next treatment reminders, Lab follow-up calendars.",icon:ko}];return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" Tools Hub"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:66,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:n.map(s=>l.jsxDEV(rse,{title:s.title,description:s.description,icon:s.icon,onClick:()=>t(s.id)},s.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:69,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:67,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:65,columnNumber:5},void 0)},lse=()=>{const e=us(),t=[{id:"bsa",title:"BSA Calculator",description:"Body Surface Area using Mosteller Formula",icon:k1,isImplemented:!0},{id:"crcl",title:"CrCl Calculator",description:"Creatinine Clearance using Cockcroft-Gault Formula",icon:Xs,isImplemented:!0},{id:"anc",title:"ANC Calculator",description:"Absolute Neutrophil Count estimation",icon:Ff,isImplemented:!0}];return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" Clinical Calculators"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:34,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(n=>l.jsxDEV("button",{onClick:()=>e(`/tools/calculators/${n.id}`),disabled:!n.isImplemented,className:`p-4 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition flex flex-col items-center justify-center space-y-2 text-center ${n.isImplemented?"hover:scale-105":"opacity-50 cursor-not-allowed"}`,children:[l.jsxDEV(n.icon,{className:"w-8 h-8 text-indigo-500 dark:text-indigo-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:45,columnNumber:13},void 0),l.jsxDEV("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:n.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:46,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:47,columnNumber:13},void 0),!n.isImplemented&&l.jsxDEV("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Coming soon..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:49,columnNumber:15},void 0)]},n.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:37,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:33,columnNumber:5},void 0)},cse=[{id:"neutropenic-fever",title:"Neutropenic Fever",description:"Urgent evaluation and IV antibiotics needed immediately.",details:`**Signs:** Fever > 38.3C once or >38C sustained for 1 hour, ANC < 500.  
**Immediate Actions:** Blood cultures, start broad-spectrum IV antibiotics (e.g., Piperacillin-Tazobactam).  
**Critical:** Time to antibiotic administration should be < 1 hour.`,icon:M1,color:"bg-red-500"},{id:"tumor-lysis",title:"Tumor Lysis Syndrome",description:"Watch for electrolyte abnormalities and renal failure.",details:`**Signs:** Hyperkalemia, Hyperphosphatemia, Hypocalcemia, Hyperuricemia.  
**Immediate Actions:** Aggressive IV hydration, monitor electrolytes, consider rasburicase.  
**Critical:** Check labs every 68 hours.`,icon:C1,color:"bg-yellow-500"},{id:"spinal-compression",title:"Spinal Cord Compression",description:"Early MRI and steroids critical to prevent paralysis.",details:`**Signs:** New back pain, motor weakness, sensory changes, bladder/bowel dysfunction.  
**Immediate Actions:** High-dose dexamethasone, urgent MRI whole spine, neurosurgical/oncology referral.`,icon:Xs,color:"bg-orange-500"},{id:"svc-syndrome",title:"Superior Vena Cava Syndrome (SVCS)",description:"Neck swelling, dyspnea, urgent imaging required.",details:`**Signs:** Facial swelling, dyspnea, distended neck/chest veins.  
**Immediate Actions:** Elevate head of bed, urgent CT chest, oncology consultation.`,icon:BC,color:"bg-purple-500"},{id:"hypercalcemia",title:"Hypercalcemia of Malignancy",description:"Severe dehydration, mental status changes, urgent hydration.",details:`**Signs:** Confusion, dehydration, polyuria, constipation.  
**Immediate Actions:** IV fluids (normal saline), bisphosphonates (zoledronic acid).  
**Critical:** Treat urgently to avoid coma.`,icon:Qe,color:"bg-pink-500"}],use=()=>{const[e,t]=b.useState(null),n=s=>{t(e===s?null:s)};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" Red Flags & Emergencies"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:73,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:cse.map(s=>l.jsxDEV("div",{className:"flex flex-col items-center",children:[l.jsxDEV("div",{onClick:()=>n(s.id),className:`w-full p-5 rounded-xl shadow hover:shadow-lg transition hover:scale-105 flex flex-col justify-center items-center text-center text-white cursor-pointer ${s.color}`,children:[l.jsxDEV(s.icon,{size:40},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:82,columnNumber:15},void 0),l.jsxDEV("h2",{className:"text-lg font-semibold mt-3",children:s.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:83,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-sm mt-2",children:s.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:84,columnNumber:15},void 0),l.jsxDEV("div",{className:"mt-2",children:e===s.id?l.jsxDEV(Tp,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:86,columnNumber:43},void 0):l.jsxDEV(Br,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:86,columnNumber:69},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:85,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:78,columnNumber:13},void 0),e===s.id&&l.jsxDEV("div",{className:"w-full mt-2 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-inner transition",children:l.jsxDEV("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-line",children:s.details},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:92,columnNumber:15},void 0)]},s.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:77,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:75,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:72,columnNumber:5},void 0)},dse=()=>{const[e,t]=b.useState(""),[n,s]=b.useState(""),[i,o]=b.useState(null),r=()=>{const c=parseFloat(e),u=parseFloat(n);if(isNaN(c)||isNaN(u)||c<=0||u<=0){o(null);return}const d=Math.sqrt(c*u/3600);o(parseFloat(d.toFixed(2)))},a=()=>{t(""),s(""),o(null)};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" BSA Calculator (Mosteller Formula)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:27,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Height (cm)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:31,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:e,onChange:c=>t(c.target.value),placeholder:"Enter height in cm",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:32,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:30,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Weight (kg)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:42,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:n,onChange:c=>s(c.target.value),placeholder:"Enter weight in kg",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:29,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-4 mt-6",children:[l.jsxDEV("button",{onClick:r,className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition",children:"Calculate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:54,columnNumber:9},void 0),l.jsxDEV("button",{onClick:a,className:"px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Reset"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:53,columnNumber:7},void 0),i!==null&&l.jsxDEV("div",{className:"mt-8 p-6 bg-green-100 dark:bg-green-700 rounded-lg",children:[l.jsxDEV("h2",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:"Calculated BSA"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:70,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-lg text-green-700 dark:text-green-300 mt-2",children:[i," m"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:26,columnNumber:5},void 0)},mse=()=>{const[e,t]=b.useState(""),[n,s]=b.useState(""),[i,o]=b.useState(""),[r,a]=b.useState("male"),[c,u]=b.useState(null),d=()=>{const f=parseFloat(e),h=parseFloat(n),p=parseFloat(i);if(isNaN(f)||isNaN(h)||isNaN(p)||f<=0||h<=0||p<=0){u(null);return}let g=(140-f)*h/(72*p);r==="female"&&(g=g*.85),u(parseFloat(g.toFixed(2)))},m=()=>{t(""),s(""),o(""),a("male"),u(null)};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" CrCl Calculator (Cockcroft-Gault Formula)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:38,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Age (years)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:42,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:e,onChange:f=>t(f.target.value),placeholder:"Enter age",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:41,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Weight (kg)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:53,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:n,onChange:f=>s(f.target.value),placeholder:"Enter weight",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:54,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:52,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Serum Creatinine (mg/dL)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:64,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:i,onChange:f=>o(f.target.value),placeholder:"Enter serum creatinine",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:63,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Gender"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:75,columnNumber:11},void 0),l.jsxDEV("select",{value:r,onChange:f=>a(f.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:[l.jsxDEV("option",{value:"male",children:"Male"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:81,columnNumber:13},void 0),l.jsxDEV("option",{value:"female",children:"Female"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:76,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:74,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:40,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-4 mt-6",children:[l.jsxDEV("button",{onClick:d,className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition",children:"Calculate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:88,columnNumber:9},void 0),l.jsxDEV("button",{onClick:m,className:"px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Reset"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:87,columnNumber:7},void 0),c!==null&&l.jsxDEV("div",{className:"mt-8 p-6 bg-green-100 dark:bg-green-700 rounded-lg",children:[l.jsxDEV("h2",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:"Calculated CrCl"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:104,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-lg text-green-700 dark:text-green-300 mt-2",children:[c," mL/min"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:105,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:103,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:37,columnNumber:5},void 0)},fse=()=>{const[e,t]=b.useState(""),[n,s]=b.useState(""),[i,o]=b.useState(""),[r,a]=b.useState(null),[c,u]=b.useState(""),d=()=>{const p=parseFloat(e),g=parseFloat(n),v=parseFloat(i);if(isNaN(p)||isNaN(g)||isNaN(v)||p<=0||g<0||v<0){a(null),u("");return}const x=p*(g+v)/100,E=parseFloat(x.toFixed(2));a(E),E>=1.5?u("normal"):E>=1?u("mild"):E>=.5?u("moderate"):u("severe")},m=()=>{t(""),s(""),o(""),a(null),u("")},f=()=>{switch(c){case"normal":return" Normal ANC. No neutropenia.";case"mild":return" Mild Neutropenia. Monitor carefully.";case"moderate":return" Moderate Neutropenia. Higher infection risk.";case"severe":return" Severe Neutropenia. Critical infection risk!";default:return""}},h=()=>{switch(c){case"normal":return"bg-green-100 dark:bg-green-700";case"mild":return"bg-yellow-100 dark:bg-yellow-700";case"moderate":return"bg-orange-100 dark:bg-orange-700";case"severe":return"bg-red-100 dark:bg-red-700";default:return"bg-gray-100 dark:bg-gray-800"}};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" ANC Calculator (Absolute Neutrophil Count)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:77,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"WBC (10/L)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:81,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:e,onChange:p=>t(p.target.value),placeholder:"Enter WBC count",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:82,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:80,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"% Neutrophils (segmented)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:92,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:n,onChange:p=>s(p.target.value),placeholder:"Enter % Neutrophils",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:91,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"% Bands"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:103,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:i,onChange:p=>o(p.target.value),placeholder:"Enter % Bands",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:102,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:79,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-4 mt-6",children:[l.jsxDEV("button",{onClick:d,className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition",children:"Calculate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:115,columnNumber:9},void 0),l.jsxDEV("button",{onClick:m,className:"px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Reset"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:114,columnNumber:7},void 0),r!==null&&l.jsxDEV("div",{className:`mt-8 p-6 rounded-lg shadow-inner ${h()} transition`,children:[l.jsxDEV("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Calculated ANC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:131,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-lg mt-2",children:[r," 10/L"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:132,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-sm mt-2",children:f()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:130,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:76,columnNumber:5},void 0)},hse=()=>l.jsxDEV(wp,{children:[l.jsxDEV(nt,{path:"/",element:l.jsxDEV(st,{moduleName:"Landing",children:l.jsxDEV(y4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:37,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:35,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/callback",element:l.jsxDEV(st,{moduleName:"Auth Callback",children:l.jsxDEV(S4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:43,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:42,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:41,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/dashboard",element:l.jsxDEV(st,{moduleName:"Dashboard",children:l.jsxDEV(Mt,{children:l.jsxDEV(E4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:51,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:50,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:49,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:48,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/auto-logout-test",element:l.jsxDEV(st,{moduleName:"Auto-Logout Test",children:l.jsxDEV(Mt,{children:l.jsxDEV(_4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:59,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:58,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:57,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:56,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/protected",element:l.jsxDEV(st,{moduleName:"Protected Page",children:l.jsxDEV(Mt,{children:l.jsxDEV(T4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:67,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:66,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:65,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:64,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/handbook/*",element:l.jsxDEV(st,{moduleName:"Handbook",children:l.jsxDEV(Mt,{children:l.jsxDEV($z,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:75,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:74,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:72,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/search",element:l.jsxDEV(st,{moduleName:"Handbook Search",children:l.jsxDEV(Mt,{children:l.jsxDEV(Y5,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:82,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:81,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:80,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/opd/*",element:l.jsxDEV(st,{moduleName:"OPD",children:l.jsxDEV(Mt,{children:l.jsxDEV(nZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:92,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:91,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:90,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:89,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/cdu/*",element:l.jsxDEV(st,{moduleName:"CDU",children:l.jsxDEV(Mt,{children:l.jsxDEV(Dte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:101,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:100,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:99,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:98,columnNumber:7},void 0),"      ",l.jsxDEV(nt,{path:"/inpatient/*",element:l.jsxDEV(st,{moduleName:"Inpatient",children:l.jsxDEV(Mt,{children:l.jsxDEV(Vne,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:107,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:106,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:105,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:104,columnNumber:17},void 0),l.jsxDEV(nt,{path:"/palliative/*",element:l.jsxDEV(st,{moduleName:"Palliative",children:l.jsxDEV(Mt,{children:l.jsxDEV(ose,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:114,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:113,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:112,columnNumber:7},void 0),"      ",l.jsxDEV(nt,{path:"/tools/*",element:l.jsxDEV(st,{moduleName:"Tools",children:l.jsxDEV(Mt,{children:l.jsxDEV(ase,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:121,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:120,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:119,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:118,columnNumber:17},void 0),l.jsxDEV(nt,{path:"/tools/calculators",element:l.jsxDEV(st,{moduleName:"Clinical Calculators",children:l.jsxDEV(Mt,{children:l.jsxDEV(lse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:129,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:128,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:127,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:126,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/tools/calculators/bsa",element:l.jsxDEV(st,{moduleName:"BSA Calculator",children:l.jsxDEV(Mt,{children:l.jsxDEV(dse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:137,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:136,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:135,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:134,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/tools/calculators/crcl",element:l.jsxDEV(st,{moduleName:"CrCl Calculator",children:l.jsxDEV(Mt,{children:l.jsxDEV(mse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:145,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:143,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:142,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/tools/calculators/anc",element:l.jsxDEV(st,{moduleName:"ANC Calculator",children:l.jsxDEV(Mt,{children:l.jsxDEV(fse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:153,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:152,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:151,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:150,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/tools/redflags",element:l.jsxDEV(st,{moduleName:"Red Flags",children:l.jsxDEV(Mt,{children:l.jsxDEV(use,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:161,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:160,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:159,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:158,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/cdu/treatment-protocols/:id",element:l.jsxDEV(st,{moduleName:"Protocol Detail",children:l.jsxDEV(Mt,{children:l.jsxDEV(jM,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:169,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:168,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:167,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:166,columnNumber:7},void 0),l.jsxDEV(nt,{path:"/debug/errors",element:l.jsxDEV(st,{moduleName:"Error Debug",children:l.jsxDEV(Mt,{children:l.jsxDEV(k4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:178,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:177,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:176,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:175,columnNumber:7},void 0),"      ",l.jsxDEV(nt,{path:"/debug/analyzer",element:l.jsxDEV(st,{moduleName:"Error Analyzer",children:l.jsxDEV(Mt,{children:l.jsxDEV(C4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:184,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:183,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:182,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:181,columnNumber:17},void 0),l.jsxDEV(nt,{path:"/debug/test",element:l.jsxDEV(st,{moduleName:"Error Test",children:l.jsxDEV(Mt,{children:l.jsxDEV(j4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:192,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:191,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:190,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:189,columnNumber:7},void 0),l.jsxDEV(nt,{path:"*",element:l.jsxDEV(st,{moduleName:"Not Found",children:l.jsxDEV(N4,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:199,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:198,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:197,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:33,columnNumber:5},void 0),pse=()=>l.jsxDEV(GC,{children:l.jsxDEV(nC,{children:l.jsxDEV(Mg,{children:l.jsxDEV(u_,{children:[l.jsxDEV(sb,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:16,columnNumber:13},void 0),l.jsxDEV(m4,{children:l.jsxDEV(hse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:18,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:15,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:14,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:13,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:12,columnNumber:5},void 0),gse=()=>l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:7,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:8,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Authenticating..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:11,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:6,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:5,columnNumber:5},void 0),bse=({children:e})=>{const{isLoading:t}=ds();return t?l.jsxDEV(gse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/Auth0Provider.tsx",lineNumber:18,columnNumber:12},void 0):l.jsxDEV(l.Fragment,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/Auth0Provider.tsx",lineNumber:21,columnNumber:10},void 0)},vse=({children:e,autoLogoutMinutes:t=10,autoLogoutWarningMinutes:n=2,enableAutoLogout:s=!0})=>l.jsxDEV(q5,{domain:"dev-bqgm5fdnyx1sdqja.us.auth0.com",clientId:"oG0aJlsqUul3crrmzdLJJz7r9KvU8IHp",authorizationParams:{redirect_uri:"http://localhost:3003/callback",audience:"your-auth0-api-identifier",scope:"openid profile email read:current_user update:current_user_metadata"},useRefreshTokens:!0,cacheLocation:"localstorage",children:l.jsxDEV(Mg,{timeoutMinutes:t,warningMinutes:n,showWarningModal:s,children:l.jsxDEV(bse,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/Auth0Provider.tsx",lineNumber:59,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/Auth0Provider.tsx",lineNumber:54,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/providers/Auth0Provider.tsx",lineNumber:44,columnNumber:5},void 0);var ru={},b1;function xse(){if(b1)return ru;b1=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.default=s;var e=N1();let t;const n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n&&n.Events&&n.Events[0]?t=n.Events[0]:console.warn("logrocket-react does not work with this version of React");function s(){const i=o=>{try{const a=t(o.target),c=[];let u=a;for(;u;){var r=typeof u.elementType=="function"&&u.elementType.displayName;r&&c.push(r),u=u.return}o.__lrName=c}catch{console.error("logrocket-react caught an error while hooking into React. Please make sure you are using the correct version of logrocket-react for your version of react-dom.")}};document.body.addEventListener("click",i,{capture:!0,passive:!0})}return ru}xse();const v1={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_AUTH0_AUDIENCE:"your-auth0-api-identifier",VITE_AUTH0_CALLBACK_URL:"http://localhost:3003/callback",VITE_AUTH0_CLIENT_ID:"oG0aJlsqUul3crrmzdLJJz7r9KvU8IHp",VITE_AUTH0_DOMAIN:"dev-bqgm5fdnyx1sdqja.us.auth0.com",VITE_AUTH0_REDIRECT_URI:"http://localhost:3003",VITE_GEMINI_API_KEY:"your-gemini-api-key-here",VITE_OPENAI_API_KEY:"your-openai-api-key-here",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcnNmeWxqZ2FibXh3eG1wYml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwNjc5NDAsImV4cCI6MjA1NzY0Mzk0MH0.VPnBZfe-BFSZ3L-YyWJUHYZz4fwt7uyY57KWYYAa3C4",VITE_SUPABASE_URL:"https://hdrsfyljgabmxwxmpbix.supabase.co",VITE_USER_NODE_ENV:"development"},Nse=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"],yse=["VITE_AUTH0_DOMAIN","VITE_AUTH0_CLIENT_ID"];function wse(){let e=!0;for(const t of Nse)v1[t]||(console.error(` Missing required environment variable: ${t}`),e=!1);for(const t of yse)v1[t]||console.warn(` Optional environment variable missing: ${t} - Some features may be limited`);if(!e)throw console.error("Environment validation failed. Please check your .env file."),new Error("Environment validation failed. Please check your .env file.")}wse();console.log(" Error tracking initialized");qC.createRoot(document.getElementById("root")).render(l.jsxDEV(Ee.StrictMode,{children:l.jsxDEV(vse,{autoLogoutMinutes:10,autoLogoutWarningMinutes:2,enableAutoLogout:!0,children:l.jsxDEV(w4,{children:l.jsxDEV(Mg,{children:l.jsxDEV(st,{moduleName:"App Root",children:l.jsxDEV(pse,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:55,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:53,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:52,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:47,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:46,columnNumber:3},void 0));export{Je as A,zt as B,Kt as C,Zg as D,Kd as E,Ce as F,oie as G,It as H,Ri as I,hl as J,cee as K,ia as L,ac as M,Yd as N,Tl as O,Ae as P,Hb as Q,Ub as R,dM as S,MM as T,hn as U,wee as V,Dee as W,ZM as X,SD as Y,Td as Z,pp as _,jb as a,ln as b,cn as c,Zt as d,en as e,tn as f,Lse as g,ja as h,fn as i,l as j,uO as k,Hn as l,dO as m,yg as n,xt as o,Fse as p,jn as q,vO as r,Ro as s,Is as t,gO as u,Pi as v,Js as w,_e as x,Tn as y,Kn as z};
//# sourceMappingURL=index-DO4U03aV.js.map
