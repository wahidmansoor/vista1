import{j as e}from"./ui-DK5CeS2f.js";import{r as p,b as X}from"./router-aUvmBcd_.js";import{o as k,p as Z,q as J,r as G,R as Y,P as y,s as w,I as Q,t as C,v as ee,w as te,x as se,c as _,u as ae,B as S,C as I,f as E,g as P,h as A,T as re}from"./index-DapSn_1z.js";import{L as h}from"./label-BiyxXO83.js";import{ar as oe,G as ne,as as ie,at as ce,C as de,q as le}from"./utils-D2RFhntI.js";import"./vendor-DeqkGhWy.js";var D="Radio",[ue,O]=G(D),[pe,me]=ue(D),L=p.forwardRef((o,n)=>{const{__scopeRadio:s,name:i,checked:r=!1,required:c,disabled:d,value:t="on",onCheck:a,form:m,...l}=o,[v,f]=p.useState(null),u=w(n,R=>f(R)),x=p.useRef(!1),j=v?m||!!v.closest("form"):!0;return e.jsxs(pe,{scope:s,checked:r,disabled:d,children:[e.jsx(y.button,{type:"button",role:"radio","aria-checked":r,"data-state":B(r),"data-disabled":d?"":void 0,disabled:d,value:t,...l,ref:u,onClick:C(o.onClick,R=>{r||a==null||a(),j&&(x.current=R.isPropagationStopped(),x.current||R.stopPropagation())})}),j&&e.jsx(U,{control:v,bubbles:!x.current,name:i,value:t,checked:r,required:c,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});L.displayName=D;var F="RadioIndicator",T=p.forwardRef((o,n)=>{const{__scopeRadio:s,forceMount:i,...r}=o,c=me(F,s);return e.jsx(ee,{present:i||c.checked,children:e.jsx(y.span,{"data-state":B(c.checked),"data-disabled":c.disabled?"":void 0,...r,ref:n})})});T.displayName=F;var xe="RadioBubbleInput",U=p.forwardRef(({__scopeRadio:o,control:n,checked:s,bubbles:i=!0,...r},c)=>{const d=p.useRef(null),t=w(d,c),a=te(s),m=se(n);return p.useEffect(()=>{const l=d.current;if(!l)return;const v=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(v,"checked").set;if(a!==s&&u){const x=new Event("click",{bubbles:i});u.call(l,s),l.dispatchEvent(x)}},[a,s,i]),e.jsx(y.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:t,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U.displayName=xe;function B(o){return o?"checked":"unchecked"}var ve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N="RadioGroup",[fe,Pe]=G(N,[k,O]),M=k(),q=O(),[he,je]=fe(N),V=p.forwardRef((o,n)=>{const{__scopeRadioGroup:s,name:i,defaultValue:r,value:c,required:d=!1,disabled:t=!1,orientation:a,dir:m,loop:l=!0,onValueChange:v,...f}=o,u=M(s),x=Z(m),[j,R]=J({prop:c,defaultProp:r??null,onChange:v,caller:N});return e.jsx(he,{scope:s,name:i,required:d,disabled:t,value:j,onValueChange:R,children:e.jsx(Y,{asChild:!0,...u,orientation:a,dir:x,loop:l,children:e.jsx(y.div,{role:"radiogroup","aria-required":d,"aria-orientation":a,"data-disabled":t?"":void 0,dir:x,...f,ref:n})})})});V.displayName=N;var K="RadioGroupItem",$=p.forwardRef((o,n)=>{const{__scopeRadioGroup:s,disabled:i,...r}=o,c=je(K,s),d=c.disabled||i,t=M(s),a=q(s),m=p.useRef(null),l=w(n,m),v=c.value===r.value,f=p.useRef(!1);return p.useEffect(()=>{const u=j=>{ve.includes(j.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",x)}},[]),e.jsx(Q,{asChild:!0,...t,focusable:!d,active:v,children:e.jsx(L,{disabled:d,required:c.required,checked:v,...a,...r,name:c.name,ref:l,onCheck:()=>c.onValueChange(r.value),onKeyDown:C(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:C(r.onFocus,()=>{var u;f.current&&((u=m.current)==null||u.click())})})})});$.displayName=K;var Re="RadioGroupIndicator",z=p.forwardRef((o,n)=>{const{__scopeRadioGroup:s,...i}=o,r=q(s);return e.jsx(T,{...r,...i,ref:n})});z.displayName=Re;var H=V,W=$,ge=z;const b=p.forwardRef(({className:o,...n},s)=>e.jsx(H,{className:_("grid gap-2",o),...n,ref:s}));b.displayName=H.displayName;const g=p.forwardRef(({className:o,...n},s)=>e.jsx(W,{ref:s,className:_("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",o),...n,children:e.jsx(ge,{className:"flex items-center justify-center",children:e.jsx(oe,{className:"h-3.5 w-3.5 fill-primary"})})}));g.displayName=W.displayName;const ye=["DNR","LivingWill","PowerOfAttorney","Other"],Ne={completed:"text-green-600",pending:"text-amber-600",notStarted:"text-gray-600"},Ce={completed:le,pending:de,notStarted:ce},Ae=()=>{const{state:o,updateAdvanceDirective:n}=ae(),[s,i]=X.useState({type:"DNR",status:"notStarted",details:"",documents:[]}),r=t=>{t.preventDefault();const a={id:crypto.randomUUID(),...s,dateCompleted:s.status==="completed"?new Date().toISOString():void 0};n(a),i({type:"DNR",status:"notStarted",details:"",documents:[]})},c=async()=>{const t={patientDirectives:o.advanceDirectives,exportDate:new Date().toISOString(),facilityInfo:"OncoVista Medical Center"},a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=URL.createObjectURL(a),l=document.createElement("a");l.href=m,l.download="advance-directives.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(m)},d=t=>{const a=Ce[t];return e.jsx(a,{className:`w-5 h-5 ${Ne[t]}`})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Advance Directives"}),e.jsxs(S,{onClick:c,variant:"outline",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Export Documents"]})]}),e.jsxs(I,{children:[e.jsx(E,{children:e.jsx(P,{children:"New Directive"})}),e.jsx(A,{children:e.jsxs("form",{onSubmit:r,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Type of Directive"}),e.jsx(b,{value:s.type,onValueChange:t=>i(a=>({...a,type:t})),className:"grid grid-cols-2 gap-4 mt-2",children:ye.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:t,id:t}),e.jsx(h,{htmlFor:t,children:t.replace(/([A-Z])/g," $1").trim()})]},t))})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Status"}),e.jsxs(b,{value:s.status,onValueChange:t=>i(a=>({...a,status:t})),className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:"completed",id:"completed"}),e.jsx(h,{htmlFor:"completed",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:"pending",id:"pending"}),e.jsx(h,{htmlFor:"pending",children:"Pending"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:"notStarted",id:"notStarted"}),e.jsx(h,{htmlFor:"notStarted",children:"Not Started"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Details"}),e.jsx(re,{value:s.details,onChange:t=>i(a=>({...a,details:t.target.value})),className:"mt-2",placeholder:"Enter any relevant details or notes..."})]}),e.jsxs(S,{type:"submit",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Add Directive"]})]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:o.advanceDirectives.map(t=>e.jsxs(I,{children:[e.jsx(E,{children:e.jsxs(P,{className:"flex justify-between items-center",children:[e.jsx("span",{children:t.type.replace(/([A-Z])/g," $1").trim()}),d(t.status)]})}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium capitalize",children:t.status})]}),t.dateCompleted&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),e.jsx("p",{className:"font-medium",children:new Date(t.dateCompleted).toLocaleDateString()})]}),t.details&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Details"}),e.jsx("p",{className:"text-sm mt-1",children:t.details})]}),t.documents.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Documents"}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:t.documents.map((a,m)=>e.jsx("li",{children:a},m))})]})]})})]},t.id))})]})};export{Ae as default};
