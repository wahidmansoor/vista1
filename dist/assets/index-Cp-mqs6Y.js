const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-D9ebULCG.js","assets/vendor-D6bnBaFI.js","assets/SymptomControl-DHo0bAwk.js","assets/input-BrVglIX9.js","assets/ui-B2b7cLDw.js","assets/utils-BU122SnK.js","assets/router-AC6-ElE5.js","assets/ai-BpXHbcls.js","assets/PainManagement-BAvDp9ng.js","assets/slider-CwZZbfow.js","assets/label-B6La2DGx.js","assets/radio-group-DNdQSFXM.js","assets/FamilySupport-Bj59TweC.js","assets/AdvanceDirectives-DrK3Rd7N.js","assets/PsychosocialCare-5-ySOUSA.js"])))=>i.map(i=>d[i]);
var n2=Object.defineProperty;var s2=(e,t,n)=>t in e?n2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>s2(e,typeof t!="symbol"?t+"":t,n);import{r as x,a as xo,e as tu,R as i2,b as Re,c as Bt,g as Ru,d as o2}from"./vendor-D6bnBaFI.js";import{j as G,c as Py}from"./ui-B2b7cLDw.js";import{u as os,N as r2,a as a2,L as Vs,b as l2,R as Xh,c as at,B as c2}from"./router-AC6-ElE5.js";import{M as u2,X as Qn,S as cr,L as Zs,F as Jh,C as No,B as Zn,T as d2,A as m2,O as f2,a as Tr,b as h2,R as p2,c as g2,d as Ay,H as Nl,e as Es,f as b2,g as tt,h as ju,i as Qh,I as Ou,j as Si,k as nu,l as Gs,m as v2,W as x2,n as N2,D as y2,o as zs,p as Vu,q as Zh,r as w2,s as Iy,t as D2,u as E2,v as T2,w as S2,U as _2,x as k2,y as M2,z as C2,E as P2,G as A2,P as ep,J as I2,K as R2,N as no,Q as Oc,V as m0,Y as mf,Z as j2,_ as Ry,$ as O2,a0 as V2,a1 as jy,a2 as L2,a3 as F2,a4 as B2,a5 as H2,a6 as ff,a7 as U2,a8 as z2,a9 as f0,aa as $2,ab as W2,ac as G2,ad as Oy,ae as q2,af as Vy,ag as Ly,ah as K2}from"./utils-BU122SnK.js";import{H as ql,a as Kl,G as Y2}from"./ai-BpXHbcls.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fy={exports:{}},hf={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=x,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),p=Symbol.iterator,g="@@iterator";function v(z){if(z===null||typeof z!="object")return null;var se=p&&z[p]||z[g];return typeof se=="function"?se:null}var b=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(z){{for(var se=arguments.length,ye=new Array(se>1?se-1:0),Ae=1;Ae<se;Ae++)ye[Ae-1]=arguments[Ae];N("error",z,ye)}}function N(z,se,ye){{var Ae=b.ReactDebugCurrentFrame,Qe=Ae.getStackAddendum();Qe!==""&&(se+="%s",ye=ye.concat([Qe]));var it=ye.map(function(Ke){return String(Ke)});it.unshift("Warning: "+se),Function.prototype.apply.call(console[z],console,it)}}var E=!1,D=!1,T=!1,M=!1,_=!1,P;P=Symbol.for("react.module.reference");function k(z){return!!(typeof z=="string"||typeof z=="function"||z===s||z===o||_||z===i||z===u||z===d||M||z===h||E||D||T||typeof z=="object"&&z!==null&&(z.$$typeof===f||z.$$typeof===m||z.$$typeof===r||z.$$typeof===a||z.$$typeof===c||z.$$typeof===P||z.getModuleId!==void 0))}function L(z,se,ye){var Ae=z.displayName;if(Ae)return Ae;var Qe=se.displayName||se.name||"";return Qe!==""?ye+"("+Qe+")":ye}function B(z){return z.displayName||"Context"}function A(z){if(z==null)return null;if(typeof z.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof z=="function")return z.displayName||z.name||null;if(typeof z=="string")return z;switch(z){case s:return"Fragment";case n:return"Portal";case o:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case d:return"SuspenseList"}if(typeof z=="object")switch(z.$$typeof){case a:var se=z;return B(se)+".Consumer";case r:var ye=z;return B(ye._context)+".Provider";case c:return L(z,z.render,"ForwardRef");case m:var Ae=z.displayName||null;return Ae!==null?Ae:A(z.type)||"Memo";case f:{var Qe=z,it=Qe._payload,Ke=Qe._init;try{return A(Ke(it))}catch{return null}}}return null}var V=Object.assign,O=0,U,q,$,Z,I,ie,ve;function j(){}j.__reactDisabledLog=!0;function ce(){{if(O===0){U=console.log,q=console.info,$=console.warn,Z=console.error,I=console.group,ie=console.groupCollapsed,ve=console.groupEnd;var z={configurable:!0,enumerable:!0,value:j,writable:!0};Object.defineProperties(console,{info:z,log:z,warn:z,error:z,group:z,groupCollapsed:z,groupEnd:z})}O++}}function ge(){{if(O--,O===0){var z={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:V({},z,{value:U}),info:V({},z,{value:q}),warn:V({},z,{value:$}),error:V({},z,{value:Z}),group:V({},z,{value:I}),groupCollapsed:V({},z,{value:ie}),groupEnd:V({},z,{value:ve})})}O<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var xe=b.ReactCurrentDispatcher,ne;function me(z,se,ye){{if(ne===void 0)try{throw Error()}catch(Qe){var Ae=Qe.stack.trim().match(/\n( *(at )?)/);ne=Ae&&Ae[1]||""}return`
`+ne+z}}var De=!1,K;{var J=typeof WeakMap=="function"?WeakMap:Map;K=new J}function Y(z,se){if(!z||De)return"";{var ye=K.get(z);if(ye!==void 0)return ye}var Ae;De=!0;var Qe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var it;it=xe.current,xe.current=null,ce();try{if(se){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(mn){Ae=mn}Reflect.construct(z,[],Ke)}else{try{Ke.call()}catch(mn){Ae=mn}z.call(Ke.prototype)}}else{try{throw Error()}catch(mn){Ae=mn}z()}}catch(mn){if(mn&&Ae&&typeof mn.stack=="string"){for(var Ge=mn.stack.split(`
`),en=Ae.stack.split(`
`),Dt=Ge.length-1,_t=en.length-1;Dt>=1&&_t>=0&&Ge[Dt]!==en[_t];)_t--;for(;Dt>=1&&_t>=0;Dt--,_t--)if(Ge[Dt]!==en[_t]){if(Dt!==1||_t!==1)do if(Dt--,_t--,_t<0||Ge[Dt]!==en[_t]){var Pn=`
`+Ge[Dt].replace(" at new "," at ");return z.displayName&&Pn.includes("<anonymous>")&&(Pn=Pn.replace("<anonymous>",z.displayName)),typeof z=="function"&&K.set(z,Pn),Pn}while(Dt>=1&&_t>=0);break}}}finally{De=!1,xe.current=it,ge(),Error.prepareStackTrace=Qe}var Po=z?z.displayName||z.name:"",Ai=Po?me(Po):"";return typeof z=="function"&&K.set(z,Ai),Ai}function ue(z,se,ye){return Y(z,!1)}function de(z){var se=z.prototype;return!!(se&&se.isReactComponent)}function re(z,se,ye){if(z==null)return"";if(typeof z=="function")return Y(z,de(z));if(typeof z=="string")return me(z);switch(z){case u:return me("Suspense");case d:return me("SuspenseList")}if(typeof z=="object")switch(z.$$typeof){case c:return ue(z.render);case m:return re(z.type,se,ye);case f:{var Ae=z,Qe=Ae._payload,it=Ae._init;try{return re(it(Qe),se,ye)}catch{}}}return""}var pe=Object.prototype.hasOwnProperty,ze={},$e=b.ReactDebugCurrentFrame;function We(z){if(z){var se=z._owner,ye=re(z.type,z._source,se?se.type:null);$e.setExtraStackFrame(ye)}else $e.setExtraStackFrame(null)}function Mn(z,se,ye,Ae,Qe){{var it=Function.call.bind(pe);for(var Ke in z)if(it(z,Ke)){var Ge=void 0;try{if(typeof z[Ke]!="function"){var en=Error((Ae||"React class")+": "+ye+" type `"+Ke+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof z[Ke]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw en.name="Invariant Violation",en}Ge=z[Ke](se,Ke,Ae,ye,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Dt){Ge=Dt}Ge&&!(Ge instanceof Error)&&(We(Qe),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ae||"React class",ye,Ke,typeof Ge),We(null)),Ge instanceof Error&&!(Ge.message in ze)&&(ze[Ge.message]=!0,We(Qe),w("Failed %s type: %s",ye,Ge.message),We(null))}}}var As=Array.isArray;function ls(z){return As(z)}function mt(z){{var se=typeof Symbol=="function"&&Symbol.toStringTag,ye=se&&z[Symbol.toStringTag]||z.constructor.name||"Object";return ye}}function Wn(z){try{return un(z),!1}catch{return!0}}function un(z){return""+z}function ee(z){if(Wn(z))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",mt(z)),un(z)}var Q=b.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0},Ie,Le,Nt;Nt={};function ae(z){if(pe.call(z,"ref")){var se=Object.getOwnPropertyDescriptor(z,"ref").get;if(se&&se.isReactWarning)return!1}return z.ref!==void 0}function _e(z){if(pe.call(z,"key")){var se=Object.getOwnPropertyDescriptor(z,"key").get;if(se&&se.isReactWarning)return!1}return z.key!==void 0}function It(z,se){if(typeof z.ref=="string"&&Q.current&&se&&Q.current.stateNode!==se){var ye=A(Q.current.type);Nt[ye]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',A(Q.current.type),z.ref),Nt[ye]=!0)}}function Cn(z,se){{var ye=function(){Ie||(Ie=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ye.isReactWarning=!0,Object.defineProperty(z,"key",{get:ye,configurable:!0})}}function yt(z,se){{var ye=function(){Le||(Le=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ye.isReactWarning=!0,Object.defineProperty(z,"ref",{get:ye,configurable:!0})}}var Ut=function(z,se,ye,Ae,Qe,it,Ke){var Ge={$$typeof:t,type:z,key:se,ref:ye,props:Ke,_owner:it};return Ge._store={},Object.defineProperty(Ge._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ge,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ae}),Object.defineProperty(Ge,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Qe}),Object.freeze&&(Object.freeze(Ge.props),Object.freeze(Ge)),Ge};function dn(z,se,ye,Ae,Qe){{var it,Ke={},Ge=null,en=null;ye!==void 0&&(ee(ye),Ge=""+ye),_e(se)&&(ee(se.key),Ge=""+se.key),ae(se)&&(en=se.ref,It(se,Qe));for(it in se)pe.call(se,it)&&!Ne.hasOwnProperty(it)&&(Ke[it]=se[it]);if(z&&z.defaultProps){var Dt=z.defaultProps;for(it in Dt)Ke[it]===void 0&&(Ke[it]=Dt[it])}if(Ge||en){var _t=typeof z=="function"?z.displayName||z.name||"Unknown":z;Ge&&Cn(Ke,_t),en&&yt(Ke,_t)}return Ut(z,Ge,en,Qe,Ae,Q.current,Ke)}}var ko=b.ReactCurrentOwner,Kr=b.ReactDebugCurrentFrame;function Is(z){if(z){var se=z._owner,ye=re(z.type,z._source,se?se.type:null);Kr.setExtraStackFrame(ye)}else Kr.setExtraStackFrame(null)}var Mo;Mo=!1;function Co(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Yr(){{if(ko.current){var z=A(ko.current.type);if(z)return`

Check the render method of \``+z+"`."}return""}}function Hl(z){{if(z!==void 0){var se=z.fileName.replace(/^.*[\\\/]/,""),ye=z.lineNumber;return`

Check your code at `+se+":"+ye+"."}return""}}var Xr={};function Ul(z){{var se=Yr();if(!se){var ye=typeof z=="string"?z:z.displayName||z.name;ye&&(se=`

Check the top-level render call using <`+ye+">.")}return se}}function Jr(z,se){{if(!z._store||z._store.validated||z.key!=null)return;z._store.validated=!0;var ye=Ul(se);if(Xr[ye])return;Xr[ye]=!0;var Ae="";z&&z._owner&&z._owner!==ko.current&&(Ae=" It was passed a child from "+A(z._owner.type)+"."),Is(z),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ye,Ae),Is(null)}}function Qr(z,se){{if(typeof z!="object")return;if(ls(z))for(var ye=0;ye<z.length;ye++){var Ae=z[ye];Co(Ae)&&Jr(Ae,se)}else if(Co(z))z._store&&(z._store.validated=!0);else if(z){var Qe=v(z);if(typeof Qe=="function"&&Qe!==z.entries)for(var it=Qe.call(z),Ke;!(Ke=it.next()).done;)Co(Ke.value)&&Jr(Ke.value,se)}}}function zl(z){{var se=z.type;if(se==null||typeof se=="string")return;var ye;if(typeof se=="function")ye=se.propTypes;else if(typeof se=="object"&&(se.$$typeof===c||se.$$typeof===m))ye=se.propTypes;else return;if(ye){var Ae=A(se);Mn(ye,z.props,"prop",Ae,z)}else if(se.PropTypes!==void 0&&!Mo){Mo=!0;var Qe=A(se);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Qe||"Unknown")}typeof se.getDefaultProps=="function"&&!se.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function $l(z){{for(var se=Object.keys(z.props),ye=0;ye<se.length;ye++){var Ae=se[ye];if(Ae!=="children"&&Ae!=="key"){Is(z),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ae),Is(null);break}}z.ref!==null&&(Is(z),w("Invalid attribute `ref` supplied to `React.Fragment`."),Is(null))}}var Zr={};function Wl(z,se,ye,Ae,Qe,it){{var Ke=k(z);if(!Ke){var Ge="";(z===void 0||typeof z=="object"&&z!==null&&Object.keys(z).length===0)&&(Ge+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var en=Hl(Qe);en?Ge+=en:Ge+=Yr();var Dt;z===null?Dt="null":ls(z)?Dt="array":z!==void 0&&z.$$typeof===t?(Dt="<"+(A(z.type)||"Unknown")+" />",Ge=" Did you accidentally export a JSX literal instead of a component?"):Dt=typeof z,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Dt,Ge)}var _t=dn(z,se,ye,Qe,it);if(_t==null)return _t;if(Ke){var Pn=se.children;if(Pn!==void 0)if(Ae)if(ls(Pn)){for(var Po=0;Po<Pn.length;Po++)Qr(Pn[Po],z);Object.freeze&&Object.freeze(Pn)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qr(Pn,z)}if(pe.call(se,"key")){var Ai=A(z),mn=Object.keys(se).filter(function(t2){return t2!=="key"}),Ld=mn.length>0?"{key: someKey, "+mn.join(": ..., ")+": ...}":"{key: someKey}";if(!Zr[Ai+Ld]){var e2=mn.length>0?"{"+mn.join(": ..., ")+": ...}":"{}";w(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ld,Ai,e2,Ai),Zr[Ai+Ld]=!0}}return z===s?$l(_t):zl(_t),_t}}var Gl=Wl;hf.Fragment=s,hf.jsxDEV=Gl})();Fy.exports=hf;var l=Fy.exports,pf={},Fd=xo;{var Yl=Fd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;pf.createRoot=function(e,t){Yl.usingClientEntryPoint=!0;try{return Fd.createRoot(e,t)}finally{Yl.usingClientEntryPoint=!1}},pf.hydrateRoot=function(e,t,n){Yl.usingClientEntryPoint=!0;try{return Fd.hydrateRoot(e,t,n)}finally{Yl.usingClientEntryPoint=!1}}}const By=x.createContext(void 0),X2=({children:e})=>{const[t,n]=x.useState(!1),s=()=>n(i=>!i);return l.jsxDEV(By.Provider,{value:{sidebarCollapsed:t,toggleSidebar:s},children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/context/LayoutContext.tsx",lineNumber:14,columnNumber:5},void 0)},Hy=()=>{const e=x.useContext(By);if(!e)throw new Error("useLayout must be used within LayoutProvider");return e},tp=x.createContext({});function np(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const sp=typeof window<"u",Uy=sp?x.useLayoutEffect:x.useEffect,Lu=x.createContext(null);function ip(e,t){e.indexOf(t)===-1&&e.push(t)}function op(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const qs=(e,t,n)=>n>t?t:n<e?e:n;let Sr=()=>{},Ks=()=>{};Sr=(e,t)=>{!e&&typeof console<"u"&&console.warn(t)},Ks=(e,t)=>{if(!e)throw new Error(t)};const Ys={},zy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $y(e){return typeof e=="object"&&e!==null}const Wy=e=>/^0[^.\s]+$/u.test(e);function rp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fn=e=>e,J2=(e,t)=>n=>t(e(n)),yl=(...e)=>e.reduce(J2),Qa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ap{constructor(){this.subscriptions=[]}add(t){return ip(this.subscriptions,t),()=>op(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const es=e=>e*1e3,xs=e=>e/1e3;function Gy(e,t){return t?e*(1e3/t):0}const h0=new Set;function lp(e,t,n){e||h0.has(t)||(console.warn(t),h0.add(t))}const qy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Q2=1e-7,Z2=12;function eC(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=qy(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>Q2&&++a<Z2);return r}function wl(e,t,n,s){if(e===t&&n===s)return Fn;const i=o=>eC(o,0,1,e,n);return o=>o===0||o===1?o:qy(i(o),t,s)}const Ky=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Yy=e=>t=>1-e(1-t),Xy=wl(.33,1.53,.69,.99),cp=Yy(Xy),Jy=Ky(cp),Qy=e=>(e*=2)<1?.5*cp(e):.5*(2-Math.pow(2,-10*(e-1))),up=e=>1-Math.sin(Math.acos(e)),Zy=Yy(up),e1=Ky(up),tC=wl(.42,0,1,1),nC=wl(0,0,.58,1),t1=wl(.42,0,.58,1),sC=e=>Array.isArray(e)&&typeof e[0]!="number",n1=e=>Array.isArray(e)&&typeof e[0]=="number",p0={linear:Fn,easeIn:tC,easeInOut:t1,easeOut:nC,circIn:up,circInOut:e1,circOut:Zy,backIn:cp,backInOut:Jy,backOut:Xy,anticipate:Qy},iC=e=>typeof e=="string",g0=e=>{if(n1(e)){Ks(e.length===4,"Cubic bezier arrays must contain four numerical values.");const[t,n,s,i]=e;return wl(t,n,s,i)}else if(iC(e))return Ks(p0[e]!==void 0,`Invalid easing type '${e}'`),p0[e];return e},Xl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],b0={value:null};function oC(e,t){let n=new Set,s=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(m){r.has(m)&&(d.schedule(m),e()),c++,m(a)}const d={schedule:(m,f=!1,h=!1)=>{const g=h&&i?n:s;return f&&r.add(m),g.has(m)||g.add(m),m},cancel:m=>{s.delete(m),r.delete(m)},process:m=>{if(a=m,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(u),t&&b0.value&&b0.value.frameloop[t].push(c),c=0,n.clear(),i=!1,o&&(o=!1,d.process(m))}};return d}const rC=40;function s1(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=Xl.reduce((N,E)=>(N[E]=oC(o,t?E:void 0),N),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:m,preRender:f,render:h,postRender:p}=r,g=()=>{const N=Ys.useManualTiming?i.timestamp:performance.now();n=!1,Ys.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(N-i.timestamp,rC),1)),i.timestamp=N,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),m.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(g))},v=()=>{n=!0,s=!0,i.isProcessing||e(g)};return{schedule:Xl.reduce((N,E)=>{const D=r[E];return N[E]=(T,M=!1,_=!1)=>(n||v(),D.schedule(T,M,_)),N},{}),cancel:N=>{for(let E=0;E<Xl.length;E++)r[Xl[E]].cancel(N)},state:i,steps:r}}const{schedule:xt,cancel:Ni,state:$t,steps:Bd}=s1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let Vc;function aC(){Vc=void 0}const Nn={now:()=>(Vc===void 0&&Nn.set($t.isProcessing||Ys.useManualTiming?$t.timestamp:performance.now()),Vc),set:e=>{Vc=e,queueMicrotask(aC)}},i1=e=>t=>typeof t=="string"&&t.startsWith(e),dp=i1("--"),lC=i1("var(--"),mp=e=>lC(e)?cC.test(e.split("/*")[0].trim()):!1,cC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_r={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Za={..._r,transform:e=>qs(0,1,e)},Jl={..._r,default:1},_a=e=>Math.round(e*1e5)/1e5,fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uC(e){return e==null}const dC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hp=(e,t)=>n=>!!(typeof n=="string"&&dC.test(n)&&n.startsWith(e)||t&&!uC(n)&&Object.prototype.hasOwnProperty.call(n,t)),o1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(fp);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},mC=e=>qs(0,255,e),Hd={..._r,transform:e=>Math.round(mC(e))},Yi={test:hp("rgb","red"),parse:o1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Hd.transform(e)+", "+Hd.transform(t)+", "+Hd.transform(n)+", "+_a(Za.transform(s))+")"};function fC(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const gf={test:hp("#"),parse:fC,transform:Yi.transform},Dl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),oi=Dl("deg"),Ns=Dl("%"),Ce=Dl("px"),hC=Dl("vh"),pC=Dl("vw"),v0={...Ns,parse:e=>Ns.parse(e)/100,transform:e=>Ns.transform(e*100)},Yo={test:hp("hsl","hue"),parse:o1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ns.transform(_a(t))+", "+Ns.transform(_a(n))+", "+_a(Za.transform(s))+")"},qt={test:e=>Yi.test(e)||gf.test(e)||Yo.test(e),parse:e=>Yi.test(e)?Yi.parse(e):Yo.test(e)?Yo.parse(e):gf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yi.transform(e):Yo.transform(e)},gC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fp))==null?void 0:t.length)||0)+(((n=e.match(gC))==null?void 0:n.length)||0)>0}const r1="number",a1="color",vC="var",xC="var(",x0="${}",NC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function el(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(NC,c=>(qt.test(c)?(s.color.push(o),i.push(a1),n.push(qt.parse(c))):c.startsWith(xC)?(s.var.push(o),i.push(vC),n.push(c)):(s.number.push(o),i.push(r1),n.push(parseFloat(c))),++o,x0)).split(x0);return{values:n,split:a,indexes:s,types:i}}function l1(e){return el(e).values}function c1(e){const{split:t,types:n}=el(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===r1?o+=_a(i[r]):a===a1?o+=qt.transform(i[r]):o+=i[r]}return o}}const yC=e=>typeof e=="number"?0:e;function wC(e){const t=l1(e);return c1(e)(t.map(yC))}const yi={test:bC,parse:l1,createTransformer:c1,getAnimatableNone:wC};function Ud(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function DC({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=Ud(c,a,e+1/3),o=Ud(c,a,e),r=Ud(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function su(e,t){return n=>n>0?t:e}const vt=(e,t,n)=>e+(t-e)*n,zd=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},EC=[gf,Yi,Yo],TC=e=>EC.find(t=>t.test(e));function N0(e){const t=TC(e);if(Sr(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let n=t.parse(e);return t===Yo&&(n=DC(n)),n}const y0=(e,t)=>{const n=N0(e),s=N0(t);if(!n||!s)return su(e,t);const i={...n};return o=>(i.red=zd(n.red,s.red,o),i.green=zd(n.green,s.green,o),i.blue=zd(n.blue,s.blue,o),i.alpha=vt(n.alpha,s.alpha,o),Yi.transform(i))},bf=new Set(["none","hidden"]);function SC(e,t){return bf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _C(e,t){return n=>vt(e,t,n)}function pp(e){return typeof e=="number"?_C:typeof e=="string"?mp(e)?su:qt.test(e)?y0:CC:Array.isArray(e)?u1:typeof e=="object"?qt.test(e)?y0:kC:su}function u1(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>pp(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function kC(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=pp(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function MC(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][s[o]],a=e.values[r]??0;n[i]=a,s[o]++}return n}const CC=(e,t)=>{const n=yi.createTransformer(t),s=el(e),i=el(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?bf.has(e)&&!i.values.length||bf.has(t)&&!s.values.length?SC(e,t):yl(u1(MC(s,i),i.values),n):(Sr(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),su(e,t))};function d1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?vt(e,t,n):pp(e)(e,t)}const PC=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>xt.update(t,n),stop:()=>Ni(t),now:()=>$t.isProcessing?$t.timestamp:Nn.now()}},m1=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=e(o/(i-1))+", ";return`linear(${s.substring(0,s.length-2)})`},iu=2e4;function gp(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<iu;)t+=n,s=e.next(t);return t>=iu?1/0:t}function AC(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(gp(s),iu);return{type:"keyframes",ease:o=>s.next(i*o).value/t,duration:xs(i)}}const IC=5;function f1(e,t,n){const s=Math.max(t-IC,0);return Gy(n-e(s),t-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w0=.001;function RC({duration:e=bt.duration,bounce:t=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let i,o;Sr(e<=es(bt.maxDuration),"Spring duration must be 10 seconds or less");let r=1-t;r=qs(bt.minDamping,bt.maxDamping,r),e=qs(bt.minDuration,bt.maxDuration,xs(e)),r<1?(i=u=>{const d=u*r,m=d*e,f=d-n,h=vf(u,r),p=Math.exp(-m);return w0-f/h*p},o=u=>{const m=u*r*e,f=m*n+n,h=Math.pow(r,2)*Math.pow(u,2)*e,p=Math.exp(-m),g=vf(Math.pow(u,2),r);return(-i(u)+w0>0?-1:1)*((f-h)*p)/g}):(i=u=>{const d=Math.exp(-u*e),m=(u-n)*e+1;return-.001+d*m},o=u=>{const d=Math.exp(-u*e),m=(n-u)*(e*e);return d*m});const a=5/e,c=OC(i,o,a);if(e=es(e),isNaN(c))return{stiffness:bt.stiffness,damping:bt.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:e}}}const jC=12;function OC(e,t,n){let s=n;for(let i=1;i<jC;i++)s=s-e(s)/t(s);return s}function vf(e,t){return e*Math.sqrt(1-t*t)}const VC=["duration","bounce"],LC=["stiffness","damping","mass"];function D0(e,t){return t.some(n=>e[n]!==void 0)}function FC(e){let t={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...e};if(!D0(e,LC)&&D0(e,VC))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*qs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:bt.mass,stiffness:i,damping:o}}else{const n=RC(e);t={...t,...n,mass:bt.mass},t.isResolvedFromDuration=!0}return t}function ou(e=bt.visualDuration,t=bt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:m,velocity:f,isResolvedFromDuration:h}=FC({...n,velocity:-xs(n.velocity||0)}),p=f||0,g=u/(2*Math.sqrt(c*d)),v=r-o,b=xs(Math.sqrt(c/d)),w=Math.abs(v)<5;s||(s=w?bt.restSpeed.granular:bt.restSpeed.default),i||(i=w?bt.restDelta.granular:bt.restDelta.default);let N;if(g<1){const D=vf(b,g);N=T=>{const M=Math.exp(-g*b*T);return r-M*((p+g*b*v)/D*Math.sin(D*T)+v*Math.cos(D*T))}}else if(g===1)N=D=>r-Math.exp(-b*D)*(v+(p+b*v)*D);else{const D=b*Math.sqrt(g*g-1);N=T=>{const M=Math.exp(-g*b*T),_=Math.min(D*T,300);return r-M*((p+g*b*v)*Math.sinh(_)+D*v*Math.cosh(_))/D}}const E={calculatedDuration:h&&m||null,next:D=>{const T=N(D);if(h)a.done=D>=m;else{let M=D===0?p:0;g<1&&(M=D===0?es(p):f1(N,D,T));const _=Math.abs(M)<=s,P=Math.abs(r-T)<=i;a.done=_&&P}return a.value=a.done?r:T,a},toString:()=>{const D=Math.min(gp(E),iu),T=m1(M=>E.next(D*M).value,D,30);return D+"ms "+T},toTransition:()=>{}};return E}ou.applyToOptions=e=>{const t=AC(e,100,ou);return e.ease=t.ease,e.duration=es(t.duration),e.type="keyframes",e};function xf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:u=.5,restSpeed:d}){const m=e[0],f={done:!1,value:m},h=_=>a!==void 0&&_<a||c!==void 0&&_>c,p=_=>a===void 0?c:c===void 0||Math.abs(a-_)<Math.abs(c-_)?a:c;let g=n*t;const v=m+g,b=r===void 0?v:r(v);b!==v&&(g=b-m);const w=_=>-g*Math.exp(-_/s),N=_=>b+w(_),E=_=>{const P=w(_),k=N(_);f.done=Math.abs(P)<=u,f.value=f.done?b:k};let D,T;const M=_=>{h(f.value)&&(D=_,T=ou({keyframes:[f.value,p(f.value)],velocity:f1(N,_,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:_=>{let P=!1;return!T&&D===void 0&&(P=!0,E(_),M(_)),D!==void 0&&_>=D?T.next(_-D):(!P&&E(_),f)}}}function BC(e,t,n){const s=[],i=n||Ys.mix||d1,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||Fn:t;a=yl(c,a)}s.push(a)}return s}function HC(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(Ks(o===t.length,"Both input and output ranges must be the same length"),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=BC(t,s,i),c=a.length,u=d=>{if(r&&d<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const f=Qa(e[m],e[m+1],d);return a[m](f)};return n?d=>u(qs(e[0],e[o-1],d)):u}function UC(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Qa(0,t,s);e.push(vt(n,1,i))}}function zC(e){const t=[0];return UC(t,e.length-1),t}function $C(e,t){return e.map(n=>n*t)}function WC(e,t){return e.map(()=>t||t1).splice(0,e.length-1)}function Xo({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=sC(s)?s.map(g0):g0(s),o={done:!1,value:t[0]},r=$C(n&&n.length===t.length?n:zC(t),e),a=HC(r,t,{ease:Array.isArray(i)?i:WC(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const GC=e=>e!==null;function bp(e,{repeat:t,repeatType:n="loop"},s,i=1){const o=e.filter(GC),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||s===void 0?o[a]:s}const qC={decay:xf,inertia:xf,tween:Xo,keyframes:Xo,spring:ou};function h1(e){typeof e.type=="string"&&(e.type=qC[e.type])}class vp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const KC=e=>e/100;class xp extends vp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,i;if(n){const{motionValue:o}=this.options;o&&o.updatedAt!==Nn.now()&&this.tick(Nn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;h1(t);const{type:n=Xo,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:a}=t;const c=n||Xo;c!==Xo&&Ks(a.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${a}`),c!==Xo&&typeof a[0]!="number"&&(this.mixKeyframes=yl(KC,d1(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=gp(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:m,repeatType:f,repeatDelay:h,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,E=s;if(m){const _=Math.min(this.currentTime,i)/a;let P=Math.floor(_),k=_%1;!k&&_>=1&&(k=1),k===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(f==="reverse"?(k=1-k,h&&(k-=h/a)):f==="mirror"&&(E=r)),N=qs(0,1,k)*a}const D=w?{done:!1,value:d[0]}:E.next(N);o&&(D.value=o(D.value));let{done:T}=D;!w&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return M&&p!==xf&&(D.value=bp(d,this.options,v,this.speed)),g&&g(D.value),M&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return xs(this.calculatedDuration)}get time(){return xs(this.currentTime)}set time(t){var n;t=es(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xs(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=PC,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(o=(i=this.options).onPlay)==null||o.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function YC(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xi=e=>e*180/Math.PI,Nf=e=>{const t=Xi(Math.atan2(e[1],e[0]));return yf(t)},XC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Nf,rotateZ:Nf,skewX:e=>Xi(Math.atan(e[1])),skewY:e=>Xi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yf=e=>(e=e%360,e<0&&(e+=360),e),E0=Nf,T0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),S0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:T0,scaleY:S0,scale:e=>(T0(e)+S0(e))/2,rotateX:e=>yf(Xi(Math.atan2(e[6],e[5]))),rotateY:e=>yf(Xi(Math.atan2(-e[2],e[0]))),rotateZ:E0,rotate:E0,skewX:e=>Xi(Math.atan(e[4])),skewY:e=>Xi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wf(e){return e.includes("scale")?1:0}function Df(e,t){if(!e||e==="none")return wf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=JC,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=XC,i=a}if(!i)return wf(t);const o=s[t],r=i[1].split(",").map(ZC);return typeof o=="function"?o(r):r[o]}const QC=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Df(n,t)};function ZC(e){return parseFloat(e.trim())}const kr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mr=new Set(kr),_0=e=>e===_r||e===Ce,eP=new Set(["x","y","z"]),tP=kr.filter(e=>!eP.has(e));function nP(e){const t=[];return tP.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const so={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Df(t,"x"),y:(e,{transform:t})=>Df(t,"y")};so.translateX=so.x;so.translateY=so.y;const io=new Set;let Ef=!1,Tf=!1,Sf=!1;function p1(){if(Tf){const e=Array.from(io).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=nP(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var a;(a=s.getValue(o))==null||a.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Tf=!1,Ef=!1,io.forEach(e=>e.complete(Sf)),io.clear()}function g1(){io.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Tf=!0)})}function sP(){Sf=!0,g1(),p1(),Sf=!1}class Np{constructor(t,n,s,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(io.add(this),Ef||(Ef=!0,xt.read(g1),xt.resolveKeyframes(p1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const a=s.readValue(n,r);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}YC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),io.delete(this)}cancel(){this.state==="scheduled"&&(io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iP=e=>e.startsWith("--");function oP(e,t,n){iP(t)?e.style.setProperty(t,n):e.style[t]=n}const rP=rp(()=>window.ScrollTimeline!==void 0),aP={};function lP(e,t){const n=rp(e);return()=>aP[t]??n()}const b1=lP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pa=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,k0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pa([0,.65,.55,1]),circOut:pa([.55,0,1,.45]),backIn:pa([.31,.01,.66,-.59]),backOut:pa([.33,1.53,.69,.99])};function v1(e,t){if(e)return typeof e=="function"?b1()?m1(e,t):"ease-out":n1(e)?pa(e):Array.isArray(e)?e.map(n=>v1(n,t)||k0.easeOut):k0[e]}function cP(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const m=v1(a,i);Array.isArray(m)&&(d.easing=m);const f={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function x1(e){return typeof e=="function"&&"applyToOptions"in e}function uP({type:e,...t}){return x1(e)&&b1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dP extends vp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,Ks(typeof t.type!="string",`animateMini doesn't support "type" as a string. Did you mean to import { spring } from "motion"?`);const u=uP(t);this.animation=cP(n,s,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=bp(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):oP(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return xs(Number(t))}get time(){return xs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=es(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rP()?(this.animation.timeline=t,Fn):n(this)}}const N1={anticipate:Qy,backInOut:Jy,circInOut:e1};function mP(e){return e in N1}function fP(e){typeof e.ease=="string"&&mP(e.ease)&&(e.ease=N1[e.ease])}const M0=10;class hP extends dP{constructor(t){fP(t),h1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new xp({...r,autoplay:!1}),c=es(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-M0).value,a.sample(c).value,M0),a.stop()}}const C0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yi.test(e)||e==="0")&&!e.startsWith("url("));function pP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gP(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=C0(i,t),a=C0(o,t);return Sr(r===a,`You are trying to animate ${t} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!r||!a?!1:pP(e)||(n==="spring"||x1(n))&&s}function yp(e){return $y(e)&&"offsetHeight"in e}const bP=new Set(["opacity","clipPath","filter","transform"]),vP=rp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xP(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:o,type:r}=e;if(!yp((u=t==null?void 0:t.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:c}=t.owner.getProps();return vP()&&n&&bP.has(n)&&(n!=="transform"||!c)&&!a&&!s&&i!=="mirror"&&o!==0&&r!=="inertia"}const NP=40;class yP extends vp{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:c,motionValue:u,element:d,...m}){var p;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Nn.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,name:c,motionValue:u,element:d,...m},h=(d==null?void 0:d.KeyframeResolver)||Np;this.keyframeResolver=new h(a,(g,v,b)=>this.onKeyframesResolved(g,v,f,!b),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Nn.now(),gP(t,o,r,a)||((Ys.instantAnimations||!c)&&(d==null||d(bp(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>NP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},h=!u&&xP(f)?new hP({...f,element:f.motionValue.owner.current}):new xp(f);h.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),sP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const wP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DP(e){const t=wP.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}const EP=4;function y1(e,t,n=1){Ks(n<=EP,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[s,i]=DP(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return zy(r)?parseFloat(r):r}return mp(i)?y1(i,t,n+1):i}function wp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const w1=new Set(["width","height","top","left","right","bottom",...kr]),TP={test:e=>e==="auto",parse:e=>e},D1=e=>t=>t.test(e),E1=[_r,Ce,Ns,oi,pC,hC,TP],P0=e=>E1.find(D1(e));function SP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Wy(e):!0}const _P=new Set(["brightness","contrast","saturate","opacity"]);function kP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(fp)||[];if(!s)return e;const i=n.replace(s,"");let o=_P.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const MP=/\b([a-z-]*)\(.*?\)/gu,_f={...yi,getAnimatableNone:e=>{const t=e.match(MP);return t?t.map(kP).join(" "):e}},A0={..._r,transform:Math.round},CP={rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:Jl,scaleX:Jl,scaleY:Jl,scaleZ:Jl,skew:oi,skewX:oi,skewY:oi,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Za,originX:v0,originY:v0,originZ:Ce},Dp={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...CP,zIndex:A0,fillOpacity:Za,strokeOpacity:Za,numOctaves:A0},PP={...Dp,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:_f,WebkitFilter:_f},T1=e=>PP[e];function S1(e,t){let n=T1(e);return n!==_f&&(n=yi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const AP=new Set(["auto","none","0"]);function IP(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!AP.has(o)&&el(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=S1(n,i)}class RP extends Np{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),mp(u))){const d=y1(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!w1.has(s)||t.length!==2)return;const[i,o]=t,r=P0(i),a=P0(o);if(r!==a)if(_0(r)&&_0(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else so[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||SP(t[i]))&&s.push(i);s.length&&IP(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=so[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=so[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function jP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const I0=30,OP=e=>!isNaN(parseFloat(e));class VP{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var r,a;const o=Nn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return lp(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ap);const s=this.events[t].add(n);return t==="change"?()=>{s(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>I0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,I0);return Gy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ur(e,t){return new VP(e,t)}const _1=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Ep}=s1(queueMicrotask,!1),Kn={x:!1,y:!1};function k1(){return Kn.x||Kn.y}function LP(e){return e==="x"||e==="y"?Kn[e]?null:(Kn[e]=!0,()=>{Kn[e]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}function M1(e,t){const n=jP(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function R0(e){return!(e.pointerType==="touch"||k1())}function FP(e,t,n={}){const[s,i,o]=M1(e,n),r=a=>{if(!R0(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const d=m=>{R0(m)&&(u(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return s.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const C1=(e,t)=>t?e===t?!0:C1(e,t.parentElement):!1,Tp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,BP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HP(e){return BP.has(e.tagName)||e.tabIndex!==-1}const Lc=new WeakSet;function j0(e){return t=>{t.key==="Enter"&&e(t)}}function $d(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UP=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=j0(()=>{if(Lc.has(n))return;$d(n,"down");const i=j0(()=>{$d(n,"up")}),o=()=>$d(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function O0(e){return Tp(e)&&!k1()}function zP(e,t,n={}){const[s,i,o]=M1(e,n),r=a=>{const c=a.currentTarget;if(!O0(a))return;Lc.add(c);const u=t(c,a),d=(h,p)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),Lc.has(c)&&Lc.delete(c),O0(h)&&typeof u=="function"&&u(h,{success:p})},m=h=>{d(h,c===window||c===document||n.useGlobalTarget||C1(c,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),yp(a)&&(a.addEventListener("focus",u=>UP(u,i)),!HP(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function P1(e){return $y(e)&&"ownerSVGElement"in e}function $P(e){return P1(e)&&e.tagName==="svg"}const Kt=e=>!!(e&&e.getVelocity),WP=[...E1,qt,yi],GP=e=>WP.find(D1(e)),Sp=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qP extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=yp(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KP({children:e,isPresent:t,anchorX:n}){const s=x.useId(),i=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:r}=x.useContext(Sp);return x.useInsertionEffect(()=>{const{width:a,height:c,top:u,left:d,right:m}=o.current;if(t||!i.current||!a||!c)return;const f=n==="left"?`left: ${d}`:`right: ${m}`;i.current.dataset.motionPopId=s;const h=document.createElement("style");return r&&(h.nonce=r),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[t]),G.jsx(qP,{isPresent:t,childRef:i,sizeRef:o,children:x.cloneElement(e,{ref:i})})}const YP=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r,anchorX:a})=>{const c=np(XP),u=x.useId();let d=!0,m=x.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const h of c.values())if(!h)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return o&&d&&(m={...m}),x.useMemo(()=>{c.forEach((f,h)=>c.set(h,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),r==="popLayout"&&(e=G.jsx(KP,{isPresent:n,anchorX:a,children:e})),G.jsx(Lu.Provider,{value:m,children:e})};function XP(){return new Map}function A1(e=!0){const t=x.useContext(Lu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=x.useId();x.useEffect(()=>{if(e)return i(o)},[e]);const r=x.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const Ql=e=>e.key||"";function V0(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Ts=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:a="left"})=>{const[c,u]=A1(r),d=x.useMemo(()=>V0(e),[e]),m=r&&!c?[]:d.map(Ql),f=x.useRef(!0),h=x.useRef(d),p=np(()=>new Map),[g,v]=x.useState(d),[b,w]=x.useState(d);Uy(()=>{f.current=!1,h.current=d;for(let D=0;D<b.length;D++){const T=Ql(b[D]);m.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[b,m.length,m.join("-")]);const N=[];if(d!==g){let D=[...d];for(let T=0;T<b.length;T++){const M=b[T],_=Ql(M);m.includes(_)||(D.splice(T,0,M),N.push(M))}return o==="wait"&&N.length&&(D=N),w(V0(D)),v(d),null}o==="wait"&&b.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`);const{forceRender:E}=x.useContext(tp);return G.jsx(G.Fragment,{children:b.map(D=>{const T=Ql(D),M=r&&!c?!1:d===b||m.includes(T),_=()=>{if(p.has(T))p.set(T,!0);else return;let P=!0;p.forEach(k=>{k||(P=!1)}),P&&(E==null||E(),w(h.current),r&&(u==null||u()),s&&s())};return G.jsx(YP,{isPresent:M,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,onExitComplete:M?void 0:_,anchorX:a,children:D},T)})})},I1=x.createContext({strict:!1}),L0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dr={};for(const e in L0)dr[e]={isEnabled:t=>L0[e].some(n=>!!t[n])};function JP(e){for(const t in e)dr[t]={...dr[t],...e[t]}}const QP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||QP.has(e)}let R1=e=>!ru(e);function ZP(e){e&&(R1=t=>t.startsWith("on")?!ru(t):e(t))}try{ZP(require("@emotion/is-prop-valid").default)}catch{}function eA(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(R1(i)||n===!0&&ru(i)||!t&&!ru(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function tA(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>(lp(!1,"motion() is deprecated. Use motion.create() instead."),e(...s));return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Fu=x.createContext({});function Bu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tl(e){return typeof e=="string"||Array.isArray(e)}const _p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kp=["initial",..._p];function Hu(e){return Bu(e.animate)||kp.some(t=>tl(e[t]))}function j1(e){return!!(Hu(e)||e.variants)}function nA(e,t){if(Hu(e)){const{initial:n,animate:s}=e;return{initial:n===!1||tl(n)?n:void 0,animate:tl(s)?s:void 0}}return e.inherit!==!1?t:{}}function sA(e){const{initial:t,animate:n}=nA(e,x.useContext(Fu));return x.useMemo(()=>({initial:t,animate:n}),[F0(t),F0(n)])}function F0(e){return Array.isArray(e)?e.join(" "):e}const iA=Symbol.for("motionComponentSymbol");function Jo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function oA(e,t,n){return x.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Jo(n)&&(n.current=s))},[t])}const Mp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rA="framerAppearId",O1="data-"+Mp(rA),V1=x.createContext({});function aA(e,t,n,s,i){var g,v;const{visualElement:o}=x.useContext(Fu),r=x.useContext(I1),a=x.useContext(Lu),c=x.useContext(Sp).reducedMotion,u=x.useRef(null);s=s||r.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,m=x.useContext(V1);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&lA(u.current,n,i,m);const f=x.useRef(!1);x.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const h=n[O1],p=x.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,h)));return Uy(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Ep.render(d.render),p.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,h)}),p.current=!1))}),d}function lA(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:L1(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&Jo(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function L1(e){if(e)return e.options.allowProjection!==!1?e.projection:L1(e.parent)}function cA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&JP(e);function o(a,c){let u;const d={...x.useContext(Sp),...a,layoutId:uA(a)},{isStatic:m}=d,f=sA(a),h=s(a,m);if(!m&&sp){dA(d,e);const p=mA(d);u=p.MeasureLayout,f.visualElement=aA(i,h,d,t,p.ProjectionNode)}return G.jsxs(Fu.Provider,{value:f,children:[u&&f.visualElement?G.jsx(u,{visualElement:f.visualElement,...d}):null,n(i,a,oA(h,f.visualElement,c),h,m,f.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const r=x.forwardRef(o);return r[iA]=i,r}function uA({layoutId:e}){const t=x.useContext(tp).id;return t&&e!==void 0?t+"-"+e:e}function dA(e,t){const n=x.useContext(I1).strict;if(t&&n){const s="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";e.ignoreStrict?Sr(!1,s):Ks(!1,s)}}function mA(e){const{drag:t,layout:n}=dr;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const nl={};function fA(e){for(const t in e)nl[t]=e[t],dp(t)&&(nl[t].isCSSVariable=!0)}function F1(e,{layout:t,layoutId:n}){return Mr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!nl[e]||e==="opacity")}const hA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pA=kr.length;function gA(e,t,n){let s="",i=!0;for(let o=0;o<pA;o++){const r=kr[o],a=e[r];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(r.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=_1(a,Dp[r]);if(!c){i=!1;const d=hA[r]||r;s+=`${d}(${u}) `}n&&(t[r]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Cp(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const c in t){const u=t[c];if(Mr.has(c)){r=!0;continue}else if(dp(c)){i[c]=u;continue}else{const d=_1(u,Dp[c]);c.startsWith("origin")?(a=!0,o[c]=d):s[c]=d}}if(t.transform||(r||n?s.transform=gA(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;s.transformOrigin=`${c} ${u} ${d}`}}const Pp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B1(e,t,n){for(const s in t)!Kt(t[s])&&!F1(s,n)&&(e[s]=t[s])}function bA({transformTemplate:e},t){return x.useMemo(()=>{const n=Pp();return Cp(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vA(e,t){const n=e.style||{},s={};return B1(s,n,e),Object.assign(s,bA(e,t)),s}function xA(e,t){const n={},s=vA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const NA={offset:"stroke-dashoffset",array:"stroke-dasharray"},yA={offset:"strokeDashoffset",array:"strokeDasharray"};function wA(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?NA:yA;e[o.offset]=Ce.transform(-s);const r=Ce.transform(t),a=Ce.transform(n);e[o.array]=`${r} ${a}`}function H1(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},c,u,d){if(Cp(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&wA(m,i,o,r,!1)}const U1=()=>({...Pp(),attrs:{}}),z1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DA(e,t,n,s){const i=x.useMemo(()=>{const o=U1();return H1(o,t,z1(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};B1(o,e.style,e),i.style={...o,...i.style}}return i}const EA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ap(e){return typeof e!="string"||e.includes("-")?!1:!!(EA.indexOf(e)>-1||/[A-Z]/u.test(e))}function TA(e=!1){return(n,s,i,{latestValues:o},r)=>{const c=(Ap(n)?DA:xA)(s,o,r,n),u=eA(s,typeof n=="string",e),d=n!==x.Fragment?{...u,...c,ref:i}:{},{children:m}=s,f=x.useMemo(()=>Kt(m)?m.get():m,[m]);return x.createElement(n,{...d,children:f})}}function B0(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Ip(e,t,n,s){if(typeof t=="function"){const[i,o]=B0(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=B0(s);t=t(n!==void 0?n:e.custom,i,o)}return t}function Fc(e){return Kt(e)?e.get():e}function SA({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:_A(n,s,i,e),renderState:t()}}const $1=e=>(t,n)=>{const s=x.useContext(Fu),i=x.useContext(Lu),o=()=>SA(e,t,s,i);return n?o():np(o)};function _A(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=Fc(o[f]);let{initial:r,animate:a}=e;const c=Hu(e),u=j1(e);t&&u&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||r===!1;const m=d?a:r;if(m&&typeof m!="boolean"&&!Bu(m)){const f=Array.isArray(m)?m:[m];for(let h=0;h<f.length;h++){const p=Ip(e,f[h]);if(p){const{transitionEnd:g,transition:v,...b}=p;for(const w in b){let N=b[w];if(Array.isArray(N)){const E=d?N.length-1:0;N=N[E]}N!==null&&(i[w]=N)}for(const w in g)i[w]=g[w]}}}return i}function Rp(e,t,n){var o;const{style:s}=e,i={};for(const r in s)(Kt(s[r])||t.style&&Kt(t.style[r])||F1(r,e)||((o=n==null?void 0:n.getValue(r))==null?void 0:o.liveStyle)!==void 0)&&(i[r]=s[r]);return i}const kA={useVisualState:$1({scrapeMotionValuesFromProps:Rp,createRenderState:Pp})};function W1(e,t,n){const s=Rp(e,t,n);for(const i in e)if(Kt(e[i])||Kt(t[i])){const o=kr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}const MA={useVisualState:$1({scrapeMotionValuesFromProps:W1,createRenderState:U1})};function CA(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...Ap(s)?MA:kA,preloadedFeatures:e,useRender:TA(i),createVisualElement:t,Component:s};return cA(r)}}function sl(e,t,n){const s=e.getProps();return Ip(s,t,n!==void 0?n:s.custom,e)}const kf=e=>Array.isArray(e);function PA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ur(n))}function AA(e){return kf(e)?e[e.length-1]||0:e}function IA(e,t){const n=sl(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=AA(o[r]);PA(e,r,a)}}function RA(e){return!!(Kt(e)&&e.add)}function Mf(e,t){const n=e.getValue("willChange");if(RA(n))return n.add(t);if(!n&&Ys.WillChange){const s=new Ys.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function G1(e){return e.props[O1]}const jA=e=>e!==null;function OA(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(jA),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const VA={type:"spring",stiffness:500,damping:25,restSpeed:10},LA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FA={type:"keyframes",duration:.8},BA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HA=(e,{keyframes:t})=>t.length>2?FA:Mr.has(e)?e.startsWith("scale")?LA(t[1]):VA:BA;function UA({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jp=(e,t,n,s={},i,o)=>r=>{const a=wp(s,e)||{},c=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-es(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};UA(a)||Object.assign(d,HA(e,d)),d.duration&&(d.duration=es(d.duration)),d.repeatDelay&&(d.repeatDelay=es(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(m=!0)),(Ys.instantAnimations||Ys.skipAnimations)&&(m=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,m&&!o&&t.get()!==void 0){const f=OA(d.keyframes,a);if(f!==void 0){xt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new xp(d):new yP(d)};function zA({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function q1(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:r,...a}=t;s&&(o=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const m=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||u&&zA(u,d))continue;const h={delay:n,...wp(o||{},d)},p=m.get();if(p!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===p&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=G1(e);if(b){const w=window.MotionHandoffAnimation(b,d,xt);w!==null&&(h.startTime=w,g=!0)}}Mf(e,d),m.start(jp(d,m,f,e.shouldReduceMotion&&w1.has(d)?{type:!1}:h,e,g));const v=m.animation;v&&c.push(v)}return r&&Promise.all(c).then(()=>{xt.update(()=>{r&&IA(e,r)})}),c}function Cf(e,t,n={}){var c;const s=sl(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(q1(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:f}=i;return $A(e,t,d+u,m,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[o,r]:[r,o];return u().then(()=>d())}else return Promise.all([o(),r(n.delay)])}function $A(e,t,n=0,s=0,i=1,o){const r=[],a=(e.variantChildren.size-1)*s,c=i===1?(u=0)=>u*s:(u=0)=>a-u*s;return Array.from(e.variantChildren).sort(WA).forEach((u,d)=>{u.notify("AnimationStart",t),r.push(Cf(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(r)}function WA(e,t){return e.sortNodePosition(t)}function GA(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>Cf(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=Cf(e,t,n);else{const i=typeof t=="function"?sl(e,t,n.custom):t;s=Promise.all(q1(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function K1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const qA=kp.length;function Y1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Y1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<qA;n++){const s=kp[n],i=e.props[s];(tl(i)||i===!1)&&(t[s]=i)}return t}const KA=[..._p].reverse(),YA=_p.length;function XA(e){return t=>Promise.all(t.map(({animation:n,options:s})=>GA(e,n,s)))}function JA(e){let t=XA(e),n=H0(),s=!0;const i=c=>(u,d)=>{var f;const m=sl(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:h,transitionEnd:p,...g}=m;u={...u,...g,...p}}return u};function o(c){t=c(e)}function r(c){const{props:u}=e,d=Y1(e.parent)||{},m=[],f=new Set;let h={},p=1/0;for(let v=0;v<YA;v++){const b=KA[v],w=n[b],N=u[b]!==void 0?u[b]:d[b],E=tl(N),D=b===c?w.isActive:null;D===!1&&(p=v);let T=N===d[b]&&N!==u[b]&&E;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...h},!w.isActive&&D===null||!N&&!w.prevProp||Bu(N)||typeof N=="boolean")continue;const M=QA(w.prevProp,N);let _=M||b===c&&w.isActive&&!T&&E||v>p&&E,P=!1;const k=Array.isArray(N)?N:[N];let L=k.reduce(i(b),{});D===!1&&(L={});const{prevResolvedValues:B={}}=w,A={...B,...L},V=q=>{_=!0,f.has(q)&&(P=!0,f.delete(q)),w.needsAnimating[q]=!0;const $=e.getValue(q);$&&($.liveStyle=!1)};for(const q in A){const $=L[q],Z=B[q];if(h.hasOwnProperty(q))continue;let I=!1;kf($)&&kf(Z)?I=!K1($,Z):I=$!==Z,I?$!=null?V(q):f.add(q):$!==void 0&&f.has(q)?V(q):w.protectedKeys[q]=!0}w.prevProp=N,w.prevResolvedValues=L,w.isActive&&(h={...h,...L}),s&&e.blockInitialAnimation&&(_=!1),_&&(!(T&&M)||P)&&m.push(...k.map(q=>({animation:q,options:{type:b}})))}if(f.size){const v={};if(typeof u.initial!="boolean"){const b=sl(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}f.forEach(b=>{const w=e.getBaseTarget(b),N=e.getValue(b);N&&(N.liveStyle=!0),v[b]=w??null}),m.push({animation:v})}let g=!!m.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(m):Promise.resolve()}function a(c,u){var m;if(n[c].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,u)}),n[c].isActive=u;const d=r(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=H0(),s=!0}}}function QA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!K1(t,e):!1}function Ii(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H0(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class _i{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZA extends _i{constructor(t){super(t),t.animationState||(t.animationState=JA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let e3=0;class t3 extends _i{constructor(){super(...arguments),this.id=e3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const n3={animation:{Feature:ZA},exit:{Feature:t3}};function il(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function El(e){return{point:{x:e.pageX,y:e.pageY}}}const s3=e=>t=>Tp(t)&&e(t,El(t));function ka(e,t,n,s){return il(e,t,s3(n),s)}function X1({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function i3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function o3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const J1=1e-4,r3=1-J1,a3=1+J1,Q1=.01,l3=0-Q1,c3=0+Q1;function rn(e){return e.max-e.min}function u3(e,t,n){return Math.abs(e-t)<=n}function U0(e,t,n,s=.5){e.origin=s,e.originPoint=vt(t.min,t.max,e.origin),e.scale=rn(n)/rn(t),e.translate=vt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=r3&&e.scale<=a3||isNaN(e.scale))&&(e.scale=1),(e.translate>=l3&&e.translate<=c3||isNaN(e.translate))&&(e.translate=0)}function Ma(e,t,n,s){U0(e.x,t.x,n.x,s?s.originX:void 0),U0(e.y,t.y,n.y,s?s.originY:void 0)}function z0(e,t,n){e.min=n.min+t.min,e.max=e.min+rn(t)}function d3(e,t,n){z0(e.x,t.x,n.x),z0(e.y,t.y,n.y)}function $0(e,t,n){e.min=t.min-n.min,e.max=e.min+rn(t)}function Ca(e,t,n){$0(e.x,t.x,n.x),$0(e.y,t.y,n.y)}const W0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qo=()=>({x:W0(),y:W0()}),G0=()=>({min:0,max:0}),Et=()=>({x:G0(),y:G0()});function Rn(e){return[e("x"),e("y")]}function Wd(e){return e===void 0||e===1}function Pf({scale:e,scaleX:t,scaleY:n}){return!Wd(e)||!Wd(t)||!Wd(n)}function Hi(e){return Pf(e)||Z1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Z1(e){return q0(e.x)||q0(e.y)}function q0(e){return e&&e!=="0%"}function au(e,t,n){const s=e-n,i=t*s;return n+i}function K0(e,t,n,s,i){return i!==void 0&&(e=au(e,i,s)),au(e,n,s)+t}function Af(e,t=0,n=1,s,i){e.min=K0(e.min,t,n,s,i),e.max=K0(e.max,t,n,s,i)}function ew(e,{x:t,y:n}){Af(e.x,t.translate,t.scale,t.originPoint),Af(e.y,n.translate,n.scale,n.originPoint)}const Y0=.999999999999,X0=1.0000000000001;function m3(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&er(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,ew(e,r)),s&&Hi(o.latestValues)&&er(e,o.latestValues))}t.x<X0&&t.x>Y0&&(t.x=1),t.y<X0&&t.y>Y0&&(t.y=1)}function Zo(e,t){e.min=e.min+t,e.max=e.max+t}function J0(e,t,n,s,i=.5){const o=vt(e.min,e.max,i);Af(e,t,n,o,s)}function er(e,t){J0(e.x,t.x,t.scaleX,t.scale,t.originX),J0(e.y,t.y,t.scaleY,t.scale,t.originY)}function tw(e,t){return X1(o3(e.getBoundingClientRect(),t))}function f3(e,t,n){const s=tw(e,n),{scroll:i}=t;return i&&(Zo(s.x,i.offset.x),Zo(s.y,i.offset.y)),s}const nw=({current:e})=>e?e.ownerDocument.defaultView:null,Q0=(e,t)=>Math.abs(e-t);function h3(e,t){const n=Q0(e.x,t.x),s=Q0(e.y,t.y);return Math.sqrt(n**2+s**2)}class sw{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=qd(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=h3(m.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=m,{timestamp:g}=$t;this.history.push({...p,timestamp:g});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Gd(f,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qd(m.type==="pointercancel"?this.lastMoveEventInfo:Gd(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,v),p&&p(m,v)},!Tp(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const r=El(t),a=Gd(r,this.transformPagePoint),{point:c}=a,{timestamp:u}=$t;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,qd(a,this.history)),this.removeListeners=yl(ka(this.contextWindow,"pointermove",this.handlePointerMove),ka(this.contextWindow,"pointerup",this.handlePointerUp),ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function Gd(e,t){return t?{point:t(e.point)}:e}function Z0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qd({point:e},t){return{point:e,delta:Z0(e,iw(t)),offset:Z0(e,p3(t)),velocity:g3(t,.1)}}function p3(e){return e[0]}function iw(e){return e[e.length-1]}function g3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=iw(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>es(t)));)n--;if(!s)return{x:0,y:0};const o=xs(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function b3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?vt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?vt(n,e,s.max):Math.min(e,n)),e}function eb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function v3(e,{top:t,left:n,bottom:s,right:i}){return{x:eb(e.x,n,i),y:eb(e.y,t,s)}}function tb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function x3(e,t){return{x:tb(e.x,t.x),y:tb(e.y,t.y)}}function N3(e,t){let n=.5;const s=rn(e),i=rn(t);return i>s?n=Qa(t.min,t.max-s,e.min):s>i&&(n=Qa(e.min,e.max-i,t.min)),qs(0,1,n)}function y3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const If=.35;function w3(e=If){return e===!1?e=0:e===!0&&(e=If),{x:nb(e,"left","right"),y:nb(e,"top","bottom")}}function nb(e,t,n){return{min:sb(e,t),max:sb(e,n)}}function sb(e,t){return typeof e=="number"?e:e[t]||0}const D3=new WeakMap;class E3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(El(d).point)},o=(d,m)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LP(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Ns.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[v];N&&(b=rn(N)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&xt.postRender(()=>p(d,m)),Mf(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},r=(d,m)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=m;if(h&&this.currentDirection===null){this.currentDirection=T3(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),g&&g(d,m)},a=(d,m)=>this.stop(d,m),c=()=>Rn(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sw(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:nw(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&xt.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Zl(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=b3(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=v3(s.layoutBox,t):this.constraints=!1,this.elastic=w3(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rn(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=y3(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jo(t))return!1;const s=t.current;Ks(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=f3(s,i.root,this.visualElement.getTransformPagePoint());let r=x3(i.layout.layoutBox,o);if(n){const a=n(i3(r));this.hasMutatedConstraints=!!a,a&&(r=X1(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Rn(d=>{if(!Zl(d,n,this.currentDirection))return;let m=c&&c[d]||{};r&&(m={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Mf(this.visualElement,t),s.start(jp(t,s,0,n,this.visualElement,!1))}stopAnimation(){Rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Rn(n=>{const{drag:s}=this.getProps();if(!Zl(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(t[n]-vt(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Jo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rn(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=N3({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Rn(r=>{if(!Zl(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:u}=this.constraints[r];a.set(vt(c,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;D3.set(this.visualElement,this);const t=this.visualElement.current,n=ka(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Jo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xt.read(s);const r=il(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rn(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=If,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function Zl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function T3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class S3 extends _i{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new E3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ib=e=>(t,n)=>{e&&xt.postRender(()=>e(t,n))};class _3 extends _i{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new sw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:ib(t),onStart:ib(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&xt.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=ka(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ob(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ea={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=ob(e,t.target.x),s=ob(e,t.target.y);return`${n}% ${s}%`}},k3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=yi.parse(e);if(i.length>5)return s;const o=yi.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const u=vt(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}};class M3 extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;fA(C3),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:r}=s;return r&&(r.isPresent=o,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||xt.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ep.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ow(e){const[t,n]=A1(),s=x.useContext(tp);return G.jsx(M3,{...e,layoutGroup:s,switchLayoutGroup:x.useContext(V1),isPresent:t,safeToRemove:n})}const C3={borderRadius:{...ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ea,borderTopRightRadius:ea,borderBottomLeftRadius:ea,borderBottomRightRadius:ea,boxShadow:k3};function P3(e,t,n){const s=Kt(e)?e:ur(e);return s.start(jp("",s,t,n)),s.animation}const A3=(e,t)=>e.depth-t.depth;class I3{constructor(){this.children=[],this.isDirty=!1}add(t){ip(this.children,t),this.isDirty=!0}remove(t){op(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(A3),this.isDirty=!1,this.children.forEach(t)}}function R3(e,t){const n=Nn.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(Ni(s),e(o-t))};return xt.setup(s,!0),()=>Ni(s)}const rw=["TopLeft","TopRight","BottomLeft","BottomRight"],j3=rw.length,rb=e=>typeof e=="string"?parseFloat(e):e,ab=e=>typeof e=="number"||Ce.test(e);function O3(e,t,n,s,i,o){i?(e.opacity=vt(0,n.opacity??1,V3(s)),e.opacityExit=vt(t.opacity??1,0,L3(s))):o&&(e.opacity=vt(t.opacity??1,n.opacity??1,s));for(let r=0;r<j3;r++){const a=`border${rw[r]}Radius`;let c=lb(t,a),u=lb(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ab(c)===ab(u)?(e[a]=Math.max(vt(rb(c),rb(u),s),0),(Ns.test(u)||Ns.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=vt(t.rotate||0,n.rotate||0,s))}function lb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const V3=aw(0,.5,Zy),L3=aw(.5,.95,Fn);function aw(e,t,n){return s=>s<e?0:s>t?1:n(Qa(e,t,s))}function cb(e,t){e.min=t.min,e.max=t.max}function An(e,t){cb(e.x,t.x),cb(e.y,t.y)}function ub(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function db(e,t,n,s,i){return e-=t,e=au(e,1/n,s),i!==void 0&&(e=au(e,1/i,s)),e}function F3(e,t=0,n=1,s=.5,i,o=e,r=e){if(Ns.test(t)&&(t=parseFloat(t),t=vt(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=vt(o.min,o.max,s);e===o&&(a-=t),e.min=db(e.min,t,n,a,i),e.max=db(e.max,t,n,a,i)}function mb(e,t,[n,s,i],o,r){F3(e,t[n],t[s],t[i],t.scale,o,r)}const B3=["x","scaleX","originX"],H3=["y","scaleY","originY"];function fb(e,t,n,s){mb(e.x,t,B3,n?n.x:void 0,s?s.x:void 0),mb(e.y,t,H3,n?n.y:void 0,s?s.y:void 0)}function hb(e){return e.translate===0&&e.scale===1}function lw(e){return hb(e.x)&&hb(e.y)}function pb(e,t){return e.min===t.min&&e.max===t.max}function U3(e,t){return pb(e.x,t.x)&&pb(e.y,t.y)}function gb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cw(e,t){return gb(e.x,t.x)&&gb(e.y,t.y)}function bb(e){return rn(e.x)/rn(e.y)}function vb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class z3{constructor(){this.members=[]}add(t){ip(this.members,t),t.scheduleRender()}remove(t){if(op(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $3(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:m,rotateY:f,skewX:h,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),m&&(s+=`rotateX(${m}deg) `),f&&(s+=`rotateY(${f}deg) `),h&&(s+=`skewX(${h}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const Kd=["","X","Y","Z"],W3={visibility:"hidden"},G3=1e3;let q3=0;function Yd(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function uw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=G1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&uw(s)}function dw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=q3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X3),this.nodes.forEach(tI),this.nodes.forEach(nI),this.nodes.forEach(J3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new I3)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new ap),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=P1(r)&&!$P(r),this.instance=r;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d;const m=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=R3(m,250),Bc.hasAnimatedSinceResize&&(Bc.hasAnimatedSinceResize=!1,this.nodes.forEach(Nb))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||aI,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!cw(this.targetLayout,h),w=!m&&f;if(this.options.layoutRoot||this.resumeFrom||w||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const N={...wp(p,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||Nb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sI),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xb);return}this.isUpdating||this.nodes.forEach(Z3),this.isUpdating=!1,this.nodes.forEach(eI),this.nodes.forEach(K3),this.nodes.forEach(Y3),this.clearAllSnapshots();const a=Nn.now();$t.delta=qs(0,1e3/60,a-$t.timestamp),$t.timestamp=a,$t.isProcessing=!0,Bd.update.process($t),Bd.preRender.process($t),Bd.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q3),this.sharedNodes.forEach(iI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lw(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&this.instance&&(a||Hi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),lI(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:r}=this.options;if(!r)return Et();const a=r.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(cI))){const{scroll:d}=this.root;d&&(Zo(a.x,d.offset.x),Zo(a.y,d.offset.y))}return a}removeElementScroll(r){var c;const a=Et();if(An(a,r),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:m,options:f}=d;d!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&An(a,r),Zo(a.x,m.offset.x),Zo(a.y,m.offset.y))}return a}applyTransform(r,a=!1){const c=Et();An(c,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&er(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hi(d.latestValues)&&er(c,d.latestValues)}return Hi(this.latestValues)&&er(c,this.latestValues),c}removeTransform(r){const a=Et();An(a,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hi(u.latestValues))continue;Pf(u.latestValues)&&u.updateSnapshot();const d=Et(),m=u.measurePageBox();An(d,m),fb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hi(this.latestValues)&&fb(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Ca(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),An(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):An(this.target,this.layout.layoutBox),ew(this.target,this.targetDelta)):An(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Ca(this.relativeTargetOrigin,this.target,h.target),An(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pf(this.parent.latestValues)||Z1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const r=this.getLead(),a=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;An(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;m3(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Et());const{target:h}=r;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ub(this.prevProjectionDelta.x,this.projectionDelta.x),ub(this.prevProjectionDelta.y,this.projectionDelta.y)),Ma(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qo(),this.projectionDelta=Qo(),this.projectionDeltaWithTransform=Qo()}setAnimationOrigin(r,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=Qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Et(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,v=this.getStack(),b=!v||v.members.length<=1,w=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(rI));this.animationProgress=0;let N;this.mixTargetDelta=E=>{const D=E/1e3;yb(m.x,r.x,D),yb(m.y,r.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ca(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oI(this.relativeTarget,this.relativeTargetOrigin,f,D),N&&U3(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Et()),An(N,this.relativeTarget)),g&&(this.animationValues=d,O3(d,u,this.latestValues,D,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Bc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ur(0)),this.currentAnimation=P3(this.motionValue,[0,1e3],{...r,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),r.onUpdate&&r.onUpdate(d)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G3),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=r;if(!(!a||!c||!u)){if(this!==r&&this.layout&&u&&mw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Et();const m=rn(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+m;const f=rn(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}An(a,c),er(a,d),Ma(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new z3),this.sharedNodes.get(r).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var a;const{layoutId:r}=this.options;return r?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:r}=this.options;return r?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Yd("z",r,u,this.animationValues);for(let d=0;d<Kd.length;d++)Yd(`rotate${Kd[d]}`,r,u,this.animationValues),Yd(`skew${Kd[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}getProjectionStyles(r){if(!this.instance||this.isSVG)return;if(!this.isVisible)return W3;const a={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Fc(r==null?void 0:r.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Fc(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=$3(this.projectionDeltaWithTransform,this.treeScale,d),c&&(a.transform=c(d,a.transform));const{x:m,y:f}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in nl){if(d[h]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:v}=nl[h],b=a.transform==="none"?d[h]:p(d[h],u);if(g){const w=g.length;for(let N=0;N<w;N++)a[g[N]]=b}else v?this.options.visualElement.renderState.vars[h]=b:a[h]=b}return this.options.layoutId&&(a.pointerEvents=u===this?Fc(r==null?void 0:r.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(xb),this.root.sharedNodes.clear()}}}function K3(e){e.updateLayout()}function Y3(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=t.source!==e.layout.source;o==="size"?Rn(m=>{const f=r?t.measuredBox[m]:t.layoutBox[m],h=rn(f);f.min=s[m].min,f.max=f.min+h}):mw(o,t.layoutBox,s)&&Rn(m=>{const f=r?t.measuredBox[m]:t.layoutBox[m],h=rn(s[m]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const a=Qo();Ma(a,s,t.layoutBox);const c=Qo();r?Ma(c,e.applyTransform(i,!0),t.measuredBox):Ma(c,s,t.layoutBox);const u=!lw(a);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:h}=m;if(f&&h){const p=Et();Ca(p,t.layoutBox,f.layoutBox);const g=Et();Ca(g,s,h.layoutBox),cw(p,g)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function X3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function J3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q3(e){e.clearSnapshot()}function xb(e){e.clearMeasurements()}function Z3(e){e.isLayoutDirty=!1}function eI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Nb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tI(e){e.resolveTargetDelta()}function nI(e){e.calcProjection()}function sI(e){e.resetSkewAndRotation()}function iI(e){e.removeLeadSnapshot()}function yb(e,t,n){e.translate=vt(t.translate,0,n),e.scale=vt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wb(e,t,n,s){e.min=vt(t.min,n.min,s),e.max=vt(t.max,n.max,s)}function oI(e,t,n,s){wb(e.x,t.x,n.x,s),wb(e.y,t.y,n.y,s)}function rI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aI={duration:.45,ease:[.4,0,.1,1]},Db=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Eb=Db("applewebkit/")&&!Db("chrome/")?Math.round:Fn;function Tb(e){e.min=Eb(e.min),e.max=Eb(e.max)}function lI(e){Tb(e.x),Tb(e.y)}function mw(e,t,n){return e==="position"||e==="preserve-aspect"&&!u3(bb(t),bb(n),.2)}function cI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const uI=dw({attachResizeListener:(e,t)=>il(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xd={current:void 0},fw=dw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xd.current){const e=new uI({});e.mount(window),e.setOptions({layoutScroll:!0}),Xd.current=e}return Xd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dI={pan:{Feature:_3},drag:{Feature:S3,ProjectionNode:fw,MeasureLayout:ow}};function Sb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&xt.postRender(()=>o(t,El(t)))}class mI extends _i{mount(){const{current:t}=this.node;t&&(this.unmount=FP(t,(n,s)=>(Sb(this.node,s,"Start"),i=>Sb(this.node,i,"End"))))}unmount(){}}class fI extends _i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yl(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _b(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&xt.postRender(()=>o(t,El(t)))}class hI extends _i{mount(){const{current:t}=this.node;t&&(this.unmount=zP(t,(n,s)=>(_b(this.node,s,"Start"),(i,{success:o})=>_b(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rf=new WeakMap,Jd=new WeakMap,pI=e=>{const t=Rf.get(e.target);t&&t(e)},gI=e=>{e.forEach(pI)};function bI({root:e,...t}){const n=e||document;Jd.has(n)||Jd.set(n,{});const s=Jd.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(gI,{root:e,...t})),s[i]}function vI(e,t,n){const s=bI(t);return Rf.set(e,n),s.observe(e),()=>{Rf.delete(e),s.unobserve(e)}}const xI={some:0,all:1};class NI extends _i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:xI[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),f=u?d:m;f&&f(c)};return vI(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yI(t,n))&&this.startObserver()}unmount(){}}function yI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wI={inView:{Feature:NI},tap:{Feature:hI},focus:{Feature:fI},hover:{Feature:mI}},DI={layout:{ProjectionNode:fw,MeasureLayout:ow}},jf={current:null},hw={current:!1};function EI(){if(hw.current=!0,!!sp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jf.current=e.matches;e.addListener(t),t()}else jf.current=!1}const TI=new WeakMap;function SI(e,t,n){for(const s in t){const i=t[s],o=n[s];if(Kt(i))e.addValue(s,i);else if(Kt(o))e.addValue(s,ur(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,ur(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const kb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _I{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Np,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Nn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,xt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=r;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Hu(n),this.isVariantNode=j1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const h=m[f];c[f]!==void 0&&Kt(h)&&h.set(c[f],!1)}}mount(t){this.current=t,TI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),hw.current||EI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jf.current,lp(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Mr.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&xt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dr){const n=dr[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<kb.length;s++){const i=kb[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=SI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ur(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(zy(s)||Wy(s))?s=parseFloat(s):!GP(s)&&yi.test(n)&&(s=S1(t,n)),this.setBaseTarget(t,Kt(s)?s.get():s)),Kt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=Ip(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Kt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ap),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class pw extends _I{constructor(){super(...arguments),this.KeyframeResolver=RP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Kt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gw(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}function kI(e){return window.getComputedStyle(e)}class MI extends pw{constructor(){super(...arguments),this.type="html",this.renderInstance=gw}readValueFromInstance(t,n){var s;if(Mr.has(n))return(s=this.projection)!=null&&s.isProjecting?wf(n):QC(t,n);{const i=kI(t),o=(dp(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tw(t,n)}build(t,n,s){Cp(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Rp(t,n,s)}}const bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CI(e,t,n,s){gw(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(bw.has(i)?i:Mp(i),t.attrs[i])}class PI extends pw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Mr.has(n)){const s=T1(n);return s&&s.default||0}return n=bw.has(n)?n:Mp(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return W1(t,n,s)}build(t,n,s){H1(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){CI(t,n,s,i)}mount(t){this.isSVGTag=z1(t.tagName),super.mount(t)}}const AI=(e,t)=>Ap(e)?new PI(t):new MI(t,{allowProjection:e!==x.Fragment}),II=CA({...n3,...wI,...dI,...DI},AI),Be=tA(II);function Se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Mb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vw(...e){return t=>{let n=!1;const s=e.map(i=>{const o=Mb(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():Mb(e[i],null)}}}}function Je(...e){return x.useCallback(vw(...e),e)}function RI(e,t){const n=x.createContext(t),s=o=>{const{children:r,...a}=o,c=x.useMemo(()=>a,Object.values(a));return G.jsx(n.Provider,{value:c,children:r})};s.displayName=e+"Provider";function i(o){const r=x.useContext(n);if(r)return r;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,i]}function _s(e,t=[]){let n=[];function s(o,r){const a=x.createContext(r),c=n.length;n=[...n,r];const u=m=>{var b;const{scope:f,children:h,...p}=m,g=((b=f==null?void 0:f[e])==null?void 0:b[c])||a,v=x.useMemo(()=>p,Object.values(p));return G.jsx(g.Provider,{value:v,children:h})};u.displayName=o+"Provider";function d(m,f){var g;const h=((g=f==null?void 0:f[e])==null?void 0:g[c])||a,p=x.useContext(h);if(p)return p;if(r!==void 0)return r;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(r=>x.createContext(r));return function(a){const c=(a==null?void 0:a[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[s,jI(i,...t)]}function jI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const r=s.reduce((a,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...a,...m}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function mr(e){const t=VI(e),n=x.forwardRef((s,i)=>{const{children:o,...r}=s,a=x.Children.toArray(o),c=a.find(FI);if(c){const u=c.props.children,d=a.map(m=>m===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:m);return G.jsx(t,{...r,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return G.jsx(t,{...r,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var OI=mr("Slot");function VI(e){const t=x.forwardRef((n,s)=>{const{children:i,...o}=n;if(x.isValidElement(i)){const r=HI(i),a=BI(o,i.props);return i.type!==x.Fragment&&(a.ref=s?vw(s,r):r),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xw=Symbol("radix.slottable");function LI(e){const t=({children:n})=>G.jsx(G.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=xw,t}function FI(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xw}function BI(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function HI(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=UI.reduce((e,t)=>{const n=mr(`Primitive.${t}`),s=x.forwardRef((i,o)=>{const{asChild:r,...a}=i,c=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),G.jsx(c,{...a,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Nw(e,t){e&&xo.flushSync(()=>e.dispatchEvent(t))}function At(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function zI(e,t=globalThis==null?void 0:globalThis.document){const n=At(e);x.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var $I="DismissableLayer",Of="dismissableLayer.update",WI="dismissableLayer.pointerDownOutside",GI="dismissableLayer.focusOutside",Cb,yw=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tl=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:r,onDismiss:a,...c}=e,u=x.useContext(yw),[d,m]=x.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),p=Je(t,M=>m(M)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),w=d?g.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=b,D=KI(M=>{const _=M.target,P=[...u.branches].some(k=>k.contains(_));!E||P||(i==null||i(M),r==null||r(M),M.defaultPrevented||a==null||a())},f),T=YI(M=>{const _=M.target;[...u.branches].some(k=>k.contains(_))||(o==null||o(M),r==null||r(M),M.defaultPrevented||a==null||a())},f);return zI(M=>{w===u.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},f),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Cb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Pb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Cb)}},[d,f,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Pb())},[d,u]),x.useEffect(()=>{const M=()=>h({});return document.addEventListener(Of,M),()=>document.removeEventListener(Of,M)},[]),G.jsx(Pe.div,{...c,ref:p,style:{pointerEvents:N?E?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,D.onPointerDownCapture)})});Tl.displayName=$I;var qI="DismissableLayerBranch",ww=x.forwardRef((e,t)=>{const n=x.useContext(yw),s=x.useRef(null),i=Je(t,s);return x.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),G.jsx(Pe.div,{...e,ref:i})});ww.displayName=qI;function KI(e,t=globalThis==null?void 0:globalThis.document){const n=At(e),s=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!s.current){let c=function(){Dw(WI,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function YI(e,t=globalThis==null?void 0:globalThis.document){const n=At(e),s=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!s.current&&Dw(GI,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Pb(){const e=new CustomEvent(Of);document.dispatchEvent(e)}function Dw(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?Nw(i,o):i.dispatchEvent(o)}var XI=Tl,JI=ww,Ht=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},QI=tu[" useId ".trim().toString()]||(()=>{}),ZI=0;function $s(e){const[t,n]=x.useState(QI());return Ht(()=>{n(s=>s??String(ZI++))},[e]),t?`radix-${t}`:""}const eR=["top","right","bottom","left"],wi=Math.min,Sn=Math.max,lu=Math.round,ec=Math.floor,ys=e=>({x:e,y:e}),tR={left:"right",right:"left",bottom:"top",top:"bottom"},nR={start:"end",end:"start"};function Vf(e,t,n){return Sn(e,wi(t,n))}function Xs(e,t){return typeof e=="function"?e(t):e}function Js(e){return e.split("-")[0]}function Cr(e){return e.split("-")[1]}function Op(e){return e==="x"?"y":"x"}function Vp(e){return e==="y"?"height":"width"}function Ws(e){return["top","bottom"].includes(Js(e))?"y":"x"}function Lp(e){return Op(Ws(e))}function sR(e,t,n){n===void 0&&(n=!1);const s=Cr(e),i=Lp(e),o=Vp(i);let r=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=cu(r)),[r,cu(r)]}function iR(e){const t=cu(e);return[Lf(e),t,Lf(t)]}function Lf(e){return e.replace(/start|end/g,t=>nR[t])}function oR(e,t,n){const s=["left","right"],i=["right","left"],o=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?o:r;default:return[]}}function rR(e,t,n,s){const i=Cr(e);let o=oR(Js(e),n==="start",s);return i&&(o=o.map(r=>r+"-"+i),t&&(o=o.concat(o.map(Lf)))),o}function cu(e){return e.replace(/left|right|bottom|top/g,t=>tR[t])}function aR(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ew(e){return typeof e!="number"?aR(e):{top:e,right:e,bottom:e,left:e}}function uu(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Ab(e,t,n){let{reference:s,floating:i}=e;const o=Ws(t),r=Lp(t),a=Vp(r),c=Js(t),u=o==="y",d=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,f=s[a]/2-i[a]/2;let h;switch(c){case"top":h={x:d,y:s.y-i.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:m};break;case"left":h={x:s.x-i.width,y:m};break;default:h={x:s.x,y:s.y}}switch(Cr(t)){case"start":h[r]-=f*(n&&u?-1:1);break;case"end":h[r]+=f*(n&&u?-1:1);break}return h}const lR=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:r}=n,a=o.filter(Boolean),c=await(r.isRTL==null?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:m}=Ab(u,s,c),f=s,h={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:b}=a[g],{x:w,y:N,data:E,reset:D}=await b({x:d,y:m,initialPlacement:s,placement:f,strategy:i,middlewareData:h,rects:u,platform:r,elements:{reference:e,floating:t}});d=w??d,m=N??m,h={...h,[v]:{...h[v],...E}},D&&p<=50&&(p++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(u=D.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:d,y:m}=Ab(u,f,c)),g=-1)}return{x:d,y:m,placement:f,strategy:i,middlewareData:h}};async function ol(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:r,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:f=!1,padding:h=0}=Xs(t,e),p=Ew(h),v=a[f?m==="floating"?"reference":"floating":m],b=uu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=m==="floating"?{x:s,y:i,width:r.floating.width,height:r.floating.height}:r.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},D=uu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:N,strategy:c}):w);return{top:(b.top-D.top+p.top)/E.y,bottom:(D.bottom-b.bottom+p.bottom)/E.y,left:(b.left-D.left+p.left)/E.x,right:(D.right-b.right+p.right)/E.x}}const cR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:r,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=Xs(e,t)||{};if(u==null)return{};const m=Ew(d),f={x:n,y:s},h=Lp(i),p=Vp(h),g=await r.getDimensions(u),v=h==="y",b=v?"top":"left",w=v?"bottom":"right",N=v?"clientHeight":"clientWidth",E=o.reference[p]+o.reference[h]-f[h]-o.floating[p],D=f[h]-o.reference[h],T=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let M=T?T[N]:0;(!M||!await(r.isElement==null?void 0:r.isElement(T)))&&(M=a.floating[N]||o.floating[p]);const _=E/2-D/2,P=M/2-g[p]/2-1,k=wi(m[b],P),L=wi(m[w],P),B=k,A=M-g[p]-L,V=M/2-g[p]/2+_,O=Vf(B,V,A),U=!c.arrow&&Cr(i)!=null&&V!==O&&o.reference[p]/2-(V<B?k:L)-g[p]/2<0,q=U?V<B?V-B:V-A:0;return{[h]:f[h]+q,data:{[h]:O,centerOffset:V-O-q,...U&&{alignmentOffset:q}},reset:U}}}),uR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:r,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Xs(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Js(i),w=Ws(a),N=Js(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=f||(N||!g?[cu(a)]:iR(a)),T=p!=="none";!f&&T&&D.push(...rR(a,g,p,E));const M=[a,...D],_=await ol(t,v),P=[];let k=((s=o.flip)==null?void 0:s.overflows)||[];if(d&&P.push(_[b]),m){const O=sR(i,r,E);P.push(_[O[0]],_[O[1]])}if(k=[...k,{placement:i,overflows:P}],!P.every(O=>O<=0)){var L,B;const O=(((L=o.flip)==null?void 0:L.index)||0)+1,U=M[O];if(U){var A;const $=m==="alignment"?w!==Ws(U):!1,Z=((A=k[0])==null?void 0:A.overflows[0])>0;if(!$||Z)return{data:{index:O,overflows:k},reset:{placement:U}}}let q=(B=k.filter($=>$.overflows[0]<=0).sort(($,Z)=>$.overflows[1]-Z.overflows[1])[0])==null?void 0:B.placement;if(!q)switch(h){case"bestFit":{var V;const $=(V=k.filter(Z=>{if(T){const I=Ws(Z.placement);return I===w||I==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(I=>I>0).reduce((I,ie)=>I+ie,0)]).sort((Z,I)=>Z[1]-I[1])[0])==null?void 0:V[0];$&&(q=$);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function Ib(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rb(e){return eR.some(t=>e[t]>=0)}const dR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Xs(e,t);switch(s){case"referenceHidden":{const o=await ol(t,{...i,elementContext:"reference"}),r=Ib(o,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:Rb(r)}}}case"escaped":{const o=await ol(t,{...i,altBoundary:!0}),r=Ib(o,n.floating);return{data:{escapedOffsets:r,escaped:Rb(r)}}}default:return{}}}}};async function mR(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),r=Js(n),a=Cr(n),c=Ws(n)==="y",u=["left","top"].includes(r)?-1:1,d=o&&c?-1:1,m=Xs(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*d,y:f*u}:{x:f*u,y:h*d}}const fR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:r,middlewareData:a}=t,c=await mR(t,e);return r===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:r}}}}},hR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:a={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=Xs(e,t),u={x:n,y:s},d=await ol(t,c),m=Ws(Js(i)),f=Op(m);let h=u[f],p=u[m];if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=h+d[v],N=h-d[b];h=Vf(w,h,N)}if(r){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=p+d[v],N=p-d[b];p=Vf(w,p,N)}const g=a.fn({...t,[f]:h,[m]:p});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[f]:o,[m]:r}}}}}},pR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:o,middlewareData:r}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Xs(e,t),d={x:n,y:s},m=Ws(i),f=Op(m);let h=d[f],p=d[m];const g=Xs(a,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=f==="y"?"height":"width",E=o.reference[f]-o.floating[N]+v.mainAxis,D=o.reference[f]+o.reference[N]-v.mainAxis;h<E?h=E:h>D&&(h=D)}if(u){var b,w;const N=f==="y"?"width":"height",E=["top","left"].includes(Js(i)),D=o.reference[m]-o.floating[N]+(E&&((b=r.offset)==null?void 0:b[m])||0)+(E?0:v.crossAxis),T=o.reference[m]+o.reference[N]+(E?0:((w=r.offset)==null?void 0:w[m])||0)-(E?v.crossAxis:0);p<D?p=D:p>T&&(p=T)}return{[f]:h,[m]:p}}}},gR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:o,platform:r,elements:a}=t,{apply:c=()=>{},...u}=Xs(e,t),d=await ol(t,u),m=Js(i),f=Cr(i),h=Ws(i)==="y",{width:p,height:g}=o.floating;let v,b;m==="top"||m==="bottom"?(v=m,b=f===(await(r.isRTL==null?void 0:r.isRTL(a.floating))?"start":"end")?"left":"right"):(b=m,v=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,N=p-d.left-d.right,E=wi(g-d[v],w),D=wi(p-d[b],N),T=!t.middlewareData.shift;let M=E,_=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(M=w),T&&!f){const k=Sn(d.left,0),L=Sn(d.right,0),B=Sn(d.top,0),A=Sn(d.bottom,0);h?_=p-2*(k!==0||L!==0?k+L:Sn(d.left,d.right)):M=g-2*(B!==0||A!==0?B+A:Sn(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:M});const P=await r.getDimensions(a.floating);return p!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Uu(){return typeof window<"u"}function Pr(e){return Tw(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(Tw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tw(e){return Uu()?e instanceof Node||e instanceof _n(e).Node:!1}function ns(e){return Uu()?e instanceof Element||e instanceof _n(e).Element:!1}function Ss(e){return Uu()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function jb(e){return!Uu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}function Sl(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=ss(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function bR(e){return["table","td","th"].includes(Pr(e))}function zu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fp(e){const t=Bp(),n=ns(e)?ss(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function vR(e){let t=Di(e);for(;Ss(t)&&!fr(t);){if(Fp(t))return t;if(zu(t))return null;t=Di(t)}return null}function Bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fr(e){return["html","body","#document"].includes(Pr(e))}function ss(e){return _n(e).getComputedStyle(e)}function $u(e){return ns(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Di(e){if(Pr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jb(e)&&e.host||ks(e);return jb(t)?t.host:t}function Sw(e){const t=Di(e);return fr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ss(t)&&Sl(t)?t:Sw(t)}function rl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Sw(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),r=_n(i);if(o){const a=Ff(r);return t.concat(r,r.visualViewport||[],Sl(i)?i:[],a&&n?rl(a):[])}return t.concat(i,rl(i,[],n))}function Ff(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _w(e){const t=ss(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Ss(e),o=i?e.offsetWidth:n,r=i?e.offsetHeight:s,a=lu(n)!==o||lu(s)!==r;return a&&(n=o,s=r),{width:n,height:s,$:a}}function Hp(e){return ns(e)?e:e.contextElement}function sr(e){const t=Hp(e);if(!Ss(t))return ys(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=_w(t);let r=(o?lu(n.width):n.width)/s,a=(o?lu(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!a||!Number.isFinite(a))&&(a=1),{x:r,y:a}}const xR=ys(0);function kw(e){const t=_n(e);return!Bp()||!t.visualViewport?xR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function fo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Hp(e);let r=ys(1);t&&(s?ns(s)&&(r=sr(s)):r=sr(e));const a=NR(o,n,s)?kw(o):ys(0);let c=(i.left+a.x)/r.x,u=(i.top+a.y)/r.y,d=i.width/r.x,m=i.height/r.y;if(o){const f=_n(o),h=s&&ns(s)?_n(s):s;let p=f,g=Ff(p);for(;g&&s&&h!==p;){const v=sr(g),b=g.getBoundingClientRect(),w=ss(g),N=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,E=b.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,m*=v.y,c+=N,u+=E,p=_n(g),g=Ff(p)}}return uu({width:d,height:m,x:c,y:u})}function Up(e,t){const n=$u(e).scrollLeft;return t?t.left+n:fo(ks(e)).left+n}function Mw(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:Up(e,s)),o=s.top+t.scrollTop;return{x:i,y:o}}function yR(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",r=ks(s),a=t?zu(t.floating):!1;if(s===r||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=ys(1);const d=ys(0),m=Ss(s);if((m||!m&&!o)&&((Pr(s)!=="body"||Sl(r))&&(c=$u(s)),Ss(s))){const h=fo(s);u=sr(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const f=r&&!m&&!o?Mw(r,c,!0):ys(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function wR(e){return Array.from(e.getClientRects())}function DR(e){const t=ks(e),n=$u(e),s=e.ownerDocument.body,i=Sn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Sn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let r=-n.scrollLeft+Up(e);const a=-n.scrollTop;return ss(s).direction==="rtl"&&(r+=Sn(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:r,y:a}}function ER(e,t){const n=_n(e),s=ks(e),i=n.visualViewport;let o=s.clientWidth,r=s.clientHeight,a=0,c=0;if(i){o=i.width,r=i.height;const u=Bp();(!u||u&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:r,x:a,y:c}}function TR(e,t){const n=fo(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ss(e)?sr(e):ys(1),r=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,u=s*o.y;return{width:r,height:a,x:c,y:u}}function Ob(e,t,n){let s;if(t==="viewport")s=ER(e,n);else if(t==="document")s=DR(ks(e));else if(ns(t))s=TR(t,n);else{const i=kw(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return uu(s)}function Cw(e,t){const n=Di(e);return n===t||!ns(n)||fr(n)?!1:ss(n).position==="fixed"||Cw(n,t)}function SR(e,t){const n=t.get(e);if(n)return n;let s=rl(e,[],!1).filter(a=>ns(a)&&Pr(a)!=="body"),i=null;const o=ss(e).position==="fixed";let r=o?Di(e):e;for(;ns(r)&&!fr(r);){const a=ss(r),c=Fp(r);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sl(r)&&!c&&Cw(e,r))?s=s.filter(d=>d!==r):i=a,r=Di(r)}return t.set(e,s),s}function _R(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const r=[...n==="clippingAncestors"?zu(t)?[]:SR(t,this._c):[].concat(n),s],a=r[0],c=r.reduce((u,d)=>{const m=Ob(t,d,i);return u.top=Sn(m.top,u.top),u.right=wi(m.right,u.right),u.bottom=wi(m.bottom,u.bottom),u.left=Sn(m.left,u.left),u},Ob(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kR(e){const{width:t,height:n}=_w(e);return{width:t,height:n}}function MR(e,t,n){const s=Ss(t),i=ks(t),o=n==="fixed",r=fo(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=ys(0);function u(){c.x=Up(i)}if(s||!s&&!o)if((Pr(t)!=="body"||Sl(i))&&(a=$u(t)),s){const h=fo(t,!0,o,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&u();o&&!s&&i&&u();const d=i&&!s&&!o?Mw(i,a):ys(0),m=r.left+a.scrollLeft-c.x-d.x,f=r.top+a.scrollTop-c.y-d.y;return{x:m,y:f,width:r.width,height:r.height}}function Qd(e){return ss(e).position==="static"}function Vb(e,t){if(!Ss(e)||ss(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ks(e)===n&&(n=n.ownerDocument.body),n}function Pw(e,t){const n=_n(e);if(zu(e))return n;if(!Ss(e)){let i=Di(e);for(;i&&!fr(i);){if(ns(i)&&!Qd(i))return i;i=Di(i)}return n}let s=Vb(e,t);for(;s&&bR(s)&&Qd(s);)s=Vb(s,t);return s&&fr(s)&&Qd(s)&&!Fp(s)?n:s||vR(e)||n}const CR=async function(e){const t=this.getOffsetParent||Pw,n=this.getDimensions,s=await n(e.floating);return{reference:MR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function PR(e){return ss(e).direction==="rtl"}const AR={convertOffsetParentRelativeRectToViewportRelativeRect:yR,getDocumentElement:ks,getClippingRect:_R,getOffsetParent:Pw,getElementRects:CR,getClientRects:wR,getDimensions:kR,getScale:sr,isElement:ns,isRTL:PR};function Aw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IR(e,t){let n=null,s;const i=ks(e);function o(){var a;clearTimeout(s),(a=n)==null||a.disconnect(),n=null}function r(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:m,width:f,height:h}=u;if(a||t(),!f||!h)return;const p=ec(m),g=ec(i.clientWidth-(d+f)),v=ec(i.clientHeight-(m+h)),b=ec(d),N={rootMargin:-p+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Sn(0,wi(1,c))||1};let E=!0;function D(T){const M=T[0].intersectionRatio;if(M!==c){if(!E)return r();M?r(!1,M):s=setTimeout(()=>{r(!1,1e-7)},1e3)}M===1&&!Aw(u,e.getBoundingClientRect())&&r(),E=!1}try{n=new IntersectionObserver(D,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,N)}n.observe(e)}return r(!0),o}function RR(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Hp(e),d=i||o?[...u?rl(u):[],...rl(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const m=u&&a?IR(u,n):null;let f=-1,h=null;r&&(h=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=h)==null||N.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,g=c?fo(e):null;c&&v();function v(){const b=fo(e);g&&!Aw(g,b)&&n(),g=b,p=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),m==null||m(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const jR=fR,OR=hR,VR=uR,LR=gR,FR=dR,Lb=cR,BR=pR,HR=(e,t,n)=>{const s=new Map,i={platform:AR,...n},o={...i.platform,_c:s};return lR(e,t,{...i,platform:o})};var Hc=typeof document<"u"?x.useLayoutEffect:x.useEffect;function du(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!du(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!du(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Iw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fb(e,t){const n=Iw(e);return Math.round(t*n)/n}function Zd(e){const t=x.useRef(e);return Hc(()=>{t.current=e}),t}function UR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:r}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,m]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=x.useState(s);du(f,s)||h(s);const[p,g]=x.useState(null),[v,b]=x.useState(null),w=x.useCallback($=>{$!==T.current&&(T.current=$,g($))},[]),N=x.useCallback($=>{$!==M.current&&(M.current=$,b($))},[]),E=o||p,D=r||v,T=x.useRef(null),M=x.useRef(null),_=x.useRef(d),P=c!=null,k=Zd(c),L=Zd(i),B=Zd(u),A=x.useCallback(()=>{if(!T.current||!M.current)return;const $={placement:t,strategy:n,middleware:f};L.current&&($.platform=L.current),HR(T.current,M.current,$).then(Z=>{const I={...Z,isPositioned:B.current!==!1};V.current&&!du(_.current,I)&&(_.current=I,xo.flushSync(()=>{m(I)}))})},[f,t,n,L,B]);Hc(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m($=>({...$,isPositioned:!1})))},[u]);const V=x.useRef(!1);Hc(()=>(V.current=!0,()=>{V.current=!1}),[]),Hc(()=>{if(E&&(T.current=E),D&&(M.current=D),E&&D){if(k.current)return k.current(E,D,A);A()}},[E,D,A,k,P]);const O=x.useMemo(()=>({reference:T,floating:M,setReference:w,setFloating:N}),[w,N]),U=x.useMemo(()=>({reference:E,floating:D}),[E,D]),q=x.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const Z=Fb(U.floating,d.x),I=Fb(U.floating,d.y);return a?{...$,transform:"translate("+Z+"px, "+I+"px)",...Iw(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:I}},[n,a,U.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:A,refs:O,elements:U,floatingStyles:q}),[d,A,O,U,q])}const zR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Lb({element:s.current,padding:i}).fn(n):{}:s?Lb({element:s,padding:i}).fn(n):{}}}},$R=(e,t)=>({...jR(e),options:[e,t]}),WR=(e,t)=>({...OR(e),options:[e,t]}),GR=(e,t)=>({...BR(e),options:[e,t]}),qR=(e,t)=>({...VR(e),options:[e,t]}),KR=(e,t)=>({...LR(e),options:[e,t]}),YR=(e,t)=>({...FR(e),options:[e,t]}),XR=(e,t)=>({...zR(e),options:[e,t]});var JR="Arrow",Rw=x.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...o}=e;return G.jsx(Pe.svg,{...o,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:G.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rw.displayName=JR;var QR=Rw;function jw(e){const[t,n]=x.useState(void 0);return Ht(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let r,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;r=u.inlineSize,a=u.blockSize}else r=e.offsetWidth,a=e.offsetHeight;n({width:r,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var zp="Popper",[Ow,Wu]=_s(zp),[ZR,Vw]=Ow(zp),Lw=e=>{const{__scopePopper:t,children:n}=e,[s,i]=x.useState(null);return G.jsx(ZR,{scope:t,anchor:s,onAnchorChange:i,children:n})};Lw.displayName=zp;var Fw="PopperAnchor",Bw=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,o=Vw(Fw,n),r=x.useRef(null),a=Je(t,r);return x.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||r.current)}),s?null:G.jsx(Pe.div,{...i,ref:a})});Bw.displayName=Fw;var $p="PopperContent",[ej,tj]=Ow($p),Hw=x.forwardRef((e,t)=>{var ne,me,De,K,J,Y;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:r=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=e,v=Vw($p,n),[b,w]=x.useState(null),N=Je(t,ue=>w(ue)),[E,D]=x.useState(null),T=jw(E),M=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,P=s+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],B=L.length>0,A={padding:k,boundary:L.filter(sj),altBoundary:B},{refs:V,floatingStyles:O,placement:U,isPositioned:q,middlewareData:$}=UR({strategy:"fixed",placement:P,whileElementsMounted:(...ue)=>RR(...ue,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[$R({mainAxis:i+_,alignmentAxis:r}),c&&WR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?GR():void 0,...A}),c&&qR({...A}),KR({...A,apply:({elements:ue,rects:de,availableWidth:re,availableHeight:pe})=>{const{width:ze,height:$e}=de.reference,We=ue.floating.style;We.setProperty("--radix-popper-available-width",`${re}px`),We.setProperty("--radix-popper-available-height",`${pe}px`),We.setProperty("--radix-popper-anchor-width",`${ze}px`),We.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),E&&XR({element:E,padding:a}),ij({arrowWidth:M,arrowHeight:_}),f&&YR({strategy:"referenceHidden",...A})]}),[Z,I]=$w(U),ie=At(p);Ht(()=>{q&&(ie==null||ie())},[q,ie]);const ve=(ne=$.arrow)==null?void 0:ne.x,j=(me=$.arrow)==null?void 0:me.y,ce=((De=$.arrow)==null?void 0:De.centerOffset)!==0,[ge,xe]=x.useState();return Ht(()=>{b&&xe(window.getComputedStyle(b).zIndex)},[b]),G.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:q?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(K=$.transformOrigin)==null?void 0:K.x,(J=$.transformOrigin)==null?void 0:J.y].join(" "),...((Y=$.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:G.jsx(ej,{scope:n,placedSide:Z,onArrowChange:D,arrowX:ve,arrowY:j,shouldHideArrow:ce,children:G.jsx(Pe.div,{"data-side":Z,"data-align":I,...g,ref:N,style:{...g.style,animation:q?void 0:"none"}})})})});Hw.displayName=$p;var Uw="PopperArrow",nj={top:"bottom",right:"left",bottom:"top",left:"right"},zw=x.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,o=tj(Uw,s),r=nj[o.placedSide];return G.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:G.jsx(QR,{...i,ref:n,style:{...i.style,display:"block"}})})});zw.displayName=Uw;function sj(e){return e!==null}var ij=e=>({name:"transformOrigin",options:e,fn(t){var v,b,w;const{placement:n,rects:s,middlewareData:i}=t,r=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=r?0:e.arrowWidth,c=r?0:e.arrowHeight,[u,d]=$w(n),m={start:"0%",center:"50%",end:"100%"}[d],f=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=r?m:`${f}px`,g=`${-c}px`):u==="top"?(p=r?m:`${f}px`,g=`${s.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=r?m:`${h}px`):u==="left"&&(p=`${s.floating.width+c}px`,g=r?m:`${h}px`),{data:{x:p,y:g}}}});function $w(e){const[t,n="center"]=e.split("-");return[t,n]}var Ww=Lw,Gw=Bw,qw=Hw,Kw=zw,oj="Portal",Gu=x.forwardRef((e,t)=>{var a;const{container:n,...s}=e,[i,o]=x.useState(!1);Ht(()=>o(!0),[]);const r=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return r?i2.createPortal(G.jsx(Pe.div,{...s,ref:t}),r):null});Gu.displayName=oj;function rj(e,t){return x.useReducer((n,s)=>t[n][s]??n,e)}var Un=e=>{const{present:t,children:n}=e,s=aj(t),i=typeof n=="function"?n({present:s.isPresent}):x.Children.only(n),o=Je(s.ref,lj(i));return typeof n=="function"||s.isPresent?x.cloneElement(i,{ref:o}):null};Un.displayName="Presence";function aj(e){const[t,n]=x.useState(),s=x.useRef(null),i=x.useRef(e),o=x.useRef("none"),r=e?"mounted":"unmounted",[a,c]=rj(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=tc(s.current);o.current=a==="mounted"?u:"none"},[a]),Ht(()=>{const u=s.current,d=i.current;if(d!==e){const f=o.current,h=tc(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ht(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,m=h=>{const g=tc(s.current).includes(h.animationName);if(h.target===t&&g&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=h=>{h.target===t&&(o.current=tc(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function tc(e){return(e==null?void 0:e.animationName)||"none"}function lj(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cj=tu[" useInsertionEffect ".trim().toString()]||Ht;function Ei({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,o,r]=uj({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const m=d.current;m!==a&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,s])}const u=x.useCallback(d=>{var m;if(a){const f=dj(d)?d(e):d;f!==e&&((m=r.current)==null||m.call(r,f))}else o(d)},[a,e,o,r]);return[c,u]}function uj({defaultProp:e,onChange:t}){const[n,s]=x.useState(e),i=x.useRef(n),o=x.useRef(t);return cj(()=>{o.current=t},[t]),x.useEffect(()=>{var r;i.current!==n&&((r=o.current)==null||r.call(o,n),i.current=n)},[n,i]),[n,s,o]}function dj(e){return typeof e=="function"}var Yw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mj="VisuallyHidden",qu=x.forwardRef((e,t)=>G.jsx(Pe.span,{...e,ref:t,style:{...Yw,...e.style}}));qu.displayName=mj;var fj=qu,[Ku,Wte]=_s("Tooltip",[Wu]),Yu=Wu(),Xw="TooltipProvider",hj=700,Bf="tooltip.open",[pj,Wp]=Ku(Xw),Jw=e=>{const{__scopeTooltip:t,delayDuration:n=hj,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=e,r=x.useRef(!0),a=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),G.jsx(pj,{scope:t,isOpenDelayedRef:r,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),r.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>r.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:o})};Jw.displayName=Xw;var al="Tooltip",[gj,Xu]=Ku(al),Qw=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:i,onOpenChange:o,disableHoverableContent:r,delayDuration:a}=e,c=Wp(al,e.__scopeTooltip),u=Yu(t),[d,m]=x.useState(null),f=$s(),h=x.useRef(0),p=r??c.disableHoverableContent,g=a??c.delayDuration,v=x.useRef(!1),[b,w]=Ei({prop:s,defaultProp:i??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(Bf))):c.onClose(),o==null||o(M)},caller:al}),N=x.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),E=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,w(!0)},[w]),D=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),T=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,w(!0),h.current=0},g)},[g,w]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),G.jsx(Ww,{...u,children:G.jsx(gj,{scope:t,contentId:f,open:b,stateAttribute:N,trigger:d,onTriggerChange:m,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?T():E()},[c.isOpenDelayedRef,T,E]),onTriggerLeave:x.useCallback(()=>{p?D():(window.clearTimeout(h.current),h.current=0)},[D,p]),onOpen:E,onClose:D,disableHoverableContent:p,children:n})})};Qw.displayName=al;var Hf="TooltipTrigger",Zw=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Xu(Hf,n),o=Wp(Hf,n),r=Yu(n),a=x.useRef(null),c=Je(t,a,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),m=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),G.jsx(Gw,{asChild:!0,...r,children:G.jsx(Pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:Se(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Se(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Se(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Se(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Se(e.onBlur,i.onClose),onClick:Se(e.onClick,i.onClose)})})});Zw.displayName=Hf;var bj="TooltipPortal",[Gte,vj]=Ku(bj,{forceMount:void 0}),hr="TooltipContent",eD=x.forwardRef((e,t)=>{const n=vj(hr,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...o}=e,r=Xu(hr,e.__scopeTooltip);return G.jsx(Un,{present:s||r.open,children:r.disableHoverableContent?G.jsx(tD,{side:i,...o,ref:t}):G.jsx(xj,{side:i,...o,ref:t})})}),xj=x.forwardRef((e,t)=>{const n=Xu(hr,e.__scopeTooltip),s=Wp(hr,e.__scopeTooltip),i=x.useRef(null),o=Je(t,i),[r,a]=x.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:m}=s,f=x.useCallback(()=>{a(null),m(!1)},[m]),h=x.useCallback((p,g)=>{const v=p.currentTarget,b={x:p.clientX,y:p.clientY},w=Ej(b,v.getBoundingClientRect()),N=Tj(b,w),E=Sj(g.getBoundingClientRect()),D=kj([...N,...E]);a(D),m(!0)},[m]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(c&&d){const p=v=>h(v,d),g=v=>h(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,h,f]),x.useEffect(()=>{if(r){const p=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),N=!_j(b,r);w?f():N&&(f(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,r,u,f]),G.jsx(tD,{...e,ref:o})}),[Nj,yj]=Ku(al,{isInside:!1}),wj=LI("TooltipContent"),tD=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:r,...a}=e,c=Xu(hr,n),u=Yu(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(Bf,d),()=>document.removeEventListener(Bf,d)),[d]),x.useEffect(()=>{if(c.trigger){const m=f=>{const h=f.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),G.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:G.jsxs(qw,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[G.jsx(wj,{children:s}),G.jsx(Nj,{scope:n,isInside:!0,children:G.jsx(fj,{id:c.contentId,role:"tooltip",children:i||s})})]})})});eD.displayName=hr;var nD="TooltipArrow",Dj=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Yu(n);return yj(nD,n).isInside?null:G.jsx(Kw,{...i,...s,ref:t})});Dj.displayName=nD;function Ej(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,s,i,o)){case o:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Tj(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Sj(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function _j(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,r=t.length-1;o<t.length;r=o++){const a=t[o],c=t[r],u=a.x,d=a.y,m=c.x,f=c.y;d>s!=f>s&&n<(m-u)*(s-d)/(f-d)+u&&(i=!i)}return i}function kj(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Mj(t)}function Mj(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const o=t[t.length-1],r=t[t.length-2];if((o.x-r.x)*(i.y-r.y)>=(o.y-r.y)*(i.x-r.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const o=n[n.length-1],r=n[n.length-2];if((o.x-r.x)*(i.y-r.y)>=(o.y-r.y)*(i.x-r.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Cj=Jw,Pj=Qw,Aj=Zw,sD=eD;const Gp="-",Ij=e=>{const t=jj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:r=>{const a=r.split(Gp);return a[0]===""&&a.length!==1&&a.shift(),iD(a,t)||Rj(r)},getConflictingClassGroupIds:(r,a)=>{const c=n[r]||[];return a&&s[r]?[...c,...s[r]]:c}}},iD=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?iD(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Gp);return(r=t.validators.find(({validator:a})=>a(o)))==null?void 0:r.classGroupId},Bb=/^\[(.+)\]$/,Rj=e=>{if(Bb.test(e)){const t=Bb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},jj=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const i in n)Uf(n[i],s,i,t);return s},Uf=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Hb(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Oj(i)){Uf(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,r])=>{Uf(r,Hb(t,o),n,s)})})},Hb=(e,t)=>{let n=e;return t.split(Gp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Oj=e=>e.isThemeGetter,Vj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(o,r)=>{n.set(o,r),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let r=n.get(o);if(r!==void 0)return r;if((r=s.get(o))!==void 0)return i(o,r),r},set(o,r){n.has(o)?n.set(o,r):i(o,r)}}},zf="!",$f=":",Lj=$f.length,Fj=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const o=[];let r=0,a=0,c=0,u;for(let p=0;p<i.length;p++){let g=i[p];if(r===0&&a===0){if(g===$f){o.push(i.slice(c,p)),c=p+Lj;continue}if(g==="/"){u=p;continue}}g==="["?r++:g==="]"?r--:g==="("?a++:g===")"&&a--}const d=o.length===0?i:i.substring(c),m=Bj(d),f=m!==d,h=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}};if(t){const i=t+$f,o=s;s=r=>r.startsWith(i)?o(r.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:r,maybePostfixModifierPosition:void 0}}if(n){const i=s;s=o=>n({className:o,parseClassName:i})}return s},Bj=e=>e.endsWith(zf)?e.substring(0,e.length-1):e.startsWith(zf)?e.substring(1):e,Hj=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let o=[];return s.forEach(r=>{r[0]==="["||t[r]?(i.push(...o.sort(),r),o=[]):o.push(r)}),i.push(...o.sort()),i}},Uj=e=>({cache:Vj(e.cacheSize),parseClassName:Fj(e),sortModifiers:Hj(e),...Ij(e)}),zj=/\s+/,$j=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:o}=t,r=[],a=e.trim().split(zj);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:m,modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(d);if(m){c=d+(c.length>0?" "+c:c);continue}let v=!!g,b=s(v?p.substring(0,g):p);if(!b){if(!v){c=d+(c.length>0?" "+c:c);continue}if(b=s(p),!b){c=d+(c.length>0?" "+c:c);continue}v=!1}const w=o(f).join(":"),N=h?w+zf:w,E=N+b;if(r.includes(E))continue;r.push(E);const D=i(b,v);for(let T=0;T<D.length;++T){const M=D[T];r.push(N+M)}c=d+(c.length>0?" "+c:c)}return c};function Wj(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oD(t))&&(s&&(s+=" "),s+=n);return s}const oD=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=oD(e[s]))&&(n&&(n+=" "),n+=t);return n};function Gj(e,...t){let n,s,i,o=r;function r(c){const u=t.reduce((d,m)=>m(d),e());return n=Uj(u),s=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const u=s(c);if(u)return u;const d=$j(c,n);return i(c,d),d}return function(){return o(Wj.apply(null,arguments))}}const Ct=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},rD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qj=/^\d+\/\d+$/,Kj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=e=>qj.test(e),Fe=e=>!!e&&!Number.isNaN(Number(e)),ni=e=>!!e&&Number.isInteger(Number(e)),em=e=>e.endsWith("%")&&Fe(e.slice(0,-1)),Rs=e=>Kj.test(e),Zj=()=>!0,eO=e=>Yj.test(e)&&!Xj.test(e),lD=()=>!1,tO=e=>Jj.test(e),nO=e=>Qj.test(e),sO=e=>!Ee(e)&&!Te(e),iO=e=>Ar(e,dD,lD),Ee=e=>rD.test(e),Ri=e=>Ar(e,mD,eO),tm=e=>Ar(e,cO,Fe),Ub=e=>Ar(e,cD,lD),oO=e=>Ar(e,uD,nO),nc=e=>Ar(e,fD,tO),Te=e=>aD.test(e),ta=e=>Ir(e,mD),rO=e=>Ir(e,uO),zb=e=>Ir(e,cD),aO=e=>Ir(e,dD),lO=e=>Ir(e,uD),sc=e=>Ir(e,fD,!0),Ar=(e,t,n)=>{const s=rD.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Ir=(e,t,n=!1)=>{const s=aD.exec(e);return s?s[1]?t(s[1]):n:!1},cD=e=>e==="position"||e==="percentage",uD=e=>e==="image"||e==="url",dD=e=>e==="length"||e==="size"||e==="bg-size",mD=e=>e==="length",cO=e=>e==="number",uO=e=>e==="family-name",fD=e=>e==="shadow",dO=()=>{const e=Ct("color"),t=Ct("font"),n=Ct("text"),s=Ct("font-weight"),i=Ct("tracking"),o=Ct("leading"),r=Ct("breakpoint"),a=Ct("container"),c=Ct("spacing"),u=Ct("radius"),d=Ct("shadow"),m=Ct("inset-shadow"),f=Ct("text-shadow"),h=Ct("drop-shadow"),p=Ct("blur"),g=Ct("perspective"),v=Ct("aspect"),b=Ct("ease"),w=Ct("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...E(),Te,Ee],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],_=()=>[Te,Ee,c],P=()=>[Ao,"full","auto",..._()],k=()=>[ni,"none","subgrid",Te,Ee],L=()=>["auto",{span:["full",ni,Te,Ee]},ni,Te,Ee],B=()=>[ni,"auto",Te,Ee],A=()=>["auto","min","max","fr",Te,Ee],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",..._()],q=()=>[Ao,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],$=()=>[e,Te,Ee],Z=()=>[...E(),zb,Ub,{position:[Te,Ee]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",aO,iO,{size:[Te,Ee]}],ve=()=>[em,ta,Ri],j=()=>["","none","full",u,Te,Ee],ce=()=>["",Fe,ta,Ri],ge=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Fe,em,zb,Ub],me=()=>["","none",p,Te,Ee],De=()=>["none",Fe,Te,Ee],K=()=>["none",Fe,Te,Ee],J=()=>[Fe,Te,Ee],Y=()=>[Ao,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rs],breakpoint:[Rs],color:[Zj],container:[Rs],"drop-shadow":[Rs],ease:["in","out","in-out"],font:[sO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rs],shadow:[Rs],spacing:["px",Fe],text:[Rs],"text-shadow":[Rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ao,Ee,Te,v]}],container:["container"],columns:[{columns:[Fe,Ee,Te,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ni,"auto",Te,Ee]}],basis:[{basis:[Ao,"full","auto",a,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Ao,"auto","initial","none",Ee]}],grow:[{grow:["",Fe,Te,Ee]}],shrink:[{shrink:["",Fe,Te,Ee]}],order:[{order:[ni,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[r]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,ta,Ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Te,tm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",em,Ee]}],"font-family":[{font:[rO,Ee,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,Ee]}],"line-clamp":[{"line-clamp":[Fe,"none",Te,tm]}],leading:[{leading:[o,..._()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",Te,Ri]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Fe,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ni,Te,Ee],radial:["",Te,Ee],conic:[ni,Te,Ee]},lO,oO]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,Te,Ee]}],"outline-w":[{outline:["",Fe,ta,Ri]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",d,sc,nc]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",m,sc,nc]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Fe,Ri]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",f,sc,nc]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Fe,Te,Ee]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:me()}],brightness:[{brightness:[Fe,Te,Ee]}],contrast:[{contrast:[Fe,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",h,sc,nc]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Fe,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Fe,Te,Ee]}],invert:[{invert:["",Fe,Te,Ee]}],saturate:[{saturate:[Fe,Te,Ee]}],sepia:[{sepia:["",Fe,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Fe,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",Te,Ee]}],ease:[{ease:["linear","initial",b,Te,Ee]}],delay:[{delay:[Fe,Te,Ee]}],animate:[{animate:["none",w,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Te,Ee]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:J()}],"skew-x":[{"skew-x":J()}],"skew-y":[{"skew-y":J()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Fe,ta,Ri,tm]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mO=Gj(dO);function ke(...e){return mO(Py(e))}const oo=Cj,ro=Pj,ao=Aj,bi=x.forwardRef(({className:e,sideOffset:t=4,...n},s)=>l.jsxDEV(sD,{ref:s,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tooltip.tsx",lineNumber:15,columnNumber:3},void 0));bi.displayName=sD.displayName;const fO=[{path:"/search",label:"Search",icon:"/icons/search.svg"},{path:"/opd",label:"OPD",icon:"/icons/opd.png"},{path:"/cdu",label:"CDU",icon:"/icons/cdu.png"},{path:"/inpatient",label:"Inpatient",icon:"/icons/inpatient.png"},{path:"/palliative",label:"Palliative",icon:"/icons/palliative.png"},{path:"/tools",label:"Tools",icon:"/icons/tools.png"},{path:"/handbook",label:"Handbook",icon:"/icons/handbook.png"}],hO=()=>{const{sidebarCollapsed:e,toggleSidebar:t}=Hy(),n=os();return l.jsxDEV("div",{className:`
        fixed md:static top-0 left-0 h-screen
        ${e?"w-20":"w-64"}
        z-40 transition-all duration-300 ease-in-out
        bg-white/70 dark:bg-slate-900/90 backdrop-blur-md 
        border-r border-slate-200 dark:border-slate-800
        shadow-xl flex flex-col
      `,children:[l.jsxDEV("div",{className:"flex items-center justify-between px-4 py-4",children:[l.jsxDEV(Be.div,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},transition:{duration:.4},whileHover:{scale:1.05},className:"cursor-pointer",onClick:()=>n("/"),children:l.jsxDEV("img",{src:"/icons/mine.png",alt:"OncoVista Logo",className:`
              transition-all duration-300
              ${e?"w-8":"w-12"}
              h-auto rounded-full
              drop-shadow-[0_4px_8px_rgba(0,0,0,0.25)]
              dark:drop-shadow-[0_4px_8px_rgba(255,255,255,0.15)]
              hover:drop-shadow-[0_6px_12px_rgba(124,58,237,0.6)]
            `},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:49,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:40,columnNumber:9},void 0),l.jsxDEV("button",{onClick:t,className:"text-slate-500 dark:text-slate-300",children:e?l.jsxDEV(u2,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:63,columnNumber:31},void 0):l.jsxDEV(Qn,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:63,columnNumber:52},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:39,columnNumber:7},void 0),l.jsxDEV("nav",{className:"flex flex-col gap-2 mt-4",children:fO.map(({path:s,label:i,icon:o})=>l.jsxDEV(oo,{delayDuration:0,children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{asChild:!0,children:l.jsxDEV(r2,{to:s,children:({isActive:r})=>l.jsxDEV("div",{className:`relative group flex items-center gap-3 px-4 py-3 mx-2 rounded-lg transition-all duration-200
                        ${r?"bg-gradient-to-tr from-purple-600 to-indigo-600 text-white shadow-[0_0_10px_rgba(139,92,246,0.7)]":"text-slate-600 dark:text-slate-400 hover:text-white hover:bg-white/10"}
                      `,children:[l.jsxDEV("div",{className:"relative flex items-center justify-center min-w-[44px] min-h-[44px]",children:[r&&l.jsxDEV("div",{className:"absolute inset-0 rounded-full blur-lg bg-purple-500/30 scale-125 opacity-80"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:84,columnNumber:27},void 0),l.jsxDEV("img",{src:o,alt:i,title:i,"aria-label":i,className:`w-10 h-10 relative z-10 object-contain transition-all duration-300
                                    ${r?"drop-shadow-[0_0_12px_rgba(168,85,247,0.8)]":"drop-shadow-[0_2px_4px_rgba(0,0,0,0.25)] dark:drop-shadow-[0_2px_4px_rgba(255,255,255,0.15)]"}
                                    group-hover:drop-shadow-[0_4px_8px_rgba(124,58,237,0.6)] group-hover:scale-110`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:86,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:82,columnNumber:23},void 0),!e&&l.jsxDEV("span",{className:"font-medium text-sm",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:99,columnNumber:25},void 0),r&&l.jsxDEV("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1.5 bg-purple-500 rounded-r-md shadow-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:104,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:75,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:73,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:72,columnNumber:15},void 0),l.jsxDEV(bi,{side:"right",className:"text-xs px-2 py-1",children:e&&i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:110,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:71,columnNumber:13},void 0)},s,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:70,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:68,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-auto mb-4 mx-auto w-8 h-8 rounded-full bg-purple-700/50 blur-xl"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:119,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Sidebar.tsx",lineNumber:28,columnNumber:5},void 0)};var Wf=function(e,t){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},Wf(e,t)};function pO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ot=function(){return Ot=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ot.apply(this,arguments)};function gO(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Io(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,[])).next())})}function Ro(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=a(0),r.throw=a(1),r.return=a(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(u){return function(d){return c([u,d])}}function c(u){if(s)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(n=0)),n;)try{if(s=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{s=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function gs(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n}var Gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kp(e,t){return e(t={exports:{}},t.exports),t.exports}var Ui=Kp(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function s(){var i=this;this.locked=new Map,this.addToLocked=function(o,r){var a=i.locked.get(o);a===void 0?r===void 0?i.locked.set(o,[]):i.locked.set(o,[r]):r!==void 0&&(a.unshift(r),i.locked.set(o,a))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(r,a){i.isLocked(o)?i.addToLocked(o,r):(i.addToLocked(o),r())})},this.unlock=function(o){var r=i.locked.get(o);if(r!==void 0&&r.length!==0){var a=r.pop();i.locked.set(o,r),a!==void 0&&setTimeout(a,0)}else i.locked.delete(o)}}return s.getInstance=function(){return s.instance===void 0&&(s.instance=new s),s.instance},s}();t.default=function(){return n.getInstance()}});qp(Ui);var bO=qp(Kp(function(e,t){var n=Gi&&Gi.__awaiter||function(d,m,f,h){return new(f||(f=Promise))(function(p,g){function v(N){try{w(h.next(N))}catch(E){g(E)}}function b(N){try{w(h.throw(N))}catch(E){g(E)}}function w(N){N.done?p(N.value):new f(function(E){E(N.value)}).then(v,b)}w((h=h.apply(d,m||[])).next())})},s=Gi&&Gi.__generator||function(d,m){var f,h,p,g,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(w){return function(N){return function(E){if(f)throw new TypeError("Generator is already executing.");for(;v;)try{if(f=1,h&&(p=2&E[0]?h.return:E[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,E[1])).done)return p;switch(h=0,p&&(E=[2&E[0],p.value]),E[0]){case 0:case 1:p=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,h=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(p=v.trys,!((p=p.length>0&&p[p.length-1])||E[0]!==6&&E[0]!==2)){v=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){v.label=E[1];break}if(E[0]===6&&v.label<p[1]){v.label=p[1],p=E;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(E);break}p[2]&&v.ops.pop(),v.trys.pop();continue}E=m.call(d,v)}catch(D){E=[6,D],h=0}finally{f=p=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([w,N])}}},i=Gi;Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key",r={key:function(d){return n(i,void 0,void 0,function(){return s(this,function(m){throw new Error("Unsupported")})})},getItem:function(d){return n(i,void 0,void 0,function(){return s(this,function(m){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return s(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return n(i,void 0,void 0,function(){return s(this,function(m){throw new Error("Unsupported")})})},setItem:function(d,m){return n(i,void 0,void 0,function(){return s(this,function(f){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,m){return window.localStorage.setItem(d,m)}};function a(d){return new Promise(function(m){return setTimeout(m,d)})}function c(d){for(var m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",h=0;h<d;h++)f+=m[Math.floor(Math.random()*m.length)];return f}var u=function(){function d(m){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=m,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(m,f){return f===void 0&&(f=5e3),n(this,void 0,void 0,function(){var h,p,g,v,b,w,N;return s(this,function(E){switch(E.label){case 0:h=Date.now()+c(4),p=Date.now()+f,g=o+"-"+m,v=this.storageHandler===void 0?r:this.storageHandler,E.label=1;case 1:return Date.now()<p?[4,a(30)]:[3,8];case 2:return E.sent(),v.getItemSync(g)!==null?[3,5]:(b=this.id+"-"+m+"-"+h,[4,a(Math.floor(25*Math.random()))]);case 3:return E.sent(),v.setItemSync(g,JSON.stringify({id:this.id,iat:h,timeoutKey:b,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return E.sent(),(w=v.getItemSync(g))!==null&&(N=JSON.parse(w)).id===this.id&&N.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(g,h),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?r:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:E.sent(),E.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(m,f){return n(this,void 0,void 0,function(){var h=this;return s(this,function(p){return setTimeout(function(){return n(h,void 0,void 0,function(){var g,v,b;return s(this,function(w){switch(w.label){case 0:return[4,Ui.default().lock(f)];case 1:return w.sent(),this.acquiredIatSet.has(f)?(g=this.storageHandler===void 0?r:this.storageHandler,(v=g.getItemSync(m))===null?(Ui.default().unlock(f),[2]):((b=JSON.parse(v)).timeRefreshed=Date.now(),g.setItemSync(m,JSON.stringify(b)),Ui.default().unlock(f),this.refreshLockWhileAcquired(m,f),[2])):(Ui.default().unlock(f),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(m){return n(this,void 0,void 0,function(){return s(this,function(f){switch(f.label){case 0:return[4,new Promise(function(h){var p=!1,g=Date.now(),v=!1;function b(){if(v||(window.removeEventListener("storage",b),d.removeFromWaiting(b),clearTimeout(w),v=!0),!p){p=!0;var N=50-(Date.now()-g);N>0?setTimeout(h,N):h(null)}}window.addEventListener("storage",b),d.addToWaiting(b);var w=setTimeout(b,Math.max(0,m-Date.now()))})];case 1:return f.sent(),[2]}})})},d.addToWaiting=function(m){this.removeFromWaiting(m),d.waiters!==void 0&&d.waiters.push(m)},d.removeFromWaiting=function(m){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(f){return f!==m}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(m){return m()})},d.prototype.releaseLock=function(m){return n(this,void 0,void 0,function(){return s(this,function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(m)];case 1:return[2,f.sent()]}})})},d.prototype.releaseLock__private__=function(m){return n(this,void 0,void 0,function(){var f,h,p,g;return s(this,function(v){switch(v.label){case 0:return f=this.storageHandler===void 0?r:this.storageHandler,h=o+"-"+m,(p=f.getItemSync(h))===null?[2]:(g=JSON.parse(p)).id!==this.id?[3,2]:[4,Ui.default().lock(g.iat)];case 1:v.sent(),this.acquiredIatSet.delete(g.iat),f.removeItemSync(h),Ui.default().unlock(g.iat),d.notifyWaiters(),v.label=2;case 2:return[2]}})})},d.lockCorrector=function(m){for(var f=Date.now()-5e3,h=m,p=[],g=0;;){var v=h.keySync(g);if(v===null)break;p.push(v),g++}for(var b=!1,w=0;w<p.length;w++){var N=p[w];if(N.includes(o)){var E=h.getItemSync(N);if(E!==null){var D=JSON.parse(E);(D.timeRefreshed===void 0&&D.timeAcquired<f||D.timeRefreshed!==void 0&&D.timeRefreshed<f)&&(h.removeItemSync(N),b=!0)}}}b&&d.notifyWaiters()},d.waiters=void 0,d}();t.default=u}));const vO={timeoutInSeconds:60},hD={name:"auth0-spa-js",version:"2.1.3"},pD=()=>Date.now();let Tn=class Gf extends Error{constructor(t,n){super(n),this.error=t,this.error_description=n,Object.setPrototypeOf(this,Gf.prototype)}static fromPayload({error:t,error_description:n}){return new Gf(t,n)}},xO=class gD extends Tn{constructor(t,n,s,i=null){super(t,n),this.state=s,this.appState=i,Object.setPrototypeOf(this,gD.prototype)}},qf=class bD extends Tn{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,bD.prototype)}},NO=class vD extends qf{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,vD.prototype)}},yO=class xD extends Tn{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,xD.prototype)}},wO=class ND extends Tn{constructor(t,n,s){super(t,n),this.mfa_token=s,Object.setPrototypeOf(this,ND.prototype)}},yD=class wD extends Tn{constructor(t,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${$b(t,["default"])}', scope: '${$b(n)}')`),this.audience=t,this.scope=n,Object.setPrototypeOf(this,wD.prototype)}};function $b(e,t=[]){return e&&!t.includes(e)?e:""}const Uc=()=>window.crypto,nm=()=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let t="";return Array.from(Uc().getRandomValues(new Uint8Array(43))).forEach(n=>t+=e[n%e.length]),t},Wb=e=>btoa(e),Kf=e=>{var{clientId:t}=e,n=gs(e,["clientId"]);return new URLSearchParams((s=>Object.keys(s).filter(i=>s[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:s[o]}),{}))(Object.assign({client_id:t},n))).toString()},Gb=e=>(t=>decodeURIComponent(atob(t).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),DO=async(e,t)=>{const n=await fetch(e,t);return{ok:n.ok,json:await n.json()}},EO=async(e,t,n)=>{const s=new AbortController;let i;return t.signal=s.signal,Promise.race([DO(e,t),new Promise((o,r)=>{i=setTimeout(()=>{s.abort(),r(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})},TO=async(e,t,n,s,i,o,r)=>{return a={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:s,useFormData:r},c=o,new Promise(function(u,d){const m=new MessageChannel;m.port1.onmessage=function(f){f.data.error?d(new Error(f.data.error)):u(f.data),m.port1.close()},c.postMessage(a,[m.port2])});var a,c},SO=async(e,t,n,s,i,o,r=1e4)=>i?TO(e,t,n,s,r,i,o):EO(e,s,r);async function _O(e,t){var{baseUrl:n,timeout:s,audience:i,scope:o,auth0Client:r,useFormData:a}=e,c=gs(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const u=a?Kf(c):JSON.stringify(c);return await async function(d,m,f,h,p,g,v){let b,w=null;for(let _=0;_<3;_++)try{b=await SO(d,f,h,p,g,v,m),w=null;break}catch(P){w=P}if(w)throw w;const N=b.json,{error:E,error_description:D}=N,T=gs(N,["error","error_description"]),{ok:M}=b;if(!M){const _=D||`HTTP error. Unable to fetch ${d}`;throw E==="mfa_required"?new wO(E,_,T.mfa_token):E==="missing_refresh_token"?new yD(f,h):new Tn(E||"request_error",_)}return T}(`${n}/oauth/token`,s,i||"default",o,{method:"POST",body:u,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(r||hD))}},t,a)}const ic=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t};let Ji=class Yf{constructor(t,n="@@auth0spajs@@",s){this.prefix=n,this.suffix=s,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){const[n,s,i,o]=t.split("::");return new Yf({clientId:s,scope:o,audience:i},n)}static fromCacheEntry(t){const{scope:n,audience:s,client_id:i}=t;return new Yf({scope:n,audience:s,clientId:i})}},kO=class{set(t,n){localStorage.setItem(t,JSON.stringify(n))}get(t){const n=window.localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}},DD=class{constructor(){this.enclosedCache=function(){let t={};return{set(n,s){t[n]=s},get(n){const s=t[n];if(s)return s},remove(n){delete t[n]},allKeys:()=>Object.keys(t)}}()}},MO=class{constructor(t,n,s){this.cache=t,this.keyManifest=n,this.nowProvider=s||pD}async setIdToken(t,n,s){var i;const o=this.getIdTokenCacheKey(t);await this.cache.set(o,{id_token:n,decodedToken:s}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(o))}async getIdToken(t){const n=await this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!n&&t.scope&&t.audience){const s=await this.get(t);return!s||!s.id_token||!s.decodedToken?void 0:{id_token:s.id_token,decodedToken:s.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(t,n=0){var s;let i=await this.cache.get(t.toKey());if(!i){const a=await this.getCacheKeys();if(!a)return;const c=this.matchExistingCacheKey(t,a);c&&(i=await this.cache.get(c))}if(!i)return;const o=await this.nowProvider(),r=Math.floor(o/1e3);return i.expiresAt-n<r?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(t.toKey(),i),i.body):(await this.cache.remove(t.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(t.toKey()))):i.body}async set(t){var n;const s=new Ji({clientId:t.client_id,scope:t.scope,audience:t.audience}),i=await this.wrapCacheEntry(t);await this.cache.set(s.toKey(),i),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(s.toKey()))}async clear(t){var n;const s=await this.getCacheKeys();s&&(await s.filter(i=>!t||i.includes(t)).reduce(async(i,o)=>{await i,await this.cache.remove(o)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(t){const n=await this.nowProvider();return{body:t,expiresAt:Math.floor(n/1e3)+t.expires_in}}async getCacheKeys(){var t;return this.keyManifest?(t=await this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(t){return new Ji({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,n){return n.filter(s=>{var i;const o=Ji.fromKey(s),r=new Set(o.scope&&o.scope.split(" ")),a=((i=t.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&a.reduce((u,d)=>u&&r.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===t.clientId&&o.audience===t.audience&&c})[0]}};class CO{constructor(t,n,s){this.storage=t,this.clientId=n,this.cookieDomain=s,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const na=e=>typeof e=="number",PO=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],AO=e=>{if(!e.id_token)throw new Error("ID token is required but missing");const t=(o=>{const r=o.split("."),[a,c,u]=r;if(r.length!==3||!a||!c||!u)throw new Error("ID token could not be decoded");const d=JSON.parse(Gb(c)),m={__raw:o},f={};return Object.keys(d).forEach(h=>{m[h]=d[h],PO.includes(h)||(f[h]=d[h])}),{encoded:{header:a,payload:c,signature:u},header:JSON.parse(Gb(a)),claims:m,user:f}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!na(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!na(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!na(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=e.leeway||60,s=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(t.claims.exp+n),s>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${s}) is after expiration time (${i})`);if(t.claims.nbf!=null&&na(t.claims.nbf)){const o=new Date(0);if(o.setUTCSeconds(t.claims.nbf-n),s<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${s}) is before ${o}`)}if(t.claims.auth_time!=null&&na(t.claims.auth_time)){const o=new Date(0);if(o.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),s>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${s}) is after last auth at ${o}`)}if(e.organization){const o=e.organization.trim();if(o.startsWith("org_")){const r=o;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(r!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${r}", found "${t.claims.org_id}"`)}else{const r=o.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(r!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${r}", found "${t.claims.org_name}"`)}}return t};var Qi=Kp(function(e,t){var n=Gi&&Gi.__assign||function(){return n=Object.assign||function(c){for(var u,d=1,m=arguments.length;d<m;d++)for(var f in u=arguments[d])Object.prototype.hasOwnProperty.call(u,f)&&(c[f]=u[f]);return c},n.apply(this,arguments)};function s(c,u){if(!u)return"";var d="; "+c;return u===!0?d:d+"="+u}function i(c,u,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(m){if(typeof m.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+864e5*m.expires),m.expires=f}return s("Expires",m.expires?m.expires.toUTCString():"")+s("Domain",m.domain)+s("Path",m.path)+s("Secure",m.secure)+s("SameSite",m.sameSite)}(d)}function o(c){for(var u={},d=c?c.split("; "):[],m=/(%[\dA-F]{2})+/gi,f=0;f<d.length;f++){var h=d[f].split("="),p=h.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{u[h[0].replace(m,decodeURIComponent)]=p.replace(m,decodeURIComponent)}catch{}}return u}function r(){return o(document.cookie)}function a(c,u,d){document.cookie=i(c,u,n({path:"/"},d))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=r,t.get=function(c){return r()[c]},t.set=a,t.remove=function(c,u){a(c,"",n(n({},u),{expires:-1}))}});qp(Qi),Qi.encode,Qi.parse,Qi.getAll;var IO=Qi.get,ED=Qi.set,TD=Qi.remove;const Go={get(e){const t=IO(e);if(t!==void 0)return JSON.parse(t)},save(e,t,n){let s={};window.location.protocol==="https:"&&(s={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(s.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(s.domain=n.cookieDomain),ED(e,JSON.stringify(t),s)},remove(e,t){let n={};t!=null&&t.cookieDomain&&(n.domain=t.cookieDomain),TD(e,n)}},RO={get(e){return Go.get(e)||Go.get(`_legacy_${e}`)},save(e,t,n){let s={};window.location.protocol==="https:"&&(s={secure:!0}),n!=null&&n.daysUntilExpire&&(s.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(s.domain=n.cookieDomain),ED(`_legacy_${e}`,JSON.stringify(t),s),Go.save(e,t,n)},remove(e,t){let n={};t!=null&&t.cookieDomain&&(n.domain=t.cookieDomain),TD(e,n),Go.remove(e,t),Go.remove(`_legacy_${e}`,t)}},jO={get(e){if(typeof sessionStorage>"u")return;const t=sessionStorage.getItem(e);return t!=null?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function OO(e,t,n){var s=t===void 0?null:t,i=function(c,u){var d=atob(c);if(u){for(var m=new Uint8Array(d.length),f=0,h=d.length;f<h;++f)m[f]=d.charCodeAt(f);return String.fromCharCode.apply(null,new Uint16Array(m.buffer))}return d}(e,n!==void 0&&n),o=i.indexOf(`
`,10)+1,r=i.substring(o)+(s?"//# sourceMappingURL="+s:""),a=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(a)}var qb,Kb,Yb,sm,VO=(qb="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Kb=null,Yb=!1,function(e){return sm=sm||OO(qb,Kb,Yb),new Worker(sm,e)});const im={};class LO{constructor(t,n){this.cache=t,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(t){var n;const s=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);s.add(t),await this.cache.set(this.manifestKey,{keys:[...s]})}async remove(t){const n=await this.cache.get(this.manifestKey);if(n){const s=new Set(n.keys);return s.delete(t),s.size>0?await this.cache.set(this.manifestKey,{keys:[...s]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}}const FO={memory:()=>new DD().enclosedCache,localstorage:()=>new kO},Xb=e=>FO[e],Jb=e=>{const{openUrl:t,onRedirect:n}=e,s=gs(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},s),{openUrl:t===!1||t?t:n})},om=new bO;class BO{constructor(t){let n,s;if(this.userCache=new DD().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await om.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!Uc())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Uc().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)s=t.cache;else{if(n=t.cacheLocation||"memory",!Xb(n))throw new Error(`Invalid cache location "${n}"`);s=Xb(n)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?Go:RO,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(r=>`auth0.${r}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;const i=t.useCookiesForTransactions?this.cookieStorage:jO;var o;this.scope=ic("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new CO(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||pD,this.cacheManager=new MO(s,s.allKeys?void 0:new LO(s,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((r,a)=>r?r.startsWith("https://")?r:`https://${r}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new VO)}_url(t){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||hD)));return`${this.domainUrl}${t}&auth0Client=${n}`}_authorizeUrl(t){return this._url(`/authorize?${Kf(t)}`)}async _verifyIdToken(t,n,s){const i=await this.nowProvider();return AO({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:n,organization:s,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(t,n,s){const i=Wb(nm()),o=Wb(nm()),r=nm(),a=(d=>{const m=new Uint8Array(d);return(f=>{const h={"+":"-","/":"_","=":""};return f.replace(/[+/=]/g,p=>h[p])})(window.btoa(String.fromCharCode(...Array.from(m))))})(await(async d=>await Uc().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d)))(r)),c=((d,m,f,h,p,g,v,b)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),f),{scope:ic(m,f.scope),response_type:"code",response_mode:b||"query",state:h,nonce:p,redirect_uri:v||d.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,t,i,o,a,t.redirect_uri||this.options.authorizationParams.redirect_uri||s,n==null?void 0:n.response_mode),u=this._authorizeUrl(c);return{nonce:o,code_verifier:r,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:i,url:u}}async loginWithPopup(t,n){var s;if(t=t||{},!(n=n||{}).popup&&(n.popup=(a=>{const c=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${c},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;const o=await(a=>new Promise((c,u)=>{let d;const m=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(m),clearTimeout(f),window.removeEventListener("message",d,!1),u(new yO(a.popup)))},1e3),f=setTimeout(()=>{clearInterval(m),u(new NO(a.popup)),window.removeEventListener("message",d,!1)},1e3*(a.timeoutInSeconds||60));d=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(f),clearInterval(m),window.removeEventListener("message",d,!1),a.popup.close(),h.data.response.error)return u(Tn.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new Tn("state_mismatch","Invalid state");const r=((s=t.authorizationParams)===null||s===void 0?void 0:s.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:r})}async getUser(){var t;const n=await this._getIdTokenFromCache();return(t=n==null?void 0:n.decodedToken)===null||t===void 0?void 0:t.user}async getIdTokenClaims(){var t;const n=await this._getIdTokenFromCache();return(t=n==null?void 0:n.decodedToken)===null||t===void 0?void 0:t.claims}async loginWithRedirect(t={}){var n;const s=Jb(t),{openUrl:i,fragment:o,appState:r}=s,a=gs(s,["openUrl","fragment","appState"]),c=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:d}=u,m=gs(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},m),{appState:r}),c&&{organization:c}));const f=o?`${d}#${o}`:d;i?await i(f):window.location.assign(f)}async handleRedirectCallback(t=window.location.href){const n=t.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:s,code:i,error:o,error_description:r}=(m=>{m.indexOf("#")>-1&&(m=m.substring(0,m.indexOf("#")));const f=new URLSearchParams(m);return{state:f.get("state"),code:f.get("code")||void 0,error:f.get("error")||void 0,error_description:f.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new Tn("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new xO(o,r||o,s,a.appState);if(!a.code_verifier||a.state&&a.state!==s)throw new Tn("state_mismatch","Invalid state");const c=a.organization,u=a.nonce,d=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:u,organization:c}),{appState:a.appState}}async checkSession(t){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(t)}catch{}}async getTokenSilently(t={}){var n;const s=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:ic(this.scope,(n=t.authorizationParams)===null||n===void 0?void 0:n.scope)})}),i=await((o,r)=>{let a=im[r];return a||(a=o().finally(()=>{delete im[r],a=null}),im[r]=a),a})(()=>this._getTokenSilently(s),`${this.options.clientId}::${s.authorizationParams.audience}::${s.authorizationParams.scope}`);return t.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(t){const{cacheMode:n}=t,s=gs(t,["cacheMode"]);if(n!=="off"){const i=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(n!=="cache-only"){if(!await(async(i,o=3)=>{for(let r=0;r<o;r++)if(await i())return!0;return!1})(()=>om.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new qf;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const u=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(u)return u}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(s):await this._getTokenFromIFrame(s),{id_token:o,access_token:r,oauthTokenScope:a,expires_in:c}=i;return Object.assign(Object.assign({id_token:o,access_token:r},a?{scope:a}:null),{expires_in:c})}finally{await om.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(t={},n={}){var s;const i=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:ic(this.scope,(s=t.authorizationParams)===null||s===void 0?void 0:s.scope)})});return n=Object.assign(Object.assign({},vO),n),await this.loginWithPopup(i,n),(await this.cacheManager.get(new Ji({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const n=t.logoutParams||{},{federated:s}=n,i=gs(n,["federated"]),o=s?"&federated":"";return this._url(`/v2/logout?${Kf(Object.assign({clientId:t.clientId},i))}`)+o}async logout(t={}){const n=Jb(t),{openUrl:s}=n,i=gs(n,["openUrl"]);t.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const o=this._buildLogoutUrl(i);s?await s(o):s!==!1&&window.location.assign(o)}async _getTokenFromIFrame(t){const n=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),s=this.cookieStorage.get(this.orgHintCookieName);s&&!n.organization&&(n.organization=s);const{url:i,state:o,nonce:r,code_verifier:a,redirect_uri:c,scope:u,audience:d}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Tn("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const m=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,f=await((p,g,v=60)=>new Promise((b,w)=>{const N=window.document.createElement("iframe");N.setAttribute("width","0"),N.setAttribute("height","0"),N.style.display="none";const E=()=>{window.document.body.contains(N)&&(window.document.body.removeChild(N),window.removeEventListener("message",D,!1))};let D;const T=setTimeout(()=>{w(new qf),E()},1e3*v);D=function(M){if(M.origin!=g||!M.data||M.data.type!=="authorization_response")return;const _=M.source;_&&_.close(),M.data.response.error?w(Tn.fromPayload(M.data.response)):b(M.data.response),clearTimeout(T),window.removeEventListener("message",D,!1),setTimeout(E,2e3)},window.addEventListener("message",D,!1),window.document.body.appendChild(N),N.setAttribute("src",p)}))(i,this.domainUrl,m);if(o!==f.state)throw new Tn("state_mismatch","Invalid state");const h=await this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:a,code:f.code,grant_type:"authorization_code",redirect_uri:c,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:r,organization:n.organization});return Object.assign(Object.assign({},h),{scope:u,oauthTokenScope:h.scope,audience:d})}catch(m){throw m.error==="login_required"&&this.logout({openUrl:!1}),m}}async _getTokenUsingRefreshToken(t){const n=await this.cacheManager.get(new Ji({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw new yD(t.authorizationParams.audience||"default",t.authorizationParams.scope)}const s=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null;try{const o=await this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:s}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:t.authorizationParams.scope,oauthTokenScope:o.scope,audience:t.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw o}}async _saveEntryInCache(t){const{id_token:n,decodedToken:s}=t,i=gs(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:s}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const t=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new Ji({clientId:this.options.clientId,audience:t,scope:this.scope})),s=this.userCache.get("@@user@@");return n&&n.id_token===(s==null?void 0:s.id_token)?s:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:t,audience:n,clientId:s}){const i=await this.cacheManager.get(new Ji({scope:t,audience:n,clientId:s}),60);if(i&&i.access_token){const{access_token:o,oauthTokenScope:r,expires_in:a}=i,c=await this._getIdTokenFromCache();return c&&Object.assign(Object.assign({id_token:c.id_token,access_token:o},r?{scope:r}:null),{expires_in:a})}}async _requestToken(t,n){const{nonceIn:s,organization:i}=n||{},o=await _O(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},t),this.worker),r=await this._verifyIdToken(o.id_token,s,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:r,scope:t.scope,audience:t.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||r.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:r})}}var SD={isAuthenticated:!1,isLoading:!0},js=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},HO=Ot(Ot({},SD),{buildAuthorizeUrl:js,buildLogoutUrl:js,getAccessTokenSilently:js,getAccessTokenWithPopup:js,getIdTokenClaims:js,loginWithRedirect:js,loginWithPopup:js,logout:js,handleRedirectCallback:js}),_D=x.createContext(HO),Qb=function(e){pO(t,e);function t(n,s){var i=e.call(this,s||n)||this;return i.error=n,i.error_description=s,Object.setPrototypeOf(i,t.prototype),i}return t}(Error),UO=/[?&]code=[^&]+/,zO=/[?&]state=[^&]+/,$O=/[?&]error=[^&]+/,WO=function(e){return e===void 0&&(e=window.location.search),(UO.test(e)||$O.test(e))&&zO.test(e)},kD=function(e){return function(t){return t instanceof Error?t:t!==null&&typeof t=="object"&&"error"in t&&typeof t.error=="string"?"error_description"in t&&typeof t.error_description=="string"?new Qb(t.error,t.error_description):new Qb(t.error):new Error(e)}},Zb=kD("Login failed"),rm=kD("Get access token failed"),MD=function(e){var t;e!=null&&e.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),e.authorizationParams=e.authorizationParams||{},e.authorizationParams.redirect_uri=e.redirectUri,delete e.redirectUri),!((t=e==null?void 0:e.authorizationParams)===null||t===void 0)&&t.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),e.authorizationParams.redirect_uri=e.authorizationParams.redirectUri,delete e.authorizationParams.redirectUri)},GO=function(e,t){switch(t.type){case"LOGIN_POPUP_STARTED":return Ot(Ot({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Ot(Ot({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return e.user===t.user?e:Ot(Ot({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return Ot(Ot({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return Ot(Ot({},e),{isLoading:!1,error:t.error})}},qO=function(e){return MD(e),Ot(Ot({},e),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},KO=function(e){window.history.replaceState({},document.title,(e==null?void 0:e.returnTo)||window.location.pathname)},YO=function(e){var t=e.children,n=e.skipRedirectCallback,s=e.onRedirectCallback,i=s===void 0?KO:s,o=e.context,r=o===void 0?_D:o,a=gO(e,["children","skipRedirectCallback","onRedirectCallback","context"]),c=x.useState(function(){return new BO(qO(a))})[0],u=x.useReducer(GO,SD),d=u[0],m=u[1],f=x.useRef(!1),h=x.useCallback(function(T){return m({type:"ERROR",error:T}),T},[]);x.useEffect(function(){f.current||(f.current=!0,function(){return Io(void 0,void 0,void 0,function(){var T,M,_;return Ro(this,function(P){switch(P.label){case 0:return P.trys.push([0,7,,8]),T=void 0,WO()&&!n?[4,c.handleRedirectCallback()]:[3,3];case 1:return M=P.sent().appState,[4,c.getUser()];case 2:return T=P.sent(),i(M,T),[3,6];case 3:return[4,c.checkSession()];case 4:return P.sent(),[4,c.getUser()];case 5:T=P.sent(),P.label=6;case 6:return m({type:"INITIALISED",user:T}),[3,8];case 7:return _=P.sent(),h(Zb(_)),[3,8];case 8:return[2]}})})}())},[c,i,n,h]);var p=x.useCallback(function(T){return MD(T),c.loginWithRedirect(T)},[c]),g=x.useCallback(function(T,M){return Io(void 0,void 0,void 0,function(){var _,P;return Ro(this,function(k){switch(k.label){case 0:m({type:"LOGIN_POPUP_STARTED"}),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,c.loginWithPopup(T,M)];case 2:return k.sent(),[3,4];case 3:return _=k.sent(),h(Zb(_)),[2];case 4:return[4,c.getUser()];case 5:return P=k.sent(),m({type:"LOGIN_POPUP_COMPLETE",user:P}),[2]}})})},[c]),v=x.useCallback(function(T){return T===void 0&&(T={}),Io(void 0,void 0,void 0,function(){return Ro(this,function(M){switch(M.label){case 0:return[4,c.logout(T)];case 1:return M.sent(),(T.openUrl||T.openUrl===!1)&&m({type:"LOGOUT"}),[2]}})})},[c]),b=x.useCallback(function(T){return Io(void 0,void 0,void 0,function(){var M,_,P,k;return Ro(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,3,5]),[4,c.getTokenSilently(T)];case 1:return M=L.sent(),[3,5];case 2:throw _=L.sent(),rm(_);case 3:return P=m,k={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return P.apply(void 0,[(k.user=L.sent(),k)]),[7];case 5:return[2,M]}})})},[c]),w=x.useCallback(function(T,M){return Io(void 0,void 0,void 0,function(){var _,P,k,L;return Ro(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,3,5]),[4,c.getTokenWithPopup(T,M)];case 1:return _=B.sent(),[3,5];case 2:throw P=B.sent(),rm(P);case 3:return k=m,L={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return k.apply(void 0,[(L.user=B.sent(),L)]),[7];case 5:return[2,_]}})})},[c]),N=x.useCallback(function(){return c.getIdTokenClaims()},[c]),E=x.useCallback(function(T){return Io(void 0,void 0,void 0,function(){var M,_,P;return Ro(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,3,5]),[4,c.handleRedirectCallback(T)];case 1:return[2,k.sent()];case 2:throw M=k.sent(),rm(M);case 3:return _=m,P={type:"HANDLE_REDIRECT_COMPLETE"},[4,c.getUser()];case 4:return _.apply(void 0,[(P.user=k.sent(),P)]),[7];case 5:return[2]}})})},[c]),D=x.useMemo(function(){return Ot(Ot({},d),{getAccessTokenSilently:b,getAccessTokenWithPopup:w,getIdTokenClaims:N,loginWithRedirect:p,loginWithPopup:g,logout:v,handleRedirectCallback:E})},[d,b,w,N,p,g,v,E]);return Re.createElement(r.Provider,{value:D},t)},ei=function(e){return e===void 0&&(e=_D),x.useContext(e)};class XO{constructor(){Me(this,"contentIndex",[]);Me(this,"isIndexed",!1);Me(this,"indexingPromise",null)}async initialize(){if(!this.isIndexed){if(this.indexingPromise)return this.indexingPromise;this.indexingPromise=this.buildIndex(),await this.indexingPromise,this.isIndexed=!0}}async buildIndex(){console.log(" Building handbook search index...");const t=["medical-oncology","radiation-oncology","palliative-care"],n={"medical-oncology":"medical_oncology_handbook","radiation-oncology":"radiation_handbook","palliative-care":"palliative_handbook"};for(const s of t){const i=n[s];await this.indexSection(s,i)}console.log(` Search index built with ${this.contentIndex.length} items`)}async indexSection(t,n){try{const s=await fetch(`/public/${n}/toc.json`);if(!s.ok){console.warn(` Could not load TOC for ${t}`);return}const i=await s.json();await this.indexTocItems(i,t,n,""),await this.indexMarkdownFiles(t,n)}catch(s){console.error(` Error indexing section ${t}:`,s)}}async indexTocItems(t,n,s,i){for(const o of t)o.path&&await this.indexContentFile(o,n,s),o.items&&Array.isArray(o.items)&&await this.indexTocItems(o.items,n,s,i)}async indexContentFile(t,n,s){try{const i=`/public/${s}/${t.path}.json`,o=await fetch(i);if(!o.ok)return;const r=await o.json(),a=this.extractSearchableText(r),c={id:`${n}/${t.path}`,title:r.title||t.title,section:n,category:r.category||this.getSectionDisplayName(n),path:t.path,content:JSON.stringify(r),searchableText:a};this.contentIndex.push(c)}catch(i){console.warn(` Could not index ${t.path}:`,i)}}async indexMarkdownFiles(t,n){if(t!=="palliative-care")return;const s=["introduction","symptom-management","pain-control","medication-guide","assessment-tools","communication-skills","goals-of-care","psychosocial","ethical-issues","case-studies","bereavement"];for(const i of s)try{const o=`/public/${n}/sections/${i}.md`,r=await fetch(o);if(!r.ok)continue;const a=await r.text(),c=this.extractMarkdownTitle(a)||i.replace(/-/g," "),u={id:`${t}/sections/${i}`,title:c,section:t,category:this.getSectionDisplayName(t),path:`sections/${i}`,content:a,searchableText:this.cleanMarkdownText(a)};this.contentIndex.push(u)}catch(o){console.warn(` Could not index markdown ${i}:`,o)}}extractSearchableText(t){const n=[];return t.title&&n.push(t.title),t.summary&&n.push(t.summary),t.content&&Array.isArray(t.content)&&t.content.forEach(s=>{switch(s.type){case"paragraph":case"clinical_pearl":n.push(s.text||"");break;case"heading":n.push(s.text||"");break;case"list":s.items&&n.push(...s.items);break;case"table":s.headers&&n.push(...s.headers),s.rows&&s.rows.forEach(i=>{n.push(...i)});break}}),n.join(" ").toLowerCase()}extractMarkdownTitle(t){const n=t.match(/^#\s+(.+)$/m);return n?n[1]:null}cleanMarkdownText(t){return t.replace(/#{1,6}\s+/g,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[(.+?)\]\(.+?\)/g,"$1").replace(/<!--.*?-->/gs,"").toLowerCase()}getSectionDisplayName(t){return{"medical-oncology":"Medical Oncology","radiation-oncology":"Radiation Oncology","palliative-care":"Palliative Care"}[t]||t}async search(t,n={}){if(await this.initialize(),!t.trim())return[];const s=t.toLowerCase().split(/\s+/).filter(o=>o.length>1),i=[];for(const o of this.contentIndex){if(n.sections&&!n.sections.includes(o.section))continue;const r=this.calculateScore(o,s);if(r<(n.minScore||.1))continue;const a=this.findMatches(o,s),c=this.generateSnippet(o,s);i.push({id:o.id,title:o.title,section:o.section,category:o.category,path:o.path,content:n.includeContent?o.content:"",snippet:c,score:r,matches:a})}return i.sort((o,r)=>r.score-o.score),i.slice(0,n.maxResults||50)}calculateScore(t,n){let s=0;for(const i of n){t.title.toLowerCase().includes(i)&&(s+=3);const o=(t.searchableText.match(new RegExp(i,"g"))||[]).length;if(s+=o*1,n.length>1){const r=n.join(" ");t.searchableText.includes(r)&&(s+=5)}}return s/Math.sqrt(t.searchableText.length/1e3)}findMatches(t,n){const s=[];for(const i of n){const o=new RegExp(`\\b${i}\\b`,"gi");let r;for(;(r=o.exec(t.searchableText))!==null;){const a=Math.max(0,r.index-50),c=Math.min(t.searchableText.length,r.index+i.length+50),u=t.searchableText.slice(a,c);if(s.push({text:i,start:r.index,end:r.index+i.length,context:`...${u}...`}),s.length>=3)break}}return s}generateSnippet(t,n){for(const i of n){const o=t.searchableText.indexOf(i);if(o!==-1){const r=Math.max(0,o-100),a=Math.min(t.searchableText.length,o+100);let c=t.searchableText.slice(r,a);return r>0&&(c="..."+c),a<t.searchableText.length&&(c=c+"..."),c.slice(0,200)}}return t.searchableText.slice(0,200)+"..."}async getSuggestions(t,n=10){await this.initialize();const s=new Set,i=t.toLowerCase();for(const o of this.contentIndex){o.title.toLowerCase().includes(i)&&s.add(o.title);const r=o.searchableText.split(/\s+/);for(const a of r)a.length>3&&a.includes(i)&&s.add(a);if(s.size>=n)break}return Array.from(s).slice(0,n)}clearIndex(){this.contentIndex=[],this.isIndexed=!1,this.indexingPromise=null}}const Xf=new XO;function CD({onResultSelect:e,placeholder:t="Search handbook content...",showFilters:n=!0,defaultSection:s,className:i}){const[o,r]=x.useState(""),[a,c]=x.useState([]),[u,d]=x.useState(!1),[m,f]=x.useState(!1),[h,p]=x.useState(s||"all"),[g,v]=x.useState([]),[b,w]=x.useState([]),N=x.useRef(null),E=x.useRef(null),D=os();x.useEffect(()=>{const O=localStorage.getItem("handbook-recent-searches");if(O)try{v(JSON.parse(O))}catch{console.warn("Failed to load recent searches")}},[]);const T=x.useCallback(O=>{const U=O.trim();!U||U.length<3||v(q=>{const $=q.filter(I=>I!==U),Z=[U,...$].slice(0,5);return localStorage.setItem("handbook-recent-searches",JSON.stringify(Z)),Z})},[]),M=x.useCallback(O=>{const U=setTimeout(async()=>{if(!O.trim()){c([]),w([]);return}d(!0);try{const q={maxResults:20,minScore:.1};h!=="all"&&(q.sections=[h]);const $=await Xf.search(O,q);if(c($),O.length<10){const Z=await Xf.getSuggestions(O,5);w(Z)}else w([])}catch(q){console.error("Search error:",q),c([]),w([])}finally{d(!1)}},300);return()=>clearTimeout(U)},[h]);x.useEffect(()=>M(o),[o,M]);const _=x.useCallback(O=>{if(T(o),f(!1),r(""),e)e(O);else{const U=`/handbook/${O.section}/${O.path}`;D(U)}},[o,e,D,T]),P=x.useCallback(O=>{var U;r(O),(U=N.current)==null||U.focus()},[]),k=x.useCallback(O=>{var U;r(O),(U=N.current)==null||U.focus()},[]),L=x.useCallback(()=>{f(!0)},[]),B=x.useCallback(O=>{var U;(U=E.current)!=null&&U.contains(O.relatedTarget)||setTimeout(()=>f(!1),150)},[]),A=x.useCallback(()=>{var O;r(""),c([]),w([]),f(!1),(O=N.current)==null||O.focus()},[]),V=[{value:"all",label:"All Sections"},{value:"medical-oncology",label:"Medical Oncology"},{value:"radiation-oncology",label:"Radiation Oncology"},{value:"palliative-care",label:"Palliative Care"}];return l.jsxDEV("div",{className:ke("relative w-full max-w-2xl",i),children:[l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsxDEV(cr,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:170,columnNumber:9},this),l.jsxDEV("input",{ref:N,type:"text",value:o,onChange:O=>r(O.target.value),onFocus:L,onBlur:B,placeholder:t,className:ke("block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","placeholder-gray-500 dark:placeholder-gray-400","focus:ring-2 focus:ring-blue-500 focus:border-blue-500","dark:border-gray-600 dark:focus:border-blue-400","transition-all duration-200")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:174,columnNumber:9},this),l.jsxDEV("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?l.jsxDEV(Zs,{className:"h-5 w-5 text-gray-400 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:195,columnNumber:13},this):o?l.jsxDEV("button",{onClick:A,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsxDEV(Qn,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:201,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:197,columnNumber:13},this):null},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:193,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:169,columnNumber:7},this),n&&l.jsxDEV("div",{className:"mt-2",children:l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Jh,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:211,columnNumber:13},this),l.jsxDEV("select",{value:h,onChange:O=>p(O.target.value),className:ke("text-sm border border-gray-300 rounded-md px-2 py-1","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","dark:border-gray-600 focus:ring-1 focus:ring-blue-500"),children:V.map(O=>l.jsxDEV("option",{value:O.value,children:O.label},O.value,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:222,columnNumber:17},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:212,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:210,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:209,columnNumber:9},this),l.jsxDEV(Ts,{children:m&&l.jsxDEV(Be.div,{ref:E,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:ke("absolute top-full left-0 right-0 mt-2 z-50","bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600","rounded-lg shadow-lg max-h-96 overflow-y-auto"),children:[!o&&g.length>0&&l.jsxDEV("div",{className:"p-3 border-b border-gray-200 dark:border-gray-600",children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxDEV(No,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:250,columnNumber:19},this),l.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recent Searches"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:251,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:249,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-1",children:g.map((O,U)=>l.jsxDEV("button",{onClick:()=>k(O),className:ke("block w-full text-left px-2 py-1 text-sm rounded","text-gray-600 dark:text-gray-400","hover:bg-gray-100 dark:hover:bg-gray-700"),children:O},U,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:257,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:248,columnNumber:15},this),o&&b.length>0&&l.jsxDEV("div",{className:"p-3 border-b border-gray-200 dark:border-gray-600",children:[l.jsxDEV("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Suggestions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:276,columnNumber:17},this),l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:b.map((O,U)=>l.jsxDEV("button",{onClick:()=>P(O),className:ke("px-2 py-1 text-xs rounded-full","bg-blue-50 text-blue-700 hover:bg-blue-100","dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50"),children:O},U,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:281,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:279,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:275,columnNumber:15},this),a.length>0&&l.jsxDEV("div",{className:"p-2",children:[l.jsxDEV("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 px-2",children:["Results (",a.length,")"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:300,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-1",children:a.map(O=>l.jsxDEV("button",{onClick:()=>_(O),className:ke("w-full text-left p-3 rounded-lg","hover:bg-gray-50 dark:hover:bg-gray-700","transition-colors duration-150"),children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(Zn,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:315,columnNumber:25},this),l.jsxDEV("div",{className:"flex-1 min-w-0",children:[l.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:O.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:317,columnNumber:27},this),l.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[O.category,"  ",O.section]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:320,columnNumber:27},this),l.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:O.snippet},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:323,columnNumber:27},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:316,columnNumber:25},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:314,columnNumber:23},this)},O.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:305,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:303,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:299,columnNumber:15},this),o&&!u&&a.length===0&&l.jsxDEV("div",{className:"p-8 text-center",children:[l.jsxDEV(Zn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:337,columnNumber:17},this),l.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:['No results found for "',o,'"']},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:338,columnNumber:17},this),l.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Try different keywords or check spelling"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:341,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:336,columnNumber:15},this),!o&&g.length===0&&l.jsxDEV("div",{className:"p-8 text-center",children:[l.jsxDEV(cr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:350,columnNumber:17},this),l.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Start typing to search handbook content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:351,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:349,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:234,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:232,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/HandbookSearch.tsx",lineNumber:167,columnNumber:5},this)}function JO({className:e}){const[t,n]=a2(),[s,i]=x.useState([]),[o,r]=x.useState(!1),[a,c]=x.useState("all"),[u,d]=x.useState("relevance"),[m,f]=x.useState("list"),h=os(),p=t.get("q")||"",g=["neutropenic fever","staging","palliative care","pain management","chemotherapy protocols","radiation therapy","tumor markers","emergency oncology"],v=[{title:"CAR-T Cell Therapy Guidelines",section:"medical-oncology",category:"Treatment Modalities",date:"2024-05-20"},{title:"Advanced Pain Control Techniques",section:"palliative-care",category:"Symptom Management",date:"2024-05-18"},{title:"SBRT Treatment Planning",section:"radiation-oncology",category:"Treatment Planning",date:"2024-05-15"}];x.useEffect(()=>{p&&b(p)},[p,a]);const b=async _=>{if(!_.trim()){i([]);return}r(!0);try{const P=await Xf.search(_,{sections:a==="all"?void 0:[a],maxResults:50,minScore:.05,includeContent:!1}),k=w(P,u);i(k)}catch(P){console.error("Search error:",P),i([])}finally{r(!1)}},w=(_,P)=>{switch(P){case"title":return[..._].sort((k,L)=>k.title.localeCompare(L.title));case"section":return[..._].sort((k,L)=>k.section.localeCompare(L.section));case"relevance":default:return _}},N=_=>{const P=`/handbook/${_.section}/${_.path}`;h(P)},E=_=>{n({q:_})},D=(_,P)=>{if(!P)return _;const k=P.toLowerCase().split(/\s+/);let L=_;return k.forEach(B=>{if(B.length>1){const A=new RegExp(`(${B})`,"gi");L=L.replace(A,"<mark>$1</mark>")}}),l.jsxDEV("span",{dangerouslySetInnerHTML:{__html:L}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:126,columnNumber:12},this)},T=_=>{switch(_){case"medical-oncology":return"";case"radiation-oncology":return"";case"palliative-care":return"";default:return""}},M=_=>{switch(_){case"medical-oncology":return"Medical Oncology";case"radiation-oncology":return"Radiation Oncology";case"palliative-care":return"Palliative Care";default:return _}};return l.jsxDEV("div",{className:ke("min-h-screen bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800",e),children:[l.jsxDEV("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700 sticky top-0 z-40",children:l.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[l.jsxDEV("div",{className:"flex-1",children:[l.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Handbook Search"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:162,columnNumber:15},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Search across all oncology handbook content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:165,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:161,columnNumber:13},this),l.jsxDEV("div",{className:"flex-1 max-w-2xl",children:l.jsxDEV(CD,{placeholder:"Search treatments, guidelines, protocols...",showFilters:!1,onResultSelect:N},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:172,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:158,columnNumber:7},this),l.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsxDEV("div",{className:"lg:col-span-1",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsxDEV(Jh,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:190,columnNumber:19},this),"Filters"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:189,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Section"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:197,columnNumber:21},this),l.jsxDEV("select",{value:a,onChange:_=>c(_.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white",children:[l.jsxDEV("option",{value:"all",children:"All Sections"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:205,columnNumber:23},this),l.jsxDEV("option",{value:"medical-oncology",children:"Medical Oncology"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:206,columnNumber:23},this),l.jsxDEV("option",{value:"radiation-oncology",children:"Radiation Oncology"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:207,columnNumber:23},this),l.jsxDEV("option",{value:"palliative-care",children:"Palliative Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:208,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:200,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:196,columnNumber:19},this),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort by"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:214,columnNumber:21},this),l.jsxDEV("select",{value:u,onChange:_=>d(_.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white",children:[l.jsxDEV("option",{value:"relevance",children:"Relevance"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:222,columnNumber:23},this),l.jsxDEV("option",{value:"title",children:"Title"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:223,columnNumber:23},this),l.jsxDEV("option",{value:"section",children:"Section"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:224,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:217,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:213,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:188,columnNumber:15},this),l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsxDEV(d2,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:233,columnNumber:19},this),"Popular Searches"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:232,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-2",children:g.map((_,P)=>l.jsxDEV("button",{onClick:()=>E(_),className:"block w-full text-left text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline",children:_},P,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:238,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:231,columnNumber:15},this),l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsxDEV(No,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:252,columnNumber:19},this),"Recent Additions"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:251,columnNumber:17},this),l.jsxDEV("div",{className:"space-y-3",children:v.map((_,P)=>l.jsxDEV("div",{className:"text-sm",children:[l.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:_.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:258,columnNumber:23},this),l.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[M(_.section),"  ",_.date]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:261,columnNumber:23},this)]},P,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:257,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:255,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:185,columnNumber:11},this),l.jsxDEV("div",{className:"lg:col-span-3",children:p?l.jsxDEV("div",{children:[l.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:l.jsxDEV("div",{children:[l.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Search Results"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:316,columnNumber:21},this),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o?"Searching...":`${s.length} results for "${p}"`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:319,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:315,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:314,columnNumber:17},this),l.jsxDEV(Ts,{mode:"wait",children:o?l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center py-12",children:l.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:328,columnNumber:21},this):s.length>0?l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.map((_,P)=>l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.05},className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:l.jsxDEV("button",{onClick:()=>N(_),className:"w-full text-left group",children:l.jsxDEV("div",{className:"flex items-start gap-4",children:[l.jsxDEV("div",{className:"text-2xl mt-1",children:T(_.section)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:356,columnNumber:31},this),l.jsxDEV("div",{className:"flex-1 min-w-0",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 mb-1",children:D(_.title,p)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:360,columnNumber:33},this),l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxDEV("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:M(_.section)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:364,columnNumber:35},this),l.jsxDEV("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",_.category]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:367,columnNumber:35},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:363,columnNumber:33},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:D(_.snippet,p)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:371,columnNumber:33},this),l.jsxDEV("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300",children:["Read more",l.jsxDEV(m2,{className:"h-3 w-3 ml-1 group-hover:translate-x-1 transition-transform"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:376,columnNumber:35},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:374,columnNumber:33},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:359,columnNumber:31},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:355,columnNumber:29},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:351,columnNumber:27},this)},_.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:344,columnNumber:25},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:337,columnNumber:21},this):l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[l.jsxDEV(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:391,columnNumber:23},this),l.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No results found"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:392,columnNumber:23},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try different keywords or check your spelling"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:395,columnNumber:23},this),l.jsxDEV("button",{onClick:()=>n({}),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Clear search"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:398,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:385,columnNumber:21},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:326,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:312,columnNumber:15},this):l.jsxDEV("div",{className:"text-center py-12",children:[l.jsxDEV(cr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:276,columnNumber:17},this),l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Search Handbook Content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:277,columnNumber:17},this),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Find specific treatments, guidelines, protocols, and clinical information across all handbook sections."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:280,columnNumber:17},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[{title:"Treatments",examples:["chemotherapy","immunotherapy","radiation"]},{title:"Guidelines",examples:["staging","protocols","pathways"]},{title:"Emergencies",examples:["neutropenic fever","SVC syndrome","TLS"]}].map((_,P)=>l.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:_.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:292,columnNumber:23},this),l.jsxDEV("div",{className:"space-y-1",children:_.examples.map((k,L)=>l.jsxDEV("button",{onClick:()=>E(k),className:"block text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline",children:k},L,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:297,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:295,columnNumber:23},this)]},P,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:291,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:285,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:275,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:183,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:182,columnNumber:7},this),l.jsxDEV("style",{jsx:!0,children:`
        mark {
          background-color: #fef08a;
          color: #1f2937;
          padding: 1px 2px;
          border-radius: 2px;
        }
        .dark mark {
          background-color: #eab308;
          color: #111827;
        }
      `},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:414,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/HandbookSearch/SearchPage.tsx",lineNumber:156,columnNumber:5},this)}const ev={Search:cr},mu=({className:e="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:t="Log In"})=>{const{loginWithRedirect:n,isLoading:s}=ei(),i=()=>{n({appState:{returnTo:window.location.pathname==="/callback"?"/dashboard":window.location.pathname+window.location.search}})};return l.jsxDEV("button",{onClick:i,disabled:s,className:e,children:s?"Loading...":t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/LoginButton.tsx",lineNumber:28,columnNumber:5},void 0)},Ju=({className:e="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:t="Log Out"})=>{const{logout:n,isLoading:s}=ei(),i=()=>{n({logoutParams:{returnTo:"https://mwoncovista.netlify.app"}})};return l.jsxDEV("button",{onClick:i,disabled:s,className:e,children:s?"Loading...":t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/LogoutButton.tsx",lineNumber:26,columnNumber:5},void 0)},QO=()=>{const[e,t]=x.useState(()=>localStorage.getItem("theme")==="dark"),[n,s]=x.useState(new Date),[i,o]=x.useState(!1),r=os(),{isAuthenticated:a,isLoading:c,user:u}=ei();x.useEffect(()=>{const m=window.document.documentElement;e?(m.classList.add("dark"),localStorage.setItem("theme","dark")):(m.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),x.useEffect(()=>{const m=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(m)},[]);const d=()=>{r("/search")};return l.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-indigo-600 to-blue-500 dark:from-indigo-900 dark:to-blue-800 text-white shadow-lg transition-colors duration-200",children:[l.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[l.jsxDEV("div",{className:"flex-shrink-0 flex items-center gap-2",children:[l.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:50,columnNumber:13},void 0),l.jsxDEV("h1",{className:"text-xl font-semibold hidden sm:block",children:"Welcome to OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:49,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex items-center gap-6",children:[l.jsxDEV("div",{className:"hidden lg:block relative",children:i?l.jsxDEV("div",{className:"relative",children:l.jsxDEV(CD,{placeholder:"Quick search...",showFilters:!1,className:"w-64",onResultSelect:()=>o(!1)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:62,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:61,columnNumber:17},void 0):l.jsxDEV("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",title:"Quick search",children:[l.jsxDEV(ev.Search,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:74,columnNumber:19},void 0),l.jsxDEV("span",{className:"text-sm",children:"Search..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:75,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:70,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:59,columnNumber:13},void 0),l.jsxDEV("button",{onClick:d,className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",title:"Search handbook",children:l.jsxDEV(ev.Search,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:85,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:81,columnNumber:13},void 0),l.jsxDEV("div",{className:"hidden md:flex items-center gap-2",children:[l.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:88,columnNumber:15},void 0),l.jsxDEV("div",{className:"text-xl font-medium",children:n.toLocaleTimeString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:57,columnNumber:11},void 0),"          ",l.jsxDEV("div",{className:"flex items-center gap-4",children:[l.jsxDEV("button",{onClick:()=>t(!e),className:"p-2 rounded-full hover:bg-white/10 transition-colors",title:e?"Switch to light mode":"Switch to dark mode",children:l.jsxDEV("span",{className:"text-lg",children:e?"":""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:100,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:95,columnNumber:13},void 0),c?l.jsxDEV("div",{className:"text-white/80",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:105,columnNumber:15},void 0):a?l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV("span",{className:"text-white/90 hidden sm:block",children:["Welcome, ",(u==null?void 0:u.name)||(u==null?void 0:u.email)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:108,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>r("/dashboard"),className:"px-3 py-2 text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-colors text-sm font-medium",children:"Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:111,columnNumber:17},void 0),l.jsxDEV(Ju,{className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:117,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:107,columnNumber:15},void 0):l.jsxDEV(mu,{className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:120,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:94,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:47,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:46,columnNumber:7},void 0),i&&l.jsxDEV("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>o(!1)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Header.tsx",lineNumber:45,columnNumber:5},void 0)},ZO=e=>{const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),t},eV=(e,t=100,n=!1)=>{const s=ZO(e),i=x.useRef(),o=[t,n,s];function r(){i.current&&clearTimeout(i.current),i.current=void 0}x.useEffect(()=>r,o);function a(){i.current=void 0}return x.useCallback(function(){const c=arguments,{current:u}=i;if(u===void 0&&n)return i.current=setTimeout(a,t),s.current.apply(null,c);u&&clearTimeout(u),i.current=setTimeout(()=>{i.current=void 0,s.current.apply(null,c)},t)},o)},tV=(e,t,n)=>{const s=x.useState(e);return[s[0],eV(s[1],t,n)]};function am(e,t,n,s){const i=x.useRef(n),o=x.useRef(s);x.useEffect(()=>{i.current=n,o.current=s}),x.useEffect(()=>{const r=e&&"current"in e?e.current:e;if(!r)return;let a=0;function c(...d){a||i.current.apply(this,d)}r.addEventListener(t,c);const u=o.current;return()=>{a=1,r.removeEventListener(t,c),u&&u()}},[e,t])}const nV={},Pa=typeof window>"u"?null:window,sV=Pa&&typeof Pa.visualViewport<"u"?Pa.visualViewport:null,tv=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],iV=function(e){e===void 0&&(e=nV);const{wait:t,leading:n,initialWidth:s=0,initialHeight:i=0}=e,[o,r]=tV(typeof document>"u"?[s,i]:tv,t,n),a=()=>r(tv);return am(Pa,"resize",a),am(sV,"resize",a),am(Pa,"orientationchange",a),o},oV=e=>iV(e)[0],rV=({children:e})=>{const{sidebarCollapsed:t,toggleSidebar:n}=Hy(),s=oV();return x.useEffect(()=>{s<768&&!t&&n()},[s]),l.jsxDEV("div",{className:"flex flex-col min-h-screen bg-background text-gray-900 dark:text-white transition-colors duration-300",children:[l.jsxDEV(QO,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:20,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex flex-1",children:[l.jsxDEV(hO,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:22,columnNumber:9},void 0),l.jsxDEV("main",{className:"flex-1 p-6 mt-16",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:21,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/layout/Layout.tsx",lineNumber:19,columnNumber:5},void 0)};var PD={exports:{}};(function(e,t){(function(s,i){e.exports=i()})(Bt,function(){return function(){var n={"./packages/@logrocket/console/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=u(c("./packages/@logrocket/console/src/registerConsole.js")),m=d.default;a.default=m},"./packages/@logrocket/console/src/registerConsole.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=h;var d=u(c("./node_modules/@babel/runtime/helpers/typeof.js")),m=u(c("./packages/@logrocket/utils/src/enhanceFunc.ts")),f=c("./packages/@logrocket/exceptions/src/index.js");function h(p){var g=[],v=["log","warn","info","error","debug"];return v.forEach(function(b){g.push((0,m.default)(console,b,function(){for(var w=arguments.length,N=new Array(w),E=0;E<w;E++)N[E]=arguments[E];p.addEvent("lr.core.LogEvent",function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=D.isEnabled;if((0,d.default)(T)==="object"&&T[b]===!1||T===!1)return null;if(b==="error"&&D.shouldAggregateConsoleErrors)if(N&&N.length>=2&&N[0]==="ERROR"){var M="";try{M=" ".concat(N[1])}catch{}f.Capture.captureMessage(p,"".concat(N[0]).concat(M),N,{},!0)}else f.Capture.captureMessage(p,N[0],N,{},!0);return{logLevel:b.toUpperCase(),args:N}})}))}),function(){g.forEach(function(b){return b()})}}},"./packages/@logrocket/exceptions/src/Capture.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.captureMessage=h,a.captureException=p;var d=c("./packages/@logrocket/utils/src/scrubException.ts"),m=u(c("./packages/@logrocket/utils/src/TraceKit.js")),f=u(c("./packages/@logrocket/exceptions/src/stackTraceFromError.js"));function h(g,v,b){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,E={exceptionType:N?"CONSOLE":"MESSAGE",message:v,messageArgs:b,browserHref:window.location?window.location.href:""};(0,d.scrubException)(E,w),g.addEvent("lr.core.Exception",function(){return E})}function p(g,v){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"WINDOW",E=w||m.default.computeStackTrace(v),D={exceptionType:N,errorType:E.name,message:E.message,browserHref:window.location?window.location.href:""};(0,d.scrubException)(D,b);var T={_stackTrace:(0,f.default)(E)};g.addEvent("lr.core.Exception",function(){return D},T)}},"./packages/@logrocket/exceptions/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=c("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"registerExceptions",{enumerable:!0,get:function(){return m.default}}),a.Capture=void 0;var m=u(c("./packages/@logrocket/exceptions/src/registerExceptions.js")),f=p(c("./packages/@logrocket/exceptions/src/Capture.js"));a.Capture=f;function h(g){if(typeof WeakMap!="function")return null;var v=new WeakMap,b=new WeakMap;return(h=function(N){return N?b:v})(g)}function p(g,v){if(g&&g.__esModule)return g;if(g===null||d(g)!=="object"&&typeof g!="function")return{default:g};var b=h(v);if(b&&b.has(g))return b.get(g);var w={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in g)if(E!=="default"&&Object.prototype.hasOwnProperty.call(g,E)){var D=N?Object.getOwnPropertyDescriptor(g,E):null;D&&(D.get||D.set)?Object.defineProperty(w,E,D):w[E]=g[E]}return w.default=g,b&&b.set(g,w),w}},"./packages/@logrocket/exceptions/src/raven/raven.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),m=u(c("./node_modules/@babel/runtime/helpers/createClass.js")),f=u(c("./packages/@logrocket/utils/src/TraceKit.js")),h=Object.prototype;function p(E){return E===void 0}function g(E){return typeof E=="function"}function v(E,D){return h.hasOwnProperty.call(E,D)}function b(E,D,T,M){var _=E[D];E[D]=T(_),M&&M.push([E,D,_])}var w=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{};w.document;var N=function(){function E(D){var T=D.captureException;(0,d.default)(this,E),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=T,f.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,m.default)(E,[{key:"uninstall",value:function(){f.default.report.unsubscribe(this._errorHandler);for(var T;this._wrappedBuiltIns.length;){T=this._wrappedBuiltIns.shift();var M=T[0],_=T[1],P=T[2];M[_]=P}}},{key:"_errorHandler",value:function(T){this._ignoreOnError||this.captureException(T)}},{key:"_ignoreNextOnError",value:function(){var T=this;this._ignoreOnError+=1,setTimeout(function(){T._ignoreOnError-=1})}},{key:"context",value:function(T,M,_){return g(T)&&(_=M||[],M=T,T=void 0),this.wrap(T,M).apply(this,_)}},{key:"wrap",value:function(T,M,_){var P=this;if(p(M)&&!g(T))return T;if(g(T)&&(M=T,T=void 0),!g(M))return M;try{if(M.__lr__)return M;if(M.__lr_wrapper__)return M.__lr_wrapper__;if(!Object.isExtensible(M))return M}catch{return M}function k(){var B=[],A=arguments.length,V=!T||T&&T.deep!==!1;for(_&&g(_)&&_.apply(this,arguments);A--;)B[A]=V?P.wrap(T,arguments[A]):arguments[A];try{return M.apply(this,B)}catch(O){throw P._ignoreNextOnError(),P.captureException(f.default.computeStackTrace(O),T),O}}for(var L in M)v(M,L)&&(k[L]=M[L]);return k.prototype=M.prototype,M.__lr_wrapper__=k,k.__lr__=!0,k.__inner__=M,k}},{key:"_instrumentTryCatch",value:function(){var T=this,M=T._wrappedBuiltIns;function _(A){return function(V,O){for(var U=new Array(arguments.length),q=0;q<U.length;++q)U[q]=arguments[q];var $=U[0];return g($)&&(U[0]=T.wrap($)),A.apply?A.apply(this,U):A(U[0],U[1])}}function P(A){var V=w[A]&&w[A].prototype;V&&V.hasOwnProperty&&V.hasOwnProperty("addEventListener")&&(b(V,"addEventListener",function(O){return function(U,q,$,Z){try{q&&q.handleEvent&&(q.handleEvent=T.wrap(q.handleEvent))}catch{}var I;return O.call(this,U,T.wrap(q,void 0,I),$,Z)}},M),b(V,"removeEventListener",function(O){return function(U,q,$,Z){try{var I=q==null?void 0:q.__lr_wrapper__;I&&O.call(this,U,I,$,Z)}catch{}return O.call(this,U,q,$,Z)}},void 0))}b(w,"setTimeout",_,M),b(w,"setInterval",_,M),w.requestAnimationFrame&&b(w,"requestAnimationFrame",function(A){return function(V){return A(T.wrap(V))}},M);for(var k=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],L=0;L<k.length;L++)P(k[L]);var B=w.jQuery||w.$;B&&B.fn&&B.fn.ready&&b(B.fn,"ready",function(A){return function(V){return A.call(this,T.wrap(V))}},M)}}]),E}();a.default=N},"./packages/@logrocket/exceptions/src/registerExceptions.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),d=c("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var m=u(c("./packages/@logrocket/exceptions/src/raven/raven.js")),f=p(c("./packages/@logrocket/exceptions/src/Capture.js"));function h(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,w=new WeakMap;return(h=function(E){return E?w:b})(v)}function p(v,b){if(v&&v.__esModule)return v;if(v===null||d(v)!=="object"&&typeof v!="function")return{default:v};var w=h(b);if(w&&w.has(v))return w.get(v);var N={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in v)if(D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)){var T=E?Object.getOwnPropertyDescriptor(v,D):null;T&&(T.get||T.set)?Object.defineProperty(N,D,T):N[D]=v[D]}return N.default=v,w&&w.set(v,N),N}function g(v){var b=new m.default({captureException:function(E){f.captureException(v,null,null,E)}}),w=function(E){E.reason instanceof Error?f.captureException(v,E.reason,null,null,"UNHANDLED_REJECTION"):v.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:E.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",w),function(){window.removeEventListener("unhandledrejection",w),b.uninstall()}}},"./packages/@logrocket/exceptions/src/stackTraceFromError.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;function c(u){function d(m){return m===null?void 0:m}return u.stack?u.stack.map(function(m){return{lineNumber:d(m.line),columnNumber:d(m.column),fileName:d(m.url),functionName:d(m.func)}}):void 0}},"./packages/@logrocket/network/src/fetchIntercept.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),m=c("./packages/@logrocket/network/src/registerXHR.js"),f=[];function h(b,w){for(var N=f.reduce(function(_,P){return[P].concat(_)},[]),E=arguments.length,D=new Array(E>2?E-2:0),T=2;T<E;T++)D[T-2]=arguments[T];var M=Promise.resolve(D);return N.forEach(function(_){var P=_.request,k=_.requestError;(P||k)&&(M=M.then(function(L){return P.apply(void 0,[w].concat((0,d.default)(L)))},function(L){return k.apply(void 0,[w].concat((0,d.default)(L)))}))}),M=M.then(function(_){(0,m.setActive)(!1);var P,k;try{P=b.apply(void 0,(0,d.default)(_))}catch(L){k=L}if((0,m.setActive)(!0),k)throw k;return P}),N.forEach(function(_){var P=_.response,k=_.responseError;(P||k)&&(M=M.then(function(L){return P(w,L)},function(L){return k&&k(w,L)}))}),M}function p(b){if(!(!b.fetch||!b.Promise)){var w=b.fetch.polyfill;b.fetch=function(N){var E=0;return function(){for(var D=arguments.length,T=new Array(D),M=0;M<D;M++)T[M]=arguments[M];return h.apply(void 0,[N,E++].concat(T))}}(b.fetch),w&&(b.fetch.polyfill=w)}}var g=!1,v={register:function(w){return g||(g=!0,p(window)),f.push(w),function(){var N=f.indexOf(w);N>=0&&f.splice(N,1)}},clear:function(){f=[]}};a.default=v},"./packages/@logrocket/network/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=N;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./node_modules/@babel/runtime/helpers/typeof.js")),f=u(c("./packages/@logrocket/network/src/registerFetch.js")),h=c("./packages/@logrocket/network/src/registerIonic.ts"),p=u(c("./packages/@logrocket/network/src/registerNetworkInformation.js")),g=u(c("./packages/@logrocket/network/src/registerXHR.js")),v=u(c("./packages/@logrocket/utils/src/mapValues.js"));function b(E,D){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(E);D&&(M=M.filter(function(_){return Object.getOwnPropertyDescriptor(E,_).enumerable})),T.push.apply(T,M)}return T}function w(E){for(var D=1;D<arguments.length;D++){var T=arguments[D]!=null?arguments[D]:{};D%2?b(Object(T),!0).forEach(function(M){(0,d.default)(E,M,T[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):b(Object(T)).forEach(function(M){Object.defineProperty(E,M,Object.getOwnPropertyDescriptor(T,M))})}return E}function N(E){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1,isDisabled:!1};if((D==null?void 0:D.isDisabled)===!0)return function(){};var T=D.isReactNative,M=D.shouldAugmentNPS,_=D.shouldParseXHRBlob,P={},k=function(Z){var I=4096e3,ie=Z;if((0,m.default)(Z)==="object"&&Z!=null){var ve=Object.getPrototypeOf(Z);(ve===Object.prototype||ve===null)&&(ie=JSON.stringify(Z))}if(ie&&ie.length&&ie.length>I&&typeof ie=="string"){var j=ie.substring(0,1e3);return"".concat(j,` ... LogRocket truncating to first 1000 characters.
      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network`)}return Z},L=function(Z,I){var ie=I.method;E.addEvent("lr.network.RequestEvent",function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=ve.isEnabled,ce=j===void 0?!0:j,ge=ve.requestSanitizer,xe=ge===void 0?function(K){return K}:ge;if(!ce)return null;var ne=null;try{ne=xe(w(w({},I),{},{reqId:Z}))}catch(K){console.error(K)}if(ne){var me=ne.url;if(typeof document<"u"&&typeof document.createElement=="function"){var De=document.createElement("a");De.href=ne.url,me=De.href}return{reqId:Z,url:me,headers:(0,v.default)(ne.headers,function(K){return"".concat(K)}),body:k(ne.body),method:ie,referrer:ne.referrer||void 0,mode:ne.mode||void 0,credentials:ne.credentials||void 0}}return P[Z]=!0,null})},B=function(Z,I){var ie=I.method,ve=I.status,j=I.responseType;E.addEvent("lr.network.ResponseEvent",function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ge=ce.isEnabled,xe=ge===void 0?!0:ge,ne=ce.responseSanitizer,me=ne===void 0?function(K){return K}:ne;if(xe){if(P[Z])return delete P[Z],null}else return null;var De=null;try{De=me(w(w({},I),{},{reqId:Z}))}catch(K){console.error(K)}return De?{reqId:Z,responseType:j,status:De.status,headers:(0,v.default)(De.headers,function(K){return"".concat(K)}),body:k(De.body),method:ie}:{reqId:Z,responseType:j,status:ve,headers:{},body:null,method:ie}})},A=function(Z){return E.isDisabled||P[Z]===!0},V=(0,f.default)({addRequest:L,addResponse:B,isIgnored:A}),O=(0,g.default)({addRequest:L,addResponse:B,isIgnored:A,logger:E,shouldAugmentNPS:M,shouldParseXHRBlob:_}),U=(0,h.registerIonic)({addRequest:L,addResponse:B,isIgnored:A}),q=T?function(){}:(0,p.default)(E);return function(){q(),V(),O(),U()}}},"./packages/@logrocket/network/src/registerFetch.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=w;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./packages/@logrocket/utils/src/mapValues.js")),f=u(c("./packages/@logrocket/network/src/fetchIntercept.js"));function h(N,E){var D=Object.keys(N);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(N);E&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(N,M).enumerable})),D.push.apply(D,T)}return D}function p(N){for(var E=1;E<arguments.length;E++){var D=arguments[E]!=null?arguments[E]:{};E%2?h(Object(D),!0).forEach(function(T){(0,d.default)(N,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(D)):h(Object(D)).forEach(function(T){Object.defineProperty(N,T,Object.getOwnPropertyDescriptor(D,T))})}return N}function g(N){if(N==null||typeof N.forEach!="function")return N;var E={};return N.forEach(function(D,T){E[T]?E[T]="".concat(E[T],",").concat(D):E[T]="".concat(D)}),E}var v=function(E){return(0,m.default)(g(E),function(D){return"".concat(D)})};function b(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:N.url,headers:v(N.headers),method:N.method&&N.method.toUpperCase(),referrer:N.referrer||void 0,mode:N.mode||void 0,credentials:N.credentials||void 0}}function w(N){var E=N.addRequest,D=N.addResponse,T=N.isIgnored,M="fetch-",_={},P=f.default.register({request:function(L){for(var B=arguments.length,A=new Array(B>1?B-1:0),V=1;V<B;V++)A[V-1]=arguments[V];var O;if(typeof Request<"u"&&A[0]instanceof Request){var U;try{U=A[0].clone().text()}catch(q){U=Promise.resolve("LogRocket fetch error: ".concat(q.message))}O=U.then(function(q){return p(p({},b(A[0])),{},{body:q})},function(q){return p(p({},b(A[0])),{},{body:"LogRocket fetch error: ".concat(q.message)})})}else O=Promise.resolve(p(p({},b(A[1])),{},{url:"".concat(A[0]),body:(A[1]||{}).body}));return O.then(function(q){return _[L]=q.method,E("".concat(M).concat(L),q),A})},requestError:function(L,B){return Promise.reject(B)},response:function(L,B){var A,V;if(T("".concat(M).concat(L)))return B;if(B.headers.get("content-type")==="text/event-stream")V=Promise.resolve("LogRocket skipped consuming an event-stream body.");else{try{A=B.clone()}catch(Z){var O={url:B.url,responseType:B.type.toUpperCase(),status:B.status,headers:v(B.headers),body:"LogRocket fetch error: ".concat(Z.message),method:_[L]};return delete _[L],D("".concat(M).concat(L),O),B}try{if(window.TextDecoder&&A.body){var U=A.body.getReader(),q=new window.TextDecoder("utf-8"),$="";V=U.read().then(function Z(I){var ie=I.done,ve=I.value;if(ie)return $;var j=ve?q.decode(ve,{stream:!0}):"";return $+=j,U.read().then(Z)})}else V=A.text()}catch(Z){V=Promise.resolve("LogRocket error reading body: ".concat(Z.message))}}return V.catch(function(Z){if(!(Z.name==="AbortError"&&Z instanceof DOMException))return"LogRocket error reading body: ".concat(Z.message)}).then(function(Z){var I={url:B.url,responseType:B.type.toUpperCase(),status:B.status,headers:v(B.headers),body:Z,method:_[L]};delete _[L],D("".concat(M).concat(L),I)}),B},responseError:function(L,B){var A={url:void 0,status:0,headers:{},body:"".concat(B)};return D("".concat(M).concat(L),A),Promise.reject(B)}});return P}},"./packages/@logrocket/network/src/registerIonic.ts":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.mergeHeaders=U,a.serializeQueryParams=ve,a.appendQueryParamsString=j,a.processData=xe,a.registerIonic=De;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./node_modules/@babel/runtime/helpers/typeof.js")),f=u(c("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),h=u(c("./packages/@logrocket/utils/src/protectFunc.js"));function p(K,J){var Y=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(!Y){if(Array.isArray(K)||(Y=g(K))||J){Y&&(K=Y);var ue=0,de=function(){};return{s:de,n:function(){return ue>=K.length?{done:!0}:{done:!1,value:K[ue++]}},e:function(We){throw We},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re=!0,pe=!1,ze;return{s:function(){Y=Y.call(K)},n:function(){var We=Y.next();return re=We.done,We},e:function(We){pe=!0,ze=We},f:function(){try{!re&&Y.return!=null&&Y.return()}finally{if(pe)throw ze}}}}function g(K,J){if(K){if(typeof K=="string")return v(K,J);var Y=Object.prototype.toString.call(K).slice(8,-1);if(Y==="Object"&&K.constructor&&(Y=K.constructor.name),Y==="Map"||Y==="Set")return Array.from(K);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return v(K,J)}}function v(K,J){(J==null||J>K.length)&&(J=K.length);for(var Y=0,ue=new Array(J);Y<J;Y++)ue[Y]=K[Y];return ue}function b(K,J){var Y=Object.keys(K);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(K);J&&(ue=ue.filter(function(de){return Object.getOwnPropertyDescriptor(K,de).enumerable})),Y.push.apply(Y,ue)}return Y}function w(K){for(var J=1;J<arguments.length;J++){var Y=arguments[J]!=null?arguments[J]:{};J%2?b(Object(Y),!0).forEach(function(ue){(0,d.default)(K,ue,Y[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Y)):b(Object(Y)).forEach(function(ue){Object.defineProperty(K,ue,Object.getOwnPropertyDescriptor(Y,ue))})}return K}var N=new Set(["get","put","post","patch","head","delete","options","upload","download"]),E=new Set(["urlencoded","json","utf8"]),D=new Set(["raw","multipart"]),T="ionic-",M=new Set(["desktop","mobileweb","pwa"]),_=new Set(["FormData"]),P=new Set,k=new Set(["string"]),L=new Set(["string","array"]),B={utf8:k,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:P};function A(K,J,Y){if(typeof J!="string")throw new Error("".concat(Y," must be one of: ").concat((0,f.default)(K).join(", ")));if(J=J.trim().toLowerCase(),!K.has(J))throw new Error("".concat(Y," must be one of: ").concat((0,f.default)(K).join(", ")));return J}function V(K,J,Y){if((0,m.default)(K)!=="object")throw new Error(Y);for(var ue=0,de=Object.keys(K);ue<de.length;ue++){var re=de[ue];if(!J.has((0,m.default)(K[re])))throw new Error(Y)}return K}function O(K,J){var Y=new URL(K),ue=Y.host;return J.getHeaders(ue)||null}function U(K,J){return w(w({},K),J)}function q(K,J,Y){var ue=Y.getHeaders("*")||{},de=O(K,Y)||{};return U(U(ue,de),J)}function $(K,J){return J?encodeURIComponent(K):K}function Z(K,J,Y){return K.length?Y?"".concat(encodeURIComponent(K),"[").concat(encodeURIComponent(J),"]"):"".concat(K,"[").concat(J,"]"):Y?encodeURIComponent(J):J}function I(K,J,Y){var ue=[],de=p(J),re;try{for(de.s();!(re=de.n()).done;){var pe=re.value;if(Array.isArray(pe)){ue.push(I("".concat(K,"[]"),pe,Y));continue}else if((0,m.default)(pe)==="object"){ue.push(ie("".concat(K,"[]").concat(pe),Y,void 0));continue}ue.push("".concat(Z(K,"",Y),"=").concat($(pe,Y)))}}catch(ze){de.e(ze)}finally{de.f()}return ue.join("&")}function ie(K,J,Y){var ue=[];for(var de in J)if(J.hasOwnProperty(de)){var re=K.length?"".concat(K,"[").concat(de,"]"):de;if(Array.isArray(J[de])){ue.push(I(re,J[de],Y));continue}else if((0,m.default)(J[de])==="object"&&J[de]!==null){ue.push(ie(re,J[de],Y));continue}ue.push("".concat(Z(K,de,Y),"=").concat($(J[de],Y)))}return ue.join("&")}function ve(K,J){return ie("",K,J)}function j(K,J){if(!K.length||!J.length)return K;var Y=new URL(K),ue=Y.host,de=Y.pathname,re=Y.search,pe=Y.hash,ze=Y.protocol;return"".concat(ze,"//").concat(ue).concat(de).concat(re.length?"".concat(re,"&").concat(J):"?".concat(J)).concat(pe)}function ce(K){return B[K]||B.default}function ge(K){return K==="multipart"?_:P}function xe(K,J){var Y=(0,m.default)(K),ue=ce(J),de=ge(J);if(de.size>0){var re=!1;if(de.forEach(function(pe){c.g[pe]&&K instanceof c.g[pe]&&(re=!0)}),!re)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,f.default)(de).join(", ")))}if(de.size===0&&!ue.has(Y))throw new Error("TYPE_MISMATCH_DATA ".concat((0,f.default)(ue).join(", ")));switch(J){case"utf8":return K;default:return JSON.stringify(K,void 0,2)}}function ne(K,J){K=K||{};var Y,ue=K.data;try{Y=A(E,K.serializer||J.getDataSerializer(),"serializer / data payload type")}catch{Y=A(D,K.serializer||J.getDataSerializer(),"serializer / data payload type"),ue={}}return{data:ue,filePath:K.filePath,followRedirect:K.followRedirect,headers:V(K.headers||{},k,"Invalid header type, must be string"),method:A(N,K.method||N[0],"method"),name:K.name,params:V(K.params||{},L,"Invalid param, must be of type string or array"),responseType:K.responseType,serializer:Y,connectTimeout:K.connectTimeout,readTimeout:K.readTimeout,timeout:K.timeout}}var me=0;function De(K){var J,Y,ue,de=K.addRequest,re=K.addResponse,pe=K.isIgnored,ze=(J=window.cordova)===null||J===void 0||(Y=J.plugin)===null||Y===void 0?void 0:Y.http,$e={},We=!1;if(typeof ze>"u")return function(){};var Mn=(ue=window.ionic)===null||ue===void 0?void 0:ue.platforms;if(typeof Mn<"u"&&typeof Mn.some=="function"&&Mn.some(function(mt){return M.has(mt)}))return function(){};var As=ze.sendRequest,ls=(0,h.default)(function(mt,Wn,un){if(!pe("".concat(T).concat(un)))try{var ee={url:mt.url||"",status:mt.status<600&&mt.status>=100?mt.status:0,headers:mt.headers||{},body:Wn?mt.data:mt.error,method:$e[un].toUpperCase()};re("".concat(T).concat(un),ee)}catch(Ne){var Q={url:mt.url||"",status:mt.status<600&&mt.status>=100?mt.status:0,headers:mt.headers||{},body:"LogRocket fetch error: ".concat(Ne.message),method:$e[un].toUpperCase()};re("".concat(T).concat(un),Q)}});return ze.sendRequest=function(mt,Wn,un,ee){var Q=++me,Ne=function(Ut){We||(ls(Ut,!0,Q),delete $e[Q]),un(Ut)},Ie=function(Ut){We||(ls(Ut,!1,Q),delete $e[Q]),ee(Ut)};if(!We)try{var Le=ne(Wn,ze),Nt=j(mt,ie("",Le.params,!0)),ae=q(mt,Le.headers,ze),_e=Le.method||"get";$e[Q]=_e;var It={url:Nt,method:_e.toUpperCase(),headers:ae||{},body:xe(Le.data||{},Le.serializer)};de("".concat(T).concat(Q),It)}catch(yt){var Cn={url:mt,method:(Wn.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(yt.message)};de("".concat(T).concat(Q),Cn)}return As(mt,Wn,Ne,Ie)},function(){We=!0,ze.sendRequest=As,$e={}}}},"./packages/@logrocket/network/src/registerNetworkInformation.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var c={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function u(d){var m=void 0;function f(){var h={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(h.effectiveType=c[window.navigator.connection.effectiveType]||"UNKNOWN"):h.effectiveType="NONE",!(m&&h.online===m.online&&h.effectiveType===m.effectiveType)&&(m=h,d.addEvent("lr.network.NetworkStatusEvent",function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.isEnabled,v=g===void 0?!0:g;return v?h:null}))}return setTimeout(f),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",f),window.addEventListener("online",f),window.addEventListener("offline",f),function(){window.removeEventListener("offline",f),window.removeEventListener("online",f),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",f)}}},"./packages/@logrocket/network/src/registerXHR.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.setActive=g,a.default=b;var d=u(c("./packages/@logrocket/utils/src/mapValues.js")),m=u(c("./packages/@logrocket/utils/src/enhanceFunc.ts")),f=u(c("./packages/@logrocket/utils/src/startsWith.js")),h=c("./packages/@logrocket/utils/src/constants/nps.js"),p=!0;function g(w){p=w}var v=0;function b(w){var N=w.addRequest,E=w.addResponse,D=w.isIgnored,T=w.logger,M=w.shouldAugmentNPS,_=M===void 0?!0:M,P=w.shouldParseXHRBlob,k=P===void 0?!1:P,L=XMLHttpRequest,B=new WeakMap,A=!1,V="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(U,q){var $=new L(U,q);if(!p)return $;B.set($,{xhrId:++v,headers:{}});var Z=$.open;function I(){for(var ce=arguments.length,ge=new Array(ce),xe=0;xe<ce;xe++)ge[xe]=arguments[xe];try{var ne=ge[1];if(window.URL&&typeof window.URL=="function"&&ne.search(h.WOOTRIC_RESPONSES_REGEX)===0){var me=new window.URL(T.recordingURL);me.searchParams.set("nps","wootric");var De=new window.URL(ne),K=De.searchParams.get("response[text]"),J=K?"".concat(K,`

`):"";De.searchParams.set("response[text]","".concat(J,"<").concat(me.href,"|View LogRocket session>")),ge[1]=De.href}}catch{}return Z.apply(this,ge)}var ie=$.send;function ve(){for(var ce=arguments.length,ge=new Array(ce),xe=0;xe<ce;xe++)ge[xe]=arguments[xe];try{var ne=B.get($);if(window.URL&&typeof window.URL=="function"&&ne&&ne.url&&ne.url.search(h.DELIGHTED_RESPONSES_REGEX)===0&&ge.length&&ge[0].indexOf(h.DELIGHTED_FEEDBACK_PREFIX)!==-1){var me=new window.URL(T.recordingURL);me.searchParams.set("nps","delighted");var De=encodeURIComponent(me.href),K=ge[0].split("&").map(function(J){if((0,f.default)(J,h.DELIGHTED_FEEDBACK_PREFIX)){var Y=J===h.DELIGHTED_FEEDBACK_PREFIX;return"".concat(J).concat(Y?"":`

`,"<").concat(De,"|View LogRocket session>")}return J}).join("&");ge[0]=K}}catch{}return ie.apply(this,ge)}_&&($.open=I,$.send=ve),(0,m.default)($,"open",function(ce,ge){if(!A){var xe=B.get($);xe.method=ce,xe.url=ge}}),(0,m.default)($,"send",function(ce){if(!A){var ge=B.get($);if(ge){var xe={url:ge.url,method:ge.method&&ge.method.toUpperCase(),headers:(0,d.default)(ge.headers||{},function(ne){return ne.join(", ")}),body:ce};N("".concat(V).concat(ge.xhrId),xe)}}}),(0,m.default)($,"setRequestHeader",function(ce,ge){if(!A){var xe=B.get($);xe&&(xe.headers=xe.headers||{},xe.headers[ce]=xe.headers[ce]||[],xe.headers[ce].push(ge))}});var j={readystatechange:function(){if(!A&&$.readyState===4){var ge=B.get($);if(!ge||D("".concat(V).concat(ge.xhrId)))return;var xe=$.getAllResponseHeaders()||"",ne=xe.split(/[\r\n]+/).reduce(function(J,Y){var ue=J,de=Y.split(": ");if(de.length>0){var re=de.shift(),pe=de.join(": ");J[re]?ue[re]+=", ".concat(pe):ue[re]=pe}return ue},{}),me;try{switch($.responseType){case"json":me=T._shouldCloneResponse?JSON.parse(JSON.stringify($.response)):$.response;break;case"arraybuffer":case"blob":{me=$.response;break}case"document":{me=$.responseXML;break}case"text":case"":{me=$.responseText;break}default:me=""}}catch{me="LogRocket: Error accessing response."}var De={url:ge.url,status:$.status,headers:ne,body:me,method:(ge.method||"").toUpperCase()};if(k&&De.body instanceof Blob){var K=new FileReader;K.readAsText(De.body),K.onload=function(){try{De.body=JSON.parse(K.result)}catch{}E("".concat(V).concat(ge.xhrId),De)}}else E("".concat(V).concat(ge.xhrId),De)}}};return Object.keys(j).forEach(function(ce){$.addEventListener(ce,j[ce])}),$},XMLHttpRequest.prototype=L.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(O){XMLHttpRequest[O]=L[O]}),function(){A=!0,XMLHttpRequest=L}}},"./packages/@logrocket/now/src/index.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=Date.now.bind(Date),u=c(),d=typeof performance<"u"&&performance.now?performance.now.bind(performance):function(){return c()-u};a.default=d},"./packages/@logrocket/redux/src/createEnhancer.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./packages/@logrocket/now/src/index.js"));function f(v,b){var w=Object.keys(v);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(v);b&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(v,E).enumerable})),w.push.apply(w,N)}return w}function h(v){for(var b=1;b<arguments.length;b++){var w=arguments[b]!=null?arguments[b]:{};b%2?f(Object(w),!0).forEach(function(N){(0,d.default)(v,N,w[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(w)):f(Object(w)).forEach(function(N){Object.defineProperty(v,N,Object.getOwnPropertyDescriptor(w,N))})}return v}var p=0;function g(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=b.stateSanitizer,N=w===void 0?function(T){return T}:w,E=b.actionSanitizer,D=E===void 0?function(T){return T}:E;return function(T){return function(M,_,P){var k=T(M,_,P),L=k.dispatch,B=p++;v.addEvent("lr.redux.InitialState",function(){var V;try{V=N(k.getState())}catch(O){console.error(O.toString())}return{state:V,storeId:B}});var A=function(O){var U=(0,m.default)(),q,$;try{$=L(O)}catch(I){q=I}finally{var Z=(0,m.default)()-U;v.addEvent("lr.redux.ReduxAction",function(){var I=null,ie=null;try{I=N(k.getState()),ie=D(O)}catch(ve){console.error(ve.toString())}return I&&ie?{storeId:B,action:ie,duration:Z,stateDelta:I}:null})}if(q)throw q;return $};return h(h({},k),{},{dispatch:A})}}}},"./packages/@logrocket/redux/src/createMiddleware.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var d=u(c("./packages/@logrocket/now/src/index.js")),m=0;function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=p.stateSanitizer,v=g===void 0?function(N){return N}:g,b=p.actionSanitizer,w=b===void 0?function(N){return N}:b;return function(N){var E=m++;return h.addEvent("lr.redux.InitialState",function(){var D;try{D=v(N.getState())}catch(T){console.error(T.toString())}return{state:D,storeId:E}}),function(D){return function(T){var M=(0,d.default)(),_,P;try{P=D(T)}catch(L){_=L}finally{var k=(0,d.default)()-M;h.addEvent("lr.redux.ReduxAction",function(){var L=null,B=null;try{L=v(N.getState()),B=w(T)}catch(A){console.error(A.toString())}return L&&B?{storeId:E,action:B,duration:k,stateDelta:L}:null})}if(_)throw _;return P}}}}},"./packages/@logrocket/redux/src/index.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"createEnhancer",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"createMiddleware",{enumerable:!0,get:function(){return m.default}});var d=u(c("./packages/@logrocket/redux/src/createEnhancer.js")),m=u(c("./packages/@logrocket/redux/src/createMiddleware.js"))},"./packages/@logrocket/utils/src/TraceKit.js":function(r,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u={collectWindowErrors:!0,debug:!1},d=typeof window<"u"?window:typeof c.g<"u"?c.g:typeof self<"u"?self:{},m=[].slice,f="?",h=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function p(){return typeof document>"u"||typeof document.location>"u"?"":document.location.href}u.report=function(){var b=[],w=null,N=null,E=null;function D(U){B(),b.push(U)}function T(U){for(var q=b.length-1;q>=0;--q)b[q]===U&&b.splice(q,1)}function M(){A(),b=[]}function _(U,q){var $=null;if(!(q&&!u.collectWindowErrors)){for(var Z in b)if(b.hasOwnProperty(Z))try{b[Z].apply(null,[U].concat(m.call(arguments,2)))}catch(I){$=I}if($)throw $}}var P,k;function L(U,q,$,Z,I){var ie=null;if(E)u.computeStackTrace.augmentStackTraceWithInitialElement(E,q,$,U),V();else if(I)ie=u.computeStackTrace(I),_(ie,!0);else{var ve={url:q,line:$,column:Z},j=void 0,ce=U,ge;if({}.toString.call(U)==="[object String]"){var ge=U.match(h);ge&&(j=ge[1],ce=ge[2])}ve.func=f,ie={name:j,message:ce,url:p(),stack:[ve]},_(ie,!0)}return P?P.apply(this,arguments):!1}function B(){k||(P=d.onerror,d.onerror=L,k=!0)}function A(){k&&(d.onerror=P,k=!1,P=void 0)}function V(){var U=E,q=w;w=null,E=null,N=null,_.apply(null,[U,!1].concat(q))}function O(U,q){var $=m.call(arguments,1);if(E){if(N===U)return;V()}var Z=u.computeStackTrace(U);if(E=Z,N=U,w=$,setTimeout(function(){N===U&&V()},Z.incomplete?2e3:0),q!==!1)throw U}return O.subscribe=D,O.unsubscribe=T,O.uninstall=M,O}(),u.computeStackTrace=function(){function b(D){if(!(typeof D.stack>"u"||!D.stack)){var T=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,M=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,P=D.stack.split(`
`),k=[],L,B;/^(.*) is undefined$/.exec(D.message);for(var A=0,V=P.length;A<V;++A){if(L=T.exec(P[A])){var O=L[2]&&L[2].indexOf("native")!==-1;B={url:O?null:L[2],func:L[1]||f,args:O?[L[2]]:[],line:L[3]?+L[3]:null,column:L[4]?+L[4]:null}}else if(L=_.exec(P[A]))B={url:L[2],func:L[1]||f,args:[],line:+L[3],column:L[4]?+L[4]:null};else if(L=M.exec(P[A]))B={url:L[3],func:L[1]||f,args:L[2]?L[2].split(","):[],line:L[4]?+L[4]:null,column:L[5]?+L[5]:null};else continue;!B.func&&B.line&&(B.func=f),k.push(B)}return k.length?(!k[0].column&&typeof D.columnNumber<"u"&&(k[0].column=D.columnNumber+1),{name:D.name,message:D.message,url:p(),stack:k}):null}}function w(D,T,M,_){var P={url:T,line:M};if(P.url&&P.line){if(D.incomplete=!1,P.func||(P.func=f),D.stack.length>0&&D.stack[0].url===P.url){if(D.stack[0].line===P.line)return!1;if(!D.stack[0].line&&D.stack[0].func===P.func)return D.stack[0].line=P.line,!1}return D.stack.unshift(P),D.partial=!0,!0}else D.incomplete=!0;return!1}function N(D,T){for(var M=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,_=[],P={},k=!1,L,B,A=N.caller;A&&!k;A=A.caller)if(!(A===E||A===u.report)){if(B={url:null,func:f,line:null,column:null},A.name?B.func=A.name:(L=M.exec(A.toString()))&&(B.func=L[1]),typeof B.func>"u")try{B.func=L.input.substring(0,L.input.indexOf("{"))}catch{}P[""+A]?k=!0:P[""+A]=!0,_.push(B)}T&&_.splice(0,T);var V={name:D.name,message:D.message,url:p(),stack:_};return w(V,D.sourceURL||D.fileName,D.line||D.lineNumber,D.message||D.description),V}function E(D,T){var M=null;T=T==null?0:+T;try{if(M=b(D),M)return M}catch(_){if(u.debug)throw _}try{if(M=N(D,T+1),M)return M}catch(_){if(u.debug)throw _}return{name:D.name,message:D.message,url:p()}}return E.augmentStackTraceWithInitialElement=w,E.computeStackTraceFromStackProp=b,E}();var g=u;a.default=g},"./packages/@logrocket/utils/src/constants/nps.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.DELIGHTED_FEEDBACK_PREFIX=a.DELIGHTED_RESPONSES_REGEX=a.WOOTRIC_RESPONSES_REGEX=void 0;var c=/^https:\/\/production.wootric.com\/responses/;a.WOOTRIC_RESPONSES_REGEX=c;var u=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;a.DELIGHTED_RESPONSES_REGEX=u;var d="comment=";a.DELIGHTED_FEEDBACK_PREFIX=d},"./packages/@logrocket/utils/src/createUnsubListener.ts":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.createUnsubListener=h,a.Handler=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),m=u(c("./node_modules/@babel/runtime/helpers/createClass.js")),f=function(){function p(g){(0,d.default)(this,p),this._value=void 0,this._value=g}return(0,m.default)(p,[{key:"get",value:function(){return this._value}},{key:"clear",value:function(){this._value=void 0}}]),p}();a.Handler=f;function h(p){return function(){p.clear()}}},"./packages/@logrocket/utils/src/enhanceFunc.ts":function(r,a,c){Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var u=c("./packages/@logrocket/utils/src/createUnsubListener.ts"),d=function(){};function m(f,h,p){if(typeof f[h]!="function")return d;try{var g=function(){for(var N,E=arguments.length,D=new Array(E),T=0;T<E;T++)D[T]=arguments[T];var M=v.apply(this,D);return(N=b.get())===null||N===void 0||N.apply(this,D),M},v=f[h],b=new u.Handler(p);return f[h]=g,function(){b.clear(),f[h]===g&&(f[h]=v)}}catch{return d}}},"./packages/@logrocket/utils/src/logError.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=typeof console<"u"&&console.error&&console.error.bind,u=c?console.error.bind(console):function(){},d=u;a.default=d},"./packages/@logrocket/utils/src/mapValues.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;function c(u,d){if(u==null)return{};var m={};return Object.keys(u).forEach(function(f){m[f]=d(u[f])}),m}},"./packages/@logrocket/utils/src/protectFunc.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var d=u(c("./packages/@logrocket/utils/src/sendTelemetryData.js")),m=u(c("./packages/@logrocket/utils/src/logError.js"));function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};return function(){var g;try{g=h.apply(void 0,arguments)}catch(b){if(typeof window<"u"&&window._lrdebug)throw b;var v=p(b);(0,m.default)("LogRocket",b),(0,d.default)(b,v)}return g}}},"./packages/@logrocket/utils/src/scrubException.ts":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.scrubException=b;var d=u(c("./node_modules/@babel/runtime/helpers/typeof.js"));function m(w,N){var E=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!E){if(Array.isArray(w)||(E=f(w))||N){E&&(w=E);var D=0,T=function(){};return{s:T,n:function(){return D>=w.length?{done:!0}:{done:!1,value:w[D++]}},e:function(L){throw L},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,_=!1,P;return{s:function(){E=E.call(w)},n:function(){var L=E.next();return M=L.done,L},e:function(L){_=!0,P=L},f:function(){try{!M&&E.return!=null&&E.return()}finally{if(_)throw P}}}}function f(w,N){if(w){if(typeof w=="string")return h(w,N);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return h(w,N)}}function h(w,N){(N==null||N>w.length)&&(N=w.length);for(var E=0,D=new Array(N);E<N;E++)D[E]=w[E];return D}function p(w){return/boolean|number|string/.test((0,d.default)(w))}var g=["level","logger"],v=["tags","extra"];function b(w,N){if(N){var E=m(g),D;try{for(E.s();!(D=E.n()).done;){var T=D.value,M=N[T];p(M)&&(w[T]=M.toString())}}catch(q){E.e(q)}finally{E.f()}var _=m(v),P;try{for(_.s();!(P=_.n()).done;){for(var k=P.value,L=N[k]||{},B={},A=0,V=Object.keys(L);A<V.length;A++){var O=V[A],U=L[O];p(U)&&(B[O.toString()]=U.toString())}w[k]=B}}catch(q){_.e(q)}finally{_.f()}}}},"./packages/@logrocket/utils/src/sendTelemetryData.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.sendTelemetry=b,a.default=w;var d=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=u(c("./packages/@logrocket/utils/src/logError.js")),f=u(c("./packages/@logrocket/utils/src/TraceKit.js"));function h(N,E){var D=Object.keys(N);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(N);E&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(N,M).enumerable})),D.push.apply(D,T)}return D}function p(N){for(var E=1;E<arguments.length;E++){var D=arguments[E]!=null?arguments[E]:{};E%2?h(Object(D),!0).forEach(function(T){(0,d.default)(N,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(D)):h(Object(D)).forEach(function(T){Object.defineProperty(N,T,Object.getOwnPropertyDescriptor(D,T))})}return N}var g="13dd130ab9a04ef867cdb9bbbdb0a16c225358f2";function v(N){var E=window._lrXMLHttpRequest||XMLHttpRequest;try{var D,T,M=new E,_=N.message,P="https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793";M.open("POST",P),M.send(JSON.stringify(p({message:_,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":typeof navigator<"u"&&navigator.userAgent},url:typeof location<"u"&&location.href},release:g,environment:((D=window)===null||D===void 0||(T=D.__SDKCONFIG__)===null||T===void 0?void 0:T.scriptEnv)||"prod"},N)))}catch(k){(0,m.default)("Failed to send",k)}}function b(N,E){if(typeof window<"u"&&window._lrdebug)return void(0,m.default)(N);E&&E.extra&&E.extra.appID&&typeof E.extra.appID.indexOf=="function"&&E.extra.appID.indexOf("au2drp/")===0&&Math.random()>=.25||v(p({message:N},E))}function w(N,E){try{var D=N.message,T;try{T=JSON.stringify(E).slice(0,1e3)}catch{try{T="Could not stringify payload: ".concat(Object.prototype.toString.call(E))}catch{}}var M;try{M=f.default.computeStackTrace(N).stack.map(function(_){return{filename:_.url,lineno:_.line,colno:_.column,function:_.func||"?"}})}catch{}v({message:D,extra:{stringPayload:T},exception:{values:[{type:N.type,value:D,stacktrace:{frames:M}}]}})}catch(_){(0,m.default)("Failed to send",_)}}},"./packages/@logrocket/utils/src/startsWith.js":function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;function c(u,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return u&&d&&u.substring(m,m+d.length)===d}},"./packages/logrocket/src/LogRocket.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.MAX_QUEUE_SIZE=void 0;var d=u(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),m=u(c("./node_modules/@babel/runtime/helpers/createClass.js")),f=u(c("./node_modules/@babel/runtime/helpers/defineProperty.js")),h=u(c("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),p=u(c("./packages/@logrocket/network/src/index.js")),g=c("./packages/@logrocket/exceptions/src/index.js"),v=u(c("./packages/@logrocket/console/src/index.js")),b=c("./packages/@logrocket/redux/src/index.js");function w(M,_){var P=Object.keys(M);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(M);_&&(k=k.filter(function(L){return Object.getOwnPropertyDescriptor(M,L).enumerable})),P.push.apply(P,k)}return P}function N(M){for(var _=1;_<arguments.length;_++){var P=arguments[_]!=null?arguments[_]:{};_%2?w(Object(P),!0).forEach(function(k){(0,f.default)(M,k,P[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(P)):w(Object(P)).forEach(function(k){Object.defineProperty(M,k,Object.getOwnPropertyDescriptor(P,k))})}return M}var E=1e3;a.MAX_QUEUE_SIZE=E;var D=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=_.ingestServer,k=(0,h.default)(_,["ingestServer"]);return P?N({serverURL:"".concat(P,"/i"),statsURL:"".concat(P,"/s")},k):k},T=function(){function M(){var _=this;(0,d.default)(this,M),this._buffer=[],["log","info","warn","error","debug"].forEach(function(P){_[P]=function(){for(var k=arguments.length,L=new Array(k),B=0;B<k;B++)L[B]=arguments[B];_.addEvent("lr.core.LogEvent",function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return P==="error"&&A.shouldAggregateConsoleErrors&&g.Capture.captureMessage(_,L[0],L,{},!0),{logLevel:P.toUpperCase(),args:L}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,m.default)(M,[{key:"addEvent",value:function(P,k){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=Date.now();this._run(function(A){A.addEvent(P,k,N(N({},L),{},{timeOverride:B}))})}},{key:"onLogger",value:function(P){for(this._logger=P;this._buffer.length>0;){var k=this._buffer.shift();k(this._logger)}}},{key:"_run",value:function(P){if(!this._isDisabled)if(this._logger)P(this._logger);else{if(this._buffer.length>=E){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(P.bind(this))}}},{key:"init",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var L,B=k.shouldAugmentNPS,A=B===void 0?!0:B,V=k.shouldParseXHRBlob,O=V===void 0?!1:V,U=k.shouldDetectExceptions,q=U===void 0?!0:U;q&&this._installed.push((0,g.registerExceptions)(this)),this._installed.push((0,p.default)(this,{shouldAugmentNPS:!!A,shouldParseXHRBlob:!!O,isDisabled:(k==null||(L=k.network)===null||L===void 0?void 0:L.isEnabled)===!1})),this._installed.push((0,v.default)(this)),this._isInitialized=!0,this._run(function($){$.init(P,D(k))})}}},{key:"start",value:function(){this._run(function(P){P.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(P){return P()}),this._buffer=[],this._run(function(P){P.uninstall()})}},{key:"identify",value:function(P,k){this._run(function(L){L.identify(P,k)})}},{key:"startNewSession",value:function(){this._run(function(P){P.startNewSession()})}},{key:"track",value:function(P,k){this._run(function(L){L.track(P,k)})}},{key:"getSessionURL",value:function(P){if(typeof P!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(k){k.getSessionURL?k.getSessionURL(P):P(k.recordingURL)})}},{key:"trackScrollEvent",value:function(P){this._logger&&this._logger.trackScrollEvent(P)}},{key:"getVersion",value:function(P){this._run(function(k){P(k.version)})}},{key:"captureMessage",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g.Capture.captureMessage(this,P,[P],k)}},{key:"captureException",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g.Capture.captureException(this,P,k)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,b.createEnhancer)(this,P)}},{key:"reduxMiddleware",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,b.createMiddleware)(this,P)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),M}();a.default=T},"./packages/logrocket/src/makeLogRocket.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=h;var d=u(c("./packages/logrocket/src/LogRocket.js")),m="LogRocket on React Native requires the LogRocket React Native specific SDK. See setup guide here https://docs.logrocket.com/reference/react-native.",f=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(v){return function(){return v.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(v){return function(b){return v(b)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return new d.default};if(typeof navigator<"u"&&navigator.product==="ReactNative")throw new Error(m);if(typeof window<"u"){if(window._disableLogRocket)return g();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var b=v();return p(b),b}}return f()}},"./packages/logrocket/src/setup.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.getDomainsAndEnv=p,a.setupBaseSDKCONFIG=g,a.default=v;var d=u(c("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),m=u(c("./packages/logrocket/src/makeLogRocket.js")),f={"cdn.logrocket.com":"https://r.logrocket.io","cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn.ingest-lr.com":"https://r.ingest-lr.com","cdn.lr-intake.com":"https://r.lr-intake.com","cdn.intake-lr.com":"https://r.intake-lr.com","cdn.logr-ingest.com":"https://r.logr-ingest.com","cdn.lrkt-in.com":"https://r.lrkt-in.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com","cdn-staging.ingest-lr.com":"https://staging-i.ingest-lr.com","cdn-staging.lr-intake.com":"https://staging-i.lr-intake.com","cdn-staging.intake-lr.com":"https://staging-i.intake-lr.com","cdn-staging.logr-ingest.com":"https://staging-i.logr-ingest.com","cdn-staging.lrkt-in.com":"https://staging-i.lrkt-in.com"};function h(b){return b.startsWith("cdn-staging")?"staging":b.startsWith("localhost")?"development":"prod"}function p(b){if(b==="script"||b==="shopify-pixel"){try{var w=document.currentScript,N=w.src.match(/^(https?:\/\/([^\\]+))\/.+$/),E=N&&N[2];if(E&&f[E])return{scriptEnv:h(E),scriptOrigin:N&&N[1],scriptIngest:f[E]}}catch{}return{scriptEnv:"prod",scriptOrigin:"https://cdn.logrocket.io"}}else return{scriptEnv:void 0,scriptOrigin:"https://cdn.lrkt-in.com",scriptIngest:"https://r.lrkt-in.com"}}function g(b){typeof window.__SDKCONFIG__>"u"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(b,"/i"),window.__SDKCONFIG__.statsURL="".concat(b,"/s")}function v(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=b.enterpriseServer,N=b.sdkVersion,E=N===void 0?"9.0.2":N,D=(0,d.default)(b,["enterpriseServer","sdkVersion"]),T=p(E),M=T.scriptEnv,_=T.scriptOrigin,P=T.scriptIngest,k=D.sdkServer||w,L=D.ingestServer||w||P,B=(0,m.default)(function(){var A=document.createElement("script");L&&(g(L),window.__SDKCONFIG__.scriptEnv=M),k?A.src="".concat(k,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?A.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?A.src=window._lrAsyncScript:A.src="".concat(_,"/logger-1.min.js"),A.async=!0,document.head.appendChild(A),A.onload=function(){typeof window._LRLogger=="function"?setTimeout(function(){B.onLogger(new window._LRLogger({sdkVersion:E}))}):(console.warn("LogRocket: script execution has been blocked by a product or service."),B.uninstall())},A.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),B.uninstall()}});return B}},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(r){function a(c,u){(u==null||u>c.length)&&(u=c.length);for(var d=0,m=new Array(u);d<u;d++)m[d]=c[d];return m}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function d(m){if(Array.isArray(m))return u(m)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(r){function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function d(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,u(g.key),g)}}function m(f,h,p){return h&&d(f.prototype,h),p&&d(f,p),Object.defineProperty(f,"prototype",{writable:!1}),f}r.exports=m,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function d(m,f,h){return f=u(f),f in m?Object.defineProperty(m,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[f]=h,m}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(r){function a(c){return c&&c.__esModule?c:{default:c}}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(r){function a(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(r){function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function d(m,f){if(m==null)return{};var h=u(m,f),p,g;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);for(g=0;g<v.length;g++)p=v[g],!(f.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(m,p)&&(h[p]=m[p])}return h}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(r){function a(c,u){if(c==null)return{};var d={},m=Object.keys(c),f,h;for(h=0;h<m.length;h++)f=m[h],!(u.indexOf(f)>=0)&&(d[f]=c[f]);return d}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),d=c("./node_modules/@babel/runtime/helpers/iterableToArray.js"),m=c("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),f=c("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function h(p){return u(p)||d(p)||m(p)||f()}r.exports=h,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/typeof.js").default;function d(m,f){if(u(m)!=="object"||m===null)return m;var h=m[Symbol.toPrimitive];if(h!==void 0){var p=h.call(m,f||"default");if(u(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(m)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/typeof.js").default,d=c("./node_modules/@babel/runtime/helpers/toPrimitive.js");function m(f){var h=d(f,"string");return u(h)==="symbol"?h:String(h)}r.exports=m,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(r){function a(c){"@babel/helpers - typeof";return r.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r.exports.__esModule=!0,r.exports.default=r.exports,a(c)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(r,a,c){var u=c("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function d(m,f){if(m){if(typeof m=="string")return u(m,f);var h=Object.prototype.toString.call(m).slice(8,-1);if(h==="Object"&&m.constructor&&(h=m.constructor.name),h==="Map"||h==="Set")return Array.from(m);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return u(m,f)}}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports}},s={};function i(r){var a=s[r];if(a!==void 0)return a.exports;var c=s[r]={exports:{}};return n[r](c,c.exports,i),c.exports}(function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})();var o={};return function(){var r=o;/*!**********************************************!*\
  !*** ./packages/logrocket/src/module-npm.js ***!
  \**********************************************/var a=i("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=a(i("./packages/logrocket/src/setup.js")),u=(0,c.default)(),d=u;r.default=d}(),o=o.default,o}()})})(PD);var aV=PD.exports;const lV=Ru(aV),cV={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_AUTH0_AUDIENCE:"your-auth0-api-identifier",VITE_AUTH0_CALLBACK_URL:"http://localhost:3003/callback",VITE_AUTH0_CLIENT_ID:"oG0aJlsqUul3crrmzdLJJz7r9KvU8IHp",VITE_AUTH0_DOMAIN:"dev-bqgm5fdnyx1sdqja.us.auth0.com",VITE_AUTH0_REDIRECT_URI:"http://localhost:3003",VITE_GEMINI_API_KEY:"your-gemini-api-key-here",VITE_OPENAI_API_KEY:"your-openai-api-key-here",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcnNmeWxqZ2FibXh3eG1wYml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwNjc5NDAsImV4cCI6MjA1NzY0Mzk0MH0.VPnBZfe-BFSZ3L-YyWJUHYZz4fwt7uyY57KWYYAa3C4",VITE_SUPABASE_URL:"https://hdrsfyljgabmxwxmpbix.supabase.co",VITE_USER_NODE_ENV:"development"};function uV(e){return cV[`VITE_${e}`]}function dV(e,t,n={}){const{moduleName:s="global",retryCount:i=0,extra:o={}}=n;uV("NODE_ENV")==="development"&&(console.group("Error logged by logError utility:"),console.error("Error:",e),t&&console.error("Component Stack:",t.componentStack),console.error("Module:",s),console.error("Retry Count:",i),Object.keys(o).length>0&&console.error("Extra Information:",o),console.groupEnd()),lV.captureException(e,{tags:{module:s,errorName:e.name,errorType:e.constructor.name,retryCount:i.toString()},extra:{componentStack:(t==null?void 0:t.componentStack)||"No component stack available",...o}})}class lt extends x.Component{constructor(n){super(n);Me(this,"handleReset",()=>{this.setState(n=>({hasError:!1,error:null,errorInfo:null,retryCount:n.retryCount+1,resetKey:n.resetKey+1,isDetailsOpen:!1}))});Me(this,"handleNavigateHome",()=>{window.location.href="/"});Me(this,"handleToggleDetails",()=>{this.setState(n=>({isDetailsOpen:!n.isDetailsOpen}))});Me(this,"renderErrorUI",()=>{var n;return l.jsxDEV("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1300,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",backgroundColor:"rgba(255,255,255,0.9)",backdropFilter:"blur(4px)"},children:l.jsxDEV("div",{style:{maxWidth:"600px",width:"100%",padding:"3rem",borderRadius:"1rem",backgroundColor:"white",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem"},children:[l.jsxDEV("div",{style:{width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:"#ffebee"},children:l.jsxDEV(f2,{size:40,color:"#d32f2f"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:102,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:93,columnNumber:9},this),l.jsxDEV("h1",{style:{fontSize:"2rem",fontWeight:700,textAlign:"center",margin:0,color:"#1a1a1a"},children:this.props.moduleName?`Error in ${this.props.moduleName}`:"Something went wrong"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:105,columnNumber:9},this),l.jsxDEV("p",{style:{color:"#666",textAlign:"center",margin:0,fontSize:"1.1rem"},children:"Please try refreshing the page or contact support if the problem persists."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:115,columnNumber:9},this),this.state.error&&l.jsxDEV("div",{style:{width:"100%"},children:l.jsxDEV("details",{children:[l.jsxDEV("summary",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",backgroundColor:"white",cursor:"pointer",fontSize:"0.9rem",textTransform:"none"},children:["Technical Details",l.jsxDEV(Tr,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:127,columnNumber:15},this),l.jsxDEV("div",{"data-testid":"error-details-box",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f5f5f5",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[l.jsxDEV("div",{style:{marginBottom:"1rem"},children:[l.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:156,columnNumber:19},this),l.jsxDEV("pre",{style:{whiteSpace:"pre-wrap",margin:"0.5rem 0 0 0",color:"#d32f2f",backgroundColor:"white",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #ffcdd2"},children:this.state.error.toString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:155,columnNumber:17},this),((n=this.state.errorInfo)==null?void 0:n.componentStack)&&l.jsxDEV("div",{children:[l.jsxDEV("strong",{children:"Component Stack:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:172,columnNumber:21},this),l.jsxDEV("pre",{style:{whiteSpace:"pre-wrap",margin:"0.5rem 0 0 0",fontSize:"0.75rem",backgroundColor:"white",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #e0e0e0",maxHeight:"200px",overflow:"auto"},children:this.state.errorInfo.componentStack},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:173,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:171,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:125,columnNumber:11},this),l.jsxDEV("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[l.jsxDEV("button",{onClick:this.handleNavigateHome,"data-testid":"goHomeButton",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:"1px solid #ddd",borderRadius:"0.5rem",backgroundColor:"white",cursor:"pointer",fontSize:"1rem",transition:"all 0.2s"},children:[l.jsxDEV(h2,{size:18},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:216,columnNumber:13},this),"Go Home"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:200,columnNumber:11},this),l.jsxDEV("button",{onClick:this.handleReset,"data-testid":"tryAgainButton",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",backgroundColor:"#1976d2",color:"white",cursor:"pointer",fontSize:"1rem",transition:"all 0.2s"},children:[l.jsxDEV(p2,{size:18},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:237,columnNumber:13},this),"Try Again"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:220,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:193,columnNumber:9},this),l.jsxDEV("a",{href:"mailto:support@example.com",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#1976d2",textDecoration:"none",fontSize:"0.9rem",marginTop:"0.5rem"},children:[l.jsxDEV(g2,{size:18},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:254,columnNumber:11},this),"Contact support"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:242,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:81,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:67,columnNumber:5},this)});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0,resetKey:0,isDetailsOpen:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){this.setState({error:n,errorInfo:s}),dV(n,s,{retryCount:this.state.retryCount,moduleName:this.props.moduleName})}render(){return this.state.hasError?this.props.fallback||this.renderErrorUI():l.jsxDEV("div",{"data-testid":"recovered",children:this.props.children},this.state.resetKey,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorBoundary.tsx",lineNumber:267,columnNumber:7},this)}}function mV(){const e=os();return x.useEffect(()=>{e("/handbook")},[e]),l.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Redirecting to handbook..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:14,columnNumber:9},this),l.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:"The page you're looking for doesn't exist."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:17,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:13,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/NotFoundRedirect.tsx",lineNumber:12,columnNumber:5},this)}const fV=()=>{const{isAuthenticated:e,isLoading:t,user:n}=ei();return t?l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:14,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:15,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:18,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:13,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:12,columnNumber:7},void 0):l.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600 text-white flex flex-col",children:["      ",l.jsxDEV("header",{className:"flex justify-between items-center px-8 py-4",children:[l.jsxDEV("h1",{className:"text-2xl font-bold tracking-tight",children:[l.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:30,columnNumber:11},void 0)," OncoVista"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:29,columnNumber:9},void 0),e?l.jsxDEV("div",{className:"flex items-center space-x-4",children:[l.jsxDEV("span",{className:"text-white/90",children:["Welcome, ",(n==null?void 0:n.name)||(n==null?void 0:n.email)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:36,columnNumber:13},void 0),l.jsxDEV(Vs,{to:"/dashboard",className:"bg-green-600 text-white font-semibold px-5 py-2 rounded-md hover:bg-green-700 transition",children:"Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:37,columnNumber:13},void 0),l.jsxDEV(Ju,{className:"bg-red-600 text-white font-semibold px-5 py-2 rounded-md hover:bg-red-700 transition"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:43,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:35,columnNumber:11},void 0):l.jsxDEV(mu,{className:"bg-white text-indigo-700 font-semibold px-5 py-2 rounded-md hover:bg-indigo-100 transition"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:33,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:28,columnNumber:7},void 0),"      ",l.jsxDEV("main",{className:"flex flex-1 flex-col items-center justify-center text-center px-4",children:[l.jsxDEV("h2",{className:"text-4xl md:text-5xl font-extrabold mb-6 leading-tight",children:["AI-Powered Oncology Support",l.jsxDEV("br",{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:49,columnNumber:38},void 0),"For Modern Clinicians"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:48,columnNumber:9},void 0),l.jsxDEV("p",{className:"text-lg md:text-xl max-w-2xl mb-8 text-indigo-100",children:"Streamline your workflow with intelligent tools for diagnosis, treatment, and patient education  all in one place."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:52,columnNumber:9},void 0),e?l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV(Vs,{to:"/dashboard",className:"bg-white text-indigo-700 hover:bg-indigo-100 px-6 py-3 rounded-lg text-lg font-medium transition",children:"Go to Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:68,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[l.jsxDEV(Vs,{to:"/opd",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"OPD Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:81,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Outpatient Department resources"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:82,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:77,columnNumber:15},void 0),l.jsxDEV(Vs,{to:"/cdu",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"CDU Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:89,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Clinical Decision Unit tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:90,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:85,columnNumber:15},void 0),l.jsxDEV(Vs,{to:"/inpatient",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Inpatient"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:97,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Inpatient care management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:98,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:93,columnNumber:15},void 0),l.jsxDEV(Vs,{to:"/palliative",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Palliative Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:105,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Palliative care resources"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:101,columnNumber:15},void 0),l.jsxDEV(Vs,{to:"/tools",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:113,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Clinical calculators and tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:109,columnNumber:15},void 0),l.jsxDEV(Vs,{to:"/handbook",className:"bg-white/10 backdrop-blur-lg rounded-lg p-6 text-white hover:bg-white/20 transition-colors",children:[l.jsxDEV("h3",{className:"font-bold text-lg mb-2",children:"Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:121,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-white/80",children:"Clinical guidelines and protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:122,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:117,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:76,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:67,columnNumber:11},void 0):l.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 max-w-md mx-auto",children:[l.jsxDEV("h3",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:58,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-white/80 mb-6",children:"Please log in to access the oncology resources and tools."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:61,columnNumber:13},void 0),l.jsxDEV(mu,{className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:57,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:47,columnNumber:7},void 0),l.jsxDEV("footer",{className:"text-center text-sm py-4 text-indigo-100",children:[" ",new Date().getFullYear()," OncoVista  Empowering Oncology Excellence"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:130,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/LandingPage.tsx",lineNumber:27,columnNumber:5},void 0)},AD=x.createContext(void 0),hV=({children:e})=>{const{user:t,isAuthenticated:n,isLoading:s,error:i,loginWithRedirect:o,logout:r,getAccessTokenSilently:a}=ei(),m={user:n&&t||null,isAuthenticated:n,isLoading:s,error:i,login:()=>{o({appState:{returnTo:window.location.pathname==="/callback"?"/dashboard":window.location.pathname+window.location.search}})},logout:()=>{r({logoutParams:{returnTo:"https://mwoncovista.netlify.app"}})},getAccessToken:async()=>{try{return await a()}catch(f){throw console.error("Error getting access token:",f),f}}};return l.jsxDEV(AD.Provider,{value:m,children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/context/UserContext.tsx",lineNumber:73,columnNumber:5},void 0)},pV=()=>{const e=x.useContext(AD);if(e===void 0)throw new Error("useUserContext must be used within a UserProvider");return e},ID=(e=!1)=>{const t=ei();if(e)try{const f=pV();return{user:f.user?{id:f.user.sub,name:f.user.name,email:f.user.email,picture:f.user.picture,emailVerified:f.user.email_verified,nickname:f.user.nickname,givenName:f.user.given_name,familyName:f.user.family_name,locale:f.user.locale,updatedAt:f.user.updated_at}:null,isAuthenticated:f.isAuthenticated,isLoading:f.isLoading,error:f.error,login:f.login,logout:f.logout,getAccessTokenSilently:f.getAccessToken,getIdTokenClaims:t.getIdTokenClaims}}catch{}const{user:n,isAuthenticated:s,isLoading:i,error:o,loginWithRedirect:r,logout:a,getAccessTokenSilently:c,getIdTokenClaims:u}=t,d=()=>{r({appState:{returnTo:window.location.pathname==="/callback"?"/dashboard":window.location.pathname+window.location.search}})},m=()=>{a({logoutParams:{returnTo:"https://mwoncovista.netlify.app"}})};return{user:n?{id:n.sub,name:n.name,email:n.email,picture:n.picture,emailVerified:n.email_verified,nickname:n.nickname,givenName:n.given_name,familyName:n.family_name,locale:n.locale,updatedAt:n.updated_at}:null,isAuthenticated:s,isLoading:i,error:o,login:d,logout:m,getAccessTokenSilently:c,getIdTokenClaims:u}},gV=()=>{const{user:e,isAuthenticated:t,isLoading:n}=ID();return n?l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:17,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:18,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:21,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:16,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:15,columnNumber:7},void 0):l.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600 p-8",children:l.jsxDEV("div",{className:"max-w-4xl mx-auto",children:l.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 shadow-xl",children:[l.jsxDEV("div",{className:"text-center mb-8",children:[l.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-2",children:" OncoVista Dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:34,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-white/80 text-lg",children:"Welcome to your personalized oncology platform"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:35,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:33,columnNumber:11},void 0),t&&e?l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-white mb-4",children:"Your Profile"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:42,columnNumber:17},void 0),l.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.picture&&l.jsxDEV("img",{src:e.picture,alt:"Profile",className:"w-16 h-16 rounded-full border-2 border-white/20"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:45,columnNumber:21},void 0),l.jsxDEV("div",{className:"text-white",children:[l.jsxDEV("div",{className:"font-medium text-lg",children:e.name||"Anonymous User"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:52,columnNumber:21},void 0),l.jsxDEV("div",{className:"text-white/70",children:e.email},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:53,columnNumber:21},void 0),e.emailVerified&&l.jsxDEV("div",{className:"text-green-300 text-sm mt-1",children:" Email verified"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:55,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:51,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:41,columnNumber:15},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxDEV("button",{onClick:()=>window.location.href="/handbook",className:"bg-white/10 hover:bg-white/20 rounded-lg p-6 text-center transition-all border border-white/10 hover:border-white/20",children:[l.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:67,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white font-medium",children:"Medical Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:68,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white/70 text-sm",children:"Clinical guidelines & protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:69,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:63,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>window.location.href="/opd",className:"bg-white/10 hover:bg-white/20 rounded-lg p-6 text-center transition-all border border-white/10 hover:border-white/20",children:[l.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:76,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white font-medium",children:"OPD Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:77,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white/70 text-sm",children:"Outpatient workflows"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:78,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:72,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>window.location.href="/tools",className:"bg-white/10 hover:bg-white/20 rounded-lg p-6 text-center transition-all border border-white/10 hover:border-white/20",children:[l.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:85,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white font-medium",children:"Clinical Tools"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:86,columnNumber:19},void 0),l.jsxDEV("div",{className:"text-white/70 text-sm",children:"Calculators & utilities"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:87,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:81,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:62,columnNumber:15},void 0),l.jsxDEV("div",{className:"text-center",children:l.jsxDEV(Ju,{className:"px-6 py-3 bg-red-500/20 hover:bg-red-500/30 text-white rounded-lg border border-red-500/30 hover:border-red-500/50 transition-all"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:39,columnNumber:13},void 0):l.jsxDEV("div",{className:"text-center space-y-6",children:[l.jsxDEV("div",{className:"text-white/80 text-lg",children:"Please sign in to access your personalized dashboard"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:98,columnNumber:15},void 0),l.jsxDEV(mu,{className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-lg font-medium transition-all shadow-lg"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:32,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:31,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/Dashboard.tsx",lineNumber:30,columnNumber:5},void 0)},Wt=({children:e,fallback:t})=>{const{isAuthenticated:n,isLoading:s,loginWithRedirect:i}=ei();return s?l.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:23,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:24,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Authenticating..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:27,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:21,columnNumber:7},void 0):n?l.jsxDEV(l.Fragment,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:55,columnNumber:10},void 0):t||l.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center bg-white/10 backdrop-blur-lg rounded-lg p-8 max-w-md",children:[l.jsxDEV("div",{className:"text-white text-2xl font-bold mb-2",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:37,columnNumber:11},void 0),l.jsxDEV("h2",{className:"text-xl font-bold mb-4 text-white",children:"Authentication Required"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:38,columnNumber:11},void 0),l.jsxDEV("p",{className:"mb-6 text-white/80",children:"You need to be logged in to access this page."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:39,columnNumber:11},void 0),l.jsxDEV("button",{onClick:()=>i({appState:{returnTo:window.location.pathname+window.location.search}}),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium w-full",children:"Log In"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:40,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/ProtectedRoute.tsx",lineNumber:35,columnNumber:7},void 0)},bV=()=>{const{user:e}=ID();return l.jsxDEV(Wt,{children:l.jsxDEV("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:l.jsxDEV("div",{className:"max-w-2xl mx-auto",children:l.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[l.jsxDEV("div",{className:"text-center mb-8",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:" Protected Page"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:19,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"This page is only accessible to authenticated users"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:22,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:18,columnNumber:13},void 0),e&&l.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 mb-6",children:[l.jsxDEV("h2",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-3",children:["Welcome, ",e.name||"User","!"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:29,columnNumber:17},void 0),l.jsxDEV("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:33,columnNumber:22},void 0)," ",e.email]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:33,columnNumber:19},void 0),l.jsxDEV("p",{children:[l.jsxDEV("strong",{children:"User ID:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:34,columnNumber:22},void 0)," ",e.id]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:34,columnNumber:19},void 0),e.picture&&l.jsxDEV("div",{className:"mt-4",children:l.jsxDEV("img",{src:e.picture,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-blue-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:37,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:36,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:32,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:28,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:"This is a demonstration of protected content. Only authenticated users can see this page. If you're seeing this, it means:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:49,columnNumber:15},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-2 text-gray-600 dark:text-gray-400 ml-4",children:[l.jsxDEV("li",{children:" You are successfully authenticated with Auth0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:54,columnNumber:17},void 0),l.jsxDEV("li",{children:" Your access token is valid"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:55,columnNumber:17},void 0),l.jsxDEV("li",{children:" The ProtectedRoute component is working correctly"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:56,columnNumber:17},void 0),l.jsxDEV("li",{children:" User information is being retrieved from Auth0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:53,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:48,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-8 text-center",children:l.jsxDEV(Ju,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:62,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:61,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:17,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:16,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/ProtectedPage.tsx",lineNumber:14,columnNumber:5},void 0)},vV=()=>{const{isLoading:e,error:t,isAuthenticated:n,handleRedirectCallback:s}=ei(),i=os();return x.useEffect(()=>{if(!e){if(t){console.error("Authentication error:",t),i("/",{replace:!0});return}n&&s().then(o=>{var a;const r=((a=o==null?void 0:o.appState)==null?void 0:a.returnTo)||"/dashboard";i(r,{replace:!0})}).catch(o=>{console.error("Redirect callback error:",o),i("/dashboard",{replace:!0})})}},[e,t,n,i,s]),t?l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center bg-white/10 backdrop-blur-lg rounded-lg p-8 max-w-md",children:[l.jsxDEV("div",{className:"text-red-400 text-xl font-bold mb-4",children:"Authentication Error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:40,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-white/80 mb-4",children:t.message},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:41,columnNumber:11},void 0),l.jsxDEV("button",{onClick:()=>i("/",{replace:!0}),className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Return Home"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:42,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:39,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:38,columnNumber:7},void 0):l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:56,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:57,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Completing authentication..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:55,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/pages/CallbackPage.tsx",lineNumber:54,columnNumber:5},void 0)};function xV({children:e,componentName:t}){try{return l.jsxDEV(l.Fragment,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorWrapper.tsx",lineNumber:10,columnNumber:12},this)}catch(n){return console.error(`Error in ${t||"component"}:`,n),l.jsxDEV("div",{className:"p-4 bg-red-50 text-red-600 border border-red-200 rounded mt-4",children:[" Failed to load ",t||"component","."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ErrorWrapper.tsx",lineNumber:14,columnNumber:7},this)}}const NV=[{id:"medical-oncology",title:"Medical Oncology",description:"Clinical oncology chapters, diagnosis, treatment, supportive care, emergencies, and reference tools.",icon:Zn,isImage:!1,path:"/handbook/medical-oncology"},{id:"radiation-oncology",title:"Radiation Oncology",description:"Detailed protocols for radiation therapy, treatment planning, dosimetry, and management of radiation-related effects.",icon:Ay,isImage:!1,path:"/handbook/radiation-oncology"},{id:"palliative-care",title:"Palliative Care",description:"Guidelines for symptom management, pain control, and improving quality of life for patients with advanced cancer.",icon:Nl,isImage:!1,path:"/handbook/palliative-care"}],yV=()=>l.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800",children:l.jsxDEV("div",{className:"p-8 max-w-7xl mx-auto",children:[l.jsxDEV("h1",{className:"text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-blue-500",children:"OncoVista Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:37,columnNumber:9},void 0),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-12 text-lg max-w-2xl",children:"Select a section to explore detailed oncology guidelines and protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:40,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-3 gap-8",children:NV.map(e=>l.jsxDEV(Vs,{to:e.path,className:`group block p-6 bg-white dark:bg-slate-800 rounded-xl\r
                shadow-sm hover:shadow-md transition-all duration-300\r
                border border-gray-100 dark:border-gray-700\r
                hover:border-purple-100 dark:hover:border-purple-900/50\r
                relative overflow-hidden`,children:[l.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-br from-purple-50/50 to-blue-50/50 \r
                dark:from-purple-900/10 dark:to-blue-900/10\r
                opacity-0 group-hover:opacity-100 transition-opacity`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:55,columnNumber:15},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:`mb-4 p-3 rounded-lg inline-block \r
                  bg-gradient-to-br from-purple-100 to-blue-100\r
                  dark:from-purple-900/50 dark:to-blue-900/50`,children:l.jsxDEV(e.icon,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:64,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:61,columnNumber:17},void 0),l.jsxDEV("h2",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:67,columnNumber:17},void 0),l.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:e.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:60,columnNumber:15},void 0)]},e.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:46,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:44,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-16 grid md:grid-cols-3 gap-8",children:[l.jsxDEV("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("div",{className:"p-3 rounded-lg inline-block bg-blue-100 dark:bg-blue-900/30 mb-4",children:l.jsxDEV(Zn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:84,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:83,columnNumber:13},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Comprehensive Content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:86,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Evidence-based guidelines and protocols for oncology practice"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:82,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("div",{className:"p-3 rounded-lg inline-block bg-purple-100 dark:bg-purple-900/30 mb-4",children:l.jsxDEV(Ay,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:96,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:95,columnNumber:13},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Treatment Planning"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:98,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed guidance for radiation therapy and palliative care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:94,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("div",{className:"p-3 rounded-lg inline-block bg-rose-100 dark:bg-rose-900/30 mb-4",children:l.jsxDEV(Nl,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:108,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:107,columnNumber:13},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Patient-Centered Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:110,columnNumber:13},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Focus on quality of life and holistic patient management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookLanding.tsx",lineNumber:35,columnNumber:5},void 0),wV=({entry:e,depth:t,isExpanded:n,isActive:s,section:i,activeTopicId:o,onToggle:r,onSelect:a})=>{var m,f,h,p;const c=e.items&&e.items.length>0,u=e.path&&o===e.path,d=c&&((m=e.items)==null?void 0:m.some(g=>{var v;return g.path===o||((v=g.items)==null?void 0:v.some(b=>b.path===o))}));return l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("button",{onClick:()=>c?r():e.path&&a(e.path),className:ke("w-full text-left group flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200","hover:bg-slate-100 dark:hover:bg-slate-800",(u||d)&&"bg-gradient-to-r from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30",t>0&&"ml-4"),children:[c&&l.jsxDEV(Be.div,{initial:!1,animate:{rotate:n?90:0},transition:{duration:.2},className:ke("text-slate-400",d&&"text-indigo-500 dark:text-indigo-400"),children:l.jsxDEV(b2,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:62,columnNumber:11},void 0),l.jsxDEV("span",{className:ke("flex-1 text-sm transition-colors",c?"font-semibold":"font-normal",u||d?"text-indigo-700 dark:text-indigo-300":"text-slate-700 dark:text-slate-300","group-hover:text-indigo-600 dark:group-hover:text-indigo-400"),children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:74,columnNumber:9},void 0),((f=e.path)==null?void 0:f.includes("new"))&&l.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:"New"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:89,columnNumber:11},void 0),((h=e.path)==null?void 0:h.includes("updated"))&&l.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full",children:"Updated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:94,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:51,columnNumber:7},void 0),c&&l.jsxDEV(Ts,{initial:!1,children:n&&l.jsxDEV(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxDEV("div",{className:"relative pl-4 before:absolute before:left-2 before:top-0 before:h-full before:w-px before:bg-slate-200 dark:before:bg-slate-700",children:(p=e.items)==null?void 0:p.map((g,v)=>l.jsxDEV(RD,{entry:g,depth:t+1,section:i,activeTopicId:o,onSelect:a},`${g.title}-${v}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:112,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:110,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:103,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:50,columnNumber:5},void 0)},RD=({entry:e,depth:t,section:n,activeTopicId:s,onSelect:i})=>{const[o,r]=x.useState(()=>s?e.items?e.items.some(c=>{var u;return c.path===s||((u=c.items)==null?void 0:u.some(d=>d.path===s))}):!1:t===0);e.items&&e.items.length>0;const a=e.path===s;return l.jsxDEV(wV,{entry:e,depth:t,isExpanded:o,isActive:a,section:n,activeTopicId:s,onToggle:()=>r(!o),onSelect:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:159,columnNumber:5},void 0)},DV=({section:e,tocData:t,activeTopicId:n,onTopicClick:s})=>{const[i,o]=x.useState(""),r=x.useCallback(c=>{e&&c&&s(e,c)},[e,s]),a=x.useMemo(()=>{if(!i)return t;const c=i.toLowerCase(),u=d=>d.reduce((m,f)=>{if(f.title.toLowerCase().includes(c))m.push(f);else if(f.items){const h=u(f.items);h.length>0&&m.push({...f,items:h})}return m},[]);return u(t)},[t,i]);return l.jsxDEV("div",{className:"w-80 flex-shrink-0 border-r border-slate-200 dark:border-slate-800",children:[l.jsxDEV("div",{className:"sticky top-0 z-10 p-4 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800",children:l.jsxDEV("div",{className:"relative",children:[l.jsxDEV(cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:213,columnNumber:11},void 0),l.jsxDEV("input",{type:"text",placeholder:"Search topics...",value:i,onChange:c=>o(c.target.value),className:`w-full pl-9 pr-4 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-700 \r
                     bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100\r
                     placeholder:text-slate-400 dark:placeholder:text-slate-500\r
                     focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400\r
                     transition-all duration-200`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:214,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:212,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:211,columnNumber:7},void 0),l.jsxDEV("div",{className:`h-[calc(100vh-4rem)] p-4 space-y-2 overflow-y-auto \r
                    scrollbar-thin scrollbar-track-transparent\r
                    scrollbar-thumb-slate-200 hover:scrollbar-thumb-slate-300\r
                    dark:scrollbar-thumb-slate-700 dark:hover:scrollbar-thumb-slate-600\r
                    scroll-smooth`,children:a.length===0?l.jsxDEV("div",{className:"flex items-center gap-2 p-4 text-sm text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[l.jsxDEV(Es,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:236,columnNumber:13},void 0),l.jsxDEV("span",{children:"No matching topics found"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:235,columnNumber:11},void 0):a.map((c,u)=>l.jsxDEV(RD,{entry:c,depth:0,section:e,activeTopicId:n,onSelect:r},`${c.title}-${u}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:241,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:229,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/HandbookSidebarNew.tsx",lineNumber:209,columnNumber:5},void 0)};class EV extends Error{constructor(n,s,i,o,r){super(n);Me(this,"name","Assertion");Me(this,"code","ERR_ASSERTION");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=s,this.expected=i,this.generated=r,this.operator=o}}function W(e,t){jD(!!e,!1,!0,"ok","Expected value to be truthy",t)}function Jf(e){jD(!1,!1,!0,"ok","Unreachable",e)}function jD(e,t,n,s,i,o){if(!e)throw o instanceof Error?o:new EV(o||i,t,n,s,!o)}function nv(e){const t=[],n=String(e||"");let s=n.indexOf(","),i=0,o=!1;for(;!o;){s===-1&&(s=n.length,o=!0);const r=n.slice(i,s).trim();(r||!o)&&t.push(r),i=s+1,s=n.indexOf(",",i)}return t}function OD(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const TV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,SV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_V={};function sv(e,t){return(_V.jsx?SV:TV).test(e)}const kV=/[ \t\n\f\r]/g;function MV(e){return typeof e=="object"?e.type==="text"?iv(e.value):!1:iv(e)}function iv(e){return e.replace(kV,"")===""}let _l=class{constructor(t,n,s){this.normal=n,this.property=t,s&&(this.space=s)}};_l.prototype.normal={};_l.prototype.property={};_l.prototype.space=void 0;function VD(e,t){const n={},s={};for(const i of e)Object.assign(n,i.property),Object.assign(s,i.normal);return new _l(n,s,t)}function ll(e){return e.toLowerCase()}let yn=class{constructor(t,n){this.attribute=n,this.property=t}};yn.prototype.attribute="";yn.prototype.booleanish=!1;yn.prototype.boolean=!1;yn.prototype.commaOrSpaceSeparated=!1;yn.prototype.commaSeparated=!1;yn.prototype.defined=!1;yn.prototype.mustUseProperty=!1;yn.prototype.number=!1;yn.prototype.overloadedBoolean=!1;yn.prototype.property="";yn.prototype.spaceSeparated=!1;yn.prototype.space=void 0;let CV=0;const Oe=yo(),kt=yo(),Qf=yo(),fe=yo(),ct=yo(),ir=yo(),wn=yo();function yo(){return 2**++CV}const Zf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Oe,booleanish:kt,commaOrSpaceSeparated:wn,commaSeparated:ir,number:fe,overloadedBoolean:Qf,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),lm=Object.keys(Zf);let Yp=class extends yn{constructor(t,n,s,i){let o=-1;if(super(t,n),ov(this,"space",i),typeof s=="number")for(;++o<lm.length;){const r=lm[o];ov(this,lm[o],(s&Zf[r])===Zf[r])}}};Yp.prototype.defined=!0;function ov(e,t,n){n&&(e[t]=n)}function Rr(e){const t={},n={};for(const[s,i]of Object.entries(e.properties)){const o=new Yp(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),t[s]=o,n[ll(s)]=s,n[ll(o.attribute)]=s}return new _l(t,n,e.space)}const LD=Rr({properties:{ariaActiveDescendant:null,ariaAtomic:kt,ariaAutoComplete:null,ariaBusy:kt,ariaChecked:kt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:kt,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:kt,ariaFlowTo:ct,ariaGrabbed:kt,ariaHasPopup:null,ariaHidden:kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:fe,ariaLive:null,ariaModal:kt,ariaMultiLine:kt,ariaMultiSelectable:kt,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:kt,ariaReadOnly:kt,ariaRelevant:null,ariaRequired:kt,ariaRoleDescription:ct,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:kt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function FD(e,t){return t in e?e[t]:t}function BD(e,t){return FD(e,t.toLowerCase())}const PV=Rr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ir,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:Oe,allowPaymentRequest:Oe,allowUserMedia:Oe,alt:null,as:null,async:Oe,autoCapitalize:null,autoComplete:ct,autoFocus:Oe,autoPlay:Oe,blocking:ct,capture:null,charSet:null,checked:Oe,cite:null,className:ct,cols:fe,colSpan:null,content:null,contentEditable:kt,controls:Oe,controlsList:ct,coords:fe|ir,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Oe,defer:Oe,dir:null,dirName:null,disabled:Oe,download:Qf,draggable:kt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Oe,formTarget:null,headers:ct,height:fe,hidden:Qf,high:fe,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:Oe,inputMode:null,integrity:null,is:null,isMap:Oe,itemId:null,itemProp:ct,itemRef:ct,itemScope:Oe,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Oe,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Oe,muted:Oe,name:null,nonce:null,noModule:Oe,noValidate:Oe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Oe,optimum:fe,pattern:null,ping:ct,placeholder:null,playsInline:Oe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Oe,referrerPolicy:null,rel:ct,required:Oe,reversed:Oe,rows:fe,rowSpan:fe,sandbox:ct,scope:null,scoped:Oe,seamless:Oe,selected:Oe,shadowRootClonable:Oe,shadowRootDelegatesFocus:Oe,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Oe,useMap:null,value:kt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Oe,declare:Oe,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Oe,noHref:Oe,noShade:Oe,noWrap:Oe,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:kt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Oe,disableRemotePlayback:Oe,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:BD}),AV=Rr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Oe,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ir,g2:ir,glyphName:ir,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wn,rev:wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wn,requiredFeatures:wn,requiredFonts:wn,requiredFormats:wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:FD}),HD=Rr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),UD=Rr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:BD}),zD=Rr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),IV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},RV=/[A-Z]/g,rv=/-[a-z]/g,jV=/^data[-\w.:]+$/i;function Xp(e,t){const n=ll(t);let s=t,i=yn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jV.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(rv,VV);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!rv.test(o)){let r=o.replace(RV,OV);r.charAt(0)!=="-"&&(r="-"+r),t="data"+r}}i=Yp}return new i(s,t)}function OV(e){return"-"+e.toLowerCase()}function VV(e){return e.charAt(1).toUpperCase()}const Qu=VD([LD,PV,HD,UD,zD],"html"),jr=VD([LD,AV,HD,UD,zD],"svg");function av(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function $D(e){return e.join(" ").trim()}var Jp={},lv=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,LV=/\n/g,FV=/^\s*/,BV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,HV=/^:\s*/,UV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,zV=/^[;\s]*/,$V=/^\s+|\s+$/g,WV=`
`,cv="/",uv="*",qi="",GV="comment",qV="declaration",KV=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,s=1;function i(p){var g=p.match(LV);g&&(n+=g.length);var v=p.lastIndexOf(WV);s=~v?p.length-v:s+p.length}function o(){var p={line:n,column:s};return function(g){return g.position=new r(p),u(),g}}function r(p){this.start=p,this.end={line:n,column:s},this.source=t.source}r.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+s+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=s,g.source=e,!t.silent)throw g}function c(p){var g=p.exec(e);if(g){var v=g[0];return i(v),e=e.slice(v.length),g}}function u(){c(FV)}function d(p){var g;for(p=p||[];g=m();)g!==!1&&p.push(g);return p}function m(){var p=o();if(!(cv!=e.charAt(0)||uv!=e.charAt(1))){for(var g=2;qi!=e.charAt(g)&&(uv!=e.charAt(g)||cv!=e.charAt(g+1));)++g;if(g+=2,qi===e.charAt(g-1))return a("End of comment missing");var v=e.slice(2,g-2);return s+=2,i(v),e=e.slice(g),s+=2,p({type:GV,comment:v})}}function f(){var p=o(),g=c(BV);if(g){if(m(),!c(HV))return a("property missing ':'");var v=c(UV),b=p({type:qV,property:dv(g[0].replace(lv,qi)),value:v?dv(v[0].replace(lv,qi)):qi});return c(zV),b}}function h(){var p=[];d(p);for(var g;g=f();)g!==!1&&(p.push(g),d(p));return p}return u(),h()};function dv(e){return e?e.replace($V,qi):qi}var YV=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.default=JV;var XV=YV(KV);function JV(e,t){var n=null;if(!e||typeof e!="string")return n;var s=(0,XV.default)(e),i=typeof t=="function";return s.forEach(function(o){if(o.type==="declaration"){var r=o.property,a=o.value;i?t(r,a,o):a&&(n=n||{},n[r]=a)}}),n}var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.camelCase=void 0;var QV=/^--[a-zA-Z0-9_-]+$/,ZV=/-([a-z])/g,e5=/^[^-]+$/,t5=/^-(webkit|moz|ms|o|khtml)-/,n5=/^-(ms)-/,s5=function(e){return!e||e5.test(e)||QV.test(e)},i5=function(e,t){return t.toUpperCase()},mv=function(e,t){return"".concat(t,"-")},o5=function(e,t){return t===void 0&&(t={}),s5(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(n5,mv):e=e.replace(t5,mv),e.replace(ZV,i5))};Zu.camelCase=o5;var r5=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a5=r5(Jp),l5=Zu;function eh(e,t){var n={};return!e||typeof e!="string"||(0,a5.default)(e,function(s,i){s&&i&&(n[(0,l5.camelCase)(s,t)]=i)}),n}eh.default=eh;var c5=eh;const u5=Ru(c5),ed=WD("end"),Ms=WD("start");function WD(e){return t;function t(n){const s=n&&n.position&&n.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function d5(e){const t=Ms(e),n=ed(e);if(t&&n)return{start:t,end:n}}function Aa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fv(e.position):"start"in e||"end"in e?fv(e):"line"in e||"column"in e?th(e):""}function th(e){return hv(e&&e.line)+":"+hv(e&&e.column)}function fv(e){return th(e&&e.start)+"-"+th(e&&e.end)}function hv(e){return e&&typeof e=="number"?e:1}class Qt extends Error{constructor(t,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let i="",o={},r=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(r=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?o.ruleId=s:(o.source=s.slice(0,c),o.ruleId=s.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Aa(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=r&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Qt.prototype.file="";Qt.prototype.name="";Qt.prototype.reason="";Qt.prototype.message="";Qt.prototype.stack="";Qt.prototype.column=void 0;Qt.prototype.line=void 0;Qt.prototype.ancestors=void 0;Qt.prototype.cause=void 0;Qt.prototype.fatal=void 0;Qt.prototype.place=void 0;Qt.prototype.ruleId=void 0;Qt.prototype.source=void 0;const Qp={}.hasOwnProperty,m5=new Map,f5=/[A-Z]/g,h5=new Set(["table","tbody","thead","tfoot","tr"]),p5=new Set(["td","th"]),GD="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function g5(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=E5(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=D5(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?jr:Qu,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=qD(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function qD(e,t,n){if(t.type==="element")return b5(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return v5(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return N5(e,t,n);if(t.type==="mdxjsEsm")return x5(e,t);if(t.type==="root")return y5(e,t,n);if(t.type==="text")return w5(e,t)}function b5(e,t,n){const s=e.schema;let i=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=jr,e.schema=i),e.ancestors.push(t);const o=YD(e,t.tagName,!1),r=T5(e,t);let a=eg(e,t);return h5.has(t.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!MV(c):!0})),KD(e,r,o,t),Zp(r,a),e.ancestors.pop(),e.schema=s,e.create(t,o,r,n)}function v5(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return W(s.type==="ExpressionStatement"),e.evaluater.evaluateExpression(s.expression)}cl(e,t.position)}function x5(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);cl(e,t.position)}function N5(e,t,n){const s=e.schema;let i=s;t.name==="svg"&&s.space==="html"&&(i=jr,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:YD(e,t.name,!0),r=S5(e,t),a=eg(e,t);return KD(e,r,o,t),Zp(r,a),e.ancestors.pop(),e.schema=s,e.create(t,o,r,n)}function y5(e,t,n){const s={};return Zp(s,eg(e,t)),e.create(t,e.Fragment,s,n)}function w5(e,t){return t.value}function KD(e,t,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=s)}function Zp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function D5(e,t,n){return s;function s(i,o,r,a){const u=Array.isArray(r.children)?n:t;return a?u(o,r,a):u(o,r)}}function E5(e,t){return n;function n(s,i,o,r){const a=Array.isArray(o.children),c=Ms(s);return t(i,o,r,a,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function T5(e,t){const n={};let s,i;for(i in t.properties)if(i!=="children"&&Qp.call(t.properties,i)){const o=_5(e,i,t.properties[i]);if(o){const[r,a]=o;e.tableCellAlignToStyle&&r==="align"&&typeof a=="string"&&p5.has(t.tagName)?s=a:n[r]=a}}if(s){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function S5(e,t){const n={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const o=s.data.estree.body[0];W(o.type==="ExpressionStatement");const r=o.expression;W(r.type==="ObjectExpression");const a=r.properties[0];W(a.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else cl(e,t.position);else{const i=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const a=s.value.data.estree.body[0];W(a.type==="ExpressionStatement"),o=e.evaluater.evaluateExpression(a.expression)}else cl(e,t.position);else o=s.value===null?!0:s.value;n[i]=o}return n}function eg(e,t){const n=[];let s=-1;const i=e.passKeys?new Map:m5;for(;++s<t.children.length;){const o=t.children[s];let r;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const u=i.get(c)||0;r=c+"-"+u,i.set(c,u+1)}}const a=qD(e,o,r);a!==void 0&&n.push(a)}return n}function _5(e,t,n){const s=Xp(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?OD(n):$D(n)),s.property==="style"){let i=typeof n=="object"?n:k5(e,String(n));return e.stylePropertyNameCase==="css"&&(i=M5(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&s.space?IV[s.property]||s.property:s.attribute,n]}}function k5(e,t){try{return u5(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,i=new Qt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=GD+"#cannot-parse-style-attribute",i}}function YD(e,t,n){let s;if(!n)s={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,r;for(;++o<i.length;){const a=sv(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};r=r?{type:"MemberExpression",object:r,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}W(r,"always a result"),s=r}else s=sv(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const i=s.value;return Qp.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(s);cl(e)}function cl(e,t){const n=new Qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=GD+"#cannot-handle-mdx-estrees-without-createevaluater",n}function M5(e){const t={};let n;for(n in e)Qp.call(e,n)&&(t[C5(n)]=e[n]);return t}function C5(e){let t=e.replace(f5,P5);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function P5(e){return"-"+e.toLowerCase()}const cm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},A5={};function tg(e,t){const n=A5,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return XD(e,s,i)}function XD(e,t,n){if(I5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return pv(e.children,t,n)}return Array.isArray(e)?pv(e,t,n):""}function pv(e,t,n){const s=[];let i=-1;for(;++i<e.length;)s[i]=XD(e[i],t,n);return s.join("")}function I5(e){return!!(e&&typeof e=="object")}const gv=document.createElement("i");function ng(e){const t="&"+e+";";gv.innerHTML=t;const n=gv.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const S={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseH:72,uppercaseW:87,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseH:104,lowercaseW:119,lowercaseX:120,leftCurlyBrace:123,verticalBar:124,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},be={attentionSideAfter:2,atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},C={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},ps={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:""};function kn(e,t,n,s){const i=e.length;let o=0,r;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,s.length<be.v8MaxSafeChunkSize)r=Array.from(s),r.unshift(t,n),e.splice(...r);else for(n&&e.splice(t,n);o<s.length;)r=s.slice(o,o+be.v8MaxSafeChunkSize),r.unshift(t,0),e.splice(...r),o+=be.v8MaxSafeChunkSize,t+=be.v8MaxSafeChunkSize}function jn(e,t){return e.length>0?(kn(e,e.length,0,t),e):t}const bv={}.hasOwnProperty;function JD(e){const t={};let n=-1;for(;++n<e.length;)R5(t,e[n]);return t}function R5(e,t){let n;for(n in t){const i=(bv.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let r;if(o)for(r in o){bv.call(i,r)||(i[r]=[]);const a=o[r];j5(i[r],Array.isArray(a)?a:a?[a]:[])}}}function j5(e,t){let n=-1;const s=[];for(;++n<t.length;)(t[n].add==="after"?e:s).push(t[n]);kn(e,0,0,s)}function QD(e,t){const n=Number.parseInt(e,t);return n<S.ht||n===S.vt||n>S.cr&&n<S.space||n>S.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?ps.replacementCharacter:String.fromCodePoint(n)}function ts(e){return e.replace(/[\t\n\r ]+/g,ps.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const on=ki(/[A-Za-z]/),Yt=ki(/[\dA-Za-z]/),O5=ki(/[#-'*+\--9=?A-Z^-~]/);function fu(e){return e!==null&&(e<S.space||e===S.del)}const nh=ki(/\d/),V5=ki(/[\dA-Fa-f]/),L5=ki(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<S.horizontalTab}function ot(e){return e!==null&&(e<S.nul||e===S.space)}function Ue(e){return e===S.horizontalTab||e===S.virtualSpace||e===S.space}const td=ki(new RegExp("\\p{P}|\\p{S}","u")),ho=ki(/\s/);function ki(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Or(e){const t=[];let n=-1,s=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let r="";if(o===S.percentSign&&Yt(e.charCodeAt(n+1))&&Yt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(r=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(r=String.fromCharCode(o,a),i=1):r=ps.replacementCharacter}else r=String.fromCharCode(o);r&&(t.push(e.slice(s,n),encodeURIComponent(r)),s=n+i+1,r=""),i&&(n+=i,i=0)}return t.join("")+e.slice(s)}function Xe(e,t,n,s){const i=s?s-1:Number.POSITIVE_INFINITY;let o=0;return r;function r(c){return Ue(c)?(e.enter(n),a(c)):t(c)}function a(c){return Ue(c)&&o++<i?(e.consume(c),a):(e.exit(n),t(c))}}const F5={tokenize:B5};function B5(e){const t=e.attempt(this.parser.constructs.contentInitial,s,i);let n;return t;function s(a){if(W(a===S.eof||we(a),"expected eol or eof"),a===S.eof){e.consume(a);return}return e.enter(C.lineEnding),e.consume(a),e.exit(C.lineEnding),Xe(e,t,C.linePrefix)}function i(a){return W(a!==S.eof&&!we(a),"expected anything other than a line ending or EOF"),e.enter(C.paragraph),o(a)}function o(a){const c=e.enter(C.chunkText,{contentType:be.contentTypeText,previous:n});return n&&(n.next=c),n=c,r(a)}function r(a){if(a===S.eof){e.exit(C.chunkText),e.exit(C.paragraph),e.consume(a);return}return we(a)?(e.consume(a),e.exit(C.chunkText),o):(e.consume(a),r)}}const H5={tokenize:U5},vv={tokenize:z5};function U5(e){const t=this,n=[];let s=0,i,o,r;return a;function a(N){if(s<n.length){const E=n[s];return t.containerState=E[1],W(E[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(E[0].continuation,c,u)(N)}return u(N)}function c(N){if(W(t.containerState,"expected `containerState` to be defined after continuation"),s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const E=t.events.length;let D=E,T;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type===C.chunkFlow){T=t.events[D][1].end;break}W(T,"could not find previous flow chunk"),b(s);let M=E;for(;M<t.events.length;)t.events[M][1].end={...T},M++;return kn(t.events,D+1,0,t.events.slice(E)),t.events.length=M,u(N)}return a(N)}function u(N){if(s===n.length){if(!i)return f(N);if(i.currentConstruct&&i.currentConstruct.concrete)return p(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vv,d,m)(N)}function d(N){return i&&w(),b(s),f(N)}function m(N){return t.parser.lazy[t.now().line]=s!==n.length,r=t.now().offset,p(N)}function f(N){return t.containerState={},e.attempt(vv,h,p)(N)}function h(N){return W(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),W(t.containerState,"expected `containerState` to be defined on tokenizer"),s++,n.push([t.currentConstruct,t.containerState]),f(N)}function p(N){if(N===S.eof){i&&w(),b(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter(C.chunkFlow,{_tokenizer:i,contentType:be.contentTypeFlow,previous:o}),g(N)}function g(N){if(N===S.eof){v(e.exit(C.chunkFlow),!0),b(0),e.consume(N);return}return we(N)?(e.consume(N),v(e.exit(C.chunkFlow)),s=0,t.interrupt=void 0,a):(e.consume(N),g)}function v(N,E){W(i,"expected `childFlow` to be defined when continuing");const D=t.sliceStream(N);if(E&&D.push(null),N.previous=o,o&&(o.next=N),o=N,i.defineSkip(N.start),i.write(D),t.parser.lazy[N.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<r&&(!i.events[T][1].end||i.events[T][1].end.offset>r))return;const M=t.events.length;let _=M,P,k;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type===C.chunkFlow){if(P){k=t.events[_][1].end;break}P=!0}for(W(k,"could not find previous flow chunk"),b(s),T=M;T<t.events.length;)t.events[T][1].end={...k},T++;kn(t.events,_+1,0,t.events.slice(M)),t.events.length=T}}function b(N){let E=n.length;for(;E-- >N;){const D=n[E];t.containerState=D[1],W(D[0].exit,"expected `exit` to be defined on container construct"),D[0].exit.call(t,e)}n.length=N}function w(){W(t.containerState,"expected `containerState` to be defined when closing flow"),W(i,"expected `childFlow` to be defined when closing it"),i.write([S.eof]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function z5(e,t,n){return W(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,e.attempt(this.parser.constructs.document,t,n),C.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize)}function pr(e){if(e===S.eof||ot(e)||ho(e))return be.characterGroupWhitespace;if(td(e))return be.characterGroupPunctuation}function nd(e,t,n){const s=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!s.includes(o)&&(t=o(t,n),s.push(o))}return t}const sh={name:"attention",resolveAll:$5,tokenize:W5};function $5(e,t){let n=-1,s,i,o,r,a,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(s=n;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&t.sliceSerialize(e[s][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[s][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[s][1].end.offset-e[s][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[s][1].end},f={...e[n][1].start};xv(m,-c),xv(f,c),r={type:c>1?C.strongSequence:C.emphasisSequence,start:m,end:{...e[s][1].end}},a={type:c>1?C.strongSequence:C.emphasisSequence,start:{...e[n][1].start},end:f},o={type:c>1?C.strongText:C.emphasisText,start:{...e[s][1].end},end:{...e[n][1].start}},i={type:c>1?C.strong:C.emphasis,start:{...r.start},end:{...a.end}},e[s][1].end={...r.start},e[n][1].start={...a.end},u=[],e[s][1].end.offset-e[s][1].start.offset&&(u=jn(u,[["enter",e[s][1],t],["exit",e[s][1],t]])),u=jn(u,[["enter",i,t],["enter",r,t],["exit",r,t],["enter",o,t]]),W(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),u=jn(u,nd(t.parser.constructs.insideSpan.null,e.slice(s+1,n),t)),u=jn(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=jn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,kn(e,s-1,n-s+3,u),n=s+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function W5(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,i=pr(s);let o;return r;function r(c){return W(c===S.asterisk||c===S.underscore,"expected asterisk or underscore"),o=c,e.enter("attentionSequence"),a(c)}function a(c){if(c===o)return e.consume(c),a;const u=e.exit("attentionSequence"),d=pr(c);W(n,"expected `attentionMarkers` to be populated");const m=!d||d===be.characterGroupPunctuation&&i||n.includes(c),f=!i||i===be.characterGroupPunctuation&&d||n.includes(s);return u._open=!!(o===S.asterisk?m:m&&(i||!f)),u._close=!!(o===S.asterisk?f:f&&(d||!m)),t(c)}}function xv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const G5={name:"autolink",tokenize:q5};function q5(e,t,n){let s=0;return i;function i(h){return W(h===S.lessThan,"expected `<`"),e.enter(C.autolink),e.enter(C.autolinkMarker),e.consume(h),e.exit(C.autolinkMarker),e.enter(C.autolinkProtocol),o}function o(h){return on(h)?(e.consume(h),r):h===S.atSign?n(h):u(h)}function r(h){return h===S.plusSign||h===S.dash||h===S.dot||Yt(h)?(s=1,a(h)):u(h)}function a(h){return h===S.colon?(e.consume(h),s=0,c):(h===S.plusSign||h===S.dash||h===S.dot||Yt(h))&&s++<be.autolinkSchemeSizeMax?(e.consume(h),a):(s=0,u(h))}function c(h){return h===S.greaterThan?(e.exit(C.autolinkProtocol),e.enter(C.autolinkMarker),e.consume(h),e.exit(C.autolinkMarker),e.exit(C.autolink),t):h===S.eof||h===S.space||h===S.lessThan||fu(h)?n(h):(e.consume(h),c)}function u(h){return h===S.atSign?(e.consume(h),d):O5(h)?(e.consume(h),u):n(h)}function d(h){return Yt(h)?m(h):n(h)}function m(h){return h===S.dot?(e.consume(h),s=0,d):h===S.greaterThan?(e.exit(C.autolinkProtocol).type=C.autolinkEmail,e.enter(C.autolinkMarker),e.consume(h),e.exit(C.autolinkMarker),e.exit(C.autolink),t):f(h)}function f(h){if((h===S.dash||Yt(h))&&s++<be.autolinkDomainSizeMax){const p=h===S.dash?f:m;return e.consume(h),p}return n(h)}}const kl={partial:!0,tokenize:K5};function K5(e,t,n){return s;function s(o){return Ue(o)?Xe(e,i,C.linePrefix)(o):i(o)}function i(o){return o===S.eof||we(o)?t(o):n(o)}}const ZD={continuation:{tokenize:X5},exit:J5,name:"blockQuote",tokenize:Y5};function Y5(e,t,n){const s=this;return i;function i(r){if(r===S.greaterThan){const a=s.containerState;return W(a,"expected `containerState` to be defined in container"),a.open||(e.enter(C.blockQuote,{_container:!0}),a.open=!0),e.enter(C.blockQuotePrefix),e.enter(C.blockQuoteMarker),e.consume(r),e.exit(C.blockQuoteMarker),o}return n(r)}function o(r){return Ue(r)?(e.enter(C.blockQuotePrefixWhitespace),e.consume(r),e.exit(C.blockQuotePrefixWhitespace),e.exit(C.blockQuotePrefix),t):(e.exit(C.blockQuotePrefix),t(r))}}function X5(e,t,n){const s=this;return i;function i(r){return Ue(r)?(W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,o,C.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize)(r)):o(r)}function o(r){return e.attempt(ZD,t,n)(r)}}function J5(e){e.exit(C.blockQuote)}const eE={name:"characterEscape",tokenize:Q5};function Q5(e,t,n){return s;function s(o){return W(o===S.backslash,"expected `\\`"),e.enter(C.characterEscape),e.enter(C.escapeMarker),e.consume(o),e.exit(C.escapeMarker),i}function i(o){return L5(o)?(e.enter(C.characterEscapeValue),e.consume(o),e.exit(C.characterEscapeValue),e.exit(C.characterEscape),t):n(o)}}const tE={name:"characterReference",tokenize:Z5};function Z5(e,t,n){const s=this;let i=0,o,r;return a;function a(m){return W(m===S.ampersand,"expected `&`"),e.enter(C.characterReference),e.enter(C.characterReferenceMarker),e.consume(m),e.exit(C.characterReferenceMarker),c}function c(m){return m===S.numberSign?(e.enter(C.characterReferenceMarkerNumeric),e.consume(m),e.exit(C.characterReferenceMarkerNumeric),u):(e.enter(C.characterReferenceValue),o=be.characterReferenceNamedSizeMax,r=Yt,d(m))}function u(m){return m===S.uppercaseX||m===S.lowercaseX?(e.enter(C.characterReferenceMarkerHexadecimal),e.consume(m),e.exit(C.characterReferenceMarkerHexadecimal),e.enter(C.characterReferenceValue),o=be.characterReferenceHexadecimalSizeMax,r=V5,d):(e.enter(C.characterReferenceValue),o=be.characterReferenceDecimalSizeMax,r=nh,d(m))}function d(m){if(m===S.semicolon&&i){const f=e.exit(C.characterReferenceValue);return r===Yt&&!ng(s.sliceSerialize(f))?n(m):(e.enter(C.characterReferenceMarker),e.consume(m),e.exit(C.characterReferenceMarker),e.exit(C.characterReference),t)}return r(m)&&i++<o?(e.consume(m),d):n(m)}}const Nv={partial:!0,tokenize:t6},yv={concrete:!0,name:"codeFenced",tokenize:e6};function e6(e,t,n){const s=this,i={partial:!0,tokenize:D};let o=0,r=0,a;return c;function c(T){return u(T)}function u(T){W(T===S.graveAccent||T===S.tilde,"expected `` ` `` or `~`");const M=s.events[s.events.length-1];return o=M&&M[1].type===C.linePrefix?M[2].sliceSerialize(M[1],!0).length:0,a=T,e.enter(C.codeFenced),e.enter(C.codeFencedFence),e.enter(C.codeFencedFenceSequence),d(T)}function d(T){return T===a?(r++,e.consume(T),d):r<be.codeFencedSequenceSizeMin?n(T):(e.exit(C.codeFencedFenceSequence),Ue(T)?Xe(e,m,C.whitespace)(T):m(T))}function m(T){return T===S.eof||we(T)?(e.exit(C.codeFencedFence),s.interrupt?t(T):e.check(Nv,g,E)(T)):(e.enter(C.codeFencedFenceInfo),e.enter(C.chunkString,{contentType:be.contentTypeString}),f(T))}function f(T){return T===S.eof||we(T)?(e.exit(C.chunkString),e.exit(C.codeFencedFenceInfo),m(T)):Ue(T)?(e.exit(C.chunkString),e.exit(C.codeFencedFenceInfo),Xe(e,h,C.whitespace)(T)):T===S.graveAccent&&T===a?n(T):(e.consume(T),f)}function h(T){return T===S.eof||we(T)?m(T):(e.enter(C.codeFencedFenceMeta),e.enter(C.chunkString,{contentType:be.contentTypeString}),p(T))}function p(T){return T===S.eof||we(T)?(e.exit(C.chunkString),e.exit(C.codeFencedFenceMeta),m(T)):T===S.graveAccent&&T===a?n(T):(e.consume(T),p)}function g(T){return W(we(T),"expected eol"),e.attempt(i,E,v)(T)}function v(T){return W(we(T),"expected eol"),e.enter(C.lineEnding),e.consume(T),e.exit(C.lineEnding),b}function b(T){return o>0&&Ue(T)?Xe(e,w,C.linePrefix,o+1)(T):w(T)}function w(T){return T===S.eof||we(T)?e.check(Nv,g,E)(T):(e.enter(C.codeFlowValue),N(T))}function N(T){return T===S.eof||we(T)?(e.exit(C.codeFlowValue),w(T)):(e.consume(T),N)}function E(T){return e.exit(C.codeFenced),t(T)}function D(T,M,_){let P=0;return k;function k(O){return W(we(O),"expected eol"),T.enter(C.lineEnding),T.consume(O),T.exit(C.lineEnding),L}function L(O){return W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),T.enter(C.codeFencedFence),Ue(O)?Xe(T,B,C.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize)(O):B(O)}function B(O){return O===a?(T.enter(C.codeFencedFenceSequence),A(O)):_(O)}function A(O){return O===a?(P++,T.consume(O),A):P>=r?(T.exit(C.codeFencedFenceSequence),Ue(O)?Xe(T,V,C.whitespace)(O):V(O)):_(O)}function V(O){return O===S.eof||we(O)?(T.exit(C.codeFencedFence),M(O)):_(O)}}}function t6(e,t,n){const s=this;return i;function i(r){return r===S.eof?n(r):(W(we(r),"expected eol"),e.enter(C.lineEnding),e.consume(r),e.exit(C.lineEnding),o)}function o(r){return s.parser.lazy[s.now().line]?n(r):t(r)}}const um={name:"codeIndented",tokenize:s6},n6={partial:!0,tokenize:i6};function s6(e,t,n){const s=this;return i;function i(u){return W(Ue(u)),e.enter(C.codeIndented),Xe(e,o,C.linePrefix,be.tabSize+1)(u)}function o(u){const d=s.events[s.events.length-1];return d&&d[1].type===C.linePrefix&&d[2].sliceSerialize(d[1],!0).length>=be.tabSize?r(u):n(u)}function r(u){return u===S.eof?c(u):we(u)?e.attempt(n6,r,c)(u):(e.enter(C.codeFlowValue),a(u))}function a(u){return u===S.eof||we(u)?(e.exit(C.codeFlowValue),r(u)):(e.consume(u),a)}function c(u){return e.exit(C.codeIndented),t(u)}}function i6(e,t,n){const s=this;return i;function i(r){return s.parser.lazy[s.now().line]?n(r):we(r)?(e.enter(C.lineEnding),e.consume(r),e.exit(C.lineEnding),i):Xe(e,o,C.linePrefix,be.tabSize+1)(r)}function o(r){const a=s.events[s.events.length-1];return a&&a[1].type===C.linePrefix&&a[2].sliceSerialize(a[1],!0).length>=be.tabSize?t(r):we(r)?i(r):n(r)}}const o6={name:"codeText",previous:nE,resolve:r6,tokenize:a6};function r6(e){let t=e.length-4,n=3,s,i;if((e[n][1].type===C.lineEnding||e[n][1].type==="space")&&(e[t][1].type===C.lineEnding||e[t][1].type==="space")){for(s=n;++s<t;)if(e[s][1].type===C.codeTextData){e[n][1].type=C.codeTextPadding,e[t][1].type=C.codeTextPadding,n+=2,t-=2;break}}for(s=n-1,t++;++s<=t;)i===void 0?s!==t&&e[s][1].type!==C.lineEnding&&(i=s):(s===t||e[s][1].type===C.lineEnding)&&(e[i][1].type=C.codeTextData,s!==i+2&&(e[i][1].end=e[s-1][1].end,e.splice(i+2,s-i-2),t-=s-i-2,s=i+2),i=void 0);return e}function nE(e){return e!==S.graveAccent||this.events[this.events.length-1][1].type===C.characterEscape}function a6(e,t,n){const s=this;let i=0,o,r;return a;function a(f){return W(f===S.graveAccent,"expected `` ` ``"),W(nE.call(s,s.previous),"expected correct previous"),e.enter(C.codeText),e.enter(C.codeTextSequence),c(f)}function c(f){return f===S.graveAccent?(e.consume(f),i++,c):(e.exit(C.codeTextSequence),u(f))}function u(f){return f===S.eof?n(f):f===S.space?(e.enter("space"),e.consume(f),e.exit("space"),u):f===S.graveAccent?(r=e.enter(C.codeTextSequence),o=0,m(f)):we(f)?(e.enter(C.lineEnding),e.consume(f),e.exit(C.lineEnding),u):(e.enter(C.codeTextData),d(f))}function d(f){return f===S.eof||f===S.space||f===S.graveAccent||we(f)?(e.exit(C.codeTextData),u(f)):(e.consume(f),d)}function m(f){return f===S.graveAccent?(e.consume(f),o++,m):o===i?(e.exit(C.codeTextSequence),e.exit(C.codeText),t(f)):(r.type=C.codeTextData,d(f))}}class l6{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,n,s){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return s&&sa(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);sa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sa(this.left,n.reverse())}}}function sa(e,t){let n=0;if(t.length<be.v8MaxSafeChunkSize)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+be.v8MaxSafeChunkSize)),n+=be.v8MaxSafeChunkSize}function sE(e){const t={};let n=-1,s,i,o,r,a,c,u;const d=new l6(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(s=d.get(n),n&&s[1].type===C.chunkFlow&&d.get(n-1)[1].type===C.listItemPrefix&&(W(s[1]._tokenizer,"expected `_tokenizer` on subtokens"),c=s[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type===C.lineEndingBlank&&(o+=2),o<c.length&&c[o][1].type===C.content))for(;++o<c.length&&c[o][1].type!==C.content;)c[o][1].type===C.chunkText&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,c6(d,n)),n=t[n],u=!0);else if(s[1]._container){for(o=n,i=void 0;o--;)if(r=d.get(o),r[1].type===C.lineEnding||r[1].type===C.lineEndingBlank)r[0]==="enter"&&(i&&(d.get(i)[1].type=C.lineEndingBlank),r[1].type=C.lineEnding,i=o);else if(!(r[1].type===C.linePrefix||r[1].type===C.listItemIndent))break;i&&(s[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(s),d.splice(i,n-i+1,a))}}return kn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function c6(e,t){const n=e.get(t)[1],s=e.get(t)[2];let i=t-1;const o=[];W(n.contentType,"expected `contentType` on subtokens");let r=n._tokenizer;r||(r=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(r._contentTypeTextTrailing=!0));const a=r.events,c=[],u={};let d,m,f=-1,h=n,p=0,g=0;const v=[g];for(;h;){for(;e.get(++i)[1]!==h;);W(!m||h.previous===m,"expected previous to match"),W(!m||m.next===h,"expected next to match"),o.push(i),h._tokenizer||(d=s.sliceStream(h),h.next||d.push(S.eof),m&&r.defineSkip(h.start),h._isInFirstContentOfListItem&&(r._gfmTasklistFirstContentOfListItem=!0),r.write(d),h._isInFirstContentOfListItem&&(r._gfmTasklistFirstContentOfListItem=void 0)),m=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(W(h,"expected a current token"),g=f+1,v.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(r.events=[],h?(h._tokenizer=void 0,h.previous=void 0,W(!h.next,"expected no next token")):v.pop(),f=v.length;f--;){const b=a.slice(v[f],v[f+1]),w=o.pop();W(w!==void 0,"expected a start position when splicing"),c.push([w,w+b.length-1]),e.splice(w,2,b)}for(c.reverse(),f=-1;++f<c.length;)u[p+c[f][0]]=p+c[f][1],p+=c[f][1]-c[f][0]-1;return u}const u6={resolve:m6,tokenize:f6},d6={partial:!0,tokenize:h6};function m6(e){return sE(e),e}function f6(e,t){let n;return s;function s(a){return W(a!==S.eof&&!we(a),"expected no eof or eol"),e.enter(C.content),n=e.enter(C.chunkContent,{contentType:be.contentTypeContent}),i(a)}function i(a){return a===S.eof?o(a):we(a)?e.check(d6,r,o)(a):(e.consume(a),i)}function o(a){return e.exit(C.chunkContent),e.exit(C.content),t(a)}function r(a){return W(we(a),"expected eol"),e.consume(a),e.exit(C.chunkContent),W(n,"expected previous token"),n.next=e.enter(C.chunkContent,{contentType:be.contentTypeContent,previous:n}),n=n.next,i}}function h6(e,t,n){const s=this;return i;function i(r){return W(we(r),"expected a line ending"),e.exit(C.chunkContent),e.enter(C.lineEnding),e.consume(r),e.exit(C.lineEnding),Xe(e,o,C.linePrefix)}function o(r){if(r===S.eof||we(r))return n(r);W(s.parser.constructs.disable.null,"expected `disable.null` to be populated");const a=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type===C.linePrefix&&a[2].sliceSerialize(a[1],!0).length>=be.tabSize?t(r):e.interrupt(s.parser.constructs.flow,n,t)(r)}}function iE(e,t,n,s,i,o,r,a,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(b){return b===S.lessThan?(e.enter(s),e.enter(i),e.enter(o),e.consume(b),e.exit(o),f):b===S.eof||b===S.space||b===S.rightParenthesis||fu(b)?n(b):(e.enter(s),e.enter(r),e.enter(a),e.enter(C.chunkString,{contentType:be.contentTypeString}),g(b))}function f(b){return b===S.greaterThan?(e.enter(o),e.consume(b),e.exit(o),e.exit(i),e.exit(s),t):(e.enter(a),e.enter(C.chunkString,{contentType:be.contentTypeString}),h(b))}function h(b){return b===S.greaterThan?(e.exit(C.chunkString),e.exit(a),f(b)):b===S.eof||b===S.lessThan||we(b)?n(b):(e.consume(b),b===S.backslash?p:h)}function p(b){return b===S.lessThan||b===S.greaterThan||b===S.backslash?(e.consume(b),h):h(b)}function g(b){return!d&&(b===S.eof||b===S.rightParenthesis||ot(b))?(e.exit(C.chunkString),e.exit(a),e.exit(r),e.exit(s),t(b)):d<u&&b===S.leftParenthesis?(e.consume(b),d++,g):b===S.rightParenthesis?(e.consume(b),d--,g):b===S.eof||b===S.space||b===S.leftParenthesis||fu(b)?n(b):(e.consume(b),b===S.backslash?v:g)}function v(b){return b===S.leftParenthesis||b===S.rightParenthesis||b===S.backslash?(e.consume(b),g):g(b)}}function oE(e,t,n,s,i,o){const r=this;let a=0,c;return u;function u(h){return W(h===S.leftSquareBracket,"expected `[`"),e.enter(s),e.enter(i),e.consume(h),e.exit(i),e.enter(o),d}function d(h){return a>be.linkReferenceSizeMax||h===S.eof||h===S.leftSquareBracket||h===S.rightSquareBracket&&!c||h===S.caret&&!a&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):h===S.rightSquareBracket?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(s),t):we(h)?(e.enter(C.lineEnding),e.consume(h),e.exit(C.lineEnding),d):(e.enter(C.chunkString,{contentType:be.contentTypeString}),m(h))}function m(h){return h===S.eof||h===S.leftSquareBracket||h===S.rightSquareBracket||we(h)||a++>be.linkReferenceSizeMax?(e.exit(C.chunkString),d(h)):(e.consume(h),c||(c=!Ue(h)),h===S.backslash?f:m)}function f(h){return h===S.leftSquareBracket||h===S.backslash||h===S.rightSquareBracket?(e.consume(h),a++,m):m(h)}}function rE(e,t,n,s,i,o){let r;return a;function a(f){return f===S.quotationMark||f===S.apostrophe||f===S.leftParenthesis?(e.enter(s),e.enter(i),e.consume(f),e.exit(i),r=f===S.leftParenthesis?S.rightParenthesis:f,c):n(f)}function c(f){return f===r?(e.enter(i),e.consume(f),e.exit(i),e.exit(s),t):(e.enter(o),u(f))}function u(f){return f===r?(e.exit(o),c(r)):f===S.eof?n(f):we(f)?(e.enter(C.lineEnding),e.consume(f),e.exit(C.lineEnding),Xe(e,u,C.linePrefix)):(e.enter(C.chunkString,{contentType:be.contentTypeString}),d(f))}function d(f){return f===r||f===S.eof||we(f)?(e.exit(C.chunkString),u(f)):(e.consume(f),f===S.backslash?m:d)}function m(f){return f===r||f===S.backslash?(e.consume(f),d):d(f)}}function Ia(e,t){let n;return s;function s(i){return we(i)?(e.enter(C.lineEnding),e.consume(i),e.exit(C.lineEnding),n=!0,s):Ue(i)?Xe(e,s,n?C.linePrefix:C.lineSuffix)(i):t(i)}}const p6={name:"definition",tokenize:b6},g6={partial:!0,tokenize:v6};function b6(e,t,n){const s=this;let i;return o;function o(h){return e.enter(C.definition),r(h)}function r(h){return W(h===S.leftSquareBracket,"expected `[`"),oE.call(s,e,a,n,C.definitionLabel,C.definitionLabelMarker,C.definitionLabelString)(h)}function a(h){return i=ts(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),h===S.colon?(e.enter(C.definitionMarker),e.consume(h),e.exit(C.definitionMarker),c):n(h)}function c(h){return ot(h)?Ia(e,u)(h):u(h)}function u(h){return iE(e,d,n,C.definitionDestination,C.definitionDestinationLiteral,C.definitionDestinationLiteralMarker,C.definitionDestinationRaw,C.definitionDestinationString)(h)}function d(h){return e.attempt(g6,m,m)(h)}function m(h){return Ue(h)?Xe(e,f,C.whitespace)(h):f(h)}function f(h){return h===S.eof||we(h)?(e.exit(C.definition),s.parser.defined.push(i),t(h)):n(h)}}function v6(e,t,n){return s;function s(a){return ot(a)?Ia(e,i)(a):n(a)}function i(a){return rE(e,o,n,C.definitionTitle,C.definitionTitleMarker,C.definitionTitleString)(a)}function o(a){return Ue(a)?Xe(e,r,C.whitespace)(a):r(a)}function r(a){return a===S.eof||we(a)?t(a):n(a)}}const x6={name:"hardBreakEscape",tokenize:N6};function N6(e,t,n){return s;function s(o){return W(o===S.backslash,"expected `\\`"),e.enter(C.hardBreakEscape),e.consume(o),i}function i(o){return we(o)?(e.exit(C.hardBreakEscape),t(o)):n(o)}}const y6={name:"headingAtx",resolve:w6,tokenize:D6};function w6(e,t){let n=e.length-2,s=3,i,o;return e[s][1].type===C.whitespace&&(s+=2),n-2>s&&e[n][1].type===C.whitespace&&(n-=2),e[n][1].type===C.atxHeadingSequence&&(s===n-1||n-4>s&&e[n-2][1].type===C.whitespace)&&(n-=s+1===n?2:4),n>s&&(i={type:C.atxHeadingText,start:e[s][1].start,end:e[n][1].end},o={type:C.chunkText,start:e[s][1].start,end:e[n][1].end,contentType:be.contentTypeText},kn(e,s,n-s+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function D6(e,t,n){let s=0;return i;function i(d){return e.enter(C.atxHeading),o(d)}function o(d){return W(d===S.numberSign,"expected `#`"),e.enter(C.atxHeadingSequence),r(d)}function r(d){return d===S.numberSign&&s++<be.atxHeadingOpeningFenceSizeMax?(e.consume(d),r):d===S.eof||ot(d)?(e.exit(C.atxHeadingSequence),a(d)):n(d)}function a(d){return d===S.numberSign?(e.enter(C.atxHeadingSequence),c(d)):d===S.eof||we(d)?(e.exit(C.atxHeading),t(d)):Ue(d)?Xe(e,a,C.whitespace)(d):(e.enter(C.atxHeadingText),u(d))}function c(d){return d===S.numberSign?(e.consume(d),c):(e.exit(C.atxHeadingSequence),a(d))}function u(d){return d===S.eof||d===S.numberSign||ot(d)?(e.exit(C.atxHeadingText),a(d)):(e.consume(d),u)}}const E6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wv=["pre","script","style","textarea"],T6={concrete:!0,name:"htmlFlow",resolveTo:k6,tokenize:M6},S6={partial:!0,tokenize:P6},_6={partial:!0,tokenize:C6};function k6(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type===C.htmlFlow););return t>1&&e[t-2][1].type===C.linePrefix&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function M6(e,t,n){const s=this;let i,o,r,a,c;return u;function u(j){return d(j)}function d(j){return W(j===S.lessThan,"expected `<`"),e.enter(C.htmlFlow),e.enter(C.htmlFlowData),e.consume(j),m}function m(j){return j===S.exclamationMark?(e.consume(j),f):j===S.slash?(e.consume(j),o=!0,g):j===S.questionMark?(e.consume(j),i=be.htmlInstruction,s.interrupt?t:I):on(j)?(W(j!==null),e.consume(j),r=String.fromCharCode(j),v):n(j)}function f(j){return j===S.dash?(e.consume(j),i=be.htmlComment,h):j===S.leftSquareBracket?(e.consume(j),i=be.htmlCdata,a=0,p):on(j)?(e.consume(j),i=be.htmlDeclaration,s.interrupt?t:I):n(j)}function h(j){return j===S.dash?(e.consume(j),s.interrupt?t:I):n(j)}function p(j){const ce=be.cdataOpeningString;return j===ce.charCodeAt(a++)?(e.consume(j),a===ce.length?s.interrupt?t:B:p):n(j)}function g(j){return on(j)?(W(j!==null),e.consume(j),r=String.fromCharCode(j),v):n(j)}function v(j){if(j===S.eof||j===S.slash||j===S.greaterThan||ot(j)){const ce=j===S.slash,ge=r.toLowerCase();return!ce&&!o&&wv.includes(ge)?(i=be.htmlRaw,s.interrupt?t(j):B(j)):E6.includes(r.toLowerCase())?(i=be.htmlBasic,ce?(e.consume(j),b):s.interrupt?t(j):B(j)):(i=be.htmlComplete,s.interrupt&&!s.parser.lazy[s.now().line]?n(j):o?w(j):N(j))}return j===S.dash||Yt(j)?(e.consume(j),r+=String.fromCharCode(j),v):n(j)}function b(j){return j===S.greaterThan?(e.consume(j),s.interrupt?t:B):n(j)}function w(j){return Ue(j)?(e.consume(j),w):k(j)}function N(j){return j===S.slash?(e.consume(j),k):j===S.colon||j===S.underscore||on(j)?(e.consume(j),E):Ue(j)?(e.consume(j),N):k(j)}function E(j){return j===S.dash||j===S.dot||j===S.colon||j===S.underscore||Yt(j)?(e.consume(j),E):D(j)}function D(j){return j===S.equalsTo?(e.consume(j),T):Ue(j)?(e.consume(j),D):N(j)}function T(j){return j===S.eof||j===S.lessThan||j===S.equalsTo||j===S.greaterThan||j===S.graveAccent?n(j):j===S.quotationMark||j===S.apostrophe?(e.consume(j),c=j,M):Ue(j)?(e.consume(j),T):_(j)}function M(j){return j===c?(e.consume(j),c=null,P):j===S.eof||we(j)?n(j):(e.consume(j),M)}function _(j){return j===S.eof||j===S.quotationMark||j===S.apostrophe||j===S.slash||j===S.lessThan||j===S.equalsTo||j===S.greaterThan||j===S.graveAccent||ot(j)?D(j):(e.consume(j),_)}function P(j){return j===S.slash||j===S.greaterThan||Ue(j)?N(j):n(j)}function k(j){return j===S.greaterThan?(e.consume(j),L):n(j)}function L(j){return j===S.eof||we(j)?B(j):Ue(j)?(e.consume(j),L):n(j)}function B(j){return j===S.dash&&i===be.htmlComment?(e.consume(j),U):j===S.lessThan&&i===be.htmlRaw?(e.consume(j),q):j===S.greaterThan&&i===be.htmlDeclaration?(e.consume(j),ie):j===S.questionMark&&i===be.htmlInstruction?(e.consume(j),I):j===S.rightSquareBracket&&i===be.htmlCdata?(e.consume(j),Z):we(j)&&(i===be.htmlBasic||i===be.htmlComplete)?(e.exit(C.htmlFlowData),e.check(S6,ve,A)(j)):j===S.eof||we(j)?(e.exit(C.htmlFlowData),A(j)):(e.consume(j),B)}function A(j){return e.check(_6,V,ve)(j)}function V(j){return W(we(j)),e.enter(C.lineEnding),e.consume(j),e.exit(C.lineEnding),O}function O(j){return j===S.eof||we(j)?A(j):(e.enter(C.htmlFlowData),B(j))}function U(j){return j===S.dash?(e.consume(j),I):B(j)}function q(j){return j===S.slash?(e.consume(j),r="",$):B(j)}function $(j){if(j===S.greaterThan){const ce=r.toLowerCase();return wv.includes(ce)?(e.consume(j),ie):B(j)}return on(j)&&r.length<be.htmlRawSizeMax?(W(j!==null),e.consume(j),r+=String.fromCharCode(j),$):B(j)}function Z(j){return j===S.rightSquareBracket?(e.consume(j),I):B(j)}function I(j){return j===S.greaterThan?(e.consume(j),ie):j===S.dash&&i===be.htmlComment?(e.consume(j),I):B(j)}function ie(j){return j===S.eof||we(j)?(e.exit(C.htmlFlowData),ve(j)):(e.consume(j),ie)}function ve(j){return e.exit(C.htmlFlow),t(j)}}function C6(e,t,n){const s=this;return i;function i(r){return we(r)?(e.enter(C.lineEnding),e.consume(r),e.exit(C.lineEnding),o):n(r)}function o(r){return s.parser.lazy[s.now().line]?n(r):t(r)}}function P6(e,t,n){return s;function s(i){return W(we(i),"expected a line ending"),e.enter(C.lineEnding),e.consume(i),e.exit(C.lineEnding),e.attempt(kl,t,n)}}const A6={name:"htmlText",tokenize:I6};function I6(e,t,n){const s=this;let i,o,r;return a;function a(I){return W(I===S.lessThan,"expected `<`"),e.enter(C.htmlText),e.enter(C.htmlTextData),e.consume(I),c}function c(I){return I===S.exclamationMark?(e.consume(I),u):I===S.slash?(e.consume(I),D):I===S.questionMark?(e.consume(I),N):on(I)?(e.consume(I),_):n(I)}function u(I){return I===S.dash?(e.consume(I),d):I===S.leftSquareBracket?(e.consume(I),o=0,p):on(I)?(e.consume(I),w):n(I)}function d(I){return I===S.dash?(e.consume(I),h):n(I)}function m(I){return I===S.eof?n(I):I===S.dash?(e.consume(I),f):we(I)?(r=m,q(I)):(e.consume(I),m)}function f(I){return I===S.dash?(e.consume(I),h):m(I)}function h(I){return I===S.greaterThan?U(I):I===S.dash?f(I):m(I)}function p(I){const ie=be.cdataOpeningString;return I===ie.charCodeAt(o++)?(e.consume(I),o===ie.length?g:p):n(I)}function g(I){return I===S.eof?n(I):I===S.rightSquareBracket?(e.consume(I),v):we(I)?(r=g,q(I)):(e.consume(I),g)}function v(I){return I===S.rightSquareBracket?(e.consume(I),b):g(I)}function b(I){return I===S.greaterThan?U(I):I===S.rightSquareBracket?(e.consume(I),b):g(I)}function w(I){return I===S.eof||I===S.greaterThan?U(I):we(I)?(r=w,q(I)):(e.consume(I),w)}function N(I){return I===S.eof?n(I):I===S.questionMark?(e.consume(I),E):we(I)?(r=N,q(I)):(e.consume(I),N)}function E(I){return I===S.greaterThan?U(I):N(I)}function D(I){return on(I)?(e.consume(I),T):n(I)}function T(I){return I===S.dash||Yt(I)?(e.consume(I),T):M(I)}function M(I){return we(I)?(r=M,q(I)):Ue(I)?(e.consume(I),M):U(I)}function _(I){return I===S.dash||Yt(I)?(e.consume(I),_):I===S.slash||I===S.greaterThan||ot(I)?P(I):n(I)}function P(I){return I===S.slash?(e.consume(I),U):I===S.colon||I===S.underscore||on(I)?(e.consume(I),k):we(I)?(r=P,q(I)):Ue(I)?(e.consume(I),P):U(I)}function k(I){return I===S.dash||I===S.dot||I===S.colon||I===S.underscore||Yt(I)?(e.consume(I),k):L(I)}function L(I){return I===S.equalsTo?(e.consume(I),B):we(I)?(r=L,q(I)):Ue(I)?(e.consume(I),L):P(I)}function B(I){return I===S.eof||I===S.lessThan||I===S.equalsTo||I===S.greaterThan||I===S.graveAccent?n(I):I===S.quotationMark||I===S.apostrophe?(e.consume(I),i=I,A):we(I)?(r=B,q(I)):Ue(I)?(e.consume(I),B):(e.consume(I),V)}function A(I){return I===i?(e.consume(I),i=void 0,O):I===S.eof?n(I):we(I)?(r=A,q(I)):(e.consume(I),A)}function V(I){return I===S.eof||I===S.quotationMark||I===S.apostrophe||I===S.lessThan||I===S.equalsTo||I===S.graveAccent?n(I):I===S.slash||I===S.greaterThan||ot(I)?P(I):(e.consume(I),V)}function O(I){return I===S.slash||I===S.greaterThan||ot(I)?P(I):n(I)}function U(I){return I===S.greaterThan?(e.consume(I),e.exit(C.htmlTextData),e.exit(C.htmlText),t):n(I)}function q(I){return W(r,"expected return state"),W(we(I),"expected eol"),e.exit(C.htmlTextData),e.enter(C.lineEnding),e.consume(I),e.exit(C.lineEnding),$}function $(I){return W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ue(I)?Xe(e,Z,C.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize)(I):Z(I)}function Z(I){return e.enter(C.htmlTextData),r(I)}}const sg={name:"labelEnd",resolveAll:V6,resolveTo:L6,tokenize:F6},R6={tokenize:B6},j6={tokenize:H6},O6={tokenize:U6};function V6(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),s.type===C.labelImage||s.type===C.labelLink||s.type===C.labelEnd){const i=s.type===C.labelImage?4:2;s.type=C.data,t+=i}}return e.length!==n.length&&kn(e,0,e.length,n),e}function L6(e,t){let n=e.length,s=0,i,o,r,a;for(;n--;)if(i=e[n][1],o){if(i.type===C.link||i.type===C.labelLink&&i._inactive)break;e[n][0]==="enter"&&i.type===C.labelLink&&(i._inactive=!0)}else if(r){if(e[n][0]==="enter"&&(i.type===C.labelImage||i.type===C.labelLink)&&!i._balanced&&(o=n,i.type!==C.labelLink)){s=2;break}}else i.type===C.labelEnd&&(r=n);W(o!==void 0,"`open` is supposed to be found"),W(r!==void 0,"`close` is supposed to be found");const c={type:e[o][1].type===C.labelLink?C.link:C.image,start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:C.label,start:{...e[o][1].start},end:{...e[r][1].end}},d={type:C.labelText,start:{...e[o+s+2][1].end},end:{...e[r-2][1].start}};return a=[["enter",c,t],["enter",u,t]],a=jn(a,e.slice(o+1,o+s+3)),a=jn(a,[["enter",d,t]]),W(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),a=jn(a,nd(t.parser.constructs.insideSpan.null,e.slice(o+s+4,r-3),t)),a=jn(a,[["exit",d,t],e[r-2],e[r-1],["exit",u,t]]),a=jn(a,e.slice(r+1)),a=jn(a,[["exit",c,t]]),kn(e,o,e.length,a),e}function F6(e,t,n){const s=this;let i=s.events.length,o,r;for(;i--;)if((s.events[i][1].type===C.labelImage||s.events[i][1].type===C.labelLink)&&!s.events[i][1]._balanced){o=s.events[i][1];break}return a;function a(f){return W(f===S.rightSquareBracket,"expected `]`"),o?o._inactive?m(f):(r=s.parser.defined.includes(ts(s.sliceSerialize({start:o.end,end:s.now()}))),e.enter(C.labelEnd),e.enter(C.labelMarker),e.consume(f),e.exit(C.labelMarker),e.exit(C.labelEnd),c):n(f)}function c(f){return f===S.leftParenthesis?e.attempt(R6,d,r?d:m)(f):f===S.leftSquareBracket?e.attempt(j6,d,r?u:m)(f):r?d(f):m(f)}function u(f){return e.attempt(O6,d,m)(f)}function d(f){return t(f)}function m(f){return o._balanced=!0,n(f)}}function B6(e,t,n){return s;function s(m){return W(m===S.leftParenthesis,"expected left paren"),e.enter(C.resource),e.enter(C.resourceMarker),e.consume(m),e.exit(C.resourceMarker),i}function i(m){return ot(m)?Ia(e,o)(m):o(m)}function o(m){return m===S.rightParenthesis?d(m):iE(e,r,a,C.resourceDestination,C.resourceDestinationLiteral,C.resourceDestinationLiteralMarker,C.resourceDestinationRaw,C.resourceDestinationString,be.linkResourceDestinationBalanceMax)(m)}function r(m){return ot(m)?Ia(e,c)(m):d(m)}function a(m){return n(m)}function c(m){return m===S.quotationMark||m===S.apostrophe||m===S.leftParenthesis?rE(e,u,n,C.resourceTitle,C.resourceTitleMarker,C.resourceTitleString)(m):d(m)}function u(m){return ot(m)?Ia(e,d)(m):d(m)}function d(m){return m===S.rightParenthesis?(e.enter(C.resourceMarker),e.consume(m),e.exit(C.resourceMarker),e.exit(C.resource),t):n(m)}}function H6(e,t,n){const s=this;return i;function i(a){return W(a===S.leftSquareBracket,"expected left bracket"),oE.call(s,e,o,r,C.reference,C.referenceMarker,C.referenceString)(a)}function o(a){return s.parser.defined.includes(ts(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function r(a){return n(a)}}function U6(e,t,n){return s;function s(o){return W(o===S.leftSquareBracket,"expected left bracket"),e.enter(C.reference),e.enter(C.referenceMarker),e.consume(o),e.exit(C.referenceMarker),i}function i(o){return o===S.rightSquareBracket?(e.enter(C.referenceMarker),e.consume(o),e.exit(C.referenceMarker),e.exit(C.reference),t):n(o)}}const z6={name:"labelStartImage",resolveAll:sg.resolveAll,tokenize:$6};function $6(e,t,n){const s=this;return i;function i(a){return W(a===S.exclamationMark,"expected `!`"),e.enter(C.labelImage),e.enter(C.labelImageMarker),e.consume(a),e.exit(C.labelImageMarker),o}function o(a){return a===S.leftSquareBracket?(e.enter(C.labelMarker),e.consume(a),e.exit(C.labelMarker),e.exit(C.labelImage),r):n(a)}function r(a){return a===S.caret&&"_hiddenFootnoteSupport"in s.parser.constructs?n(a):t(a)}}const W6={name:"labelStartLink",resolveAll:sg.resolveAll,tokenize:G6};function G6(e,t,n){const s=this;return i;function i(r){return W(r===S.leftSquareBracket,"expected `[`"),e.enter(C.labelLink),e.enter(C.labelMarker),e.consume(r),e.exit(C.labelMarker),e.exit(C.labelLink),o}function o(r){return r===S.caret&&"_hiddenFootnoteSupport"in s.parser.constructs?n(r):t(r)}}const dm={name:"lineEnding",tokenize:q6};function q6(e,t){return n;function n(s){return W(we(s),"expected eol"),e.enter(C.lineEnding),e.consume(s),e.exit(C.lineEnding),Xe(e,t,C.linePrefix)}}const zc={name:"thematicBreak",tokenize:K6};function K6(e,t,n){let s=0,i;return o;function o(u){return e.enter(C.thematicBreak),r(u)}function r(u){return W(u===S.asterisk||u===S.dash||u===S.underscore,"expected `*`, `-`, or `_`"),i=u,a(u)}function a(u){return u===i?(e.enter(C.thematicBreakSequence),c(u)):s>=be.thematicBreakMarkerCountMin&&(u===S.eof||we(u))?(e.exit(C.thematicBreak),t(u)):n(u)}function c(u){return u===i?(e.consume(u),s++,c):(e.exit(C.thematicBreakSequence),Ue(u)?Xe(e,a,C.whitespace)(u):a(u))}}const gn={continuation:{tokenize:Q6},exit:e4,name:"list",tokenize:J6},Y6={partial:!0,tokenize:t4},X6={partial:!0,tokenize:Z6};function J6(e,t,n){const s=this,i=s.events[s.events.length-1];let o=i&&i[1].type===C.linePrefix?i[2].sliceSerialize(i[1],!0).length:0,r=0;return a;function a(h){W(s.containerState,"expected state");const p=s.containerState.type||(h===S.asterisk||h===S.plusSign||h===S.dash?C.listUnordered:C.listOrdered);if(p===C.listUnordered?!s.containerState.marker||h===s.containerState.marker:nh(h)){if(s.containerState.type||(s.containerState.type=p,e.enter(p,{_container:!0})),p===C.listUnordered)return e.enter(C.listItemPrefix),h===S.asterisk||h===S.dash?e.check(zc,n,u)(h):u(h);if(!s.interrupt||h===S.digit1)return e.enter(C.listItemPrefix),e.enter(C.listItemValue),c(h)}return n(h)}function c(h){return W(s.containerState,"expected state"),nh(h)&&++r<be.listItemValueSizeMax?(e.consume(h),c):(!s.interrupt||r<2)&&(s.containerState.marker?h===s.containerState.marker:h===S.rightParenthesis||h===S.dot)?(e.exit(C.listItemValue),u(h)):n(h)}function u(h){return W(s.containerState,"expected state"),W(h!==S.eof,"eof (`null`) is not a marker"),e.enter(C.listItemMarker),e.consume(h),e.exit(C.listItemMarker),s.containerState.marker=s.containerState.marker||h,e.check(kl,s.interrupt?n:d,e.attempt(Y6,f,m))}function d(h){return W(s.containerState,"expected state"),s.containerState.initialBlankLine=!0,o++,f(h)}function m(h){return Ue(h)?(e.enter(C.listItemPrefixWhitespace),e.consume(h),e.exit(C.listItemPrefixWhitespace),f):n(h)}function f(h){return W(s.containerState,"expected state"),s.containerState.size=o+s.sliceSerialize(e.exit(C.listItemPrefix),!0).length,t(h)}}function Q6(e,t,n){const s=this;return W(s.containerState,"expected state"),s.containerState._closeFlow=void 0,e.check(kl,i,o);function i(a){return W(s.containerState,"expected state"),W(typeof s.containerState.size=="number","expected size"),s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Xe(e,t,C.listItemIndent,s.containerState.size+1)(a)}function o(a){return W(s.containerState,"expected state"),s.containerState.furtherBlankLines||!Ue(a)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,r(a)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(X6,t,r)(a))}function r(a){return W(s.containerState,"expected state"),s.containerState._closeFlow=!0,s.interrupt=void 0,W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,e.attempt(gn,t,n),C.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize)(a)}}function Z6(e,t,n){const s=this;return W(s.containerState,"expected state"),W(typeof s.containerState.size=="number","expected size"),Xe(e,i,C.listItemIndent,s.containerState.size+1);function i(o){W(s.containerState,"expected state");const r=s.events[s.events.length-1];return r&&r[1].type===C.listItemIndent&&r[2].sliceSerialize(r[1],!0).length===s.containerState.size?t(o):n(o)}}function e4(e){W(this.containerState,"expected state"),W(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function t4(e,t,n){const s=this;return W(s.parser.constructs.disable.null,"expected `disable.null` to be populated"),Xe(e,i,C.listItemPrefixWhitespace,s.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize+1);function i(o){const r=s.events[s.events.length-1];return!Ue(o)&&r&&r[1].type===C.listItemPrefixWhitespace?t(o):n(o)}}const Dv={name:"setextUnderline",resolveTo:n4,tokenize:s4};function n4(e,t){let n=e.length,s,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type===C.content){s=n;break}e[n][1].type===C.paragraph&&(i=n)}else e[n][1].type===C.content&&e.splice(n,1),!o&&e[n][1].type===C.definition&&(o=n);W(i!==void 0,"expected a `text` index to be found"),W(s!==void 0,"expected a `text` index to be found"),W(e[s][2]===t,"enter context should be same"),W(e[e.length-1][2]===t,"enter context should be same");const r={type:C.setextHeading,start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type=C.setextHeadingText,o?(e.splice(i,0,["enter",r,t]),e.splice(o+1,0,["exit",e[s][1],t]),e[s][1].end={...e[o][1].end}):e[s][1]=r,e.push(["exit",r,t]),e}function s4(e,t,n){const s=this;let i;return o;function o(u){let d=s.events.length,m;for(W(u===S.dash||u===S.equalsTo,"expected `=` or `-`");d--;)if(s.events[d][1].type!==C.lineEnding&&s.events[d][1].type!==C.linePrefix&&s.events[d][1].type!==C.content){m=s.events[d][1].type===C.paragraph;break}return!s.parser.lazy[s.now().line]&&(s.interrupt||m)?(e.enter(C.setextHeadingLine),i=u,r(u)):n(u)}function r(u){return e.enter(C.setextHeadingLineSequence),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit(C.setextHeadingLineSequence),Ue(u)?Xe(e,c,C.lineSuffix)(u):c(u))}function c(u){return u===S.eof||we(u)?(e.exit(C.setextHeadingLine),t(u)):n(u)}}const i4={tokenize:o4};function o4(e){const t=this,n=e.attempt(kl,s,e.attempt(this.parser.constructs.flowInitial,i,Xe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(u6,i)),C.linePrefix)));return n;function s(o){if(W(o===S.eof||we(o),"expected eol or eof"),o===S.eof){e.consume(o);return}return e.enter(C.lineEndingBlank),e.consume(o),e.exit(C.lineEndingBlank),t.currentConstruct=void 0,n}function i(o){if(W(o===S.eof||we(o),"expected eol or eof"),o===S.eof){e.consume(o);return}return e.enter(C.lineEnding),e.consume(o),e.exit(C.lineEnding),t.currentConstruct=void 0,n}}const r4={resolveAll:lE()},a4=aE("string"),l4=aE("text");function aE(e){return{resolveAll:lE(e==="text"?c4:void 0),tokenize:t};function t(n){const s=this,i=this.parser.constructs[e],o=n.attempt(i,r,a);return r;function r(d){return u(d)?o(d):a(d)}function a(d){if(d===S.eof){n.consume(d);return}return n.enter(C.data),n.consume(d),c}function c(d){return u(d)?(n.exit(C.data),o(d)):(n.consume(d),c)}function u(d){if(d===S.eof)return!0;const m=i[d];let f=-1;if(m)for(W(Array.isArray(m),"expected `disable.null` to be populated");++f<m.length;){const h=m[f];if(!h.previous||h.previous.call(s,s.previous))return!0}return!1}}}function lE(e){return t;function t(n,s){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type===C.data&&(o=i,i++):(!n[i]||n[i][1].type!==C.data)&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,s):n}}function c4(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===C.lineEnding)&&e[n-1][1].type===C.data){const s=e[n-1][1],i=t.sliceStream(s);let o=i.length,r=-1,a=0,c;for(;o--;){const u=i[o];if(typeof u=="string"){for(r=u.length;u.charCodeAt(r-1)===S.space;)a++,r--;if(r)break;r=-1}else if(u===S.horizontalTab)c=!0,a++;else if(u!==S.virtualSpace){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||c||a<be.hardBreakPrefixSizeMin?C.lineSuffix:C.hardBreakTrailing,start:{_bufferIndex:o?r:s.start._bufferIndex+r,_index:s.start._index+o,line:s.end.line,column:s.end.column-a,offset:s.end.offset-a},end:{...s.end}};s.end={...u.start},s.start.offset===s.end.offset?Object.assign(s,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const u4={[S.asterisk]:gn,[S.plusSign]:gn,[S.dash]:gn,[S.digit0]:gn,[S.digit1]:gn,[S.digit2]:gn,[S.digit3]:gn,[S.digit4]:gn,[S.digit5]:gn,[S.digit6]:gn,[S.digit7]:gn,[S.digit8]:gn,[S.digit9]:gn,[S.greaterThan]:ZD},d4={[S.leftSquareBracket]:p6},m4={[S.horizontalTab]:um,[S.virtualSpace]:um,[S.space]:um},f4={[S.numberSign]:y6,[S.asterisk]:zc,[S.dash]:[Dv,zc],[S.lessThan]:T6,[S.equalsTo]:Dv,[S.underscore]:zc,[S.graveAccent]:yv,[S.tilde]:yv},h4={[S.ampersand]:tE,[S.backslash]:eE},p4={[S.carriageReturn]:dm,[S.lineFeed]:dm,[S.carriageReturnLineFeed]:dm,[S.exclamationMark]:z6,[S.ampersand]:tE,[S.asterisk]:sh,[S.lessThan]:[G5,A6],[S.leftSquareBracket]:W6,[S.backslash]:[x6,eE],[S.rightSquareBracket]:sg,[S.underscore]:sh,[S.graveAccent]:o6},g4={null:[sh,r4]},b4={null:[S.asterisk,S.underscore]},v4={null:[]},x4=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:b4,contentInitial:d4,disable:v4,document:u4,flow:f4,flowInitial:m4,insideSpan:g4,string:h4,text:p4},Symbol.toStringTag,{value:"Module"}));var ih={exports:{}},mm,Ev;function N4(){if(Ev)return mm;Ev=1;var e=1e3,t=e*60,n=t*60,s=n*24,i=s*7,o=s*365.25;mm=function(d,m){m=m||{};var f=typeof d;if(f==="string"&&d.length>0)return r(d);if(f==="number"&&isFinite(d))return m.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function r(d){if(d=String(d),!(d.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(m){var f=parseFloat(m[1]),h=(m[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*s;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(d){var m=Math.abs(d);return m>=s?Math.round(d/s)+"d":m>=n?Math.round(d/n)+"h":m>=t?Math.round(d/t)+"m":m>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var m=Math.abs(d);return m>=s?u(d,m,s,"day"):m>=n?u(d,m,n,"hour"):m>=t?u(d,m,t,"minute"):m>=e?u(d,m,e,"second"):d+" ms"}function u(d,m,f,h){var p=m>=f*1.5;return Math.round(d/f)+" "+h+(p?"s":"")}return mm}function y4(e){n.debug=n,n.default=n,n.coerce=c,n.disable=r,n.enable=i,n.enabled=a,n.humanize=N4(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let m=0;for(let f=0;f<d.length;f++)m=(m<<5)-m+d.charCodeAt(f),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=t;function n(d){let m,f=null,h,p;function g(...v){if(!g.enabled)return;const b=g,w=Number(new Date),N=w-(m||w);b.diff=N,b.prev=m,b.curr=w,m=w,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let E=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(T,M)=>{if(T==="%%")return"%";E++;const _=n.formatters[M];if(typeof _=="function"){const P=v[E];T=_.call(b,P),v.splice(E,1),E--}return T}),n.formatArgs.call(b,v),(b.log||n.log).apply(b,v)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=s,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(h!==n.namespaces&&(h=n.namespaces,p=n.enabled(d)),p),set:v=>{f=v}}),typeof n.init=="function"&&n.init(g),g}function s(d,m){const f=n(this.namespace+(typeof m>"u"?":":m)+d);return f.log=this.log,f}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const m=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const f of m)f[0]==="-"?n.skips.push(f.slice(1)):n.names.push(f)}function o(d,m){let f=0,h=0,p=-1,g=0;for(;f<d.length;)if(h<m.length&&(m[h]===d[f]||m[h]==="*"))m[h]==="*"?(p=h,g=f,h++):(f++,h++);else if(p!==-1)h=p+1,g++,f=g;else return!1;for(;h<m.length&&m[h]==="*";)h++;return h===m.length}function r(){const d=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),d}function a(d){for(const m of n.skips)if(o(d,m))return!1;for(const m of n.names)if(o(d,m))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var w4=y4;(function(e,t){var n={};t.formatArgs=i,t.save=o,t.load=r,t.useColors=s,t.storage=a(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let m=0,f=0;u[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(m++,h==="%c"&&(f=m))}),u.splice(f,0,d)}t.log=console.debug||console.log||(()=>{});function o(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function r(){let u;try{u=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}function a(){try{return localStorage}catch{}}e.exports=w4(t);const{formatters:c}=e.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(ih,ih.exports);var D4=ih.exports;const E4=Ru(D4),ji=E4("micromark");function T4(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let r=[],a=[],c=!0;const u={attempt:P(M),check:P(_),consume:E,enter:D,exit:T,interrupt:P(_,{interrupt:!0})},d={code:S.eof,containerState:{},defineSkip:b,events:[],now:v,parser:e,previous:S.eof,sliceSerialize:p,sliceStream:g,write:h};let m=t.tokenize.call(d,u),f;return t.resolveAll&&o.push(t),d;function h(A){return r=jn(r,A),w(),r[r.length-1]!==S.eof?[]:(k(t,0),d.events=nd(o,d.events,d),d.events)}function p(A,V){return _4(g(A),V)}function g(A){return S4(r,A)}function v(){const{_bufferIndex:A,_index:V,line:O,column:U,offset:q}=s;return{_bufferIndex:A,_index:V,line:O,column:U,offset:q}}function b(A){i[A.line]=A.column,B(),ji("position: define skip: `%j`",s)}function w(){let A;for(;s._index<r.length;){const V=r[s._index];if(typeof V=="string")for(A=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===A&&s._bufferIndex<V.length;)N(V.charCodeAt(s._bufferIndex));else N(V)}}function N(A){W(c===!0,"expected character to be consumed"),c=void 0,ji("main: passing `%s` to %s",A,m&&m.name),f=A,W(typeof m=="function","expected state"),m=m(A)}function E(A){W(A===f,"expected given code to equal expected code"),ji("consume: `%s`",A),W(c===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),W(A===null?d.events.length===0||d.events[d.events.length-1][0]==="exit":d.events[d.events.length-1][0]==="enter","expected last token to be open"),we(A)?(s.line++,s.column=1,s.offset+=A===S.carriageReturnLineFeed?2:1,B(),ji("position: after eol: `%j`",s)):A!==S.virtualSpace&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===r[s._index].length&&(s._bufferIndex=-1,s._index++)),d.previous=A,c=!0}function D(A,V){const O=V||{};return O.type=A,O.start=v(),W(typeof A=="string","expected string type"),W(A.length>0,"expected non-empty string"),ji("enter: `%s`",A),d.events.push(["enter",O,d]),a.push(O),O}function T(A){W(typeof A=="string","expected string type"),W(A.length>0,"expected non-empty string");const V=a.pop();return W(V,"cannot close w/o open tokens"),V.end=v(),W(A===V.type,"expected exit token to match current token"),W(!(V.start._index===V.end._index&&V.start._bufferIndex===V.end._bufferIndex),"expected non-empty token (`"+A+"`)"),ji("exit: `%s`",V.type),d.events.push(["exit",V,d]),V}function M(A,V){k(A,V.from)}function _(A,V){V.restore()}function P(A,V){return O;function O(U,q,$){let Z,I,ie,ve;return Array.isArray(U)?ce(U):"tokenize"in U?ce([U]):j(U);function j(me){return De;function De(K){const J=K!==null&&me[K],Y=K!==null&&me.null,ue=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(Y)?Y:Y?[Y]:[]];return ce(ue)(K)}}function ce(me){return Z=me,I=0,me.length===0?(W($,"expected `bogusState` to be given"),$):ge(me[I])}function ge(me){return De;function De(K){return ve=L(),ie=me,me.partial||(d.currentConstruct=me),W(d.parser.constructs.disable.null,"expected `disable.null` to be populated"),me.name&&d.parser.constructs.disable.null.includes(me.name)?ne(K):me.tokenize.call(V?Object.assign(Object.create(d),V):d,u,xe,ne)(K)}}function xe(me){return W(me===f,"expected code"),c=!0,A(ie,ve),q}function ne(me){return W(me===f,"expected code"),c=!0,ve.restore(),++I<Z.length?ge(Z[I]):$}}}function k(A,V){A.resolveAll&&!o.includes(A)&&o.push(A),A.resolve&&kn(d.events,V,d.events.length-V,A.resolve(d.events.slice(V),d)),A.resolveTo&&(d.events=A.resolveTo(d.events,d)),W(A.partial||d.events.length===0||d.events[d.events.length-1][0]==="exit","expected last token to end")}function L(){const A=v(),V=d.previous,O=d.currentConstruct,U=d.events.length,q=Array.from(a);return{from:U,restore:$};function $(){s=A,d.previous=V,d.currentConstruct=O,d.events.length=U,a=q,B(),ji("position: restore: `%j`",s)}}function B(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}function S4(e,t){const n=t.start._index,s=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let r;if(n===i)W(o>-1,"expected non-negative end buffer index"),W(s>-1,"expected non-negative start buffer index"),r=[e[n].slice(s,o)];else{if(r=e.slice(n,i),s>-1){const a=r[0];typeof a=="string"?r[0]=a.slice(s):(W(s===0,"expected `startBufferIndex` to be `0`"),r.shift())}o>0&&r.push(e[i].slice(0,o))}return r}function _4(e,t){let n=-1;const s=[];let i;for(;++n<e.length;){const o=e[n];let r;if(typeof o=="string")r=o;else switch(o){case S.carriageReturn:{r=ps.cr;break}case S.lineFeed:{r=ps.lf;break}case S.carriageReturnLineFeed:{r=ps.cr+ps.lf;break}case S.horizontalTab:{r=t?ps.space:ps.ht;break}case S.virtualSpace:{if(!t&&i)continue;r=ps.space;break}default:W(typeof o=="number","expected number"),r=String.fromCharCode(o)}i=o===S.horizontalTab,s.push(r)}return s.join("")}function k4(e){const s={constructs:JD([x4,...(e||{}).extensions||[]]),content:i(F5),defined:[],document:i(H5),flow:i(i4),lazy:{},string:i(a4),text:i(l4)};return s;function i(o){return r;function r(a){return T4(s,o,a)}}}function M4(e){for(;!sE(e););return e}const Tv=/[\0\t\n\r]/g;function C4(){let e=1,t="",n=!0,s;return i;function i(o,r,a){const c=[];let u,d,m,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(r||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===S.byteOrderMarker&&m++,n=void 0);m<o.length;){if(Tv.lastIndex=m,u=Tv.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){t=o.slice(m);break}if(h===S.lf&&m===f&&s)c.push(S.carriageReturnLineFeed),s=void 0;else switch(s&&(c.push(S.carriageReturn),s=void 0),m<f&&(c.push(o.slice(m,f)),e+=f-m),h){case S.nul:{c.push(S.replacementCharacter),e++;break}case S.ht:{for(d=Math.ceil(e/be.tabSize)*be.tabSize,c.push(S.horizontalTab);e++<d;)c.push(S.virtualSpace);break}case S.lf:{c.push(S.lineFeed),e=1;break}default:s=!0,e=1}m=f+1}return a&&(s&&c.push(S.carriageReturn),t&&c.push(t),c.push(S.eof)),c}}const P4=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function A4(e){return e.replace(P4,I4)}function I4(e,t,n){if(t)return t;if(n.charCodeAt(0)===S.numberSign){const i=n.charCodeAt(1),o=i===S.lowercaseX||i===S.uppercaseX;return QD(n.slice(o?2:1),o?be.numericBaseHexadecimal:be.numericBaseDecimal)}return ng(n)||e}const cE={}.hasOwnProperty;function R4(e,t,n){return typeof t!="string"&&(n=t,t=void 0),j4(n)(M4(k4(n).document().write(C4()(e,t,!0))))}function j4(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(We),autolinkProtocol:P,autolinkEmail:P,atxHeading:o(re),blockQuote:o(K),characterEscape:P,characterReference:P,codeFenced:o(J),codeFencedFenceInfo:r,codeFencedFenceMeta:r,codeIndented:o(J,r),codeText:o(Y,r),codeTextData:P,data:P,codeFlowValue:P,definition:o(ue),definitionDestinationString:r,definitionLabelString:r,definitionTitleString:r,emphasis:o(de),hardBreakEscape:o(pe),hardBreakTrailing:o(pe),htmlFlow:o(ze,r),htmlFlowData:P,htmlText:o(ze,r),htmlTextData:P,image:o($e),label:r,link:o(We),listItem:o(As),listItemValue:f,listOrdered:o(Mn,m),listUnordered:o(Mn),paragraph:o(ls),reference:j,referenceString:r,resourceDestinationString:r,resourceTitleString:r,setextHeading:o(re),strong:o(mt),thematicBreak:o(un)},exit:{atxHeading:c(),atxHeadingSequence:D,autolink:c(),autolinkEmail:De,autolinkProtocol:me,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:xe,characterReference:ne,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:c(b),codeText:c(O),codeTextData:k,data:k,definition:c(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(A),htmlFlowData:k,htmlText:c(V),htmlTextData:k,image:c(q),label:Z,labelText:$,lineEnding:L,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ce,resourceDestinationString:I,resourceTitleString:ie,resource:ve,setextHeading:c(_),setextHeadingLineSequence:M,setextHeadingText:T,strong:c(),thematicBreak:c()}};uE(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(ee){let Q={type:"root",children:[]};const Ne={stack:[Q],tokenStack:[],config:t,enter:a,exit:u,buffer:r,resume:d,data:n},Ie=[];let Le=-1;for(;++Le<ee.length;)if(ee[Le][1].type===C.listOrdered||ee[Le][1].type===C.listUnordered)if(ee[Le][0]==="enter")Ie.push(Le);else{const Nt=Ie.pop();W(typeof Nt=="number","expected list ot be open"),Le=i(ee,Nt,Le)}for(Le=-1;++Le<ee.length;){const Nt=t[ee[Le][0]];cE.call(Nt,ee[Le][1].type)&&Nt[ee[Le][1].type].call(Object.assign({sliceSerialize:ee[Le][2].sliceSerialize},Ne),ee[Le][1])}if(Ne.tokenStack.length>0){const Nt=Ne.tokenStack[Ne.tokenStack.length-1];(Nt[1]||Sv).call(Ne,void 0,Nt[0])}for(Q.position={start:si(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:si(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)Q=t.transforms[Le](Q)||Q;return Q}function i(ee,Q,Ne){let Ie=Q-1,Le=-1,Nt=!1,ae,_e,It,Cn;for(;++Ie<=Ne;){const yt=ee[Ie];switch(yt[1].type){case C.listUnordered:case C.listOrdered:case C.blockQuote:{yt[0]==="enter"?Le++:Le--,Cn=void 0;break}case C.lineEndingBlank:{yt[0]==="enter"&&(ae&&!Cn&&!Le&&!It&&(It=Ie),Cn=void 0);break}case C.linePrefix:case C.listItemValue:case C.listItemMarker:case C.listItemPrefix:case C.listItemPrefixWhitespace:break;default:Cn=void 0}if(!Le&&yt[0]==="enter"&&yt[1].type===C.listItemPrefix||Le===-1&&yt[0]==="exit"&&(yt[1].type===C.listUnordered||yt[1].type===C.listOrdered)){if(ae){let Ut=Ie;for(_e=void 0;Ut--;){const dn=ee[Ut];if(dn[1].type===C.lineEnding||dn[1].type===C.lineEndingBlank){if(dn[0]==="exit")continue;_e&&(ee[_e][1].type=C.lineEndingBlank,Nt=!0),dn[1].type=C.lineEnding,_e=Ut}else if(!(dn[1].type===C.linePrefix||dn[1].type===C.blockQuotePrefix||dn[1].type===C.blockQuotePrefixWhitespace||dn[1].type===C.blockQuoteMarker||dn[1].type===C.listItemIndent))break}It&&(!_e||It<_e)&&(ae._spread=!0),ae.end=Object.assign({},_e?ee[_e][1].start:yt[1].end),ee.splice(_e||Ie,0,["exit",ae,yt[2]]),Ie++,Ne++}if(yt[1].type===C.listItemPrefix){const Ut={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};ae=Ut,ee.splice(Ie,0,["enter",Ut,yt[2]]),Ie++,Ne++,It=void 0,Cn=!0}}}return ee[Q][1]._spread=Nt,Ne}function o(ee,Q){return Ne;function Ne(Ie){a.call(this,ee(Ie),Ie),Q&&Q.call(this,Ie)}}function r(){this.stack.push({type:"fragment",children:[]})}function a(ee,Q,Ne){const Ie=this.stack[this.stack.length-1];W(Ie,"expected `parent`"),W("children"in Ie,"expected `parent`"),Ie.children.push(ee),this.stack.push(ee),this.tokenStack.push([Q,Ne||void 0]),ee.position={start:si(Q.start),end:void 0}}function c(ee){return Q;function Q(Ne){ee&&ee.call(this,Ne),u.call(this,Ne)}}function u(ee,Q){const Ne=this.stack.pop();W(Ne,"expected `node`");const Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==ee.type&&(Q?Q.call(this,ee,Ie[0]):(Ie[1]||Sv).call(this,ee,Ie[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Aa({start:ee.start,end:ee.end})+"): its not open");W(Ne.type!=="fragment","unexpected fragment `exit`ed"),W(Ne.position,"expected `position` to be defined"),Ne.position.end=si(ee.end)}function d(){return tg(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function f(ee){if(this.data.expectingFirstListItemValue){const Q=this.stack[this.stack.length-2];W(Q,"expected nodes on stack"),W(Q.type==="list","expected list on stack"),Q.start=Number.parseInt(this.sliceSerialize(ee),be.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function h(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.lang=ee}function p(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.meta=ee}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="code","expected code on stack"),Q.value=ee.replace(/(\r?\n|\r)$/g,"")}function w(ee){const Q=this.resume(),Ne=this.stack[this.stack.length-1];W(Ne,"expected node on stack"),W(Ne.type==="definition","expected definition on stack"),Ne.label=Q,Ne.identifier=ts(this.sliceSerialize(ee)).toLowerCase()}function N(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="definition","expected definition on stack"),Q.title=ee}function E(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="definition","expected definition on stack"),Q.url=ee}function D(ee){const Q=this.stack[this.stack.length-1];if(W(Q,"expected node on stack"),W(Q.type==="heading","expected heading on stack"),!Q.depth){const Ne=this.sliceSerialize(ee).length;W(Ne===1||Ne===2||Ne===3||Ne===4||Ne===5||Ne===6,"expected `depth` between `1` and `6`"),Q.depth=Ne}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function M(ee){const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="heading","expected heading on stack"),Q.depth=this.sliceSerialize(ee).codePointAt(0)===S.equalsTo?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function P(ee){const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W("children"in Q,"expected parent on stack");const Ne=Q.children;let Ie=Ne[Ne.length-1];(!Ie||Ie.type!=="text")&&(Ie=Wn(),Ie.position={start:si(ee.start),end:void 0},Ne.push(Ie)),this.stack.push(Ie)}function k(ee){const Q=this.stack.pop();W(Q,"expected a `node` to be on the stack"),W("value"in Q,"expected a `literal` to be on the stack"),W(Q.position,"expected `node` to have an open position"),Q.value+=this.sliceSerialize(ee),Q.position.end=si(ee.end)}function L(ee){const Q=this.stack[this.stack.length-1];if(W(Q,"expected `node`"),this.data.atHardBreak){W("children"in Q,"expected `parent`");const Ne=Q.children[Q.children.length-1];W(Ne.position,"expected tail to have a starting position"),Ne.position.end=si(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Q.type)&&(P.call(this,ee),k.call(this,ee))}function B(){this.data.atHardBreak=!0}function A(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="html","expected html on stack"),Q.value=ee}function V(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="html","expected html on stack"),Q.value=ee}function O(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="inlineCode","expected inline code on stack"),Q.value=ee}function U(){const ee=this.stack[this.stack.length-1];if(W(ee,"expected node on stack"),W(ee.type==="link","expected link on stack"),this.data.inReference){const Q=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=Q,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function q(){const ee=this.stack[this.stack.length-1];if(W(ee,"expected node on stack"),W(ee.type==="image","expected image on stack"),this.data.inReference){const Q=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=Q,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function $(ee){const Q=this.sliceSerialize(ee),Ne=this.stack[this.stack.length-2];W(Ne,"expected ancestor on stack"),W(Ne.type==="image"||Ne.type==="link","expected image or link on stack"),Ne.label=A4(Q),Ne.identifier=ts(Q).toLowerCase()}function Z(){const ee=this.stack[this.stack.length-1];W(ee,"expected node on stack"),W(ee.type==="fragment","expected fragment on stack");const Q=this.resume(),Ne=this.stack[this.stack.length-1];if(W(Ne,"expected node on stack"),W(Ne.type==="image"||Ne.type==="link","expected image or link on stack"),this.data.inReference=!0,Ne.type==="link"){const Ie=ee.children;Ne.children=Ie}else Ne.alt=Q}function I(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="image"||Q.type==="link","expected image or link on stack"),Q.url=ee}function ie(){const ee=this.resume(),Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="image"||Q.type==="link","expected image or link on stack"),Q.title=ee}function ve(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function ce(ee){const Q=this.resume(),Ne=this.stack[this.stack.length-1];W(Ne,"expected node on stack"),W(Ne.type==="image"||Ne.type==="link","expected image reference or link reference on stack"),Ne.label=Q,Ne.identifier=ts(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function ge(ee){W(ee.type==="characterReferenceMarkerNumeric"||ee.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=ee.type}function xe(ee){const Q=this.sliceSerialize(ee),Ne=this.data.characterReferenceType;let Ie;if(Ne)Ie=QD(Q,Ne===C.characterReferenceMarkerNumeric?be.numericBaseDecimal:be.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const Nt=ng(Q);W(Nt!==!1,"expected reference to decode"),Ie=Nt}const Le=this.stack[this.stack.length-1];W(Le,"expected `node`"),W("value"in Le,"expected `node.value`"),Le.value+=Ie}function ne(ee){const Q=this.stack.pop();W(Q,"expected `node`"),W(Q.position,"expected `node.position`"),Q.position.end=si(ee.end)}function me(ee){k.call(this,ee);const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="link","expected link on stack"),Q.url=this.sliceSerialize(ee)}function De(ee){k.call(this,ee);const Q=this.stack[this.stack.length-1];W(Q,"expected node on stack"),W(Q.type==="link","expected link on stack"),Q.url="mailto:"+this.sliceSerialize(ee)}function K(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function de(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function ze(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function We(){return{type:"link",title:null,url:"",children:[]}}function Mn(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function As(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function ls(){return{type:"paragraph",children:[]}}function mt(){return{type:"strong",children:[]}}function Wn(){return{type:"text",value:""}}function un(){return{type:"thematicBreak"}}}function si(e){return{line:e.line,column:e.column,offset:e.offset}}function uE(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?uE(e,s):O4(e,s)}}function O4(e,t){let n;for(n in t)if(cE.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function Sv(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Aa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Aa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Aa({start:t.start,end:t.end})+") is still open")}function V4(e){const t=this;t.parser=n;function n(s){return R4(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function L4(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function F4(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function B4(e,t){const n=t.value?t.value+`
`:"",s={};t.lang&&(s.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function H4(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U4(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function z4(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),i=Or(s.toLowerCase()),o=e.footnoteOrder.indexOf(s);let r,a=e.footnoteCounts.get(s);a===void 0?(a=0,e.footnoteOrder.push(s),r=e.footnoteOrder.length):r=o+1,a+=1,e.footnoteCounts.set(s,a);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(r)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function $4(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function W4(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function dE(e,t){const n=t.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const r=i[i.length-1];return r&&r.type==="text"?r.value+=s:i.push({type:"text",value:s}),i}function G4(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return dE(e,t);const i={src:Or(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function q4(e,t){const n={src:Or(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)}function K4(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)}function Y4(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return dE(e,t);const i={href:Or(s.url||"")};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function X4(e,t){const n={href:Or(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function J4(e,t,n){const s=e.all(t),i=n?Q4(n):mE(t),o={},r=[];if(typeof t.checked=="boolean"){const d=s[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},s.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<s.length;){const d=s[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&r.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?r.push(...d.children):r.push(d)}const c=s[s.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&r.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:r};return e.patch(t,u),e.applyData(t,u)}function Q4(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=mE(n[s])}return t}function mE(e){const t=e.spread;return t??e.children.length>1}function Z4(e,t){const n={},s=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<s.length;){const r=s[i];if(r.type==="element"&&r.tagName==="li"&&r.properties&&Array.isArray(r.properties.className)&&r.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function eL(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tL(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nL(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sL(e,t){const n=e.all(t),s=n.shift(),i=[];if(s){const r={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],r),i.push(r)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Ms(t.children[1]),c=ed(t.children[t.children.length-1]);a&&c&&(r.position={start:a,end:c}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function iL(e,t,n){const s=n?n.children:void 0,o=(s?s.indexOf(t):1)===0?"th":"td",r=n&&n.type==="table"?n.align:void 0,a=r?r.length:t.children.length;let c=-1;const u=[];for(;++c<a;){const m=t.children[c],f={},h=r?r[c]:void 0;h&&(f.align=h);let p={type:"element",tagName:o,properties:f,children:[]};m&&(p.children=e.all(m),e.patch(m,p),p=e.applyData(m,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function oL(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const _v=9,kv=32;function rL(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),i=0;const o=[];for(;s;)o.push(Mv(t.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=n.exec(t);return o.push(Mv(t.slice(i),i>0,!1)),o.join("")}function Mv(e,t,n){let s=0,i=e.length;if(t){let o=e.codePointAt(s);for(;o===_v||o===kv;)s++,o=e.codePointAt(s)}if(n){let o=e.codePointAt(i-1);for(;o===_v||o===kv;)i--,o=e.codePointAt(i-1)}return i>s?e.slice(s,i):""}function aL(e,t){const n={type:"text",value:rL(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lL(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const cL={blockquote:L4,break:F4,code:B4,delete:H4,emphasis:U4,footnoteReference:z4,heading:$4,html:W4,imageReference:G4,image:q4,inlineCode:K4,linkReference:Y4,link:X4,listItem:J4,list:Z4,paragraph:eL,root:tL,strong:nL,table:sL,tableCell:oL,tableRow:iL,text:aL,thematicBreak:lL,toml:oc,yaml:oc,definition:oc,footnoteDefinition:oc};function oc(){}const fE=-1,sd=0,Ra=1,hu=2,ig=3,og=4,rg=5,ag=6,hE=7,pE=8,Cv=typeof self=="object"?self:globalThis,uL=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),s=i=>{if(e.has(i))return e.get(i);const[o,r]=t[i];switch(o){case sd:case fE:return n(r,i);case Ra:{const a=n([],i);for(const c of r)a.push(s(c));return a}case hu:{const a=n({},i);for(const[c,u]of r)a[s(c)]=s(u);return a}case ig:return n(new Date(r),i);case og:{const{source:a,flags:c}=r;return n(new RegExp(a,c),i)}case rg:{const a=n(new Map,i);for(const[c,u]of r)a.set(s(c),s(u));return a}case ag:{const a=n(new Set,i);for(const c of r)a.add(s(c));return a}case hE:{const{name:a,message:c}=r;return n(new Cv[a](c),i)}case pE:return n(BigInt(r),i);case"BigInt":return n(Object(BigInt(r)),i);case"ArrayBuffer":return n(new Uint8Array(r).buffer,r);case"DataView":{const{buffer:a}=new Uint8Array(r);return n(new DataView(a),r)}}return n(new Cv[o](r),i)};return s},Pv=e=>uL(new Map,e)(0),jo="",{toString:dL}={},{keys:mL}=Object,ia=e=>{const t=typeof e;if(t!=="object"||!e)return[sd,t];const n=dL.call(e).slice(8,-1);switch(n){case"Array":return[Ra,jo];case"Object":return[hu,jo];case"Date":return[ig,jo];case"RegExp":return[og,jo];case"Map":return[rg,jo];case"Set":return[ag,jo];case"DataView":return[Ra,n]}return n.includes("Array")?[Ra,n]:n.includes("Error")?[hE,n]:[hu,n]},rc=([e,t])=>e===sd&&(t==="function"||t==="symbol"),fL=(e,t,n,s)=>{const i=(r,a)=>{const c=s.push(r)-1;return n.set(a,c),c},o=r=>{if(n.has(r))return n.get(r);let[a,c]=ia(r);switch(a){case sd:{let d=r;switch(c){case"bigint":a=pE,d=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([fE],r)}return i([a,d],r)}case Ra:{if(c){let f=r;return c==="DataView"?f=new Uint8Array(r.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(r)),i([c,[...f]],r)}const d=[],m=i([a,d],r);for(const f of r)d.push(o(f));return m}case hu:{if(c)switch(c){case"BigInt":return i([c,r.toString()],r);case"Boolean":case"Number":case"String":return i([c,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const d=[],m=i([a,d],r);for(const f of mL(r))(e||!rc(ia(r[f])))&&d.push([o(f),o(r[f])]);return m}case ig:return i([a,r.toISOString()],r);case og:{const{source:d,flags:m}=r;return i([a,{source:d,flags:m}],r)}case rg:{const d=[],m=i([a,d],r);for(const[f,h]of r)(e||!(rc(ia(f))||rc(ia(h))))&&d.push([o(f),o(h)]);return m}case ag:{const d=[],m=i([a,d],r);for(const f of r)(e||!rc(ia(f)))&&d.push(o(f));return m}}const{message:u}=r;return i([a,{name:c,message:u}],r)};return o},Av=(e,{json:t,lossy:n}={})=>{const s=[];return fL(!(t||n),!!t,new Map,s)(e),s},gr=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Pv(Av(e,t)):structuredClone(e):(e,t)=>Pv(Av(e,t));function hL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function pL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||hL,s=e.options.footnoteBackLabel||pL,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",r=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),m=String(u.identifier).toUpperCase(),f=Or(m.toLowerCase());let h=0;const p=[],g=e.footnoteCounts.get(m);for(;g!==void 0&&++h<=g;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,h);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,h),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else d.push(...p);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,b),a.push(b)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...gr(r),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const id=function(e){if(e==null)return NL;if(typeof e=="function")return od(e);if(typeof e=="object")return Array.isArray(e)?bL(e):vL(e);if(typeof e=="string")return xL(e);throw new Error("Expected function, string, or object as test")};function bL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=id(e[n]);return od(s);function s(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function vL(e){const t=e;return od(n);function n(s){const i=s;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function xL(e){return od(t);function t(n){return n&&n.type===e}}function od(e){return t;function t(n,s,i){return!!(yL(n)&&e.call(this,n,typeof s=="number"?s:void 0,i||void 0))}}function NL(){return!0}function yL(e){return e!==null&&typeof e=="object"&&"type"in e}const gE=[],wL=!0,oh=!1,DL="skip";function bE(e,t,n,s){let i;typeof t=="function"&&typeof n!="function"?(s=n,n=t):i=t;const o=id(i),r=s?-1:1;a(e,void 0,[])();function a(c,u,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const h=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=gE,p,g,v;if((!t||o(c,u,d[d.length-1]||void 0))&&(h=EL(n(c,d)),h[0]===oh))return h;if("children"in c&&c.children){const b=c;if(b.children&&h[0]!==DL)for(g=(s?b.children.length:-1)+r,v=d.concat(b);g>-1&&g<b.children.length;){const w=b.children[g];if(p=a(w,g,v)(),p[0]===oh)return p;g=typeof p[1]=="number"?p[1]:g+r}}return h}}}function EL(e){return Array.isArray(e)?e:typeof e=="number"?[wL,e]:e==null?gE:[e]}function rd(e,t,n,s){let i,o,r;typeof t=="function"&&typeof n!="function"?(o=void 0,r=t,i=n):(o=t,r=n,i=s),bE(e,o,a,i);function a(c,u){const d=u[u.length-1],m=d?d.children.indexOf(c):void 0;return r(c,m,d)}}const rh={}.hasOwnProperty,TL={};function SL(e,t){const n=t||TL,s=new Map,i=new Map,o=new Map,r={...cL,...n.handlers},a={all:u,applyData:kL,definitionById:s,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:r,one:c,options:n,patch:_L,wrap:CL};return rd(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?s:i,f=String(d.identifier).toUpperCase();m.has(f)||m.set(f,d)}}),a;function c(d,m){const f=d.type,h=a.handlers[f];if(rh.call(a.handlers,f)&&h)return h(a,d,m);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in d){const{children:g,...v}=d,b=gr(v);return b.children=a.all(d),b}return gr(d)}return(a.options.unknownHandler||ML)(a,d,m)}function u(d){const m=[];if("children"in d){const f=d.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],d);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Iv(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=Iv(g.value))}Array.isArray(p)?m.push(...p):m.push(p)}}}return m}}function _L(e,t){e.position&&(t.position=d5(e))}function kL(e,t){let n=t;if(e&&e.data){const s=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const r="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:r}}n.type==="element"&&o&&Object.assign(n.properties,gr(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function ML(e,t){const n=t.data||{},s="value"in t&&!(rh.call(n,"hProperties")||rh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function CL(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:`
`});++s<e.length;)s&&n.push({type:"text",value:`
`}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Iv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Rv(e,t){const n=SL(e,t),s=n.one(e,void 0),i=gL(n),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&(W("children"in o),o.children.push({type:"text",value:`
`},i)),o}function PL(e,t){return e&&"run"in e?async function(n,s){const i=Rv(n,{file:s,...t});await e.run(i,s)}:function(n,s){return Rv(n,{file:s,...e||t})}}function jv(e){if(e)throw e}var $c=Object.prototype.hasOwnProperty,vE=Object.prototype.toString,Ov=Object.defineProperty,Vv=Object.getOwnPropertyDescriptor,Lv=function(t){return typeof Array.isArray=="function"?Array.isArray(t):vE.call(t)==="[object Array]"},Fv=function(t){if(!t||vE.call(t)!=="[object Object]")return!1;var n=$c.call(t,"constructor"),s=t.constructor&&t.constructor.prototype&&$c.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!s)return!1;var i;for(i in t);return typeof i>"u"||$c.call(t,i)},Bv=function(t,n){Ov&&n.name==="__proto__"?Ov(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Hv=function(t,n){if(n==="__proto__")if($c.call(t,n)){if(Vv)return Vv(t,n).value}else return;return t[n]},AL=function e(){var t,n,s,i,o,r,a=arguments[0],c=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)s=Hv(a,n),i=Hv(t,n),a!==i&&(d&&i&&(Fv(i)||(o=Lv(i)))?(o?(o=!1,r=s&&Lv(s)?s:[]):r=s&&Fv(s)?s:{},Bv(a,{name:n,newValue:e(d,r,i)})):typeof i<"u"&&Bv(a,{name:n,newValue:i}));return a};const fm=Ru(AL);function ah(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function IL(){const e=[],t={run:n,use:s};return t;function n(...i){let o=-1;const r=i.pop();if(typeof r!="function")throw new TypeError("Expected function as last argument, not "+r);a(null,...i);function a(c,...u){const d=e[++o];let m=-1;if(c){r(c);return}for(;++m<i.length;)(u[m]===null||u[m]===void 0)&&(u[m]=i[m]);i=u,d?RL(d,a)(...u):r(null,...u)}}function s(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function RL(e,t){let n;return s;function s(...r){const a=e.length>r.length;let c;a&&r.push(i);try{c=e.apply(this,r)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(r,...a){n||(n=!0,t(r,...a))}function o(r){i(null,r)}}const fs={basename:jL,dirname:OL,extname:VL,join:LL,sep:"/"};function jL(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ml(e);let n=0,s=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1);return s<0?"":e.slice(n,s)}if(t===e)return"";let r=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(s=i):(a=-1,s=r));return n===s?s=r:s<0&&(s=e.length),e.slice(n,s)}function OL(e){if(Ml(e),e.length===0)return".";let t=-1,n=e.length,s;for(;--n;)if(e.codePointAt(n)===47){if(s){t=n;break}}else s||(s=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function VL(e){Ml(e);let t=e.length,n=-1,s=0,i=-1,o=0,r;for(;t--;){const a=e.codePointAt(t);if(a===47){if(r){s=t+1;break}continue}n<0&&(r=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===s+1?"":e.slice(i,n)}function LL(...e){let t=-1,n;for(;++t<e.length;)Ml(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":FL(n)}function FL(e){Ml(e);const t=e.codePointAt(0)===47;let n=BL(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function BL(e,t){let n="",s=0,i=-1,o=0,r=-1,a,c;for(;++r<=e.length;){if(r<e.length)a=e.codePointAt(r);else{if(a===47)break;a=47}if(a===47){if(!(i===r-1||o===1))if(i!==r-1&&o===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",s=0):(n=n.slice(0,c),s=n.length-1-n.lastIndexOf("/")),i=r,o=0;continue}}else if(n.length>0){n="",s=0,i=r,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+e.slice(i+1,r):n=e.slice(i+1,r),s=r-i-1;i=r,o=0}else a===46&&o>-1?o++:o=-1}return n}function Ml(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HL={cwd:UL};function UL(){return"/"}function lh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function zL(e){if(typeof e=="string")e=new URL(e);else if(!lh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $L(e)}function $L(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const s=t.codePointAt(n+2);if(s===70||s===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const hm=["history","path","basename","stem","extname","dirname"];class xE{constructor(t){let n;t?lh(t)?n={path:t}:typeof t=="string"||WL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":HL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<hm.length;){const o=hm[s];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)hm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?fs.basename(this.path):void 0}set basename(t){gm(t,"basename"),pm(t,"basename"),this.path=fs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fs.dirname(this.path):void 0}set dirname(t){Uv(this.basename,"dirname"),this.path=fs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fs.extname(this.path):void 0}set extname(t){if(pm(t,"extname"),Uv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){lh(t)&&(t=zL(t)),gm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fs.basename(this.path,this.extname):void 0}set stem(t){gm(t,"stem"),pm(t,"stem"),this.path=fs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,s){const i=this.message(t,n,s);throw i.fatal=!0,i}info(t,n,s){const i=this.message(t,n,s);return i.fatal=void 0,i}message(t,n,s){const i=new Qt(t,n,s);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function pm(e,t){if(e&&e.includes(fs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fs.sep+"`")}function gm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Uv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function WL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GL=function(e){const s=this.constructor.prototype,i=s[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,s),o},qL={}.hasOwnProperty;class lg extends GL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=IL()}copy(){const t=new lg;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];t.use(...s)}return t.data(fm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(xm("data",this.frozen),this.namespace[t]=n,this):qL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(xm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const i=n.call(t,...s);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ac(t),s=this.parser||this.Parser;return bm("parse",s),s(String(n),n)}process(t,n){const s=this;return this.freeze(),bm("process",this.parser||this.Parser),vm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,r){const a=ac(t),c=s.parse(a);s.run(c,a,function(d,m,f){if(d||!m||!f)return u(d);const h=m,p=s.stringify(h,f);XL(p)?f.value=p:f.result=p,u(d,f)});function u(d,m){d||!m?r(d):o?o(m):(W(n,"`done` is defined if `resolve` is not"),n(void 0,m))}}}processSync(t){let n=!1,s;return this.freeze(),bm("processSync",this.parser||this.Parser),vm("processSync",this.compiler||this.Compiler),this.process(t,i),$v("processSync","process",n),W(s,"we either bailed on an error or have a tree"),s;function i(o,r){n=!0,jv(o),s=r}}run(t,n,s){zv(t),this.freeze();const i=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?o(void 0,s):new Promise(o);function o(r,a){W(typeof n!="function","`file` cant be a `done` anymore, we checked");const c=ac(n);i.run(t,c,u);function u(d,m,f){const h=m||t;d?a(d):r?r(h):(W(s,"`done` is defined if `resolve` is not"),s(void 0,h,f))}}}runSync(t,n){let s=!1,i;return this.run(t,n,o),$v("runSync","run",s),W(i,"we either bailed on an error or have a tree"),i;function o(r,a){jv(r),i=a,s=!0}}stringify(t,n){this.freeze();const s=ac(n),i=this.compiler||this.Compiler;return vm("stringify",i),zv(t),i(t,s)}use(t,...n){const s=this.attachers,i=this.namespace;if(xm("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):r(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...m]=u;c(d,m)}else r(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function r(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=fm(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const m=u[d];o(m)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let m=-1,f=-1;for(;++m<s.length;)if(s[m][0]===u){f=m;break}if(f===-1)s.push([u,...d]);else if(d.length>0){let[h,...p]=d;const g=s[f][1];ah(g)&&ah(h)&&(h=fm(!0,g,h)),s[f]=[u,h,...p]}}}}const KL=new lg().freeze();function bm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function xm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zv(e){if(!ah(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $v(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ac(e){return YL(e)?e:new xE(e)}function YL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function XL(e){return typeof e=="string"||JL(e)}function JL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wv=[],Gv={allowDangerousHtml:!0},ZL=/^(https?|ircs?|mailto|xmpp)$/i,eF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tF(e){const t=nF(e),n=sF(e);return iF(t.runSync(t.parse(n),n),e)}function nF(e){const t=e.rehypePlugins||Wv,n=e.remarkPlugins||Wv,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Gv}:Gv;return KL().use(V4).use(n).use(PL,s).use(t)}function sF(e){const t=e.children||"",n=new xE;return typeof t=="string"?n.value=t:Jf("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function iF(e,t){const n=t.allowedElements,s=t.allowElement,i=t.components,o=t.disallowedElements,r=t.skipHtml,a=t.unwrapDisallowed,c=t.urlTransform||oF;for(const d of eF)Object.hasOwn(t,d.from)&&Jf("Unexpected `"+d.from+"` prop, "+(d.to?"use `"+d.to+"` instead":"remove it")+" (see <"+QL+"#"+d.id+"> for more info)");return n&&o&&Jf("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),rd(e,u),g5(e,{Fragment:G.Fragment,components:i,ignoreInvalidStyle:!0,jsx:G.jsx,jsxs:G.jsxs,passKeys:!0,passNode:!0});function u(d,m,f){if(d.type==="raw"&&f&&typeof m=="number")return r?f.children.splice(m,1):f.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let h;for(h in cm)if(Object.hasOwn(cm,h)&&Object.hasOwn(d.properties,h)){const p=d.properties[h],g=cm[h];(g===null||g.includes(d.tagName))&&(d.properties[h]=c(String(p||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!h&&s&&typeof m=="number"&&(h=!s(d,m,f)),h&&f&&typeof m=="number")return a&&d.children?f.children.splice(m,1,...d.children):f.children.splice(m,1),m}}}function oF(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||s!==-1&&t>s||ZL.test(e.slice(0,t))?e:""}const qv=/[#.]/g;function rF(e,t){const n=e||"",s={};let i=0,o,r;for(;i<n.length;){qv.lastIndex=i;const a=qv.exec(n),c=n.slice(i,a?a.index:n.length);c&&(o?o==="#"?s.id=c:Array.isArray(s.className)?s.className.push(c):s.className=[c]:r=c,i+=c.length),a&&(o=a[0],i++)}return{type:"element",tagName:r||t||"div",properties:s,children:[]}}function NE(e,t,n){const s=n?uF(n):void 0;function i(o,r,...a){let c;if(o==null){c={type:"root",children:[]};const u=r;a.unshift(u)}else{c=rF(o,t);const u=c.tagName.toLowerCase(),d=s?s.get(u):void 0;if(c.tagName=d||u,aF(r))a.unshift(r);else for(const[m,f]of Object.entries(r))lF(e,c.properties,m,f)}for(const u of a)ch(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function aF(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const s of n){const i=t[s];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const r of o)if(typeof r!="number"&&typeof r!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function lF(e,t,n,s){const i=Xp(e,n);let o;if(s!=null){if(typeof s=="number"){if(Number.isNaN(s))return;o=s}else typeof s=="boolean"?o=s:typeof s=="string"?i.spaceSeparated?o=av(s):i.commaSeparated?o=nv(s):i.commaOrSpaceSeparated?o=av(nv(s).join(" ")):o=Kv(i,i.property,s):Array.isArray(s)?o=[...s]:o=i.property==="style"?cF(s):String(s);if(Array.isArray(o)){const r=[];for(const a of o)r.push(Kv(i,i.property,a));o=r}i.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[i.property]=o}}function ch(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)ch(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?ch(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Kv(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||ll(n)===ll(t)))return!0}return n}function cF(e){const t=[];for(const[n,s]of Object.entries(e))t.push([n,s].join(": "));return t.join("; ")}function uF(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const dF=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mF=NE(Qu,"div"),fF=NE(jr,"g",dF);function hF(e){const t=String(e),n=[];return{toOffset:i,toPoint:s};function s(o){if(typeof o=="number"&&o>-1&&o<=t.length){let r=0;for(;;){let a=n[r];if(a===void 0){const c=Yv(t,n[r-1]);a=c===-1?t.length+1:c+1,n[r]=a}if(a>o)return{line:r+1,column:o-(r>0?n[r-1]:0)+1,offset:o};r++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const a=n[n.length-1],c=Yv(t,a),u=c===-1?t.length+1:c+1;if(a===u)break;n.push(u)}const r=(o.line>1?n[o.line-2]:0)+o.column-1;if(r<n[o.line-1])return r}}}function Yv(e,t){const n=e.indexOf("\r",t),s=e.indexOf(`
`,t);return s===-1?n:n===-1||n+1===s?s:n<s?n:s}const Zi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yE={}.hasOwnProperty,pF=Object.prototype;function gF(e,t){const n=t||{};return cg({file:n.file||void 0,location:!1,schema:n.space==="svg"?jr:Qu,verbose:n.verbose||!1},e)}function cg(e,t){let n;switch(t.nodeName){case"#comment":{const s=t;return n={type:"comment",value:s.data},Wc(e,s,n),n}case"#document":case"#document-fragment":{const s=t,i="mode"in s?s.mode==="quirks"||s.mode==="limited-quirks":!1;if(n={type:"root",children:wE(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),r=hF(o),a=r.toPoint(0),c=r.toPoint(o.length);W(a,"expected `start`"),W(c,"expected `end`"),n.position={start:a,end:c}}return n}case"#documentType":{const s=t;return n={type:"doctype"},Wc(e,s,n),n}case"#text":{const s=t;return n={type:"text",value:s.value},Wc(e,s,n),n}default:return n=bF(e,t),n}}function wE(e,t){let n=-1;const s=[];for(;++n<t.length;){const i=cg(e,t[n]);s.push(i)}return s}function bF(e,t){const n=e.schema;e.schema=t.namespaceURI===Zi.svg?jr:Qu;let s=-1;const i={};for(;++s<t.attrs.length;){const a=t.attrs[s],c=(a.prefix?a.prefix+":":"")+a.name;yE.call(pF,c)||(i[c]=a.value)}const r=(e.schema.space==="svg"?fF:mF)(t.tagName,i,wE(e,t.childNodes));if(Wc(e,t,r),r.tagName==="template"){const a=t,c=a.sourceCodeLocation,u=c&&c.startTag&&tr(c.startTag),d=c&&c.endTag&&tr(c.endTag),m=cg(e,a.content);u&&d&&e.file&&(m.position={start:u.end,end:d.start}),r.content=m}return e.schema=n,r}function Wc(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const s=vF(e,n,t.sourceCodeLocation);s&&(e.location=!0,n.position=s)}}function vF(e,t,n){const s=tr(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(s&&!n.endTag&&i&&i.position&&i.position.end&&(s.end=Object.assign({},i.position.end)),e.verbose){const o={};let r;if(n.attrs)for(r in n.attrs)yE.call(n.attrs,r)&&(o[Xp(e.schema,r).property]=tr(n.attrs[r]));W(n.startTag,"a start tag should exist");const a=tr(n.startTag),c=n.endTag?tr(n.endTag):void 0,u={opening:a};c&&(u.closing=c),u.properties=o,t.data={position:u}}}return s}function tr(e){const t=Xv({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Xv({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Xv(e){return e.line&&e.column?e:void 0}class Cl{constructor(t,n,s){this.property=t,this.normal=n,s&&(this.space=s)}}Cl.prototype.property={};Cl.prototype.normal={};Cl.prototype.space=null;function DE(e,t){const n={},s={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(s,e[i].normal);return new Cl(n,s,t)}function uh(e){return e.toLowerCase()}class zn{constructor(t,n){this.property=t,this.attribute=n}}zn.prototype.space=null;zn.prototype.boolean=!1;zn.prototype.booleanish=!1;zn.prototype.overloadedBoolean=!1;zn.prototype.number=!1;zn.prototype.commaSeparated=!1;zn.prototype.spaceSeparated=!1;zn.prototype.commaOrSpaceSeparated=!1;zn.prototype.mustUseProperty=!1;zn.prototype.defined=!1;let xF=0;const je=wo(),Mt=wo(),EE=wo(),he=wo(),ut=wo(),or=wo(),Dn=wo();function wo(){return 2**++xF}const dh=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:Mt,commaOrSpaceSeparated:Dn,commaSeparated:or,number:he,overloadedBoolean:EE,spaceSeparated:ut},Symbol.toStringTag,{value:"Module"})),Nm=Object.keys(dh);class ug extends zn{constructor(t,n,s,i){let o=-1;if(super(t,n),Jv(this,"space",i),typeof s=="number")for(;++o<Nm.length;){const r=Nm[o];Jv(this,Nm[o],(s&dh[r])===dh[r])}}}ug.prototype.defined=!0;function Jv(e,t,n){n&&(e[t]=n)}const NF={}.hasOwnProperty;function Vr(e){const t={},n={};let s;for(s in e.properties)if(NF.call(e.properties,s)){const i=e.properties[s],o=new ug(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),t[s]=o,n[uh(s)]=s,n[uh(o.attribute)]=s}return new Cl(t,n,e.space)}const TE=Vr({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),SE=Vr({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function _E(e,t){return t in e?e[t]:t}function kE(e,t){return _E(e,t.toLowerCase())}const ME=Vr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:kE,properties:{xmlns:null,xmlnsXLink:null}}),CE=Vr({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Mt,ariaAutoComplete:null,ariaBusy:Mt,ariaChecked:Mt,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:ut,ariaCurrent:null,ariaDescribedBy:ut,ariaDetails:null,ariaDisabled:Mt,ariaDropEffect:ut,ariaErrorMessage:null,ariaExpanded:Mt,ariaFlowTo:ut,ariaGrabbed:Mt,ariaHasPopup:null,ariaHidden:Mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ut,ariaLevel:he,ariaLive:null,ariaModal:Mt,ariaMultiLine:Mt,ariaMultiSelectable:Mt,ariaOrientation:null,ariaOwns:ut,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:Mt,ariaReadOnly:Mt,ariaRelevant:null,ariaRequired:Mt,ariaRoleDescription:ut,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:Mt,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null}}),yF=Vr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:kE,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:or,acceptCharset:ut,accessKey:ut,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:ut,autoFocus:je,autoPlay:je,blocking:ut,capture:null,charSet:null,checked:je,cite:null,className:ut,cols:he,colSpan:null,content:null,contentEditable:Mt,controls:je,controlsList:ut,coords:he|or,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:EE,draggable:Mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:ut,height:he,hidden:je,high:he,href:null,hrefLang:null,htmlFor:ut,httpEquiv:ut,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:ut,itemRef:ut,itemScope:je,itemType:ut,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:he,pattern:null,ping:ut,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:ut,required:je,reversed:je,rows:he,rowSpan:he,sandbox:ut,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:Mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:Mt,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ut,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:Mt,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:he,security:null,unselectable:null}}),wF=Vr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:_E,properties:{about:Dn,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:ut,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:or,g2:or,glyphName:or,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:Dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ut,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dn,rev:Dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dn,requiredFeatures:Dn,requiredFonts:Dn,requiredFormats:Dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:Dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dn,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),DF=/^data[-\w.:]+$/i,Qv=/-[a-z]/g,EF=/[A-Z]/g;function TF(e,t){const n=uh(t);let s=t,i=zn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&DF.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Qv,_F);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Qv.test(o)){let r=o.replace(EF,SF);r.charAt(0)!=="-"&&(r="-"+r),t="data"+r}}i=ug}return new i(s,t)}function SF(e){return"-"+e.toLowerCase()}function _F(e){return e.charAt(1).toUpperCase()}const kF=DE([SE,TE,ME,CE,yF],"html"),PE=DE([SE,TE,ME,CE,wF],"svg"),Zv={}.hasOwnProperty;function AE(e,t){const n=t||{};function s(i,...o){let r=s.invalid;const a=s.handlers;if(i&&Zv.call(i,e)){const c=String(i[e]);r=Zv.call(a,c)?a[c]:s.unknown}if(r)return r.call(this,i,...o)}return s.handlers=n.handlers||{},s.invalid=n.invalid,s.unknown=n.unknown,s}const MF={},CF={}.hasOwnProperty,IE=AE("type",{handlers:{root:AF,element:VF,text:jF,comment:OF,doctype:RF}});function PF(e,t){const s=(t||MF).space;return IE(e,s==="svg"?PE:kF)}function AF(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=dg(e.children,n,t),Lr(e,n),n}function IF(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=dg(e.children,n,t),Lr(e,n),n}function RF(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Lr(e,t),t}function jF(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Lr(e,t),t}function OF(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Lr(e,t),t}function VF(e,t){const n=t;let s=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=PE);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&CF.call(e.properties,o)){const c=LF(s,o,e.properties[o]);c&&i.push(c)}}const r=s.space;W(r);const a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Zi[r],childNodes:[],parentNode:null};return a.childNodes=dg(e.children,a,s),Lr(e,a),e.tagName==="template"&&e.content&&(a.content=IF(e.content,s)),a}function LF(e,t,n){const s=TF(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&s.boolean)return;Array.isArray(n)&&(n=s.commaSeparated?OD(n):$D(n));const i={name:s.attribute,value:n===!0?"":String(n)};if(s.space&&s.space!=="html"&&s.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=s.attribute.slice(0,o)),i.namespace=Zi[s.space]}return i}function dg(e,t,n){let s=-1;const i=[];if(e)for(;++s<e.length;){const o=IE(e[s],n);o.parentNode=t,i.push(o)}return i}function Lr(e,t){const n=e.position;n&&n.start&&n.end&&(W(typeof n.start.offset=="number"),W(typeof n.end.offset=="number"),t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const FF=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],BF=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ht="";var R;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(R||(R={}));const fn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function RE(e){return e>=55296&&e<=57343}function HF(e){return e>=56320&&e<=57343}function UF(e,t){return(e-55296)*1024+9216+t}function jE(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function OE(e){return e>=64976&&e<=65007||BF.has(e)}var te;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(te||(te={}));const zF=65536;class $F{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=zF,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:s,col:i,offset:o}=this,r=i+n,a=o+n;return{code:t,startLine:s,endLine:s,startCol:r,endCol:r,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(HF(n))return this.pos++,this._addGap(),UF(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,R.EOF;return this._err(te.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let s=0;s<t.length;s++)if((this.html.charCodeAt(this.pos+s)|32)!==t.charCodeAt(s))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,R.EOF;const s=this.html.charCodeAt(n);return s===R.CARRIAGE_RETURN?R.LINE_FEED:s}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,R.EOF;let t=this.html.charCodeAt(this.pos);return t===R.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,R.LINE_FEED):t===R.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,RE(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===R.LINE_FEED||t===R.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){jE(t)?this._err(te.controlCharacterInInputStream):OE(t)&&this._err(te.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var He;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(He||(He={}));function VE(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const WF=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),GF=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function qF(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=GF.get(e))!==null&&t!==void 0?t:e}var Vt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Vt||(Vt={}));const KF=32;var hi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(hi||(hi={}));function mh(e){return e>=Vt.ZERO&&e<=Vt.NINE}function YF(e){return e>=Vt.UPPER_A&&e<=Vt.UPPER_F||e>=Vt.LOWER_A&&e<=Vt.LOWER_F}function XF(e){return e>=Vt.UPPER_A&&e<=Vt.UPPER_Z||e>=Vt.LOWER_A&&e<=Vt.LOWER_Z||mh(e)}function JF(e){return e===Vt.EQUALS||XF(e)}var Rt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Rt||(Rt={}));var Us;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Us||(Us={}));class QF{constructor(t,n,s){this.decodeTree=t,this.emitCodePoint=n,this.errors=s,this.state=Rt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Us.Strict}startEntity(t){this.decodeMode=t,this.state=Rt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Rt.EntityStart:return t.charCodeAt(n)===Vt.NUM?(this.state=Rt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Rt.NamedEntity,this.stateNamedEntity(t,n));case Rt.NumericStart:return this.stateNumericStart(t,n);case Rt.NumericDecimal:return this.stateNumericDecimal(t,n);case Rt.NumericHex:return this.stateNumericHex(t,n);case Rt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|KF)===Vt.LOWER_X?(this.state=Rt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Rt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,s,i){if(n!==s){const o=s-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const s=n;for(;n<t.length;){const i=t.charCodeAt(n);if(mh(i)||YF(i))n+=1;else return this.addToNumericResult(t,s,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,s,n,16),-1}stateNumericDecimal(t,n){const s=n;for(;n<t.length;){const i=t.charCodeAt(n);if(mh(i))n+=1;else return this.addToNumericResult(t,s,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,s,n,10),-1}emitNumericEntity(t,n){var s;if(this.consumed<=n)return(s=this.errors)===null||s===void 0||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Vt.SEMI)this.consumed+=1;else if(this.decodeMode===Us.Strict)return 0;return this.emitCodePoint(qF(this.result),this.consumed),this.errors&&(t!==Vt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:s}=this;let i=s[this.treeIndex],o=(i&hi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const r=t.charCodeAt(n);if(this.treeIndex=ZF(s,i,this.treeIndex+Math.max(1,o),r),this.treeIndex<0)return this.result===0||this.decodeMode===Us.Attribute&&(o===0||JF(r))?0:this.emitNotTerminatedNamedEntity();if(i=s[this.treeIndex],o=(i&hi.VALUE_LENGTH)>>14,o!==0){if(r===Vt.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Us.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:s}=this,i=(s[n]&hi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,s){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~hi.VALUE_LENGTH:i[t+1],s),n===3&&this.emitCodePoint(i[t+2],s),s}end(){var t;switch(this.state){case Rt.NamedEntity:return this.result!==0&&(this.decodeMode!==Us.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Rt.NumericDecimal:return this.emitNumericEntity(0,2);case Rt.NumericHex:return this.emitNumericEntity(0,3);case Rt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Rt.EntityStart:return 0}}}function ZF(e,t,n,s){const i=(t&hi.BRANCH_LENGTH)>>7,o=t&hi.JUMP_TABLE;if(i===0)return o!==0&&s===o?n:-1;if(o){const c=s-o;return c<0||c>=i?-1:e[n+c]-1}let r=n,a=r+i-1;for(;r<=a;){const c=r+a>>>1,u=e[c];if(u<s)r=c+1;else if(u>s)a=c-1;else return e[c+i]}return-1}var oe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(oe||(oe={}));var lo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(lo||(lo={}));var On;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(On||(On={}));var X;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(X||(X={}));var y;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(y||(y={}));const e7=new Map([[X.A,y.A],[X.ADDRESS,y.ADDRESS],[X.ANNOTATION_XML,y.ANNOTATION_XML],[X.APPLET,y.APPLET],[X.AREA,y.AREA],[X.ARTICLE,y.ARTICLE],[X.ASIDE,y.ASIDE],[X.B,y.B],[X.BASE,y.BASE],[X.BASEFONT,y.BASEFONT],[X.BGSOUND,y.BGSOUND],[X.BIG,y.BIG],[X.BLOCKQUOTE,y.BLOCKQUOTE],[X.BODY,y.BODY],[X.BR,y.BR],[X.BUTTON,y.BUTTON],[X.CAPTION,y.CAPTION],[X.CENTER,y.CENTER],[X.CODE,y.CODE],[X.COL,y.COL],[X.COLGROUP,y.COLGROUP],[X.DD,y.DD],[X.DESC,y.DESC],[X.DETAILS,y.DETAILS],[X.DIALOG,y.DIALOG],[X.DIR,y.DIR],[X.DIV,y.DIV],[X.DL,y.DL],[X.DT,y.DT],[X.EM,y.EM],[X.EMBED,y.EMBED],[X.FIELDSET,y.FIELDSET],[X.FIGCAPTION,y.FIGCAPTION],[X.FIGURE,y.FIGURE],[X.FONT,y.FONT],[X.FOOTER,y.FOOTER],[X.FOREIGN_OBJECT,y.FOREIGN_OBJECT],[X.FORM,y.FORM],[X.FRAME,y.FRAME],[X.FRAMESET,y.FRAMESET],[X.H1,y.H1],[X.H2,y.H2],[X.H3,y.H3],[X.H4,y.H4],[X.H5,y.H5],[X.H6,y.H6],[X.HEAD,y.HEAD],[X.HEADER,y.HEADER],[X.HGROUP,y.HGROUP],[X.HR,y.HR],[X.HTML,y.HTML],[X.I,y.I],[X.IMG,y.IMG],[X.IMAGE,y.IMAGE],[X.INPUT,y.INPUT],[X.IFRAME,y.IFRAME],[X.KEYGEN,y.KEYGEN],[X.LABEL,y.LABEL],[X.LI,y.LI],[X.LINK,y.LINK],[X.LISTING,y.LISTING],[X.MAIN,y.MAIN],[X.MALIGNMARK,y.MALIGNMARK],[X.MARQUEE,y.MARQUEE],[X.MATH,y.MATH],[X.MENU,y.MENU],[X.META,y.META],[X.MGLYPH,y.MGLYPH],[X.MI,y.MI],[X.MO,y.MO],[X.MN,y.MN],[X.MS,y.MS],[X.MTEXT,y.MTEXT],[X.NAV,y.NAV],[X.NOBR,y.NOBR],[X.NOFRAMES,y.NOFRAMES],[X.NOEMBED,y.NOEMBED],[X.NOSCRIPT,y.NOSCRIPT],[X.OBJECT,y.OBJECT],[X.OL,y.OL],[X.OPTGROUP,y.OPTGROUP],[X.OPTION,y.OPTION],[X.P,y.P],[X.PARAM,y.PARAM],[X.PLAINTEXT,y.PLAINTEXT],[X.PRE,y.PRE],[X.RB,y.RB],[X.RP,y.RP],[X.RT,y.RT],[X.RTC,y.RTC],[X.RUBY,y.RUBY],[X.S,y.S],[X.SCRIPT,y.SCRIPT],[X.SEARCH,y.SEARCH],[X.SECTION,y.SECTION],[X.SELECT,y.SELECT],[X.SOURCE,y.SOURCE],[X.SMALL,y.SMALL],[X.SPAN,y.SPAN],[X.STRIKE,y.STRIKE],[X.STRONG,y.STRONG],[X.STYLE,y.STYLE],[X.SUB,y.SUB],[X.SUMMARY,y.SUMMARY],[X.SUP,y.SUP],[X.TABLE,y.TABLE],[X.TBODY,y.TBODY],[X.TEMPLATE,y.TEMPLATE],[X.TEXTAREA,y.TEXTAREA],[X.TFOOT,y.TFOOT],[X.TD,y.TD],[X.TH,y.TH],[X.THEAD,y.THEAD],[X.TITLE,y.TITLE],[X.TR,y.TR],[X.TRACK,y.TRACK],[X.TT,y.TT],[X.U,y.U],[X.UL,y.UL],[X.SVG,y.SVG],[X.VAR,y.VAR],[X.WBR,y.WBR],[X.XMP,y.XMP]]);function Fr(e){var t;return(t=e7.get(e))!==null&&t!==void 0?t:y.UNKNOWN}const le=y,t7={[oe.HTML]:new Set([le.ADDRESS,le.APPLET,le.AREA,le.ARTICLE,le.ASIDE,le.BASE,le.BASEFONT,le.BGSOUND,le.BLOCKQUOTE,le.BODY,le.BR,le.BUTTON,le.CAPTION,le.CENTER,le.COL,le.COLGROUP,le.DD,le.DETAILS,le.DIR,le.DIV,le.DL,le.DT,le.EMBED,le.FIELDSET,le.FIGCAPTION,le.FIGURE,le.FOOTER,le.FORM,le.FRAME,le.FRAMESET,le.H1,le.H2,le.H3,le.H4,le.H5,le.H6,le.HEAD,le.HEADER,le.HGROUP,le.HR,le.HTML,le.IFRAME,le.IMG,le.INPUT,le.LI,le.LINK,le.LISTING,le.MAIN,le.MARQUEE,le.MENU,le.META,le.NAV,le.NOEMBED,le.NOFRAMES,le.NOSCRIPT,le.OBJECT,le.OL,le.P,le.PARAM,le.PLAINTEXT,le.PRE,le.SCRIPT,le.SECTION,le.SELECT,le.SOURCE,le.STYLE,le.SUMMARY,le.TABLE,le.TBODY,le.TD,le.TEMPLATE,le.TEXTAREA,le.TFOOT,le.TH,le.THEAD,le.TITLE,le.TR,le.TRACK,le.UL,le.WBR,le.XMP]),[oe.MATHML]:new Set([le.MI,le.MO,le.MN,le.MS,le.MTEXT,le.ANNOTATION_XML]),[oe.SVG]:new Set([le.TITLE,le.FOREIGN_OBJECT,le.DESC]),[oe.XLINK]:new Set,[oe.XML]:new Set,[oe.XMLNS]:new Set},fh=new Set([le.H1,le.H2,le.H3,le.H4,le.H5,le.H6]);X.STYLE,X.SCRIPT,X.XMP,X.IFRAME,X.NOEMBED,X.NOFRAMES,X.PLAINTEXT;var F;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(F||(F={}));const Tt={DATA:F.DATA,RCDATA:F.RCDATA,RAWTEXT:F.RAWTEXT,SCRIPT_DATA:F.SCRIPT_DATA,PLAINTEXT:F.PLAINTEXT,CDATA_SECTION:F.CDATA_SECTION};function n7(e){return e>=R.DIGIT_0&&e<=R.DIGIT_9}function ga(e){return e>=R.LATIN_CAPITAL_A&&e<=R.LATIN_CAPITAL_Z}function s7(e){return e>=R.LATIN_SMALL_A&&e<=R.LATIN_SMALL_Z}function ri(e){return s7(e)||ga(e)}function ex(e){return ri(e)||n7(e)}function lc(e){return e+32}function LE(e){return e===R.SPACE||e===R.LINE_FEED||e===R.TABULATION||e===R.FORM_FEED}function tx(e){return LE(e)||e===R.SOLIDUS||e===R.GREATER_THAN_SIGN}function i7(e){return e===R.NULL?te.nullCharacterReference:e>1114111?te.characterReferenceOutsideUnicodeRange:RE(e)?te.surrogateCharacterReference:OE(e)?te.noncharacterCharacterReference:jE(e)||e===R.CARRIAGE_RETURN?te.controlCharacterReference:null}class o7{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=F.DATA,this.returnState=F.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new $F(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new QF(WF,(s,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(s)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(te.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:s=>{this._err(te.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+s)},validateNumericCharacterReference:s=>{const i=i7(s);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var s,i;(i=(s=this.handler).onParseError)===null||i===void 0||i.call(s,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,s){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||s==null||s()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:He.START_TAG,tagName:"",tagID:y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:He.END_TAG,tagName:"",tagID:y.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:He.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:He.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const s=this.currentToken;if(VE(s,this.currentAttr.name)===null){if(s.attrs.push(this.currentAttr),s.location&&this.currentLocation){const i=(t=(n=s.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(te.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Fr(t.tagName),t.type===He.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(te.endTagWithAttributes),t.selfClosing&&this._err(te.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case He.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case He.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case He.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:He.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=LE(t)?He.WHITESPACE_CHARACTER:t===R.NULL?He.NULL_CHARACTER:He.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(He.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=F.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Us.Attribute:Us.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===F.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case F.DATA:{this._stateData(t);break}case F.RCDATA:{this._stateRcdata(t);break}case F.RAWTEXT:{this._stateRawtext(t);break}case F.SCRIPT_DATA:{this._stateScriptData(t);break}case F.PLAINTEXT:{this._statePlaintext(t);break}case F.TAG_OPEN:{this._stateTagOpen(t);break}case F.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case F.TAG_NAME:{this._stateTagName(t);break}case F.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case F.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case F.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case F.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case F.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case F.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case F.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case F.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case F.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case F.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case F.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case F.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case F.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case F.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case F.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case F.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case F.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case F.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case F.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case F.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case F.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case F.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case F.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case F.BOGUS_COMMENT:{this._stateBogusComment(t);break}case F.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case F.COMMENT_START:{this._stateCommentStart(t);break}case F.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case F.COMMENT:{this._stateComment(t);break}case F.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case F.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case F.COMMENT_END:{this._stateCommentEnd(t);break}case F.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case F.DOCTYPE:{this._stateDoctype(t);break}case F.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case F.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case F.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case F.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case F.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case F.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case F.CDATA_SECTION:{this._stateCdataSection(t);break}case F.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case F.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case F.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case F.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case R.LESS_THAN_SIGN:{this.state=F.TAG_OPEN;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitCodePoint(t);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case R.AMPERSAND:{this._startCharacterReference();break}case R.LESS_THAN_SIGN:{this.state=F.RCDATA_LESS_THAN_SIGN;break}case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case R.LESS_THAN_SIGN:{this.state=F.RAWTEXT_LESS_THAN_SIGN;break}case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_LESS_THAN_SIGN;break}case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ri(t))this._createStartTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case R.EXCLAMATION_MARK:{this.state=F.MARKUP_DECLARATION_OPEN;break}case R.SOLIDUS:{this.state=F.END_TAG_OPEN;break}case R.QUESTION_MARK:{this._err(te.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t);break}case R.EOF:{this._err(te.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(te.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=F.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ri(t))this._createEndTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case R.GREATER_THAN_SIGN:{this._err(te.missingEndTagName),this.state=F.DATA;break}case R.EOF:{this._err(te.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(te.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=F.BEFORE_ATTRIBUTE_NAME;break}case R.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.tagName+=ht;break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ga(t)?lc(t):t)}}_stateRcdataLessThanSign(t){t===R.SOLIDUS?this.state=F.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ri(t)?(this.state=F.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=F.BEFORE_ATTRIBUTE_NAME,!1;case R.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=F.SELF_CLOSING_START_TAG,!1;case R.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=F.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===R.SOLIDUS?this.state=F.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ri(t)?(this.state=F.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case R.SOLIDUS:{this.state=F.SCRIPT_DATA_END_TAG_OPEN;break}case R.EXCLAMATION_MARK:{this.state=F.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=F.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ri(t)?(this.state=F.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===R.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===R.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case R.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case R.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case R.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(ht);break}case R.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case R.HYPHEN_MINUS:{this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(ht);break}case R.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===R.SOLIDUS?this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ri(t)?(this._emitChars("<"),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ri(t)?(this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(fn.SCRIPT,!1)&&tx(this.preprocessor.peek(fn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<fn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case R.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.NULL:{this._err(te.unexpectedNullCharacter),this._emitChars(ht);break}case R.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case R.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ht);break}case R.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case R.HYPHEN_MINUS:{this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ht);break}case R.EOF:{this._err(te.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===R.SOLIDUS?(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(fn.SCRIPT,!1)&&tx(this.preprocessor.peek(fn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<fn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.SOLIDUS:case R.GREATER_THAN_SIGN:case R.EOF:{this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case R.EQUALS_SIGN:{this._err(te.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=F.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:case R.SOLIDUS:case R.GREATER_THAN_SIGN:case R.EOF:{this._leaveAttrName(),this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case R.EQUALS_SIGN:{this._leaveAttrName(),this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case R.QUOTATION_MARK:case R.APOSTROPHE:case R.LESS_THAN_SIGN:{this._err(te.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.name+=ht;break}default:this.currentAttr.name+=String.fromCodePoint(ga(t)?lc(t):t)}}_stateAfterAttributeName(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case R.EQUALS_SIGN:{this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{this.state=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this.state=F.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(te.missingAttributeValue),this.state=F.DATA,this.emitCurrentTagToken();break}default:this.state=F.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case R.QUOTATION_MARK:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.value+=ht;break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case R.APOSTROPHE:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.value+=ht;break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case R.NULL:{this._err(te.unexpectedNullCharacter),this.currentAttr.value+=ht;break}case R.QUOTATION_MARK:case R.APOSTROPHE:case R.LESS_THAN_SIGN:case R.EQUALS_SIGN:case R.GRAVE_ACCENT:{this._err(te.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case R.SOLIDUS:{this._leaveAttrValue(),this.state=F.SELF_CLOSING_START_TAG;break}case R.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this._err(te.missingWhitespaceBetweenAttributes),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case R.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=F.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(te.eofInTag),this._emitEOFToken();break}default:this._err(te.unexpectedSolidusInTag),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case R.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.data+=ht;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(fn.DASH_DASH,!0)?(this._createCommentToken(fn.DASH_DASH.length+1),this.state=F.COMMENT_START):this._consumeSequenceIfMatch(fn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(fn.DOCTYPE.length+1),this.state=F.DOCTYPE):this._consumeSequenceIfMatch(fn.CDATA_START,!0)?this.inForeignNode?this.state=F.CDATA_SECTION:(this._err(te.cdataInHtmlContent),this._createCommentToken(fn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=F.BOGUS_COMMENT):this._ensureHibernation()||(this._err(te.incorrectlyOpenedComment),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case R.HYPHEN_MINUS:{this.state=F.COMMENT_START_DASH;break}case R.GREATER_THAN_SIGN:{this._err(te.abruptClosingOfEmptyComment),this.state=F.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case R.GREATER_THAN_SIGN:{this._err(te.abruptClosingOfEmptyComment),this.state=F.DATA,this.emitCurrentComment(n);break}case R.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{this.state=F.COMMENT_END_DASH;break}case R.LESS_THAN_SIGN:{n.data+="<",this.state=F.COMMENT_LESS_THAN_SIGN;break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.data+=ht;break}case R.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case R.EXCLAMATION_MARK:{n.data+="!",this.state=F.COMMENT_LESS_THAN_SIGN_BANG;break}case R.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===R.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=F.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===R.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=F.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==R.GREATER_THAN_SIGN&&t!==R.EOF&&this._err(te.nestedComment),this.state=F.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case R.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case R.EXCLAMATION_MARK:{this.state=F.COMMENT_END_BANG;break}case R.HYPHEN_MINUS:{n.data+="-";break}case R.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{n.data+="--!",this.state=F.COMMENT_END_DASH;break}case R.GREATER_THAN_SIGN:{this._err(te.incorrectlyClosedComment),this.state=F.DATA,this.emitCurrentComment(n);break}case R.EOF:{this._err(te.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=F.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case R.EOF:{this._err(te.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingWhitespaceBeforeDoctypeName),this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ga(t))this._createDoctypeToken(String.fromCharCode(lc(t))),this.state=F.DOCTYPE_NAME;else switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.NULL:{this._err(te.unexpectedNullCharacter),this._createDoctypeToken(ht),this.state=F.DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this._err(te.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.EOF:{this._err(te.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=F.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=F.AFTER_DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.name+=ht;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ga(t)?lc(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(fn.PUBLIC,!1)?this.state=F.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(fn.SYSTEM,!1)?this.state=F.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(te.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.QUOTATION_MARK:{this._err(te.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(te.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(te.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(te.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case R.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.publicId+=ht;break}case R.GREATER_THAN_SIGN:{this._err(te.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case R.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.publicId+=ht;break}case R.GREATER_THAN_SIGN:{this._err(te.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case R.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.QUOTATION_MARK:{this._err(te.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(te.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.QUOTATION_MARK:{this._err(te.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(te.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(te.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(te.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case R.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.systemId+=ht;break}case R.GREATER_THAN_SIGN:{this._err(te.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case R.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.NULL:{this._err(te.unexpectedNullCharacter),n.systemId+=ht;break}case R.GREATER_THAN_SIGN:{this._err(te.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.EOF:{this._err(te.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(te.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case R.NULL:{this._err(te.unexpectedNullCharacter);break}case R.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case R.RIGHT_SQUARE_BRACKET:{this.state=F.CDATA_SECTION_BRACKET;break}case R.EOF:{this._err(te.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===R.RIGHT_SQUARE_BRACKET?this.state=F.CDATA_SECTION_END:(this._emitChars("]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case R.GREATER_THAN_SIGN:{this.state=F.DATA;break}case R.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(R.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&ex(this.preprocessor.peek(1))?F.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){ex(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===R.SEMICOLON&&this._err(te.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const FE=new Set([y.DD,y.DT,y.LI,y.OPTGROUP,y.OPTION,y.P,y.RB,y.RP,y.RT,y.RTC]),nx=new Set([...FE,y.CAPTION,y.COLGROUP,y.TBODY,y.TD,y.TFOOT,y.TH,y.THEAD,y.TR]),pu=new Set([y.APPLET,y.CAPTION,y.HTML,y.MARQUEE,y.OBJECT,y.TABLE,y.TD,y.TEMPLATE,y.TH]),r7=new Set([...pu,y.OL,y.UL]),a7=new Set([...pu,y.BUTTON]),sx=new Set([y.ANNOTATION_XML,y.MI,y.MN,y.MO,y.MS,y.MTEXT]),ix=new Set([y.DESC,y.FOREIGN_OBJECT,y.TITLE]),l7=new Set([y.TR,y.TEMPLATE,y.HTML]),c7=new Set([y.TBODY,y.TFOOT,y.THEAD,y.TEMPLATE,y.HTML]),u7=new Set([y.TABLE,y.TEMPLATE,y.HTML]),d7=new Set([y.TD,y.TH]);class m7{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,s){this.treeAdapter=n,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=y.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===y.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===oe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const s=this._indexOf(t);this.items[s]=n,s===this.stackTop&&(this.current=n)}insertAfter(t,n,s){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,s),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==oe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const s=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(s,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(fh,oe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(d7,oe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===n)return s;return-1}clearBackTo(t,n){const s=this._indexOfTagNames(t,n);this.shortenToLength(s+1)}clearBackToTableContext(){this.clearBackTo(u7,oe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(c7,oe.HTML)}clearBackToTableRowContext(){this.clearBackTo(l7,oe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===y.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===y.HTML}hasInDynamicScope(t,n){for(let s=this.stackTop;s>=0;s--){const i=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case oe.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case oe.SVG:{if(ix.has(i))return!1;break}case oe.MATHML:{if(sx.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,pu)}hasInListItemScope(t){return this.hasInDynamicScope(t,r7)}hasInButtonScope(t){return this.hasInDynamicScope(t,a7)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case oe.HTML:{if(fh.has(n))return!0;if(pu.has(n))return!1;break}case oe.SVG:{if(ix.has(n))return!1;break}case oe.MATHML:{if(sx.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===oe.HTML)switch(this.tagIDs[n]){case t:return!0;case y.TABLE:case y.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===oe.HTML)switch(this.tagIDs[t]){case y.TBODY:case y.THEAD:case y.TFOOT:return!0;case y.TABLE:case y.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===oe.HTML)switch(this.tagIDs[n]){case t:return!0;case y.OPTION:case y.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&FE.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&nx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&nx.has(this.currentTagId);)this.pop()}}const ym=3;var bs;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(bs||(bs={}));const ox={type:bs.Marker};class f7{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const s=[],i=n.length,o=this.treeAdapter.getTagName(t),r=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const c=this.entries[a];if(c.type===bs.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===r){const d=this.treeAdapter.getAttrList(u);d.length===i&&s.push({idx:a,attrs:d})}}return s}_ensureNoahArkCondition(t){if(this.entries.length<ym)return;const n=this.treeAdapter.getAttrList(t),s=this._getNoahArkConditionCandidates(t,n);if(s.length<ym)return;const i=new Map(n.map(r=>[r.name,r.value]));let o=0;for(let r=0;r<s.length;r++){const a=s[r];a.attrs.every(c=>i.get(c.name)===c.value)&&(o+=1,o>=ym&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(ox)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:bs.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const s=this.entries.indexOf(this.bookmark);this.entries.splice(s,0,{type:bs.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(ox);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(s=>s.type===bs.Marker||this.treeAdapter.getTagName(s.element)===t);return n&&n.type===bs.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===bs.Element&&n.element===t)}}const ai={createDocument(){return{nodeName:"#document",mode:On.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const s=e.childNodes.indexOf(n);e.childNodes.splice(s,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,s){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=s;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:s,parentNode:null};ai.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ai.isTextNode(n)){n.value+=t;return}}ai.appendChild(e,ai.createTextNode(t))},insertTextBefore(e,t,n){const s=e.childNodes[e.childNodes.indexOf(n)-1];s&&ai.isTextNode(s)?s.value+=t:ai.insertBefore(e,ai.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(s=>s.name));for(let s=0;s<t.length;s++)n.has(t[s].name)||e.attrs.push(t[s])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},BE="html",h7="about:legacy-compat",p7="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",HE=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],g7=[...HE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],b7=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),UE=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],v7=[...UE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function rx(e,t){return t.some(n=>e.startsWith(n))}function x7(e){return e.name===BE&&e.publicId===null&&(e.systemId===null||e.systemId===h7)}function N7(e){if(e.name!==BE)return On.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===p7)return On.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),b7.has(n))return On.QUIRKS;let s=t===null?g7:HE;if(rx(n,s))return On.QUIRKS;if(s=t===null?UE:v7,rx(n,s))return On.LIMITED_QUIRKS}return On.NO_QUIRKS}const ax={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},y7="definitionurl",w7="definitionURL",D7=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),E7=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:oe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:oe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:oe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:oe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:oe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:oe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:oe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:oe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:oe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:oe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:oe.XMLNS}]]),T7=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),S7=new Set([y.B,y.BIG,y.BLOCKQUOTE,y.BODY,y.BR,y.CENTER,y.CODE,y.DD,y.DIV,y.DL,y.DT,y.EM,y.EMBED,y.H1,y.H2,y.H3,y.H4,y.H5,y.H6,y.HEAD,y.HR,y.I,y.IMG,y.LI,y.LISTING,y.MENU,y.META,y.NOBR,y.OL,y.P,y.PRE,y.RUBY,y.S,y.SMALL,y.SPAN,y.STRONG,y.STRIKE,y.SUB,y.SUP,y.TABLE,y.TT,y.U,y.UL,y.VAR]);function _7(e){const t=e.tagID;return t===y.FONT&&e.attrs.some(({name:s})=>s===lo.COLOR||s===lo.SIZE||s===lo.FACE)||S7.has(t)}function zE(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===y7){e.attrs[t].name=w7;break}}function $E(e){for(let t=0;t<e.attrs.length;t++){const n=D7.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function mg(e){for(let t=0;t<e.attrs.length;t++){const n=E7.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function k7(e){const t=T7.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Fr(e.tagName))}function M7(e,t){return t===oe.MATHML&&(e===y.MI||e===y.MO||e===y.MN||e===y.MS||e===y.MTEXT)}function C7(e,t,n){if(t===oe.MATHML&&e===y.ANNOTATION_XML){for(let s=0;s<n.length;s++)if(n[s].name===lo.ENCODING){const i=n[s].value.toLowerCase();return i===ax.TEXT_HTML||i===ax.APPLICATION_XML}}return t===oe.SVG&&(e===y.FOREIGN_OBJECT||e===y.DESC||e===y.TITLE)}function P7(e,t,n,s){return(!s||s===oe.HTML)&&C7(e,t,n)||(!s||s===oe.MATHML)&&M7(e,t)}const A7="hidden",I7=8,R7=3;var H;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(H||(H={}));const j7={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},WE=new Set([y.TABLE,y.TBODY,y.TFOOT,y.THEAD,y.TR]),lx={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ai,onParseError:null};class cx{constructor(t,n,s=null,i=null){this.fragmentContext=s,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=H.INITIAL,this.originalInsertionMode=H.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...lx,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new o7(this.options,this),this.activeFormattingElements=new f7(this.treeAdapter),this.fragmentContextID=s?Fr(this.treeAdapter.getTagName(s)):y.UNKNOWN,this._setContextModes(s??this.document,this.fragmentContextID),this.openElements=new m7(this.document,this.treeAdapter,this)}static parse(t,n){const s=new this(n);return s.tokenizer.write(t,!0),s.document}static getFragmentParser(t,n){const s={...lx,...n};t??(t=s.treeAdapter.createElement(X.TEMPLATE,oe.HTML,[]));const i=s.treeAdapter.createElement("documentmock",oe.HTML,[]),o=new this(s,i,t);return o.fragmentContextID===y.TEMPLATE&&o.tmplInsertionModeStack.unshift(H.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,s){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:j7,r={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:s?o.startLine:o.endLine,endCol:s?o.startCol:o.endCol,endOffset:s?o.startOffset:o.endOffset};this.onParseError(r)}onItemPush(t,n,s){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),s&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var s,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(s=this.treeAdapter).onItemPop)===null||i===void 0||i.call(s,t,this.openElements.current),n){let o,r;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,r=this.fragmentContextID):{current:o,currentTagId:r}=this.openElements,this._setContextModes(o,r)}}_setContextModes(t,n){const s=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===oe.HTML;this.currentNotInHTML=!s,this.tokenizer.inForeignNode=!s&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,oe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=H.TEXT}switchToPlaintextParsing(){this.insertionMode=H.TEXT,this.originalInsertionMode=H.IN_BODY,this.tokenizer.state=Tt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===X.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==oe.HTML))switch(this.fragmentContextID){case y.TITLE:case y.TEXTAREA:{this.tokenizer.state=Tt.RCDATA;break}case y.STYLE:case y.XMP:case y.IFRAME:case y.NOEMBED:case y.NOFRAMES:case y.NOSCRIPT:{this.tokenizer.state=Tt.RAWTEXT;break}case y.SCRIPT:{this.tokenizer.state=Tt.SCRIPT_DATA;break}case y.PLAINTEXT:{this.tokenizer.state=Tt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",s=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,s,i),t.location){const r=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));r&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const s=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,s)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const s=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(s??this.document,t)}}_appendElement(t,n){const s=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(s,t.location)}_insertElement(t,n){const s=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(s,t.location),this.openElements.push(s,t.tagID)}_insertFakeElement(t,n){const s=this.treeAdapter.createElement(t,oe.HTML,[]);this._attachElementToTree(s,null),this.openElements.push(s,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,oe.HTML,t.attrs),s=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,s),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(X.HTML,oe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,y.HTML)}_appendCommentNode(t,n){const s=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,s),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_insertCharacters(t){let n,s;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:s}=this._findFosterParentingLocation(),s?this.treeAdapter.insertTextBefore(n,t.chars,s):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=s?i.lastIndexOf(s):i.length,r=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(r)){const{endLine:c,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(r,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_adoptNodes(t,n){for(let s=this.treeAdapter.getFirstChild(t);s;s=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(s),this.treeAdapter.appendChild(n,s)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const s=n.location,i=this.treeAdapter.getTagName(t),o=n.type===He.END_TAG&&i===n.tagName?{endTag:{...s},endLine:s.endLine,endCol:s.endCol,endOffset:s.endOffset}:{endLine:s.startLine,endCol:s.startCol,endOffset:s.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,s;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,s=this.fragmentContextID):{current:n,currentTagId:s}=this.openElements,t.tagID===y.SVG&&this.treeAdapter.getTagName(n)===X.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===oe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===y.MGLYPH||t.tagID===y.MALIGNMARK)&&s!==void 0&&!this._isIntegrationPoint(s,n,oe.HTML)}_processToken(t){switch(t.type){case He.CHARACTER:{this.onCharacter(t);break}case He.NULL_CHARACTER:{this.onNullCharacter(t);break}case He.COMMENT:{this.onComment(t);break}case He.DOCTYPE:{this.onDoctype(t);break}case He.START_TAG:{this._processStartTag(t);break}case He.END_TAG:{this.onEndTag(t);break}case He.EOF:{this.onEof(t);break}case He.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,s){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return P7(t,i,o,s)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===bs.Marker||this.openElements.contains(i.element)),s=n===-1?t-1:n-1;for(let i=s;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=H.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(y.P),this.openElements.popUntilTagNamePopped(y.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case y.TR:{this.insertionMode=H.IN_ROW;return}case y.TBODY:case y.THEAD:case y.TFOOT:{this.insertionMode=H.IN_TABLE_BODY;return}case y.CAPTION:{this.insertionMode=H.IN_CAPTION;return}case y.COLGROUP:{this.insertionMode=H.IN_COLUMN_GROUP;return}case y.TABLE:{this.insertionMode=H.IN_TABLE;return}case y.BODY:{this.insertionMode=H.IN_BODY;return}case y.FRAMESET:{this.insertionMode=H.IN_FRAMESET;return}case y.SELECT:{this._resetInsertionModeForSelect(t);return}case y.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case y.HTML:{this.insertionMode=this.headElement?H.AFTER_HEAD:H.BEFORE_HEAD;return}case y.TD:case y.TH:{if(t>0){this.insertionMode=H.IN_CELL;return}break}case y.HEAD:{if(t>0){this.insertionMode=H.IN_HEAD;return}break}}this.insertionMode=H.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const s=this.openElements.tagIDs[n];if(s===y.TEMPLATE)break;if(s===y.TABLE){this.insertionMode=H.IN_SELECT_IN_TABLE;return}}this.insertionMode=H.IN_SELECT}_isElementCausesFosterParenting(t){return WE.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case y.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===oe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case y.TABLE:{const s=this.treeAdapter.getParentNode(n);return s?{parent:s,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const s=this.treeAdapter.getNamespaceURI(t);return t7[s].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){d8(this,t);return}switch(this.insertionMode){case H.INITIAL:{oa(this,t);break}case H.BEFORE_HTML:{ja(this,t);break}case H.BEFORE_HEAD:{Oa(this,t);break}case H.IN_HEAD:{Va(this,t);break}case H.IN_HEAD_NO_SCRIPT:{La(this,t);break}case H.AFTER_HEAD:{Fa(this,t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:{qE(this,t);break}case H.TEXT:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{wm(this,t);break}case H.IN_TABLE_TEXT:{ZE(this,t);break}case H.IN_COLUMN_GROUP:{gu(this,t);break}case H.AFTER_BODY:{bu(this,t);break}case H.AFTER_AFTER_BODY:{Gc(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){u8(this,t);return}switch(this.insertionMode){case H.INITIAL:{oa(this,t);break}case H.BEFORE_HTML:{ja(this,t);break}case H.BEFORE_HEAD:{Oa(this,t);break}case H.IN_HEAD:{Va(this,t);break}case H.IN_HEAD_NO_SCRIPT:{La(this,t);break}case H.AFTER_HEAD:{Fa(this,t);break}case H.TEXT:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{wm(this,t);break}case H.IN_COLUMN_GROUP:{gu(this,t);break}case H.AFTER_BODY:{bu(this,t);break}case H.AFTER_AFTER_BODY:{Gc(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){hh(this,t);return}switch(this.insertionMode){case H.INITIAL:case H.BEFORE_HTML:case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_TEMPLATE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{hh(this,t);break}case H.IN_TABLE_TEXT:{ra(this,t);break}case H.AFTER_BODY:{U7(this,t);break}case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{z7(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case H.INITIAL:{$7(this,t);break}case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:{this._err(t,te.misplacedDoctype);break}case H.IN_TABLE_TEXT:{ra(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,te.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?m8(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{oa(this,t);break}case H.BEFORE_HTML:{W7(this,t);break}case H.BEFORE_HEAD:{q7(this,t);break}case H.IN_HEAD:{rs(this,t);break}case H.IN_HEAD_NO_SCRIPT:{X7(this,t);break}case H.AFTER_HEAD:{Q7(this,t);break}case H.IN_BODY:{Zt(this,t);break}case H.IN_TABLE:{br(this,t);break}case H.IN_TABLE_TEXT:{ra(this,t);break}case H.IN_CAPTION:{K9(this,t);break}case H.IN_COLUMN_GROUP:{pg(this,t);break}case H.IN_TABLE_BODY:{cd(this,t);break}case H.IN_ROW:{ud(this,t);break}case H.IN_CELL:{J9(this,t);break}case H.IN_SELECT:{nT(this,t);break}case H.IN_SELECT_IN_TABLE:{Z9(this,t);break}case H.IN_TEMPLATE:{t8(this,t);break}case H.AFTER_BODY:{s8(this,t);break}case H.IN_FRAMESET:{i8(this,t);break}case H.AFTER_FRAMESET:{r8(this,t);break}case H.AFTER_AFTER_BODY:{l8(this,t);break}case H.AFTER_AFTER_FRAMESET:{c8(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?f8(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{oa(this,t);break}case H.BEFORE_HTML:{G7(this,t);break}case H.BEFORE_HEAD:{K7(this,t);break}case H.IN_HEAD:{Y7(this,t);break}case H.IN_HEAD_NO_SCRIPT:{J7(this,t);break}case H.AFTER_HEAD:{Z7(this,t);break}case H.IN_BODY:{ld(this,t);break}case H.TEXT:{L9(this,t);break}case H.IN_TABLE:{ul(this,t);break}case H.IN_TABLE_TEXT:{ra(this,t);break}case H.IN_CAPTION:{Y9(this,t);break}case H.IN_COLUMN_GROUP:{X9(this,t);break}case H.IN_TABLE_BODY:{ph(this,t);break}case H.IN_ROW:{tT(this,t);break}case H.IN_CELL:{Q9(this,t);break}case H.IN_SELECT:{sT(this,t);break}case H.IN_SELECT_IN_TABLE:{e8(this,t);break}case H.IN_TEMPLATE:{n8(this,t);break}case H.AFTER_BODY:{oT(this,t);break}case H.IN_FRAMESET:{o8(this,t);break}case H.AFTER_FRAMESET:{a8(this,t);break}case H.AFTER_AFTER_BODY:{Gc(this,t);break}}}onEof(t){switch(this.insertionMode){case H.INITIAL:{oa(this,t);break}case H.BEFORE_HTML:{ja(this,t);break}case H.BEFORE_HEAD:{Oa(this,t);break}case H.IN_HEAD:{Va(this,t);break}case H.IN_HEAD_NO_SCRIPT:{La(this,t);break}case H.AFTER_HEAD:{Fa(this,t);break}case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{JE(this,t);break}case H.TEXT:{F9(this,t);break}case H.IN_TABLE_TEXT:{ra(this,t);break}case H.IN_TEMPLATE:{iT(this,t);break}case H.AFTER_BODY:case H.IN_FRAMESET:case H.AFTER_FRAMESET:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{hg(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===R.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.TEXT:case H.IN_COLUMN_GROUP:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{this._insertCharacters(t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:case H.AFTER_BODY:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{GE(this,t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{wm(this,t);break}case H.IN_TABLE_TEXT:{QE(this,t);break}}}}function O7(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):XE(e,t),n}function V7(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){const i=e.openElements.items[s];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[s])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(s,0)),e.activeFormattingElements.removeEntry(t)),n}function L7(e,t,n){let s=t,i=e.openElements.getCommonAncestor(t);for(let o=0,r=i;r!==n;o++,r=i){i=e.openElements.getCommonAncestor(r);const a=e.activeFormattingElements.getElementEntry(r),c=a&&o>=R7;!a||c?(c&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(r)):(r=F7(e,a),s===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(r,s),s=r)}return s}function F7(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s}function B7(e,t,n){const s=e.treeAdapter.getTagName(t),i=Fr(s);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===y.TEMPLATE&&o===oe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function H7(e,t,n){const s=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,s,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function fg(e,t){for(let n=0;n<I7;n++){const s=O7(e,t);if(!s)break;const i=V7(e,s);if(!i)break;e.activeFormattingElements.bookmark=s;const o=L7(e,i,s.element),r=e.openElements.getCommonAncestor(s.element);e.treeAdapter.detachNode(o),r&&B7(e,r,o),H7(e,i,s)}}function hh(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function U7(e,t){e._appendCommentNode(t,e.openElements.items[0])}function z7(e,t){e._appendCommentNode(t,e.document)}function hg(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const s=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(s);if(i&&!i.endTag&&(e._setEndLocation(s,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(o);r&&!r.endTag&&e._setEndLocation(o,t)}}}}function $7(e,t){e._setDocumentType(t);const n=t.forceQuirks?On.QUIRKS:N7(t);x7(t)||e._err(t,te.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=H.BEFORE_HTML}function oa(e,t){e._err(t,te.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,On.QUIRKS),e.insertionMode=H.BEFORE_HTML,e._processToken(t)}function W7(e,t){t.tagID===y.HTML?(e._insertElement(t,oe.HTML),e.insertionMode=H.BEFORE_HEAD):ja(e,t)}function G7(e,t){const n=t.tagID;(n===y.HTML||n===y.HEAD||n===y.BODY||n===y.BR)&&ja(e,t)}function ja(e,t){e._insertFakeRootElement(),e.insertionMode=H.BEFORE_HEAD,e._processToken(t)}function q7(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.HEAD:{e._insertElement(t,oe.HTML),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD;break}default:Oa(e,t)}}function K7(e,t){const n=t.tagID;n===y.HEAD||n===y.BODY||n===y.HTML||n===y.BR?Oa(e,t):e._err(t,te.endTagWithoutMatchingOpenElement)}function Oa(e,t){e._insertFakeElement(X.HEAD,y.HEAD),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD,e._processToken(t)}function rs(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:{e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case y.TITLE:{e._switchToTextParsing(t,Tt.RCDATA);break}case y.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Tt.RAWTEXT):(e._insertElement(t,oe.HTML),e.insertionMode=H.IN_HEAD_NO_SCRIPT);break}case y.NOFRAMES:case y.STYLE:{e._switchToTextParsing(t,Tt.RAWTEXT);break}case y.SCRIPT:{e._switchToTextParsing(t,Tt.SCRIPT_DATA);break}case y.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=H.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(H.IN_TEMPLATE);break}case y.HEAD:{e._err(t,te.misplacedStartTagForHeadElement);break}default:Va(e,t)}}function Y7(e,t){switch(t.tagID){case y.HEAD:{e.openElements.pop(),e.insertionMode=H.AFTER_HEAD;break}case y.BODY:case y.BR:case y.HTML:{Va(e,t);break}case y.TEMPLATE:{Do(e,t);break}default:e._err(t,te.endTagWithoutMatchingOpenElement)}}function Do(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==y.TEMPLATE&&e._err(t,te.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(y.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,te.endTagWithoutMatchingOpenElement)}function Va(e,t){e.openElements.pop(),e.insertionMode=H.AFTER_HEAD,e._processToken(t)}function X7(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.BASEFONT:case y.BGSOUND:case y.HEAD:case y.LINK:case y.META:case y.NOFRAMES:case y.STYLE:{rs(e,t);break}case y.NOSCRIPT:{e._err(t,te.nestedNoscriptInHead);break}default:La(e,t)}}function J7(e,t){switch(t.tagID){case y.NOSCRIPT:{e.openElements.pop(),e.insertionMode=H.IN_HEAD;break}case y.BR:{La(e,t);break}default:e._err(t,te.endTagWithoutMatchingOpenElement)}}function La(e,t){const n=t.type===He.EOF?te.openElementsLeftAfterEof:te.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=H.IN_HEAD,e._processToken(t)}function Q7(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.BODY:{e._insertElement(t,oe.HTML),e.framesetOk=!1,e.insertionMode=H.IN_BODY;break}case y.FRAMESET:{e._insertElement(t,oe.HTML),e.insertionMode=H.IN_FRAMESET;break}case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:case y.NOFRAMES:case y.SCRIPT:case y.STYLE:case y.TEMPLATE:case y.TITLE:{e._err(t,te.abandonedHeadElementChild),e.openElements.push(e.headElement,y.HEAD),rs(e,t),e.openElements.remove(e.headElement);break}case y.HEAD:{e._err(t,te.misplacedStartTagForHeadElement);break}default:Fa(e,t)}}function Z7(e,t){switch(t.tagID){case y.BODY:case y.HTML:case y.BR:{Fa(e,t);break}case y.TEMPLATE:{Do(e,t);break}default:e._err(t,te.endTagWithoutMatchingOpenElement)}}function Fa(e,t){e._insertFakeElement(X.BODY,y.BODY),e.insertionMode=H.IN_BODY,ad(e,t)}function ad(e,t){switch(t.type){case He.CHARACTER:{qE(e,t);break}case He.WHITESPACE_CHARACTER:{GE(e,t);break}case He.COMMENT:{hh(e,t);break}case He.START_TAG:{Zt(e,t);break}case He.END_TAG:{ld(e,t);break}case He.EOF:{JE(e,t);break}}}function GE(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function qE(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function e9(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function t9(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function n9(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,oe.HTML),e.insertionMode=H.IN_FRAMESET)}function s9(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,oe.HTML)}function i9(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&fh.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,oe.HTML)}function o9(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,oe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function r9(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,oe.HTML),n||(e.formElement=e.openElements.current))}function a9(e,t){e.framesetOk=!1;const n=t.tagID;for(let s=e.openElements.stackTop;s>=0;s--){const i=e.openElements.tagIDs[s];if(n===y.LI&&i===y.LI||(n===y.DD||n===y.DT)&&(i===y.DD||i===y.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==y.ADDRESS&&i!==y.DIV&&i!==y.P&&e._isSpecialElement(e.openElements.items[s],i))break}e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,oe.HTML)}function l9(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,oe.HTML),e.tokenizer.state=Tt.PLAINTEXT}function c9(e,t){e.openElements.hasInScope(y.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(y.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.framesetOk=!1}function u9(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(X.A);n&&(fg(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function d9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function m9(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(y.NOBR)&&(fg(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,oe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function f9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function h9(e,t){e.treeAdapter.getDocumentMode(e.document)!==On.QUIRKS&&e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._insertElement(t,oe.HTML),e.framesetOk=!1,e.insertionMode=H.IN_TABLE}function KE(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,oe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function YE(e){const t=VE(e,lo.TYPE);return t!=null&&t.toLowerCase()===A7}function p9(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,oe.HTML),YE(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function g9(e,t){e._appendElement(t,oe.HTML),t.ackSelfClosing=!0}function b9(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._appendElement(t,oe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function v9(e,t){t.tagName=X.IMG,t.tagID=y.IMG,KE(e,t)}function x9(e,t){e._insertElement(t,oe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Tt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=H.TEXT}function N9(e,t){e.openElements.hasInButtonScope(y.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Tt.RAWTEXT)}function y9(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Tt.RAWTEXT)}function ux(e,t){e._switchToTextParsing(t,Tt.RAWTEXT)}function w9(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===H.IN_TABLE||e.insertionMode===H.IN_CAPTION||e.insertionMode===H.IN_TABLE_BODY||e.insertionMode===H.IN_ROW||e.insertionMode===H.IN_CELL?H.IN_SELECT_IN_TABLE:H.IN_SELECT}function D9(e,t){e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML)}function E9(e,t){e.openElements.hasInScope(y.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,oe.HTML)}function T9(e,t){e.openElements.hasInScope(y.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(y.RTC),e._insertElement(t,oe.HTML)}function S9(e,t){e._reconstructActiveFormattingElements(),zE(t),mg(t),t.selfClosing?e._appendElement(t,oe.MATHML):e._insertElement(t,oe.MATHML),t.ackSelfClosing=!0}function _9(e,t){e._reconstructActiveFormattingElements(),$E(t),mg(t),t.selfClosing?e._appendElement(t,oe.SVG):e._insertElement(t,oe.SVG),t.ackSelfClosing=!0}function dx(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,oe.HTML)}function Zt(e,t){switch(t.tagID){case y.I:case y.S:case y.B:case y.U:case y.EM:case y.TT:case y.BIG:case y.CODE:case y.FONT:case y.SMALL:case y.STRIKE:case y.STRONG:{d9(e,t);break}case y.A:{u9(e,t);break}case y.H1:case y.H2:case y.H3:case y.H4:case y.H5:case y.H6:{i9(e,t);break}case y.P:case y.DL:case y.OL:case y.UL:case y.DIV:case y.DIR:case y.NAV:case y.MAIN:case y.MENU:case y.ASIDE:case y.CENTER:case y.FIGURE:case y.FOOTER:case y.HEADER:case y.HGROUP:case y.DIALOG:case y.DETAILS:case y.ADDRESS:case y.ARTICLE:case y.SEARCH:case y.SECTION:case y.SUMMARY:case y.FIELDSET:case y.BLOCKQUOTE:case y.FIGCAPTION:{s9(e,t);break}case y.LI:case y.DD:case y.DT:{a9(e,t);break}case y.BR:case y.IMG:case y.WBR:case y.AREA:case y.EMBED:case y.KEYGEN:{KE(e,t);break}case y.HR:{b9(e,t);break}case y.RB:case y.RTC:{E9(e,t);break}case y.RT:case y.RP:{T9(e,t);break}case y.PRE:case y.LISTING:{o9(e,t);break}case y.XMP:{N9(e,t);break}case y.SVG:{_9(e,t);break}case y.HTML:{e9(e,t);break}case y.BASE:case y.LINK:case y.META:case y.STYLE:case y.TITLE:case y.SCRIPT:case y.BGSOUND:case y.BASEFONT:case y.TEMPLATE:{rs(e,t);break}case y.BODY:{t9(e,t);break}case y.FORM:{r9(e,t);break}case y.NOBR:{m9(e,t);break}case y.MATH:{S9(e,t);break}case y.TABLE:{h9(e,t);break}case y.INPUT:{p9(e,t);break}case y.PARAM:case y.TRACK:case y.SOURCE:{g9(e,t);break}case y.IMAGE:{v9(e,t);break}case y.BUTTON:{c9(e,t);break}case y.APPLET:case y.OBJECT:case y.MARQUEE:{f9(e,t);break}case y.IFRAME:{y9(e,t);break}case y.SELECT:{w9(e,t);break}case y.OPTION:case y.OPTGROUP:{D9(e,t);break}case y.NOEMBED:case y.NOFRAMES:{ux(e,t);break}case y.FRAMESET:{n9(e,t);break}case y.TEXTAREA:{x9(e,t);break}case y.NOSCRIPT:{e.options.scriptingEnabled?ux(e,t):dx(e,t);break}case y.PLAINTEXT:{l9(e,t);break}case y.COL:case y.TH:case y.TD:case y.TR:case y.HEAD:case y.FRAME:case y.TBODY:case y.TFOOT:case y.THEAD:case y.CAPTION:case y.COLGROUP:break;default:dx(e,t)}}function k9(e,t){if(e.openElements.hasInScope(y.BODY)&&(e.insertionMode=H.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function M9(e,t){e.openElements.hasInScope(y.BODY)&&(e.insertionMode=H.AFTER_BODY,oT(e,t))}function C9(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function P9(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(y.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(y.FORM):n&&e.openElements.remove(n))}function A9(e){e.openElements.hasInButtonScope(y.P)||e._insertFakeElement(X.P,y.P),e._closePElement()}function I9(e){e.openElements.hasInListItemScope(y.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(y.LI),e.openElements.popUntilTagNamePopped(y.LI))}function R9(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function j9(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function O9(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function V9(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(X.BR,y.BR),e.openElements.pop(),e.framesetOk=!1}function XE(e,t){const n=t.tagName,s=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],r=e.openElements.tagIDs[i];if(s===r&&(s!==y.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,r))break}}function ld(e,t){switch(t.tagID){case y.A:case y.B:case y.I:case y.S:case y.U:case y.EM:case y.TT:case y.BIG:case y.CODE:case y.FONT:case y.NOBR:case y.SMALL:case y.STRIKE:case y.STRONG:{fg(e,t);break}case y.P:{A9(e);break}case y.DL:case y.UL:case y.OL:case y.DIR:case y.DIV:case y.NAV:case y.PRE:case y.MAIN:case y.MENU:case y.ASIDE:case y.BUTTON:case y.CENTER:case y.FIGURE:case y.FOOTER:case y.HEADER:case y.HGROUP:case y.DIALOG:case y.ADDRESS:case y.ARTICLE:case y.DETAILS:case y.SEARCH:case y.SECTION:case y.SUMMARY:case y.LISTING:case y.FIELDSET:case y.BLOCKQUOTE:case y.FIGCAPTION:{C9(e,t);break}case y.LI:{I9(e);break}case y.DD:case y.DT:{R9(e,t);break}case y.H1:case y.H2:case y.H3:case y.H4:case y.H5:case y.H6:{j9(e);break}case y.BR:{V9(e);break}case y.BODY:{k9(e,t);break}case y.HTML:{M9(e,t);break}case y.FORM:{P9(e);break}case y.APPLET:case y.OBJECT:case y.MARQUEE:{O9(e,t);break}case y.TEMPLATE:{Do(e,t);break}default:XE(e,t)}}function JE(e,t){e.tmplInsertionModeStack.length>0?iT(e,t):hg(e,t)}function L9(e,t){var n;t.tagID===y.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function F9(e,t){e._err(t,te.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function wm(e,t){if(e.openElements.currentTagId!==void 0&&WE.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=H.IN_TABLE_TEXT,t.type){case He.CHARACTER:{ZE(e,t);break}case He.WHITESPACE_CHARACTER:{QE(e,t);break}}else Pl(e,t)}function B9(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,oe.HTML),e.insertionMode=H.IN_CAPTION}function H9(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,oe.HTML),e.insertionMode=H.IN_COLUMN_GROUP}function U9(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(X.COLGROUP,y.COLGROUP),e.insertionMode=H.IN_COLUMN_GROUP,pg(e,t)}function z9(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,oe.HTML),e.insertionMode=H.IN_TABLE_BODY}function $9(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(X.TBODY,y.TBODY),e.insertionMode=H.IN_TABLE_BODY,cd(e,t)}function W9(e,t){e.openElements.hasInTableScope(y.TABLE)&&(e.openElements.popUntilTagNamePopped(y.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function G9(e,t){YE(t)?e._appendElement(t,oe.HTML):Pl(e,t),t.ackSelfClosing=!0}function q9(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,oe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function br(e,t){switch(t.tagID){case y.TD:case y.TH:case y.TR:{$9(e,t);break}case y.STYLE:case y.SCRIPT:case y.TEMPLATE:{rs(e,t);break}case y.COL:{U9(e,t);break}case y.FORM:{q9(e,t);break}case y.TABLE:{W9(e,t);break}case y.TBODY:case y.TFOOT:case y.THEAD:{z9(e,t);break}case y.INPUT:{G9(e,t);break}case y.CAPTION:{B9(e,t);break}case y.COLGROUP:{H9(e,t);break}default:Pl(e,t)}}function ul(e,t){switch(t.tagID){case y.TABLE:{e.openElements.hasInTableScope(y.TABLE)&&(e.openElements.popUntilTagNamePopped(y.TABLE),e._resetInsertionMode());break}case y.TEMPLATE:{Do(e,t);break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TBODY:case y.TD:case y.TFOOT:case y.TH:case y.THEAD:case y.TR:break;default:Pl(e,t)}}function Pl(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,ad(e,t),e.fosterParentingEnabled=n}function QE(e,t){e.pendingCharacterTokens.push(t)}function ZE(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function ra(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Pl(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const eT=new Set([y.CAPTION,y.COL,y.COLGROUP,y.TBODY,y.TD,y.TFOOT,y.TH,y.THEAD,y.TR]);function K9(e,t){const n=t.tagID;eT.has(n)?e.openElements.hasInTableScope(y.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(y.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,br(e,t)):Zt(e,t)}function Y9(e,t){const n=t.tagID;switch(n){case y.CAPTION:case y.TABLE:{e.openElements.hasInTableScope(y.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(y.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,n===y.TABLE&&ul(e,t));break}case y.BODY:case y.COL:case y.COLGROUP:case y.HTML:case y.TBODY:case y.TD:case y.TFOOT:case y.TH:case y.THEAD:case y.TR:break;default:ld(e,t)}}function pg(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.COL:{e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case y.TEMPLATE:{rs(e,t);break}default:gu(e,t)}}function X9(e,t){switch(t.tagID){case y.COLGROUP:{e.openElements.currentTagId===y.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case y.TEMPLATE:{Do(e,t);break}case y.COL:break;default:gu(e,t)}}function gu(e,t){e.openElements.currentTagId===y.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE,e._processToken(t))}function cd(e,t){switch(t.tagID){case y.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,oe.HTML),e.insertionMode=H.IN_ROW;break}case y.TH:case y.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(X.TR,y.TR),e.insertionMode=H.IN_ROW,ud(e,t);break}case y.CAPTION:case y.COL:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,br(e,t));break}default:br(e,t)}}function ph(e,t){const n=t.tagID;switch(t.tagID){case y.TBODY:case y.TFOOT:case y.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case y.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,ul(e,t));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TD:case y.TH:case y.TR:break;default:ul(e,t)}}function ud(e,t){switch(t.tagID){case y.TH:case y.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,oe.HTML),e.insertionMode=H.IN_CELL,e.activeFormattingElements.insertMarker();break}case y.CAPTION:case y.COL:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:case y.TR:{e.openElements.hasInTableScope(y.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,cd(e,t));break}default:br(e,t)}}function tT(e,t){switch(t.tagID){case y.TR:{e.openElements.hasInTableScope(y.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY);break}case y.TABLE:{e.openElements.hasInTableScope(y.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,ph(e,t));break}case y.TBODY:case y.TFOOT:case y.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(y.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,ph(e,t));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:case y.TD:case y.TH:break;default:ul(e,t)}}function J9(e,t){const n=t.tagID;eT.has(n)?(e.openElements.hasInTableScope(y.TD)||e.openElements.hasInTableScope(y.TH))&&(e._closeTableCell(),ud(e,t)):Zt(e,t)}function Q9(e,t){const n=t.tagID;switch(n){case y.TD:case y.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_ROW);break}case y.TABLE:case y.TBODY:case y.TFOOT:case y.THEAD:case y.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),tT(e,t));break}case y.BODY:case y.CAPTION:case y.COL:case y.COLGROUP:case y.HTML:break;default:ld(e,t)}}function nT(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.OPTION:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e._insertElement(t,oe.HTML);break}case y.OPTGROUP:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e.openElements.currentTagId===y.OPTGROUP&&e.openElements.pop(),e._insertElement(t,oe.HTML);break}case y.HR:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop(),e.openElements.currentTagId===y.OPTGROUP&&e.openElements.pop(),e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case y.INPUT:case y.KEYGEN:case y.TEXTAREA:case y.SELECT:{e.openElements.hasInSelectScope(y.SELECT)&&(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode(),t.tagID!==y.SELECT&&e._processStartTag(t));break}case y.SCRIPT:case y.TEMPLATE:{rs(e,t);break}}}function sT(e,t){switch(t.tagID){case y.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===y.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===y.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===y.OPTGROUP&&e.openElements.pop();break}case y.OPTION:{e.openElements.currentTagId===y.OPTION&&e.openElements.pop();break}case y.SELECT:{e.openElements.hasInSelectScope(y.SELECT)&&(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode());break}case y.TEMPLATE:{Do(e,t);break}}}function Z9(e,t){const n=t.tagID;n===y.CAPTION||n===y.TABLE||n===y.TBODY||n===y.TFOOT||n===y.THEAD||n===y.TR||n===y.TD||n===y.TH?(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode(),e._processStartTag(t)):nT(e,t)}function e8(e,t){const n=t.tagID;n===y.CAPTION||n===y.TABLE||n===y.TBODY||n===y.TFOOT||n===y.THEAD||n===y.TR||n===y.TD||n===y.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(y.SELECT),e._resetInsertionMode(),e.onEndTag(t)):sT(e,t)}function t8(e,t){switch(t.tagID){case y.BASE:case y.BASEFONT:case y.BGSOUND:case y.LINK:case y.META:case y.NOFRAMES:case y.SCRIPT:case y.STYLE:case y.TEMPLATE:case y.TITLE:{rs(e,t);break}case y.CAPTION:case y.COLGROUP:case y.TBODY:case y.TFOOT:case y.THEAD:{e.tmplInsertionModeStack[0]=H.IN_TABLE,e.insertionMode=H.IN_TABLE,br(e,t);break}case y.COL:{e.tmplInsertionModeStack[0]=H.IN_COLUMN_GROUP,e.insertionMode=H.IN_COLUMN_GROUP,pg(e,t);break}case y.TR:{e.tmplInsertionModeStack[0]=H.IN_TABLE_BODY,e.insertionMode=H.IN_TABLE_BODY,cd(e,t);break}case y.TD:case y.TH:{e.tmplInsertionModeStack[0]=H.IN_ROW,e.insertionMode=H.IN_ROW,ud(e,t);break}default:e.tmplInsertionModeStack[0]=H.IN_BODY,e.insertionMode=H.IN_BODY,Zt(e,t)}}function n8(e,t){t.tagID===y.TEMPLATE&&Do(e,t)}function iT(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(y.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):hg(e,t)}function s8(e,t){t.tagID===y.HTML?Zt(e,t):bu(e,t)}function oT(e,t){var n;if(t.tagID===y.HTML){if(e.fragmentContext||(e.insertionMode=H.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===y.HTML){e._setEndLocation(e.openElements.items[0],t);const s=e.openElements.items[1];s&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(s))===null||n===void 0)&&n.endTag)&&e._setEndLocation(s,t)}}else bu(e,t)}function bu(e,t){e.insertionMode=H.IN_BODY,ad(e,t)}function i8(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.FRAMESET:{e._insertElement(t,oe.HTML);break}case y.FRAME:{e._appendElement(t,oe.HTML),t.ackSelfClosing=!0;break}case y.NOFRAMES:{rs(e,t);break}}}function o8(e,t){t.tagID===y.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==y.FRAMESET&&(e.insertionMode=H.AFTER_FRAMESET))}function r8(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.NOFRAMES:{rs(e,t);break}}}function a8(e,t){t.tagID===y.HTML&&(e.insertionMode=H.AFTER_AFTER_FRAMESET)}function l8(e,t){t.tagID===y.HTML?Zt(e,t):Gc(e,t)}function Gc(e,t){e.insertionMode=H.IN_BODY,ad(e,t)}function c8(e,t){switch(t.tagID){case y.HTML:{Zt(e,t);break}case y.NOFRAMES:{rs(e,t);break}}}function u8(e,t){t.chars=ht,e._insertCharacters(t)}function d8(e,t){e._insertCharacters(t),e.framesetOk=!1}function rT(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==oe.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function m8(e,t){if(_7(t))rT(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===oe.MATHML?zE(t):s===oe.SVG&&(k7(t),$E(t)),mg(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0}}function f8(e,t){if(t.tagID===y.P||t.tagID===y.BR){rT(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===oe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(s);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}X.AREA,X.BASE,X.BASEFONT,X.BGSOUND,X.BR,X.COL,X.EMBED,X.FRAME,X.HR,X.IMG,X.INPUT,X.KEYGEN,X.LINK,X.META,X.PARAM,X.SOURCE,X.TRACK,X.WBR;const h8=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,p8=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),mx={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function aT(e,t){const n=T8(e),s=AE("type",{handlers:{root:g8,element:b8,text:v8,comment:cT,doctype:x8,raw:y8},unknown:w8}),i={parser:n?new cx(mx):cx.getFragmentParser(void 0,mx),handle(a){s(a,i)},stitches:!1,options:t||{}};s(e,i),Br(i,Ms());const o=n?i.parser.document:i.parser.getFragment(),r=gF(o,{file:i.options.file});return i.stitches&&rd(r,"comment",function(a,c,u){const d=a;if(d.value.stitch&&u&&c!==void 0){const m=u.children;return m[c]=d.value.stitch,c}}),r.type==="root"&&r.children.length===1&&r.children[0].type===e.type?r.children[0]:r}function lT(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function g8(e,t){lT(e.children,t)}function b8(e,t){D8(e,t),lT(e.children,t),E8(e,t)}function v8(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:He.CHARACTER,chars:e.value,location:Al(e)};Br(t,Ms(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function x8(e,t){const n={type:He.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Al(e)};Br(t,Ms(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function N8(e,t){t.stitches=!0;const n=S8(e);if("children"in e&&"children"in n){const s=aT({type:"root",children:e.children},t.options);n.children=s.children}cT({type:"comment",value:{stitch:n}},t)}function cT(e,t){const n=e.value,s={type:He.COMMENT,data:n,location:Al(e)};Br(t,Ms(e)),t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken)}function y8(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,uT(t,Ms(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(h8,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function w8(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))N8(n,t);else{let s="";throw p8.has(n.type)&&(s=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+s)}}function Br(e,t){uT(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Tt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function uT(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function D8(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Tt.PLAINTEXT)return;Br(t,Ms(e));const s=t.parser.openElements.current;let i="namespaceURI"in s?s.namespaceURI:Zi.html;i===Zi.html&&n==="svg"&&(i=Zi.svg);const o=PF({...e,children:[]},{space:i===Zi.svg?"svg":"html"}),r={type:He.START_TAG,tagName:n,tagID:Fr(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Al(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function E8(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&FF.includes(n)||t.parser.tokenizer.state===Tt.PLAINTEXT)return;Br(t,ed(e));const s={type:He.END_TAG,tagName:n,tagID:Fr(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Al(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Tt.RCDATA||t.parser.tokenizer.state===Tt.RAWTEXT||t.parser.tokenizer.state===Tt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Tt.DATA)}function T8(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Al(e){const t=Ms(e)||{line:void 0,column:void 0,offset:void 0},n=ed(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function S8(e){return"children"in e?gr({...e,children:[]}):gr(e)}function _8(e){return function(t,n){return aT(t,{...e,file:n})}}function fx(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let s=0,i=n.indexOf(t);for(;i!==-1;)s++,i=n.indexOf(t,i+t.length);return s}function k8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function M8(e,t,n){const i=id((n||{}).ignore||[]),o=C8(t);let r=-1;for(;++r<o.length;)bE(e,"text",a);function a(u,d){let m=-1,f;for(;++m<d.length;){const h=d[m],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return c(u,d)}function c(u,d){const m=d[d.length-1],f=o[r][0],h=o[r][1];let p=0;const v=m.children.indexOf(u);let b=!1,w=[];f.lastIndex=0;let N=f.exec(u.value);for(;N;){const E=N.index,D={index:N.index,input:N.input,stack:[...d,u]};let T=h(...N,D);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?f.lastIndex=E+1:(p!==E&&w.push({type:"text",value:u.value.slice(p,E)}),Array.isArray(T)?w.push(...T):T&&w.push(T),p=E+N[0].length,b=!0),!f.global)break;N=f.exec(u.value)}return b?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),m.children.splice(v,1,...w)):w=[u],v+w.length}}function C8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<n.length;){const i=n[s];t.push([P8(i[0]),A8(i[1])])}return t}function P8(e){return typeof e=="string"?new RegExp(k8(e),"g"):e}function A8(e){return typeof e=="function"?e:function(){return e}}const Dm="phrasing",Em=["autolink","link","image","label"];function I8(){return{transforms:[B8],enter:{literalAutolink:j8,literalAutolinkEmail:Tm,literalAutolinkHttp:Tm,literalAutolinkWww:Tm},exit:{literalAutolink:F8,literalAutolinkEmail:L8,literalAutolinkHttp:O8,literalAutolinkWww:V8}}}function R8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Dm,notInConstruct:Em},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Dm,notInConstruct:Em},{character:":",before:"[ps]",after:"\\/",inConstruct:Dm,notInConstruct:Em}]}}function j8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Tm(e){this.config.enter.autolinkProtocol.call(this,e)}function O8(e){this.config.exit.autolinkProtocol.call(this,e)}function V8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];W(t.type==="link"),t.url="http://"+this.sliceSerialize(e)}function L8(e){this.config.exit.autolinkEmail.call(this,e)}function F8(e){this.exit(e)}function B8(e){M8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,H8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),U8]],{ignore:["link","linkReference"]})}function H8(e,t,n,s,i){let o="";if(!dT(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!z8(n)))return!1;const r=$8(n+s);if(!r[0])return!1;const a={type:"link",title:null,url:o+t+r[0],children:[{type:"text",value:t+r[0]}]};return r[1]?[a,{type:"text",value:r[1]}]:a}function U8(e,t,n,s){return!dT(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function z8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function $8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],s=n.indexOf(")");const i=fx(e,"(");let o=fx(e,")");for(;s!==-1&&i>o;)e+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),o++;return[e,n]}function dT(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||ho(n)||td(n))&&(!t||n!==47)}mT.peek=Z8;function W8(){this.buffer()}function G8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function q8(){this.buffer()}function K8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Y8(e){const t=this.resume(),n=this.stack[this.stack.length-1];W(n.type==="footnoteReference"),n.identifier=ts(this.sliceSerialize(e)).toLowerCase(),n.label=t}function X8(e){this.exit(e)}function J8(e){const t=this.resume(),n=this.stack[this.stack.length-1];W(n.type==="footnoteDefinition"),n.identifier=ts(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Q8(e){this.exit(e)}function Z8(){return"["}function mT(e,t,n,s){const i=n.createTracker(s);let o=i.move("[^");const r=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),r(),o+=i.move("]"),o}function eB(){return{enter:{gfmFootnoteCallString:W8,gfmFootnoteCall:G8,gfmFootnoteDefinitionLabelString:q8,gfmFootnoteDefinition:K8},exit:{gfmFootnoteCallString:Y8,gfmFootnoteCall:X8,gfmFootnoteDefinitionLabelString:J8,gfmFootnoteDefinition:Q8}}}function tB(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:mT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,i,o,r){const a=o.createTracker(r);let c=a.move("[^");const u=o.enter("footnoteDefinition"),d=o.enter("label");return c+=a.move(o.safe(o.associationId(s),{before:c,after:"]"})),d(),c+=a.move("]:"),s.children&&s.children.length>0&&(a.shift(4),c+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(s,a.current()),t?fT:nB))),u(),c}}function nB(e,t,n){return t===0?e:fT(e,t,n)}function fT(e,t,n){return(n?"":"    ")+e}const sB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];hT.peek=lB;function iB(){return{canContainEols:["delete"],enter:{strikethrough:rB},exit:{strikethrough:aB}}}function oB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:sB}],handlers:{delete:hT}}}function rB(e){this.enter({type:"delete",children:[]},e)}function aB(e){this.exit(e)}function hT(e,t,n,s){const i=n.createTracker(s),o=n.enter("strikethrough");let r=i.move("~~");return r+=n.containerPhrasing(e,{...i.current(),before:r,after:"~"}),r+=i.move("~~"),o(),r}function lB(){return"~"}function cB(e){return e.length}function uB(e,t){const n=t||{},s=(n.align||[]).concat(),i=n.stringLength||cB,o=[],r=[],a=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],v=[];let b=-1;for(e[d].length>u&&(u=e[d].length);++b<e[d].length;){const w=dB(e[d][b]);if(n.alignDelimiters!==!1){const N=i(w);v[b]=N,(c[b]===void 0||N>c[b])&&(c[b]=N)}g.push(w)}r[d]=g,a[d]=v}let m=-1;if(typeof s=="object"&&"length"in s)for(;++m<u;)o[m]=hx(s[m]);else{const g=hx(s);for(;++m<u;)o[m]=g}m=-1;const f=[],h=[];for(;++m<u;){const g=o[m];let v="",b="";g===99?(v=":",b=":"):g===108?v=":":g===114&&(b=":");let w=n.alignDelimiters===!1?1:Math.max(1,c[m]-v.length-b.length);const N=v+"-".repeat(w)+b;n.alignDelimiters!==!1&&(w=v.length+w+b.length,w>c[m]&&(c[m]=w),h[m]=w),f[m]=N}r.splice(1,0,f),a.splice(1,0,h),d=-1;const p=[];for(;++d<r.length;){const g=r[d],v=a[d];m=-1;const b=[];for(;++m<u;){const w=g[m]||"";let N="",E="";if(n.alignDelimiters!==!1){const D=c[m]-(v[m]||0),T=o[m];T===114?N=" ".repeat(D):T===99?D%2?(N=" ".repeat(D/2+.5),E=" ".repeat(D/2-.5)):(N=" ".repeat(D/2),E=N):E=" ".repeat(D)}n.delimiterStart!==!1&&!m&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||m)&&b.push(" "),n.alignDelimiters!==!1&&b.push(N),b.push(w),n.alignDelimiters!==!1&&b.push(E),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||m!==u-1)&&b.push("|")}p.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return p.join(`
`)}function dB(e){return e==null?"":String(e)}function hx(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function mB(e,t,n,s){const i=n.enter("blockquote"),o=n.createTracker(s);o.move("> "),o.shift(2);const r=n.indentLines(n.containerFlow(e,o.current()),fB);return i(),r}function fB(e,t,n){return">"+(n?"":" ")+e}function hB(e,t){return px(e,t.inConstruct,!0)&&!px(e,t.notInConstruct,!1)}function px(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let s=-1;for(;++s<t.length;)if(e.includes(t[s]))return!0;return!1}function gx(e,t,n,s){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&hB(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function pB(e,t){const n=String(e);let s=n.indexOf(t),i=s,o=0,r=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++o>r&&(r=o):o=1,i=s+t.length,s=n.indexOf(t,i);return r}function gB(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function bB(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function vB(e,t,n,s){const i=bB(n),o=e.value||"",r=i==="`"?"GraveAccent":"Tilde";if(gB(e,n)){const m=n.enter("codeIndented"),f=n.indentLines(o,xB);return m(),f}const a=n.createTracker(s),c=i.repeat(Math.max(pB(o,i)+1,3)),u=n.enter("codeFenced");let d=a.move(c);if(e.lang){const m=n.enter(`codeFencedLang${r}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${r}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),m()}return d+=a.move(`
`),o&&(d+=a.move(o+`
`)),d+=a.move(c),u(),d}function xB(e,t,n){return(n?"":"    ")+e}function gg(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function NB(e,t,n,s){const i=gg(n),o=i==='"'?"Quote":"Apostrophe",r=n.enter("definition");let a=n.enter("label");const c=n.createTracker(s);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(a=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),a()),r(),u}function yB(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function dl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function vu(e,t,n){const s=pr(e),i=pr(t);return s===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}pT.peek=wB;function pT(e,t,n,s){const i=yB(n),o=n.enter("emphasis"),r=n.createTracker(s),a=r.move(i);let c=r.move(n.containerPhrasing(e,{after:i,before:a,...r.current()}));const u=c.charCodeAt(0),d=vu(s.before.charCodeAt(s.before.length-1),u,i);d.inside&&(c=dl(u)+c.slice(1));const m=c.charCodeAt(c.length-1),f=vu(s.after.charCodeAt(0),m,i);f.inside&&(c=c.slice(0,-1)+dl(m));const h=r.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+c+h}function wB(e,t,n){return n.options.emphasis||"*"}function DB(e,t){let n=!1;return rd(e,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,oh}),!!((!e.depth||e.depth<3)&&tg(e)&&(t.options.setext||n))}function EB(e,t,n,s){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(s);if(DB(e,n)){const d=n.enter("headingSetext"),m=n.enter("phrasing"),f=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return m(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const r="#".repeat(i),a=n.enter("headingAtx"),c=n.enter("phrasing");o.move(r+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=dl(u.charCodeAt(0))+u.slice(1)),u=u?r+" "+u:r,n.options.closeAtx&&(u+=" "+r),c(),a(),u}gT.peek=TB;function gT(e){return e.value||""}function TB(){return"<"}bT.peek=SB;function bT(e,t,n,s){const i=gg(n),o=i==='"'?"Quote":"Apostrophe",r=n.enter("image");let a=n.enter("label");const c=n.createTracker(s);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(a=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),a()),u+=c.move(")"),r(),u}function SB(){return"!"}vT.peek=_B;function vT(e,t,n,s){const i=e.referenceType,o=n.enter("imageReference");let r=n.enter("label");const a=n.createTracker(s);let c=a.move("![");const u=n.safe(e.alt,{before:c,after:"]",...a.current()});c+=a.move(u+"]["),r();const d=n.stack;n.stack=[],r=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...a.current()});return r(),n.stack=d,o(),i==="full"||!u||u!==m?c+=a.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function _B(){return"!"}xT.peek=kB;function xT(e,t,n){let s=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<n.unsafe.length;){const r=n.unsafe[o],a=n.compilePattern(r);let c;if(r.atBreak)for(;c=a.exec(s);){let u=c.index;s.charCodeAt(u)===10&&s.charCodeAt(u-1)===13&&u--,s=s.slice(0,u)+" "+s.slice(c.index+1)}}return i+s+i}function kB(){return"`"}function NT(e,t){const n=tg(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}yT.peek=MB;function yT(e,t,n,s){const i=gg(n),o=i==='"'?"Quote":"Apostrophe",r=n.createTracker(s);let a,c;if(NT(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let m=r.move("<");return m+=r.move(n.containerPhrasing(e,{before:m,after:">",...r.current()})),m+=r.move(">"),a(),n.stack=d,m}a=n.enter("link"),c=n.enter("label");let u=r.move("[");return u+=r.move(n.containerPhrasing(e,{before:u,after:"](",...r.current()})),u+=r.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=r.move("<"),u+=r.move(n.safe(e.url,{before:u,after:">",...r.current()})),u+=r.move(">")):(c=n.enter("destinationRaw"),u+=r.move(n.safe(e.url,{before:u,after:e.title?" ":")",...r.current()}))),c(),e.title&&(c=n.enter(`title${o}`),u+=r.move(" "+i),u+=r.move(n.safe(e.title,{before:u,after:i,...r.current()})),u+=r.move(i),c()),u+=r.move(")"),a(),u}function MB(e,t,n){return NT(e,n)?"<":"["}wT.peek=CB;function wT(e,t,n,s){const i=e.referenceType,o=n.enter("linkReference");let r=n.enter("label");const a=n.createTracker(s);let c=a.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...a.current()});c+=a.move(u+"]["),r();const d=n.stack;n.stack=[],r=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...a.current()});return r(),n.stack=d,o(),i==="full"||!u||u!==m?c+=a.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=a.move("]"),c}function CB(){return"["}function bg(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function PB(e){const t=bg(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function AB(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function DT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function IB(e,t,n,s){const i=n.enter("list"),o=n.bulletCurrent;let r=e.ordered?AB(n):bg(n);const a=e.ordered?r==="."?")":".":PB(n);let c=t&&n.bulletLastUsed?r===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((r==="*"||r==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),DT(n)===r&&d){let m=-1;for(;++m<e.children.length;){const f=e.children[m];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(r=a),n.bulletCurrent=r;const u=n.containerFlow(e,s);return n.bulletLastUsed=r,n.bulletCurrent=o,i(),u}function RB(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function jB(e,t,n,s){const i=RB(n);let o=n.bulletCurrent||bg(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let r=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(r=Math.ceil(r/4)*4);const a=n.createTracker(s);a.move(o+" ".repeat(r-o.length)),a.shift(r);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),d);return c(),u;function d(m,f,h){return f?(h?"":" ".repeat(r))+m:(h?o:o+" ".repeat(r-o.length))+m}}function OB(e,t,n,s){const i=n.enter("paragraph"),o=n.enter("phrasing"),r=n.containerPhrasing(e,s);return o(),i(),r}const VB=id(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function LB(e,t,n,s){return(e.children.some(function(r){return VB(r)})?n.containerPhrasing:n.containerFlow).call(n,e,s)}function FB(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ET.peek=BB;function ET(e,t,n,s){const i=FB(n),o=n.enter("strong"),r=n.createTracker(s),a=r.move(i+i);let c=r.move(n.containerPhrasing(e,{after:i,before:a,...r.current()}));const u=c.charCodeAt(0),d=vu(s.before.charCodeAt(s.before.length-1),u,i);d.inside&&(c=dl(u)+c.slice(1));const m=c.charCodeAt(c.length-1),f=vu(s.after.charCodeAt(0),m,i);f.inside&&(c=c.slice(0,-1)+dl(m));const h=r.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+c+h}function BB(e,t,n){return n.options.strong||"*"}function HB(e,t,n,s){return n.safe(e.value,s)}function UB(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function zB(e,t,n){const s=(DT(n)+(n.options.ruleSpaces?" ":"")).repeat(UB(n));return n.options.ruleSpaces?s.slice(0,-1):s}const TT={blockquote:mB,break:gx,code:vB,definition:NB,emphasis:pT,hardBreak:gx,heading:EB,html:gT,image:bT,imageReference:vT,inlineCode:xT,link:yT,linkReference:wT,list:IB,listItem:jB,paragraph:OB,root:LB,strong:ET,text:HB,thematicBreak:zB};function $B(){return{enter:{table:WB,tableData:bx,tableHeader:bx,tableRow:qB},exit:{codeText:KB,table:GB,tableData:Sm,tableHeader:Sm,tableRow:Sm}}}function WB(e){const t=e._align;W(t,"expected `_align` on table"),this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function GB(e){this.exit(e),this.data.inTable=void 0}function qB(e){this.enter({type:"tableRow",children:[]},e)}function Sm(e){this.exit(e)}function bx(e){this.enter({type:"tableCell",children:[]},e)}function KB(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,YB));const n=this.stack[this.stack.length-1];W(n.type==="inlineCode"),n.value=t,this.exit(e)}function YB(e,t){return t==="|"?t:e}function XB(e){const t=e||{},n=t.tableCellPadding,s=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:r,tableCell:c,tableRow:a}};function r(h,p,g,v){return u(d(h,g,v),h.align)}function a(h,p,g,v){const b=m(h,g,v),w=u([b]);return w.slice(0,w.indexOf(`
`))}function c(h,p,g,v){const b=g.enter("tableCell"),w=g.enter("phrasing"),N=g.containerPhrasing(h,{...v,before:o,after:o});return w(),b(),N}function u(h,p){return uB(h,{align:p,alignDelimiters:s,padding:n,stringLength:i})}function d(h,p,g){const v=h.children;let b=-1;const w=[],N=p.enter("table");for(;++b<v.length;)w[b]=m(v[b],p,g);return N(),w}function m(h,p,g){const v=h.children;let b=-1;const w=[],N=p.enter("tableRow");for(;++b<v.length;)w[b]=c(v[b],h,p,g);return N(),w}function f(h,p,g){let v=TT.inlineCode(h,p,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function JB(){return{exit:{taskListCheckValueChecked:vx,taskListCheckValueUnchecked:vx,paragraph:ZB}}}function QB(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:eH}}}function vx(e){const t=this.stack[this.stack.length-2];W(t.type==="listItem"),t.checked=e.type==="taskListCheckValueChecked"}function ZB(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];W(n.type==="paragraph");const s=n.children[0];if(s&&s.type==="text"){const i=t.children;let o=-1,r;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){r=a;break}}r===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(e)}function eH(e,t,n,s){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",r="["+(e.checked?"x":" ")+"] ",a=n.createTracker(s);o&&a.move(r);let c=TT.listItem(e,t,n,{...s,...a.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+r}}function tH(){return[I8(),eB(),iB(),$B(),JB()]}function nH(e){return{extensions:[R8(),tB(e),oB(),XB(e),QB()]}}const sH={tokenize:cH,partial:!0},ST={tokenize:uH,partial:!0},_T={tokenize:dH,partial:!0},kT={tokenize:mH,partial:!0},iH={tokenize:fH,partial:!0},MT={name:"wwwAutolink",tokenize:aH,previous:PT},CT={name:"protocolAutolink",tokenize:lH,previous:AT},ti={name:"emailAutolink",tokenize:rH,previous:IT},Cs={};function oH(){return{text:Cs}}let Oi=S.digit0;for(;Oi<S.leftCurlyBrace;)Cs[Oi]=ti,Oi++,Oi===S.colon?Oi=S.uppercaseA:Oi===S.leftSquareBracket&&(Oi=S.lowercaseA);Cs[S.plusSign]=ti;Cs[S.dash]=ti;Cs[S.dot]=ti;Cs[S.underscore]=ti;Cs[S.uppercaseH]=[ti,CT];Cs[S.lowercaseH]=[ti,CT];Cs[S.uppercaseW]=[ti,MT];Cs[S.lowercaseW]=[ti,MT];function rH(e,t,n){const s=this;let i,o;return r;function r(m){return!gh(m)||!IT.call(s,s.previous)||vg(s.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(m))}function a(m){return gh(m)?(e.consume(m),a):m===S.atSign?(e.consume(m),c):n(m)}function c(m){return m===S.dot?e.check(iH,d,u)(m):m===S.dash||m===S.underscore||Yt(m)?(o=!0,e.consume(m),c):d(m)}function u(m){return e.consume(m),i=!0,c}function d(m){return o&&i&&on(s.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function aH(e,t,n){const s=this;return i;function i(r){return r!==S.uppercaseW&&r!==S.lowercaseW||!PT.call(s,s.previous)||vg(s.events)?n(r):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(sH,e.attempt(ST,e.attempt(_T,o),n),n)(r))}function o(r){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(r)}}function lH(e,t,n){const s=this;let i="",o=!1;return r;function r(m){return(m===S.uppercaseH||m===S.lowercaseH)&&AT.call(s,s.previous)&&!vg(s.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(m),e.consume(m),a):n(m)}function a(m){if(on(m)&&i.length<5)return i+=String.fromCodePoint(m),e.consume(m),a;if(m===S.colon){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(m),c}return n(m)}function c(m){return m===S.slash?(e.consume(m),o?u:(o=!0,c)):n(m)}function u(m){return m===S.eof||fu(m)||ot(m)||ho(m)||td(m)?n(m):e.attempt(ST,e.attempt(_T,d),n)(m)}function d(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function cH(e,t,n){let s=0;return i;function i(r){return(r===S.uppercaseW||r===S.lowercaseW)&&s<3?(s++,e.consume(r),i):r===S.dot&&s===3?(e.consume(r),o):n(r)}function o(r){return r===S.eof?n(r):t(r)}}function uH(e,t,n){let s,i,o;return r;function r(u){return u===S.dot||u===S.underscore?e.check(kT,c,a)(u):u===S.eof||ot(u)||ho(u)||u!==S.dash&&td(u)?c(u):(o=!0,e.consume(u),r)}function a(u){return u===S.underscore?s=!0:(i=s,s=void 0),e.consume(u),r}function c(u){return i||s||!o?n(u):t(u)}}function dH(e,t){let n=0,s=0;return i;function i(r){return r===S.leftParenthesis?(n++,e.consume(r),i):r===S.rightParenthesis&&s<n?o(r):r===S.exclamationMark||r===S.quotationMark||r===S.ampersand||r===S.apostrophe||r===S.rightParenthesis||r===S.asterisk||r===S.comma||r===S.dot||r===S.colon||r===S.semicolon||r===S.lessThan||r===S.questionMark||r===S.rightSquareBracket||r===S.underscore||r===S.tilde?e.check(kT,t,o)(r):r===S.eof||ot(r)||ho(r)?t(r):(e.consume(r),i)}function o(r){return r===S.rightParenthesis&&s++,e.consume(r),i}}function mH(e,t,n){return s;function s(a){return a===S.exclamationMark||a===S.quotationMark||a===S.apostrophe||a===S.rightParenthesis||a===S.asterisk||a===S.comma||a===S.dot||a===S.colon||a===S.semicolon||a===S.questionMark||a===S.underscore||a===S.tilde?(e.consume(a),s):a===S.ampersand?(e.consume(a),o):a===S.rightSquareBracket?(e.consume(a),i):a===S.lessThan||a===S.eof||ot(a)||ho(a)?t(a):n(a)}function i(a){return a===S.eof||a===S.leftParenthesis||a===S.leftSquareBracket||ot(a)||ho(a)?t(a):s(a)}function o(a){return on(a)?r(a):n(a)}function r(a){return a===S.semicolon?(e.consume(a),s):on(a)?(e.consume(a),r):n(a)}}function fH(e,t,n){return s;function s(o){return e.consume(o),i}function i(o){return Yt(o)?n(o):t(o)}}function PT(e){return e===S.eof||e===S.leftParenthesis||e===S.asterisk||e===S.underscore||e===S.leftSquareBracket||e===S.rightSquareBracket||e===S.tilde||ot(e)}function AT(e){return!on(e)}function IT(e){return!(e===S.slash||gh(e))}function gh(e){return e===S.plusSign||e===S.dash||e===S.dot||e===S.underscore||Yt(e)}function vg(e){let t=e.length,n=!1;for(;t--;){const s=e[t][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const hH={tokenize:wH,partial:!0};function pH(){return{document:{[S.leftSquareBracket]:{name:"gfmFootnoteDefinition",tokenize:xH,continuation:{tokenize:NH},exit:yH}},text:{[S.leftSquareBracket]:{name:"gfmFootnoteCall",tokenize:vH},[S.rightSquareBracket]:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:gH,resolveTo:bH}}}}function gH(e,t,n){const s=this;let i=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let r;for(;i--;){const c=s.events[i][1];if(c.type===C.labelImage){r=c;break}if(c.type==="gfmFootnoteCall"||c.type===C.labelLink||c.type===C.label||c.type===C.image||c.type===C.link)break}return a;function a(c){if(W(c===S.rightSquareBracket,"expected `]`"),!r||!r._balanced)return n(c);const u=ts(s.sliceSerialize({start:r.end,end:s.now()}));return u.codePointAt(0)!==S.caret||!o.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function bH(e,t){let n=e.length,s;for(;n--;)if(e[n][1].type===C.labelImage&&e[n][0]==="enter"){s=e[n][1];break}W(s,"expected `labelStart` to resolve"),e[n+1][1].type=C.data,e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:C.chunkString,contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},c=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",r,t],["enter",a,t],["exit",a,t],["exit",r,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...c),e}function vH(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,r;return a;function a(m){return W(m===S.leftSquareBracket,"expected `[`"),e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==S.caret?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(m){if(o>be.linkReferenceSizeMax||m===S.rightSquareBracket&&!r||m===S.eof||m===S.leftSquareBracket||ot(m))return n(m);if(m===S.rightSquareBracket){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(ts(s.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return ot(m)||(r=!0),o++,e.consume(m),m===S.backslash?d:u}function d(m){return m===S.leftSquareBracket||m===S.backslash||m===S.rightSquareBracket?(e.consume(m),o++,u):u(m)}}function xH(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,r=0,a;return c;function c(p){return W(p===S.leftSquareBracket,"expected `[`"),e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===S.caret?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(r>be.linkReferenceSizeMax||p===S.rightSquareBracket&&!a||p===S.eof||p===S.leftSquareBracket||ot(p))return n(p);if(p===S.rightSquareBracket){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return o=ts(s.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return ot(p)||(a=!0),r++,e.consume(p),p===S.backslash?m:d}function m(p){return p===S.leftSquareBracket||p===S.backslash||p===S.rightSquareBracket?(e.consume(p),r++,d):d(p)}function f(p){return p===S.colon?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(o)||i.push(o),Xe(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function NH(e,t,n){return e.check(kl,t,e.attempt(hH,t,n))}function yH(e){e.exit("gfmFootnoteDefinition")}function wH(e,t,n){const s=this;return Xe(e,i,"gfmFootnoteDefinitionIndent",be.tabSize+1);function i(o){const r=s.events[s.events.length-1];return r&&r[1].type==="gfmFootnoteDefinitionIndent"&&r[2].sliceSerialize(r[1],!0).length===be.tabSize?t(o):n(o)}}function DH(e){let n=(e||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{[S.tilde]:s},insideSpan:{null:[s]},attentionMarkers:{null:[S.tilde]}};function i(r,a){let c=-1;for(;++c<r.length;)if(r[c][0]==="enter"&&r[c][1].type==="strikethroughSequenceTemporary"&&r[c][1]._close){let u=c;for(;u--;)if(r[u][0]==="exit"&&r[u][1].type==="strikethroughSequenceTemporary"&&r[u][1]._open&&r[c][1].end.offset-r[c][1].start.offset===r[u][1].end.offset-r[u][1].start.offset){r[c][1].type="strikethroughSequence",r[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},r[u][1].start),end:Object.assign({},r[c][1].end)},m={type:"strikethroughText",start:Object.assign({},r[u][1].end),end:Object.assign({},r[c][1].start)},f=[["enter",d,a],["enter",r[u][1],a],["exit",r[u][1],a],["enter",m,a]],h=a.parser.constructs.insideSpan.null;h&&kn(f,f.length,0,nd(h,r.slice(u+1,c),a)),kn(f,f.length,0,[["exit",m,a],["enter",r[c][1],a],["exit",r[c][1],a],["exit",d,a]]),kn(r,u-1,c-u+3,f),c=u+f.length-2;break}}for(c=-1;++c<r.length;)r[c][1].type==="strikethroughSequenceTemporary"&&(r[c][1].type=C.data);return r}function o(r,a,c){const u=this.previous,d=this.events;let m=0;return f;function f(p){return W(p===S.tilde,"expected `~`"),u===S.tilde&&d[d.length-1][1].type!==C.characterEscape?c(p):(r.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const g=pr(u);if(p===S.tilde)return m>1?c(p):(r.consume(p),m++,h);if(m<2&&!n)return c(p);const v=r.exit("strikethroughSequenceTemporary"),b=pr(p);return v._open=!b||b===be.attentionSideAfter&&!!g,v._close=!g||g===be.attentionSideAfter&&!!b,a(p)}}}class EH{constructor(){this.map=[]}add(t,n,s){TH(this,t,n,s)}consume(t){if(this.map.sort(function(o,r){return o[0]-r[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];s.push(t.slice()),t.length=0;let i=s.pop();for(;i;){for(const o of i)t.push(o);i=s.pop()}this.map.length=0}}function TH(e,t,n,s){let i=0;if(!(n===0&&s.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...s);return}i+=1}e.map.push([t,n,s])}}function SH(e,t){W(e[t][1].type==="table","expected table");let n=!1;const s=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&s.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return s}function _H(){return{flow:{null:{name:"table",tokenize:kH,resolveAll:MH}}}}function kH(e,t,n){const s=this;let i=0,o=0,r;return a;function a(k){let L=s.events.length-1;for(;L>-1;){const V=s.events[L][1].type;if(V===C.lineEnding||V===C.linePrefix)L--;else break}const B=L>-1?s.events[L][1].type:null,A=B==="tableHead"||B==="tableRow"?T:c;return A===T&&s.parser.lazy[s.now().line]?n(k):A(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===S.verticalBar||(r=!0,o+=1),d(k)}function d(k){return k===S.eof?n(k):we(k)?o>1?(o=0,s.interrupt=!0,e.exit("tableRow"),e.enter(C.lineEnding),e.consume(k),e.exit(C.lineEnding),h):n(k):Ue(k)?Xe(e,d,C.whitespace)(k):(o+=1,r&&(r=!1,i+=1),k===S.verticalBar?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),r=!0,d):(e.enter(C.data),m(k)))}function m(k){return k===S.eof||k===S.verticalBar||ot(k)?(e.exit(C.data),d(k)):(e.consume(k),k===S.backslash?f:m)}function f(k){return k===S.backslash||k===S.verticalBar?(e.consume(k),m):m(k)}function h(k){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(k):(e.enter("tableDelimiterRow"),r=!1,Ue(k)?(W(s.parser.constructs.disable.null,"expected `disabled.null`"),Xe(e,p,C.linePrefix,s.parser.constructs.disable.null.includes("codeIndented")?void 0:be.tabSize)(k)):p(k))}function p(k){return k===S.dash||k===S.colon?v(k):k===S.verticalBar?(r=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),g):D(k)}function g(k){return Ue(k)?Xe(e,v,C.whitespace)(k):v(k)}function v(k){return k===S.colon?(o+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),b):k===S.dash?(o+=1,b(k)):k===S.eof||we(k)?E(k):D(k)}function b(k){return k===S.dash?(e.enter("tableDelimiterFiller"),w(k)):D(k)}function w(k){return k===S.dash?(e.consume(k),w):k===S.colon?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(k))}function N(k){return Ue(k)?Xe(e,E,C.whitespace)(k):E(k)}function E(k){return k===S.verticalBar?p(k):k===S.eof||we(k)?!r||i!==o?D(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):D(k)}function D(k){return n(k)}function T(k){return e.enter("tableRow"),M(k)}function M(k){return k===S.verticalBar?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),M):k===S.eof||we(k)?(e.exit("tableRow"),t(k)):Ue(k)?Xe(e,M,C.whitespace)(k):(e.enter(C.data),_(k))}function _(k){return k===S.eof||k===S.verticalBar||ot(k)?(e.exit(C.data),M(k)):(e.consume(k),k===S.backslash?P:_)}function P(k){return k===S.backslash||k===S.verticalBar?(e.consume(k),_):_(k)}}function MH(e,t){let n=-1,s=!0,i=0,o=[0,0,0,0],r=[0,0,0,0],a=!1,c=0,u,d,m;const f=new EH;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,c!==0&&(W(u,"there should be a table opening"),xx(f,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(s=!0,m=void 0,o=[0,0,0,0],r=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type===C.data||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(s=!1,r[2]===0&&(o[1]!==0&&(r[0]=r[1],m=cc(f,t,o,i,void 0,m),o=[0,0,0,0]),r[2]=n)):p.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(r[0]=r[1],m=cc(f,t,o,i,void 0,m)),o=r,r=[o[1],n,0,0])):p.type==="tableHead"?(a=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,o[1]!==0?(r[0]=r[1],m=cc(f,t,o,i,n,m)):r[1]!==0&&(m=cc(f,t,r,i,n,m)),i=0):i&&(p.type===C.data||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(r[3]=n)}for(c!==0&&(W(u,"expected table opening"),xx(f,t,c,u,d)),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=SH(t.events,n))}return e}function cc(e,t,n,s,i,o){const r=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(W(o,"expected previous cell enter"),o.end=Object.assign({},qo(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const c=qo(t.events,n[1]);if(o={type:r,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=qo(t.events,n[2]),d=qo(t.events,n[3]),m={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",m,t]]),W(n[3]!==0),s!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type=C.chunkText,f[1].contentType=be.contentTypeText,n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return i!==void 0&&(o.end=Object.assign({},qo(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function xx(e,t,n,s,i){const o=[],r=qo(t.events,n);i&&(i.end=Object.assign({},r),o.push(["exit",i,t])),s.end=Object.assign({},r),o.push(["exit",s,t]),e.add(n+1,0,o)}function qo(e,t){const n=e[t],s=n[0]==="enter"?"start":"end";return n[1][s]}const CH={name:"tasklistCheck",tokenize:AH};function PH(){return{text:{[S.leftSquareBracket]:CH}}}function AH(e,t,n){const s=this;return i;function i(c){return W(c===S.leftSquareBracket,"expected `[`"),s.previous!==S.eof||!s._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return ot(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),r):c===S.uppercaseX||c===S.lowercaseX?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),r):n(c)}function r(c){return c===S.rightSquareBracket?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(c)}function a(c){return we(c)?t(c):Ue(c)?e.check({tokenize:IH},t,n)(c):n(c)}}function IH(e,t,n){return Xe(e,s,C.whitespace);function s(i){return i===S.eof?n(i):t(i)}}function RH(e){return JD([oH(),pH(),DH(e),_H(),PH()])}const jH={};function OH(e){const t=this,n=e||jH,s=t.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),r=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(RH(n)),o.push(tH()),r.push(nH(n))}const VH=e=>l.jsxDEV("div",{...e,className:ke("h-px bg-gray-200 dark:bg-gray-700",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:12,columnNumber:3},void 0),LH=e=>l.jsxDEV("table",{...e,className:ke("min-w-full border-collapse border border-gray-200 dark:border-gray-700",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:36,columnNumber:3},void 0),FH=e=>l.jsxDEV("thead",{...e,className:ke("bg-gray-50 dark:bg-gray-800",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:40,columnNumber:3},void 0),Nx=e=>l.jsxDEV("tr",{...e,className:ke("border-b border-gray-200 dark:border-gray-700",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:44,columnNumber:3},void 0),BH=e=>l.jsxDEV("th",{...e,className:ke("px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:48,columnNumber:3},void 0),HH=e=>l.jsxDEV("tbody",{...e,className:ke("divide-y divide-gray-200 dark:divide-gray-700",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:52,columnNumber:3},void 0),UH=e=>l.jsxDEV("td",{...e,className:ke("px-4 py-3 text-gray-800 dark:text-gray-200",e.className)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:56,columnNumber:3},void 0),zH=({language:e,value:t,showLineNumbers:n})=>l.jsxDEV("pre",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md text-sm overflow-auto border border-gray-200 dark:border-gray-700",children:l.jsxDEV("code",{className:ke("block whitespace-pre",e?`language-${e}`:""),children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:67,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:66,columnNumber:5},void 0),Pt=e=>e?l.jsxDEV("div",{className:"prose-sm max-w-none dark:prose-invert",children:l.jsxDEV(tF,{remarkPlugins:[OH],rehypePlugins:[_8],children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:83,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:82,columnNumber:5},void 0):null,wt=(e,t,n="content")=>e.id?`${n}-${e.id}-${t}`:`${n}-${t}`,$H=e=>typeof e.content=="string"?e.content:typeof e.text=="string"?e.text:"",ba=(e,t,n=!1,s=0)=>{const i=n?"ol":"ul",o=ke("space-y-1 my-1",n?"list-decimal":"list-disc",s===0?"pl-6":"pl-4");return l.jsxDEV(i,{className:o,children:e.map((r,a)=>{const c=`${t}-item-${a}`;return typeof r=="string"?l.jsxDEV("li",{className:"pl-1",children:Pt(r)},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:128,columnNumber:13},void 0):r&&typeof r=="object"?"text"in r&&"sublist"in r&&Array.isArray(r.sublist)?l.jsxDEV("li",{className:"pl-1",children:[Pt(r.text),ba(r.sublist,`${c}-sublist`,!1,s+1)]},c,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:139,columnNumber:15},void 0):l.jsxDEV("li",{className:"pl-1",children:JSON.stringify(r)},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:148,columnNumber:13},void 0):l.jsxDEV("li",{className:"pl-1",children:String(r)},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:156,columnNumber:11},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:121,columnNumber:5},void 0)};function WH({content:e,className:t}){const n=(i,o)=>o===0||i.type!=="heading"?!1:i.level&&i.level<=2;if(!e||!Array.isArray(e)||e.length===0)return l.jsxDEV("div",{className:"p-4 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-700 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",children:l.jsxDEV("div",{className:"flex items-start gap-2",children:[l.jsxDEV(tt,{className:"w-5 h-5 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:178,columnNumber:11},this),l.jsxDEV("p",{children:"No content blocks available to render."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:179,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:177,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:176,columnNumber:7},this);return l.jsxDEV("div",{className:ke("handbook-content space-y-4",t),children:e.map((i,o)=>n(i,o)?l.jsxDEV(Re.Fragment,{children:[l.jsxDEV(VH,{className:"my-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:192,columnNumber:15},this),s(i,o)]},wt(i,o),!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:191,columnNumber:13},this):s(i,o))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:186,columnNumber:5},this);function s(i,o){const r=$H(i);switch(i.type){case"heading":{const a=i.level||2,c=Math.min(Math.max(a,1),6),u=`h${c}`,d={1:"text-3xl font-bold tracking-tight mb-4",2:"text-2xl font-semibold tracking-tight mt-8 mb-4",3:"text-xl font-semibold tracking-tight mt-6 mb-3",4:"text-lg font-semibold tracking-tight mt-4 mb-2",5:"text-base font-medium tracking-tight mt-4 mb-2",6:"text-sm font-medium tracking-tight mt-4 mb-2"}[c]||"text-lg font-semibold tracking-tight mt-4 mb-2";return l.jsxDEV(u,{id:i.id||`heading-${o}`,className:d,children:Pt(r)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:221,columnNumber:11},this)}case"paragraph":return l.jsxDEV("div",{className:"text-base leading-7 mb-4 text-gray-800 dark:text-gray-200",children:Pt(r)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:233,columnNumber:11},this);case"list":case"bullets":return!i.items||!Array.isArray(i.items)||i.items.length===0?null:l.jsxDEV("div",{className:"my-4",children:ba(i.items,wt(i,o),!1)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:245,columnNumber:11},this);case"numbers":return!i.items||!Array.isArray(i.items)||i.items.length===0?null:l.jsxDEV("div",{className:"my-4",children:ba(i.items,wt(i,o),!0)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:257,columnNumber:11},this);case"definitions":return!i.items||!Array.isArray(i.items)||i.items.length===0?null:l.jsxDEV("dl",{className:"space-y-4 text-base leading-7 my-4",children:i.items.map((a,c)=>{const u=`${wt(i,o)}-def-${c}`;if(typeof a=="string"){const d=a.split(/:\s*(.+)/),m=d[0],f=d.length>=2?d[1]:"";return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Pt(m)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:281,columnNumber:21},this),l.jsxDEV("dd",{className:"mt-1 pl-4 text-gray-700 dark:text-gray-300",children:Pt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:282,columnNumber:21},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:280,columnNumber:19},this)}if(a&&typeof a=="object"){const d=a;if("term"in d){const f=String(d.term||"");if("definition"in d){const h=String(d.definition||"");return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Pt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:299,columnNumber:25},this),l.jsxDEV("dd",{className:"mt-1 pl-4 text-gray-700 dark:text-gray-300",children:Pt(h)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:300,columnNumber:25},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:298,columnNumber:23},this)}if("sublist"in d&&Array.isArray(d.sublist))return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Pt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:309,columnNumber:25},this),l.jsxDEV("dd",{className:"mt-1 pl-4",children:ba(d.sublist,`${u}-sublist`)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:310,columnNumber:25},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:308,columnNumber:23},this)}const m=Object.entries(d);if(m.length>0){const[f,h]=m[0];return l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("dt",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Pt(f)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:324,columnNumber:23},this),l.jsxDEV("dd",{className:"mt-1 pl-4 text-gray-700 dark:text-gray-300",children:typeof h=="string"?Pt(h):Array.isArray(h)?ba(h,`${u}-list`):String(h)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:325,columnNumber:23},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:323,columnNumber:21},this)}}return l.jsxDEV("div",{className:"mt-2 text-red-600 dark:text-red-400",children:[l.jsxDEV("dt",{children:"Invalid definition item"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:341,columnNumber:19},this),l.jsxDEV("dd",{className:"pl-4 text-sm",children:JSON.stringify(a)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:342,columnNumber:19},this)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:340,columnNumber:17},this)})},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:269,columnNumber:11},this);case"table":{const a=i.headers&&Array.isArray(i.headers)&&i.headers.length>0;return i.rows&&Array.isArray(i.rows)&&i.rows.length>0?l.jsxDEV("div",{className:"my-6 w-full overflow-auto rounded-md border border-gray-200 dark:border-gray-700",children:l.jsxDEV(LH,{children:[a&&l.jsxDEV(FH,{children:l.jsxDEV(Nx,{children:i.headers.map((u,d)=>l.jsxDEV(BH,{children:Pt(u)},`${wt(i,o)}-header-${d}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:369,columnNumber:23},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:367,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:366,columnNumber:17},this),l.jsxDEV(HH,{children:i.rows.map((u,d)=>l.jsxDEV(Nx,{children:u.map((m,f)=>l.jsxDEV(UH,{children:typeof m=="string"?Pt(m):String(m)},`${wt(i,o)}-cell-${d}-${f}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:380,columnNumber:23},this))},`${wt(i,o)}-row-${d}`,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:378,columnNumber:19},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:376,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:364,columnNumber:13},this)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:363,columnNumber:11},this):l.jsxDEV("div",{className:"text-red-500 my-4",children:"Invalid table: missing rows"},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:356,columnNumber:13},this)}case"code":return l.jsxDEV("div",{className:"my-4",children:l.jsxDEV(zH,{language:i.language,value:r||"",showLineNumbers:!0},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:398,columnNumber:13},this)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:397,columnNumber:11},this);case"note":return l.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 my-4",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(Ou,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:413,columnNumber:15},this),l.jsxDEV("div",{className:"text-blue-800 dark:text-blue-200",children:Pt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:414,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:412,columnNumber:13},this)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:408,columnNumber:11},this);case"warning":return l.jsxDEV("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 my-4",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(tt,{className:"w-5 h-5 text-yellow-500 dark:text-yellow-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:428,columnNumber:15},this),l.jsxDEV("div",{className:"text-yellow-800 dark:text-yellow-200",children:Pt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:429,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:427,columnNumber:13},this)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:423,columnNumber:11},this);case"clinical_pearl":return l.jsxDEV(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border-l-4 border-primary rounded-lg p-4 my-4 shadow-sm",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(Qh,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:446,columnNumber:15},this),l.jsxDEV("div",{className:"text-gray-800 dark:text-gray-200",children:Pt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:445,columnNumber:13},this)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:438,columnNumber:11},this);case"markdown":return l.jsxDEV("div",{className:"my-4 prose dark:prose-invert prose-headings:scroll-mt-8 max-w-none",children:Pt(r)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:456,columnNumber:11},this);case"document":return l.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 my-4",children:l.jsxDEV("div",{className:"flex items-start gap-3",children:[l.jsxDEV(ju,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:468,columnNumber:15},this),l.jsxDEV("div",{className:"text-gray-800 dark:text-gray-200",children:Pt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:469,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:467,columnNumber:13},this)},wt(i,o),!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:463,columnNumber:11},this);default:return console.warn(`Unknown block type: ${i.type||"undefined"}`,i),r?l.jsxDEV("div",{className:"p-4 border border-amber-200 dark:border-amber-800 rounded-lg bg-amber-50 dark:bg-amber-900/20 my-4",children:[l.jsxDEV("div",{className:"flex items-start gap-2 mb-2",children:[l.jsxDEV(Es,{className:"w-5 h-5 text-amber-500 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:484,columnNumber:17},this),l.jsxDEV("p",{className:"text-amber-700 dark:text-amber-300 text-sm font-medium",children:["Unknown content type: ",i.type||"undefined"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:485,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:483,columnNumber:15},this),l.jsxDEV("div",{className:"text-gray-800 dark:text-gray-200 mt-2",children:Pt(r)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:489,columnNumber:15},this)]},wt(i,o),!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:482,columnNumber:13},this):l.jsxDEV("div",{className:"p-4 border border-amber-200 dark:border-amber-800 rounded-lg bg-amber-50 dark:bg-amber-900/20 my-4",children:[l.jsxDEV("div",{className:"flex items-start gap-2 mb-2",children:[l.jsxDEV(Es,{className:"w-5 h-5 text-amber-500 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:500,columnNumber:15},this),l.jsxDEV("p",{className:"text-amber-700 dark:text-amber-300 text-sm font-medium",children:"Unknown content block structure"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:499,columnNumber:13},this),l.jsxDEV("pre",{className:"mt-2 text-xs overflow-auto bg-amber-100 dark:bg-amber-900/40 p-2 rounded text-amber-800 dark:text-amber-200",children:JSON.stringify(i,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:505,columnNumber:13},this)]},wt(i,o),!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/ContentRenderer.tsx",lineNumber:498,columnNumber:11},this)}}}function GH({filePath:e}){const[t,n]=x.useState(null),[s,i]=x.useState(null),[o,r]=x.useState(!0),[a,c]=x.useState(null);return x.useEffect(()=>{e&&(async()=>{var d;console.log(" JsonHandbookViewer loading:",e),r(!0),i(null),n(null),c(null);try{const m=await fetch(e);if(console.log(" Content response:",{status:m.status,ok:m.ok,contentType:m.headers.get("content-type")}),!m.ok)throw new Error(`Failed to load content: ${m.statusText}`);const f=await m.json();console.log(" Content structure:",{hasContent:!!f.content,contentIsArray:Array.isArray(f.content),contentLength:((d=f.content)==null?void 0:d.length)||0,hasDefaultSections:!!f.sections&&Array.isArray(f.sections),keys:Object.keys(f)});let h=[],p={};const g=b=>{if(typeof b=="string")return{type:"paragraph",text:b,id:`block-${Math.random().toString(36).substring(2,11)}`};const w={...b};return w.id||(w.id=`block-${Math.random().toString(36).substring(2,11)}`),w.list&&Array.isArray(w.list)&&(w.type=w.type||"list",w.items=w.list,delete w.list),w.type==="bullets"?w.type="list":w.type==="numbers"?w.type="numbers":w.type==="definitions"&&(w.type="definitions"),!w.text&&!w.content&&(typeof w.value=="string"?w.text=w.value:typeof w.body=="string"&&(w.text=w.body)),w.items&&!Array.isArray(w.items)&&(typeof w.items=="string"?w.items=w.items.split(/\r?\n/).filter(Boolean):(console.warn("Invalid items format:",w.items),w.items=[])),w},v=b=>{if(!b)return[];if(Array.isArray(b))return b.map(w=>g(w));if(typeof b=="string")return[g({type:"paragraph",text:b})];if(typeof b=="object"&&b!==null){if(b.list&&Array.isArray(b.list))return[g({type:"list",items:b.list})];if(b.type&&typeof b.type=="string")return[g(b)];const w=[];for(const N in b){const E=b[N];E!==null&&(Array.isArray(E)?w.push(g({type:N==="numbers"?"numbers":"list",items:E})):typeof E=="string"?w.push(g({type:"paragraph",text:E})):typeof E=="object"&&w.push(...v(E)))}if(w.length>0)return w}return[g({type:"code",text:JSON.stringify(b,null,2)})]};if(f.content&&Array.isArray(f.content)){h=f.content.map(g);const{content:b,...w}=f;p=w}else if(f.sections&&Array.isArray(f.sections)){f.sections.forEach((N,E)=>{h.push(g({type:"heading",level:2,text:N.title||"Untitled Section",id:`section-${E}`})),N.content&&(Array.isArray(N.content)?N.content.forEach(D=>{h.push(...v(D))}):typeof N.content=="string"?h.push(g({type:"paragraph",text:N.content,id:`paragraph-${E}`})):typeof N.content=="object"&&N.content!==null&&h.push(...v(N.content)))});const{sections:b,...w}=f;p=w}else if(f.bullets||f.numbers||f.definitions){[{key:"bullets",type:"list"},{key:"numbers",type:"numbers"},{key:"definitions",type:"definitions"}].forEach(({key:T,type:M})=>{if(f[T]){let _=f[T];typeof _=="string"&&(_=_.split(/\r?\n/).filter(Boolean)),Array.isArray(_)&&_.length>0&&h.push(g({type:M,items:_,id:`${T}-${Math.random().toString(36).substring(2,9)}`}))}});const{bullets:w,numbers:N,definitions:E,...D}=f;p=D}else if(Object.keys(f).length>0){const b=Object.keys(f).filter(w=>!["title","category","section","metadata","version","author"].includes(w));if(b.length>0){b.forEach(N=>{const E=f[N];if(h.push(g({type:"heading",level:2,text:N.charAt(0).toUpperCase()+N.slice(1).replace(/_/g," "),id:`section-${N}`})),typeof E=="string")h.push(g({type:"paragraph",text:E,id:`${N}-text`}));else if(Array.isArray(E)){const D=N.includes("number")||N.includes("steps")?"numbers":"list";h.push(g({type:D,items:E.map(T=>typeof T=="string"?T:JSON.stringify(T)),id:`${N}-list`}))}else if(typeof E=="object"&&E!==null)if(Object.keys(E).every(D=>typeof E[D]=="string")){const D=Object.entries(E).map(([T,M])=>`${T}: ${M}`);h.push(g({type:"definitions",items:D,id:`${N}-definitions`}))}else{const D=Object.entries(E).map(([T,M])=>`**${T}**: ${M}`).join(`

`);h.push(g({type:"markdown",text:D,id:`${N}-obj`}))}});const w=["title","category","section","metadata","version","author"];p=Object.fromEntries(Object.entries(f).filter(([N])=>w.includes(N)))}}h.length===0&&(h=[g({type:"code",text:JSON.stringify(f,null,2),id:"raw-json"})]),console.log(" Content processed:",{contentBlocks:h.length,metadata:p}),n(h),c(p)}catch(m){console.error(" Error loading content:",m),i(m instanceof Error?m.message:"Failed to load content")}finally{r(!1)}})()},[e]),o?l.jsxDEV("div",{className:"flex items-center justify-center h-32",children:l.jsxDEV(Zs,{className:"w-6 h-6 animate-spin text-primary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:353,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:352,columnNumber:7},this):s?l.jsxDEV("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700",children:l.jsxDEV("div",{className:"flex items-start",children:[l.jsxDEV(tt,{className:"w-5 h-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:362,columnNumber:11},this),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"Error Loading Content"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:364,columnNumber:13},this),l.jsxDEV("p",{className:"mt-1",children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:365,columnNumber:13},this),l.jsxDEV("p",{className:"mt-4 text-sm",children:["File path: ",l.jsxDEV("code",{className:"bg-red-100 px-1 py-0.5 rounded",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:367,columnNumber:26},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:366,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:363,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:361,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:360,columnNumber:7},this):!t||t.length===0?l.jsxDEV("div",{className:"p-4 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-700",children:l.jsxDEV("div",{className:"flex items-start",children:[l.jsxDEV(tt,{className:"w-5 h-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:379,columnNumber:11},this),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"No Content Available"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:381,columnNumber:13},this),l.jsxDEV("p",{className:"mt-1",children:"The document appears to be empty or incorrectly formatted."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:382,columnNumber:13},this),l.jsxDEV("p",{className:"mt-4 text-sm",children:["File path: ",l.jsxDEV("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:384,columnNumber:26},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:383,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:380,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:378,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:377,columnNumber:7},this):l.jsxDEV(WH,{content:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/JsonHandbookViewer.tsx",lineNumber:392,columnNumber:10},this)}const RT="/public",jT={"medical-oncology":"medical_oncology_handbook","radiation-oncology":"radiation_handbook","palliative-care":"palliative_handbook"};function OT(e){const t=jT[e];if(!t)throw new Error(`Invalid handbook section: ${e}`);return t}function qH(e){const t=OT(e);return`${RT}/${t}/toc.json`}function KH(e,t){const n=OT(e),s=`${RT}/${n}`;if(!t)return`${s}/overview.json`;const i=t.replace(/^\/+|\/+$/g,"").replace(/\.json$|\.md$/,""),o=`${s}/${i}.json`;return console.log(` getContentPath generated: ${o} from topic: ${t}`),o}function yx(e){return e in jT}function YH(e){if(console.log(" parseHandbookPath input:",e),!e.startsWith("/handbook"))return console.log(" Not a handbook path"),{};const t=e.split("/").filter(Boolean);if(t.shift(),t.length===0)return console.log(" No section found"),{};const n=t[0],s=t.slice(1).join("/");return console.log(" Parsed path:",{section:n,topic:s}),{section:n||void 0,topic:s||void 0}}function XH(e,t){const[n,s]=x.useState(null),[i,o]=x.useState(null),[r,a]=x.useState(!0),[c,u]=x.useState(null);return x.useEffect(()=>{(async()=>{console.log(" useHandbookData loading:",{section:e,topic:t}),a(!0),u(null),s(null),o(null);try{if(!e){console.log(" No section provided, skipping load"),a(!1);return}if(!yx(e)){console.warn(" Invalid section:",e),u(new Error(`Invalid handbook section: ${e}`)),a(!1);return}const m=qH(e);console.log(" Loading TOC from:",m);try{const f=await fetch(m);if(!f.ok)throw new Error(`Failed to load TOC: ${f.statusText}`);const h=await f.json();if(!Array.isArray(h))throw new Error(`Invalid TOC format: Expected an array but got ${typeof h}`);console.log(" TOC loaded successfully with",h.length,"entries"),s(h)}catch(f){throw console.error(" Error loading TOC:",f),new Error(`Failed to load handbook navigation: ${f instanceof Error?f.message:"Unknown error"}`)}if(t){const f=KH(e,t);console.log(" Content path:",f),o(f)}else console.log(" No topic provided, skipping content load")}catch(m){console.error(" Error in useHandbookData:",m),u(m instanceof Error?m:new Error("Failed to load handbook data"))}finally{a(!1)}})()},[e,t]),{tocData:n,activeFile:i,isLoading:r,error:c,isValidSection:e?yx(e):!1}}function JH(e){if(e instanceof Error)return{message:e.message,stack:e.stack,code:"ERROR"};if(e&&typeof e=="object"){const t=e;return{message:typeof t.message=="string"?t.message:"Unknown error",code:typeof t.code=="string"?t.code:"UNKNOWN",pageViewId:typeof t.pageViewId=="string"?t.pageViewId:"unknown",stack:typeof t.stack=="string"?t.stack:void 0}}return{message:String(e),code:"UNKNOWN"}}const QH=[{id:"medical-oncology",title:"Medical Oncology",description:"Clinical oncology chapters, diagnosis, treatment, supportive care, emergencies, and reference tools.",icon:Qh},{id:"radiation-oncology",title:"Radiation Oncology",description:"Detailed protocols for radiation therapy, treatment planning, dosimetry, and management of radiation-related effects.",icon:Zn},{id:"palliative-care",title:"Palliative Care",description:"Guidelines for symptom management, pain control, and improving quality of life for patients with advanced cancer.",icon:Zn}],ZH=()=>{var m,f;const e=l2(),t=os(),{section:n,topic:s}=x.useMemo(()=>{const h=YH(e.pathname);return console.log(" Parsed handbook path:",{...h,pathname:e.pathname}),h},[e.pathname]),{tocData:i,activeFile:o,isLoading:r,error:a,isValidSection:c}=XH(n,s),u=x.useMemo(()=>n?QH.find(h=>h.id===n):void 0,[n]),d=x.useCallback((h,p)=>{try{console.log(" Navigation request:",{selectedSection:h,selectedTopic:p});const g=p.replace(/^\/+|\/+$/g,"").replace(/\.json$|\.md$/,""),v=`/handbook/${h}/${g}`;t(v)}catch(g){console.error(" Navigation error:",g)}},[t]);return e.pathname==="/handbook"?l.jsxDEV(yV,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:61,columnNumber:12},void 0):n&&!c?l.jsxDEV("div",{className:"p-8",children:l.jsxDEV("div",{className:"text-red-500 p-4 rounded-lg bg-red-50 border border-red-200",children:["Invalid handbook section: ",n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:68,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:67,columnNumber:7},void 0):l.jsxDEV("div",{className:"flex h-full bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800",children:[r?l.jsxDEV("div",{className:"w-80 flex-shrink-0 flex items-center justify-center p-6",children:l.jsxDEV(Zs,{className:"w-8 h-8 animate-spin text-primary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:80,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:79,columnNumber:9},void 0):a?l.jsxDEV("div",{className:"w-80 flex-shrink-0 p-6",children:l.jsxDEV("div",{className:"text-red-500 p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:typeof a=="string"?a:JH(a).message},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:84,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:83,columnNumber:9},void 0):l.jsxDEV(DV,{section:n,tocData:i||[],activeTopicId:s?`${n}/${s}`:n,onTopicClick:d},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:89,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-1 p-8 overflow-y-auto min-h-screen",id:"handbook-content-area",children:l.jsxDEV(xV,{children:o?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[l.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s?(f=(m=s.split("/").pop())==null?void 0:m.replace(/-/g," "))==null?void 0:f.replace(".json",""):(u==null?void 0:u.title)||"Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:104,columnNumber:17},void 0),l.jsxDEV("button",{onClick:()=>window.print(),className:`inline-flex items-center px-3 py-1.5 text-sm\r
                    bg-white dark:bg-slate-800 \r
                    text-gray-700 dark:text-gray-300\r
                    border border-gray-200 dark:border-gray-700\r
                    rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-slate-700\r
                    transition-colors`,children:[l.jsxDEV("span",{role:"img","aria-label":"Print",className:"mr-1",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:118,columnNumber:19},void 0)," Print"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:103,columnNumber:15},void 0),l.jsxDEV(lt,{moduleName:"AI Handbook",children:l.jsxDEV(GH,{filePath:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:123,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:101,columnNumber:13},void 0):l.jsxDEV("div",{className:"text-center py-12",children:[l.jsxDEV(Zn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:129,columnNumber:15},void 0),l.jsxDEV("h2",{className:"text-xl font-medium text-muted-foreground",children:"Select a topic from the sidebar to view its content."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:130,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-muted-foreground mt-2",children:["You are currently in the ",l.jsxDEV("span",{className:"font-semibold",children:(u==null?void 0:u.title)||"Handbook"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:134,columnNumber:42},void 0)," section."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:133,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:128,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:99,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:98,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/handbook/Handbook.tsx",lineNumber:76,columnNumber:5},void 0)};function xg(e){const t=e+"CollectionProvider",[n,s]=_s(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),r=g=>{const{scope:v,children:b}=g,w=Re.useRef(null),N=Re.useRef(new Map).current;return G.jsx(i,{scope:v,itemMap:N,collectionRef:w,children:b})};r.displayName=t;const a=e+"CollectionSlot",c=mr(a),u=Re.forwardRef((g,v)=>{const{scope:b,children:w}=g,N=o(a,b),E=Je(v,N.collectionRef);return G.jsx(c,{ref:E,children:w})});u.displayName=a;const d=e+"CollectionItemSlot",m="data-radix-collection-item",f=mr(d),h=Re.forwardRef((g,v)=>{const{scope:b,children:w,...N}=g,E=Re.useRef(null),D=Je(v,E),T=o(d,b);return Re.useEffect(()=>(T.itemMap.set(E,{ref:E,...N}),()=>void T.itemMap.delete(E))),G.jsx(f,{[m]:"",ref:D,children:w})});h.displayName=d;function p(g){const v=o(e+"CollectionConsumer",g);return Re.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((T,M)=>N.indexOf(T.ref.current)-N.indexOf(M.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:r,Slot:u,ItemSlot:h},p,s]}var Ng="ToastProvider",[yg,eU,tU]=xg("Toast"),[VT,Zte]=_s("Toast",[tU]),[nU,dd]=VT(Ng),LT=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:r}=e,[a,c]=x.useState(null),[u,d]=x.useState(0),m=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ng}\`. Expected non-empty \`string\`.`),G.jsx(yg.Provider,{scope:t,children:G.jsx(nU,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:x.useCallback(()=>d(h=>h+1),[]),onToastRemove:x.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:r})})};LT.displayName=Ng;var FT="ToastViewport",sU=["F8"],bh="toast.viewportPause",vh="toast.viewportResume",BT=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=sU,label:i="Notifications ({hotkey})",...o}=e,r=dd(FT,n),a=eU(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),m=x.useRef(null),f=Je(t,m,r.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=r.toastCount>0;x.useEffect(()=>{const v=b=>{var N;s.length!==0&&s.every(E=>b[E]||b.code===E)&&((N=m.current)==null||N.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),x.useEffect(()=>{const v=c.current,b=m.current;if(p&&v&&b){const w=()=>{if(!r.isClosePausedRef.current){const T=new CustomEvent(bh);b.dispatchEvent(T),r.isClosePausedRef.current=!0}},N=()=>{if(r.isClosePausedRef.current){const T=new CustomEvent(vh);b.dispatchEvent(T),r.isClosePausedRef.current=!1}},E=T=>{!v.contains(T.relatedTarget)&&N()},D=()=>{v.contains(document.activeElement)||N()};return v.addEventListener("focusin",w),v.addEventListener("focusout",E),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",N),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",E),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",N)}}},[p,r.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:v})=>{const w=a().map(N=>{const E=N.ref.current,D=[E,...gU(E)];return v==="forwards"?D:D.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const v=m.current;if(v){const b=w=>{var D,T,M;const N=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!N){const _=document.activeElement,P=w.shiftKey;if(w.target===v&&P){(D=u.current)==null||D.focus();return}const B=g({tabbingDirection:P?"backwards":"forwards"}),A=B.findIndex(V=>V===_);_m(B.slice(A+1))?w.preventDefault():P?(T=u.current)==null||T.focus():(M=d.current)==null||M.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[a,g]),G.jsxs(JI,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&G.jsx(xh,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});_m(v)}}),G.jsx(yg.Slot,{scope:n,children:G.jsx(Pe.ol,{tabIndex:-1,...o,ref:f})}),p&&G.jsx(xh,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});_m(v)}})]})});BT.displayName=FT;var HT="ToastFocusProxy",xh=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,o=dd(HT,n);return G.jsx(qu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:r=>{var u;const a=r.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&s()}})});xh.displayName=HT;var Il="Toast",iU="toast.swipeStart",oU="toast.swipeMove",rU="toast.swipeCancel",aU="toast.swipeEnd",UT=x.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:o,...r}=e,[a,c]=Ei({prop:s,defaultProp:i??!0,onChange:o,caller:Il});return G.jsx(Un,{present:n||a,children:G.jsx(uU,{open:a,...r,ref:t,onClose:()=>c(!1),onPause:At(e.onPause),onResume:At(e.onResume),onSwipeStart:Se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(e.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(e.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});UT.displayName=Il;var[lU,cU]=VT(Il,{onClose(){}}),uU=x.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:o,onClose:r,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:h,...p}=e,g=dd(Il,n),[v,b]=x.useState(null),w=Je(t,V=>b(V)),N=x.useRef(null),E=x.useRef(null),D=i||g.duration,T=x.useRef(0),M=x.useRef(D),_=x.useRef(0),{onToastAdd:P,onToastRemove:k}=g,L=At(()=>{var O;(v==null?void 0:v.contains(document.activeElement))&&((O=g.viewport)==null||O.focus()),r()}),B=x.useCallback(V=>{!V||V===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(L,V))},[L]);x.useEffect(()=>{const V=g.viewport;if(V){const O=()=>{B(M.current),u==null||u()},U=()=>{const q=new Date().getTime()-T.current;M.current=M.current-q,window.clearTimeout(_.current),c==null||c()};return V.addEventListener(bh,U),V.addEventListener(vh,O),()=>{V.removeEventListener(bh,U),V.removeEventListener(vh,O)}}},[g.viewport,D,c,u,B]),x.useEffect(()=>{o&&!g.isClosePausedRef.current&&B(D)},[o,D,g.isClosePausedRef,B]),x.useEffect(()=>(P(),()=>k()),[P,k]);const A=x.useMemo(()=>v?YT(v):null,[v]);return g.viewport?G.jsxs(G.Fragment,{children:[A&&G.jsx(dU,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),G.jsx(lU,{scope:n,onClose:L,children:xo.createPortal(G.jsx(yg.ItemSlot,{scope:n,children:G.jsx(XI,{asChild:!0,onEscapeKeyDown:Se(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:G.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Se(e.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Se(e.onPointerDown,V=>{V.button===0&&(N.current={x:V.clientX,y:V.clientY})}),onPointerMove:Se(e.onPointerMove,V=>{if(!N.current)return;const O=V.clientX-N.current.x,U=V.clientY-N.current.y,q=!!E.current,$=["left","right"].includes(g.swipeDirection),Z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=$?Z(0,O):0,ie=$?0:Z(0,U),ve=V.pointerType==="touch"?10:2,j={x:I,y:ie},ce={originalEvent:V,delta:j};q?(E.current=j,uc(oU,m,ce,{discrete:!1})):wx(j,g.swipeDirection,ve)?(E.current=j,uc(iU,d,ce,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(O)>ve||Math.abs(U)>ve)&&(N.current=null)}),onPointerUp:Se(e.onPointerUp,V=>{const O=E.current,U=V.target;if(U.hasPointerCapture(V.pointerId)&&U.releasePointerCapture(V.pointerId),E.current=null,N.current=null,O){const q=V.currentTarget,$={originalEvent:V,delta:O};wx(O,g.swipeDirection,g.swipeThreshold)?uc(aU,h,$,{discrete:!0}):uc(rU,f,$,{discrete:!0}),q.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),dU=e=>{const{__scopeToast:t,children:n,...s}=e,i=dd(Il,t),[o,r]=x.useState(!1),[a,c]=x.useState(!1);return hU(()=>r(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:G.jsx(Gu,{asChild:!0,children:G.jsx(qu,{...s,children:o&&G.jsxs(G.Fragment,{children:[i.label," ",n]})})})},mU="ToastTitle",zT=x.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return G.jsx(Pe.div,{...s,ref:t})});zT.displayName=mU;var fU="ToastDescription",$T=x.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return G.jsx(Pe.div,{...s,ref:t})});$T.displayName=fU;var WT="ToastAction",GT=x.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?G.jsx(KT,{altText:n,asChild:!0,children:G.jsx(wg,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WT}\`. Expected non-empty \`string\`.`),null)});GT.displayName=WT;var qT="ToastClose",wg=x.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=cU(qT,n);return G.jsx(KT,{asChild:!0,children:G.jsx(Pe.button,{type:"button",...s,ref:t,onClick:Se(e.onClick,i.onClose)})})});wg.displayName=qT;var KT=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return G.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function YT(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),pU(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const r=s.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...YT(s))}}),t}function uc(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?Nw(i,o):i.dispatchEvent(o)}var wx=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),o=s>i;return t==="left"||t==="right"?o&&s>n:!o&&i>n};function hU(e=()=>{}){const t=At(e);Ht(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function pU(e){return e.nodeType===e.ELEMENT_NODE}function gU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _m(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var bU=LT,XT=BT,JT=UT,QT=zT,ZT=$T,eS=GT,tS=wg;const Dx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ex=Py,md=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Ex(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,r=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],m=o==null?void 0:o[u];if(d===null)return null;const f=Dx(d)||Dx(m);return i[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[m,f]=d;return f===void 0||(u[m]=f),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:m,className:f,...h}=d;return Object.entries(h).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...u,m,f]:u},[]);return Ex(e,r,c,n==null?void 0:n.class,n==null?void 0:n.className)},nS=bU,sS=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(XT,{ref:n,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:12,columnNumber:3},void 0));sS.displayName=XT.displayName;const vU=md("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dg=x.forwardRef(({className:e,variant:t,...n},s)=>l.jsxDEV(JT,{ref:s,className:vU({variant:t}),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:42,columnNumber:5},void 0));Dg.displayName=JT.displayName;const xU=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(eS,{ref:n,className:"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:55,columnNumber:3},void 0));xU.displayName=eS.displayName;const iS=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(tS,{ref:n,className:"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600","toast-close":"",...t,children:l.jsxDEV(Qn,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:67,columnNumber:3},void 0));iS.displayName=tS.displayName;const oS=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(QT,{ref:n,className:"text-sm font-semibold",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:82,columnNumber:3},void 0));oS.displayName=QT.displayName;const rS=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(ZT,{ref:n,className:"text-sm opacity-90",...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toast.tsx",lineNumber:94,columnNumber:3},void 0));rS.displayName=ZT.displayName;const NU=1,yU=1e3;let km=0;function wU(){return km=(km+1)%Number.MAX_VALUE,km.toString()}const Mm=new Map,Tx=e=>{if(Mm.has(e))return;const t=setTimeout(()=>{Mm.delete(e),Ba({type:"REMOVE_TOAST",toastId:e})},yU);Mm.set(e,t)},DU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,NU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Tx(n):e.toasts.forEach(s=>{Tx(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},qc=[];let Kc={toasts:[]};function Ba(e){Kc=DU(Kc,e),qc.forEach(t=>{t(Kc)})}function vr({...e}){const t=wU(),n=i=>Ba({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Ba({type:"DISMISS_TOAST",toastId:t});return Ba({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function Eg(){const[e,t]=x.useState(Kc);return x.useEffect(()=>(qc.push(t),()=>{const n=qc.indexOf(t);n>-1&&qc.splice(n,1)}),[e]),{...e,toast:vr,dismiss:n=>Ba({type:"DISMISS_TOAST",toastId:n})}}function EU(){const{toasts:e}=Eg();return l.jsxDEV(nS,{children:[e.map(function({id:t,title:n,description:s,action:i,...o}){return l.jsxDEV(Dg,{...o,children:[l.jsxDEV("div",{className:"grid gap-1",children:[n&&l.jsxDEV(oS,{children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:20,columnNumber:25},this),s&&l.jsxDEV(rS,{children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:22,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:19,columnNumber:13},this),i,l.jsxDEV(iS,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:26,columnNumber:13},this)]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:18,columnNumber:11},this)}),l.jsxDEV(sS,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/toaster.tsx",lineNumber:15,columnNumber:5},this)}var TU=Object.defineProperty,SU=(e,t,n)=>t in e?TU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cm=(e,t,n)=>(SU(e,typeof t!="symbol"?t+"":t,n),n);let _U=class{constructor(){Cm(this,"current",this.detect()),Cm(this,"handoffState","pending"),Cm(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},co=new _U,Qs=(e,t)=>{co.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function va(e){let t=x.useRef(e);return Qs(()=>{t.current=e},[e]),t}let pi=function(e){let t=va(e);return Re.useCallback((...n)=>t.current(...n),[t])};function kU(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function MU(){let e=typeof document>"u";return"useSyncExternalStore"in tu?(t=>t.useSyncExternalStore)(tu)(()=>()=>{},()=>!1,()=>!e):!1}function CU(){let e=MU(),[t,n]=x.useState(co.isHandoffComplete);return t&&co.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{t!==!0&&n(!0)},[t]),x.useEffect(()=>co.handoff(),[]),e?!1:t}var Sx;let aS=(Sx=Re.useId)!=null?Sx:function(){let e=CU(),[t,n]=Re.useState(e?()=>co.nextId():null);return Qs(()=>{t===null&&n(co.nextId())},[t]),t!=null?""+t:void 0};function uo(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,uo),s}function PU(e){return co.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let AU=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Gn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Gn||{}),xa=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(xa||{}),IU=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(IU||{});function RU(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(AU)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var jU=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(jU||{}),OU=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(OU||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let VU=["textarea","input"].join(",");function LU(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,VU))!=null?n:!1}function nr(e,t=n=>n){return e.slice().sort((n,s)=>{let i=t(n),o=t(s);if(i===null||o===null)return 0;let r=i.compareDocumentPosition(o);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Oo(e,t,{sorted:n=!0,relativeTo:s=null,skipElements:i=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,r=Array.isArray(e)?n?nr(e):e:RU(e);i.length>0&&r.length>1&&(r=r.filter(h=>!i.includes(h))),s=s??o.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,r.indexOf(s))-1;if(t&4)return Math.max(0,r.indexOf(s))+1;if(t&8)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,m=r.length,f;do{if(d>=m||d+m<=0)return 0;let h=c+d;if(t&16)h=(h+m)%m;else{if(h<0)return 3;if(h>=m)return 1}f=r[h],f==null||f.focus(u),d+=a}while(f!==o.activeElement);return t&6&&LU(f)&&f.select(),2}function _x(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function FU(e,t){let[n,s]=x.useState(()=>_x(e));return Qs(()=>{s(_x(e))},[e.type,e.as]),Qs(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")},[n,t]),n}let lS=Symbol();function tne(e,t=!0){return Object.assign(e,{[lS]:t})}function Rl(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let n=pi(s=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(s):i.current=s)});return e.every(s=>s==null||(s==null?void 0:s[lS]))?void 0:n}function kx(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Nh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Nh||{}),BU=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(BU||{});function Hr({ourProps:e,theirProps:t,slot:n,defaultTag:s,features:i,visible:o=!0,name:r,mergeRefs:a}){a=a??HU;let c=cS(t,e);if(o)return dc(c,n,s,r,a);let u=i??0;if(u&2){let{static:d=!1,...m}=c;if(d)return dc(m,n,s,r,a)}if(u&1){let{unmount:d=!0,...m}=c;return uo(d?0:1,{0(){return null},1(){return dc({...m,hidden:!0,style:{display:"none"}},n,s,r,a)}})}return dc(c,n,s,r,a)}function dc(e,t={},n,s,i){let{as:o=n,children:r,refName:a="ref",...c}=Pm(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof r=="function"?r(t):r;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let m={};if(t){let f=!1,h=[];for(let[p,g]of Object.entries(t))typeof g=="boolean"&&(f=!0),g===!0&&h.push(p);f&&(m["data-headlessui-state"]=h.join(" "))}if(o===x.Fragment&&Object.keys(Mx(c)).length>0){if(!x.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let f=d.props,h=typeof(f==null?void 0:f.className)=="function"?(...g)=>kx(f==null?void 0:f.className(...g),c.className):kx(f==null?void 0:f.className,c.className),p=h?{className:h}:{};return x.cloneElement(d,Object.assign({},cS(d.props,Mx(Pm(c,["ref"]))),m,u,{ref:i(d.ref,u.ref)},p))}return x.createElement(o,Object.assign({},Pm(c,["ref"]),o!==x.Fragment&&u,o!==x.Fragment&&m),d)}function nne(){let e=x.useRef([]),t=x.useCallback(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return e.current=n,t}}function HU(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function cS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let s of e)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):t[i]=s[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(t,{[s](i,...o){let r=n[s];for(let a of r){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return t}function Ur(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Mx(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Pm(e,t=[]){let n=Object.assign({},e);for(let s of t)s in n&&delete n[s];return n}let UU="div";var uS=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(uS||{});function zU(e,t){var n;let{features:s=1,...i}=e,o={ref:t,"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Hr({ourProps:o,theirProps:i,slot:{},defaultTag:UU,name:"Hidden"})}let dS=Ur(zU);var qn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(qn||{});function $U(){let e=x.useRef(!1);return Qs(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function WU({onFocus:e}){let[t,n]=x.useState(!0),s=$U();return t?Re.createElement(dS,{as:"button",type:"button",features:uS.Focusable,onFocus:i=>{i.preventDefault();let o,r=50;function a(){if(r--<=0){o&&cancelAnimationFrame(o);return}if(e()){if(cancelAnimationFrame(o),!s.current)return;n(!1);return}o=requestAnimationFrame(a)}o=requestAnimationFrame(a)}}):null}const mS=x.createContext(null);function GU(){return{groups:new Map,get(e,t){var n;let s=this.groups.get(e);s||(s=new Map,this.groups.set(e,s));let i=(n=s.get(t))!=null?n:0;s.set(t,i+1);let o=Array.from(s.keys()).indexOf(t);function r(){let a=s.get(t);a>1?s.set(t,a-1):s.delete(t)}return[o,r]}}}function qU({children:e}){let t=x.useRef(GU());return x.createElement(mS.Provider,{value:t},e)}function fS(e){let t=x.useContext(mS);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=KU(),[s,i]=t.current.get(e,n);return x.useEffect(()=>i,[]),s}function KU(){var e,t,n;let s=(n=(t=(e=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!s)return Symbol();let i=[],o=s;for(;o;)i.push(o.index),o=o.return;return"$."+i.join(".")}var YU=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(YU||{}),XU=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(XU||{}),JU=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(JU||{});let QU={0(e,t){var n;let s=nr(e.tabs,d=>d.current),i=nr(e.panels,d=>d.current),o=s.filter(d=>{var m;return!((m=d.current)!=null&&m.hasAttribute("disabled"))}),r={...e,tabs:s,panels:i};if(t.index<0||t.index>s.length-1){let d=uo(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>uo(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return r;let m=uo(d,{0:()=>s.indexOf(o[0]),1:()=>s.indexOf(o[o.length-1])});return{...r,selectedIndex:m===-1?e.selectedIndex:m}}let a=s.slice(0,t.index),c=[...s.slice(t.index),...a].find(d=>o.includes(d));if(!c)return r;let u=(n=s.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...r,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],s=nr([...e.tabs,t.tab],o=>o.current),i=e.selectedIndex;return e.info.current.isControlled||(i=s.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:s,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:nr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Tg=x.createContext(null);Tg.displayName="TabsDataContext";function xr(e){let t=x.useContext(Tg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xr),n}return t}let Sg=x.createContext(null);Sg.displayName="TabsActionsContext";function _g(e){let t=x.useContext(Sg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_g),n}return t}function ZU(e,t){return uo(t.type,QU,e,t)}let ez=x.Fragment;function tz(e,t){let{defaultIndex:n=0,vertical:s=!1,manual:i=!1,onChange:o,selectedIndex:r=null,...a}=e;const c=s?"vertical":"horizontal",u=i?"manual":"auto";let d=r!==null,m=va({isControlled:d}),f=Rl(t),[h,p]=x.useReducer(ZU,{info:m,selectedIndex:r??n,tabs:[],panels:[]}),g=x.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=va(o||(()=>{})),b=va(h.tabs),w=x.useMemo(()=>({orientation:c,activation:u,...h}),[c,u,h]),N=pi(P=>(p({type:1,tab:P}),()=>p({type:2,tab:P}))),E=pi(P=>(p({type:3,panel:P}),()=>p({type:4,panel:P}))),D=pi(P=>{T.current!==P&&v.current(P),d||p({type:0,index:P})}),T=va(d?e.selectedIndex:h.selectedIndex),M=x.useMemo(()=>({registerTab:N,registerPanel:E,change:D}),[]);Qs(()=>{p({type:0,index:r??n})},[r]),Qs(()=>{if(T.current===void 0||h.tabs.length<=0)return;let P=nr(h.tabs,k=>k.current);P.some((k,L)=>h.tabs[L]!==k)&&D(P.indexOf(h.tabs[T.current]))});let _={ref:f};return Re.createElement(qU,null,Re.createElement(Sg.Provider,{value:M},Re.createElement(Tg.Provider,{value:w},w.tabs.length<=0&&Re.createElement(WU,{onFocus:()=>{var P,k;for(let L of b.current)if(((P=L.current)==null?void 0:P.tabIndex)===0)return(k=L.current)==null||k.focus(),!0;return!1}}),Hr({ourProps:_,theirProps:a,slot:g,defaultTag:ez,name:"Tabs"}))))}let nz="div";function sz(e,t){let{orientation:n,selectedIndex:s}=xr("Tab.List"),i=Rl(t);return Hr({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:s},defaultTag:nz,name:"Tabs.List"})}let iz="button";function oz(e,t){var n,s;let i=aS(),{id:o=`headlessui-tabs-tab-${i}`,...r}=e,{orientation:a,activation:c,selectedIndex:u,tabs:d,panels:m}=xr("Tab"),f=_g("Tab"),h=xr("Tab"),p=x.useRef(null),g=Rl(p,t);Qs(()=>f.registerTab(p),[f,p]);let v=fS("tabs"),b=d.indexOf(p);b===-1&&(b=v);let w=b===u,N=pi(k=>{var L;let B=k();if(B===xa.Success&&c==="auto"){let A=(L=PU(p))==null?void 0:L.activeElement,V=h.tabs.findIndex(O=>O.current===A);V!==-1&&f.change(V)}return B}),E=pi(k=>{let L=d.map(B=>B.current).filter(Boolean);if(k.key===qn.Space||k.key===qn.Enter){k.preventDefault(),k.stopPropagation(),f.change(b);return}switch(k.key){case qn.Home:case qn.PageUp:return k.preventDefault(),k.stopPropagation(),N(()=>Oo(L,Gn.First));case qn.End:case qn.PageDown:return k.preventDefault(),k.stopPropagation(),N(()=>Oo(L,Gn.Last))}if(N(()=>uo(a,{vertical(){return k.key===qn.ArrowUp?Oo(L,Gn.Previous|Gn.WrapAround):k.key===qn.ArrowDown?Oo(L,Gn.Next|Gn.WrapAround):xa.Error},horizontal(){return k.key===qn.ArrowLeft?Oo(L,Gn.Previous|Gn.WrapAround):k.key===qn.ArrowRight?Oo(L,Gn.Next|Gn.WrapAround):xa.Error}}))===xa.Success)return k.preventDefault()}),D=x.useRef(!1),T=pi(()=>{var k;D.current||(D.current=!0,(k=p.current)==null||k.focus({preventScroll:!0}),f.change(b),kU(()=>{D.current=!1}))}),M=pi(k=>{k.preventDefault()}),_=x.useMemo(()=>{var k;return{selected:w,disabled:(k=e.disabled)!=null?k:!1}},[w,e.disabled]),P={ref:g,onKeyDown:E,onMouseDown:M,onClick:T,id:o,role:"tab",type:FU(e,p),"aria-controls":(s=(n=m[b])==null?void 0:n.current)==null?void 0:s.id,"aria-selected":w,tabIndex:w?0:-1};return Hr({ourProps:P,theirProps:r,slot:_,defaultTag:iz,name:"Tabs.Tab"})}let rz="div";function az(e,t){let{selectedIndex:n}=xr("Tab.Panels"),s=Rl(t),i=x.useMemo(()=>({selectedIndex:n}),[n]);return Hr({ourProps:{ref:s},theirProps:e,slot:i,defaultTag:rz,name:"Tabs.Panels"})}let lz="div",cz=Nh.RenderStrategy|Nh.Static;function uz(e,t){var n,s,i,o;let r=aS(),{id:a=`headlessui-tabs-panel-${r}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:m,panels:f}=xr("Tab.Panel"),h=_g("Tab.Panel"),p=x.useRef(null),g=Rl(p,t);Qs(()=>h.registerPanel(p),[h,p,a]);let v=fS("panels"),b=f.indexOf(p);b===-1&&(b=v);let w=b===d,N=x.useMemo(()=>({selected:w}),[w]),E={ref:g,id:a,role:"tabpanel","aria-labelledby":(s=(n=m[b])==null?void 0:n.current)==null?void 0:s.id,tabIndex:w?c:-1};return!w&&((i=u.unmount)==null||i)&&!((o=u.static)!=null&&o)?Re.createElement(dS,{as:"span","aria-hidden":"true",...E}):Hr({ourProps:E,theirProps:u,slot:N,defaultTag:lz,features:cz,visible:w,name:"Tabs.Panel"})}let dz=Ur(oz),mz=Ur(tz),fz=Ur(sz),hz=Ur(az),pz=Ur(uz),pt=Object.assign(dz,{Group:mz,List:fz,Panels:hz,Panel:pz});const gz=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg",children:l.jsxDEV("div",{className:"p-6",children:l.jsxDEV("div",{className:"space-y-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/EvaluationCard.tsx",lineNumber:11,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/EvaluationCard.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/EvaluationCard.tsx",lineNumber:9,columnNumber:5},void 0),bz=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/PathwayCard.tsx",lineNumber:5,columnNumber:5},void 0),vz=({children:e})=>l.jsxDEV("div",{className:"opd-card",children:l.jsxDEV("div",{className:"opd-card-content",children:l.jsxDEV("div",{className:"space-y-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ScreeningCard.tsx",lineNumber:11,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ScreeningCard.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ScreeningCard.tsx",lineNumber:9,columnNumber:5},void 0),xz=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/ReferralCard.tsx",lineNumber:5,columnNumber:5},void 0),Nz=({children:e})=>l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cards/FollowUpCard.tsx",lineNumber:5,columnNumber:5},void 0),yz=({patientData:e,isEnabled:t=!1})=>{const[n,s]=x.useState("loading"),[i,o]=x.useState(null),[r,a]=x.useState(null);x.useEffect(()=>{if(!t){s("disabled");return}if(!e){s("disabled"),o("No patient data available to generate a summary.");return}(async()=>{try{s("loading"),await new Promise(m=>setTimeout(m,1500));const d=c(e);o(d),s("generated")}catch(d){console.error("Failed to generate AI summary:",d),a("Failed to generate summary. Please try again later."),s("error")}})()},[e,t]);const c=u=>"This 58-year-old patient presents with symptoms suggestive of possible oncological condition. Based on the available data, recommend further investigation including appropriate imaging and possibly tissue diagnosis. Consider referral to specialized oncology service for comprehensive evaluation.";return n==="disabled"&&!i?null:l.jsxDEV("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxDEV("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsxDEV("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:75,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:68,columnNumber:9},void 0),l.jsxDEV("h3",{className:"text-lg font-semibold text-blue-800",children:"AI Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:82,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:67,columnNumber:7},void 0),n==="loading"&&l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"flex items-center text-blue-600",children:[l.jsxDEV(Zs,{className:"w-5 h-5 mr-2 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:88,columnNumber:13},void 0),l.jsxDEV("span",{children:"Generating clinical summary..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:87,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 bg-blue-100 rounded animate-pulse"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:91,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 bg-blue-100 rounded animate-pulse w-5/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:92,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 bg-blue-100 rounded animate-pulse w-4/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:86,columnNumber:9},void 0),n==="generated"&&i&&l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"flex items-center text-green-600 mb-2",children:[l.jsxDEV(Si,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:100,columnNumber:13},void 0),l.jsxDEV("span",{children:"Summary generated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:99,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-700",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:103,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:98,columnNumber:9},void 0),n==="error"&&l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"flex items-center text-red-600",children:[l.jsxDEV(Es,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:110,columnNumber:13},void 0),l.jsxDEV("span",{children:r||"Failed to generate summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:109,columnNumber:11},void 0),l.jsxDEV("button",{className:"text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 mt-2",onClick:()=>{e&&(s("loading"),setTimeout(()=>{o(c()),s("generated")},1500))},children:"Try Again"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:113,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:108,columnNumber:9},void 0),n==="disabled"&&i&&l.jsxDEV("div",{className:"text-sm text-gray-500",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:132,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISummary.tsx",lineNumber:66,columnNumber:5},void 0)},wz=()=>{const e=os();return l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-indigo-800",children:" Patient Evaluation Overview"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:9,columnNumber:7},void 0),l.jsxDEV("p",{className:"text-gray-700 max-w-3xl",children:"This module guides oncologists through a complete and structured patient evaluation during outpatient visits. It is not an EHR but a clinical decision support tool meant to ensure no critical detail is missed during your assessment."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:10,columnNumber:7},void 0),l.jsxDEV("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 space-y-4",children:[l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-800",children:"Key Features"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:15,columnNumber:9},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[l.jsxDEV("li",{children:"Structured History Taking: CC, HOPC, PMH, Family & Social History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:17,columnNumber:11},void 0),l.jsxDEV("li",{children:"Oncology-Focused Physical Examination & Red Flags"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:18,columnNumber:11},void 0),l.jsxDEV("li",{children:"Initial Diagnostic Planning and Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:19,columnNumber:11},void 0),l.jsxDEV("li",{children:"Non-EHR format with clinical flexibility"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:20,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:16,columnNumber:9},void 0),l.jsxDEV("div",{className:"pt-4",children:l.jsxDEV("button",{onClick:()=>e("/opd/patient-evaluation-form"),className:"bg-indigo-600 hover:bg-indigo-700 text-white text-sm px-5 py-2 rounded-md shadow",children:" Start Patient Evaluation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:24,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:14,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluation.tsx",lineNumber:8,columnNumber:5},void 0)},Dz={id:"breast",name:"Breast Cancer Diagnostic Pathway",description:"Systematic approach to breast cancer diagnosis and staging, aligned with NCCN 2024 and ASCO guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis, 2-4 weeks for full staging and treatment plan",steps:[{id:"initial",title:"Initial Presentation & Clinical Assessment",description:"Patient presents with breast symptoms (e.g., lump, skin changes, nipple discharge) or abnormal screening mammogram. Detailed history (including risk factors like family history, prior breast conditions, hormonal exposures, genetic predisposition) and clinical breast exam (CBE).",expectedDuration:"1-2 days",guidelineSource:"NCCN BC-1 2024, ASCO Guideline on Breast Cancer Diagnosis 2021",evidenceLevel:"I",patientInfo:"Explain the importance of evaluating symptoms/findings. Discuss the next steps, likely diagnostic imaging. Address anxiety and provide reassurance. Offer information on risk factors.",pitfalls:["Dismissing patient concerns, especially in younger women or those with dense breasts.","Incomplete CBE or inadequate documentation.","Delay in scheduling diagnostic imaging for suspicious findings (BI-RADS 0 on screening, palpable mass)."],options:[{text:"Abnormal screening mammogram (e.g., BI-RADS 0, or new BI-RADS 3, 4, 5 finding)",next:"diagnostic_imaging_mammogram_callback"},{text:"Palpable mass, focal persistent pain, suspicious nipple discharge (bloody, unilateral, spontaneous), skin changes (dimpling, erythema, peau d'orange), or axillary adenopathy",next:"diagnostic_imaging_symptomatic",triggers:["suspicious_clinical_finding"]},{text:"Non-suspicious symptoms (e.g., cyclical bilateral pain, non-bloody bilateral discharge), no palpable mass, normal screening history",next:"risk_assessment_reassurance_low_suspicion"},{text:"High risk patient (e.g. known BRCA mutation, strong family history, prior chest RT) for screening/surveillance",next:"high_risk_surveillance_protocol"}],redFlags:[{id:"suspicious_clinical_finding",condition:"Palpable dominant hard mass, peau d'orange, skin ulceration, nipple retraction/inversion (new), fixed axillary nodes, or signs of inflammatory breast cancer (diffuse erythema, edema, warmth).",message:"High suspicion for locally advanced or inflammatory breast cancer. Requires urgent evaluation.",severity:"critical",recommendations:["Urgent diagnostic mammogram (if >30 yrs) and targeted ultrasound within 24-72 hours.","Consider early surgical/breast oncology consultation (same day or next day).","Document detailed findings, including size, location, and characteristics of mass and any skin/nodal changes."],urgency:"Same-day",actionType:"Urgent Imaging & Specialist Consultation"}]},{id:"diagnostic_imaging_mammogram_callback",title:"Diagnostic Mammography & Ultrasound (Screening Callback)",description:"Perform diagnostic mammography (additional views, magnification, tomosynthesis as needed) and targeted breast ultrasound for any abnormality seen on screening mammogram. Correlate with prior imaging.",expectedDuration:"1-3 days",tooltip:"Resolve screening findings. Assign final BI-RADS category.",guidelineSource:"ACR Practice Parameter for Breast Imaging 2023, NCCN BC-2 2024",evidenceLevel:"I",patientInfo:"Explain that additional views are common after screening. Describe procedures. Discuss BI-RADS outcome.",pitfalls:["Not performing ultrasound for all relevant mammographic findings.","Inadequate views leading to missed lesions."],options:[{text:"BI-RADS 4 or 5 (Suspicious or Highly Suspicious)",next:"image_guided_biopsy",triggers:["high_birads_finding"]},{text:"BI-RADS 3 (Probably Benign) - typically short-interval (6-month) follow-up or biopsy based on risk/patient/radiologist preference",next:"birads3_management_protocol"},{text:"BI-RADS 1 or 2 (Negative or Benign) - resolved screening finding",next:"return_to_routine_screening"}],redFlags:[{id:"high_birads_finding",condition:"BI-RADS 4 or 5 lesion identified on diagnostic workup.",message:"High suspicion for malignancy. Tissue diagnosis is required promptly.",severity:"critical",recommendations:["Schedule image-guided core needle biopsy (CNB) within 3-5 business days.","Clearly communicate need for biopsy to patient and referring physician.","Determine optimal biopsy modality (ultrasound-guided preferred if visible, stereotactic for calcs, MRI-guided if only seen on MRI)."],urgency:"Routine",actionType:"Biopsy Scheduling & Communication"}]},{id:"diagnostic_imaging_symptomatic",title:"Diagnostic Mammography & Ultrasound (Symptomatic Patient)",description:"For palpable mass or other symptoms: if age >40, diagnostic mammogram and targeted ultrasound. If age 30-39, ultrasound first, then mammogram if suspicious/inconclusive. If <30, ultrasound first, mammogram rarely needed. Breast MRI for specific indications (e.g., occult primary with axillary mets, extent of disease in dense breasts with known cancer).",expectedDuration:"1-3 days",guidelineSource:"ACR Appropriateness Criteria 2022, NCCN BC-1 & BC-2 2024",evidenceLevel:"I",patientInfo:"Explain imaging based on age/symptoms. Discuss BI-RADS outcome.",pitfalls:["Not using ultrasound as primary modality in young women (<30).","Delaying mammography in symptomatic women >30 if ultrasound appears benign but mass persists."],options:[{text:"BI-RADS 4 or 5 (Suspicious or Highly Suspicious)",next:"image_guided_biopsy",triggers:["high_birads_finding"]},{text:"BI-RADS 3 (Probably Benign)",next:"birads3_management_protocol"},{text:"BI-RADS 1 or 2 (Negative or Benign) but symptoms persist or clinical concern remains",next:"clinical_radiologic_discordance_review"},{text:"BI-RADS 1 or 2 (Negative or Benign), symptoms resolve or concordant benign explanation",next:"routine_followup_if_indicated"}]},{id:"image_guided_biopsy",title:"Image-Guided Core Needle Biopsy (CNB)",description:"Perform CNB of BI-RADS 4/5 lesion(s) using appropriate imaging guidance. Obtain multiple cores (typically 4-6). Place biopsy marker clip. Send tissue for histology, ER/PR/HER2 (for invasive cancer and DCIS). Ki-67 optional but often done. Consider tissue for genomic assays if invasive cancer likely.",expectedDuration:"1-3 days (procedure + initial pathology report)",tooltip:"CNB is standard. Ensure radiologic-pathologic concordance. Document clip placement.",guidelineSource:"NCCN BC-3 2024, ASCO/CAP ER/PR/HER2 Testing Guidelines 2020/2023",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain CNB procedure, purpose (diagnosis), risks (bruising, bleeding, infection, pain, rare pneumothorax for deep lesions), benefits. Obtain informed consent. Post-biopsy care.",pitfalls:["Insufficient sample for all required tests (ER/PR/HER2, genomics).","Biopsy of non-representative area or sampling error.","Radiologic-pathologic discordance not identified or addressed.","Marker clip not placed, misplaced, or migrates.","Performing FNA instead of CNB for initial diagnosis of solid mass (FNA insufficient for receptor status or distinguishing in-situ from invasive)."],options:[{text:"Malignancy confirmed (Invasive Carcinoma or Ductal Carcinoma In Situ - DCIS)",next:"post_biopsy_consult_pathology_review",triggers:["breast_cancer_diagnosis_biopsy"]},{text:"High-risk lesion (e.g., Atypical Ductal Hyperplasia (ADH), Lobular Carcinoma In Situ (LCIS), Flat Epithelial Atypia (FEA), Papilloma with atypia)",next:"high_risk_lesion_management_discussion"},{text:"Benign pathology, concordant with imaging findings",next:"benign_concordant_pathology_followup"},{text:"Pathology discordant with imaging, or insufficient for diagnosis (e.g. atypia of undetermined significance - AUS)",next:"discordant_insufficient_pathology_review_repeat_biopsy"}],redFlags:[{id:"breast_cancer_diagnosis_biopsy",condition:"Biopsy confirms invasive breast cancer or DCIS.",message:"Breast cancer diagnosed. Requires prompt communication with patient, staging, and multidisciplinary discussion.",severity:"critical",recommendations:["Pathologist to ensure ER/PR/HER2 (with reflex ISH if HER2 IHC 2+) results are processed promptly.","Schedule follow-up with surgeon/breast specialist within 1 week to discuss results and plan.","Initiate staging workup as indicated by tumor type/size/grade (NCCN BC-4).","Refer for genetic counseling if criteria met (NCCN BC-6).","Prepare for presentation at multidisciplinary tumor board (MDT)."],urgency:"Routine",actionType:"Pathology Processing, Consultation & Staging Initiation"}]},{id:"post_biopsy_consult_pathology_review",title:"Post-Biopsy Consultation, Full Pathology Review & Staging",description:"Consultation to discuss confirmed cancer diagnosis. Review final pathology: histologic type, grade, size (if excisional), ER/PR status, HER2 status (IHC and ISH if done), Ki-67. Clinical staging (TNM) based on exam, imaging, biopsy. Systemic staging (CT C/A/P, bone scan, or PET-CT) for clinical stage IIB (T2N1, T3N0) or higher, or symptomatic patients, or inflammatory BC (NCCN BC-4). Brain MRI if neurological symptoms or specific subtypes (e.g. HER2+, triple negative with high burden).",expectedDuration:"3-7 days for full pathology and initial staging plan",guidelineSource:"NCCN BC-4 & BC-5 2024, AJCC 8th Ed. Breast Cancer Staging",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Provide clear explanation of diagnosis, pathology report (ER/PR/HER2 meaning), and cancer stage. Discuss need for further staging tests. Offer emotional support and resources. Discuss MDT process. Genetic counseling referral if indicated.",pitfalls:["Incomplete or delayed ER/PR/HER2/Ki-67 results.","Under-staging (missing metastases) or over-staging.","Delay in MDT presentation or specialist consultations.","Not offering genetic counseling according to guidelines (e.g., age <50, triple negative, male breast cancer, specific family history - NCCN BC-6)."],options:[{text:"Early stage (Stage I-IIA, selected IIB based on biology) potentially suitable for primary surgery",next:"mdt_treatment_planning_early_stage_breast"},{text:"Locally advanced (some Stage IIB, Stage III) or inflammatory breast cancer - typically requires neoadjuvant therapy",next:"mdt_treatment_planning_locally_advanced_breast"},{text:"Metastatic disease (Stage IV) identified on staging workup",next:"mdt_treatment_planning_metastatic_breast",triggers:["metastatic_breast_cancer_staging"]},{text:"DCIS without invasion",next:"mdt_treatment_planning_dcis"}],redFlags:[{id:"metastatic_breast_cancer_staging",condition:"Metastatic disease (Stage IV) confirmed by staging investigations.",message:"Stage IV breast cancer. Treatment is primarily systemic with palliative intent for most; some oligometastatic cases may have different approaches. Requires urgent multidisciplinary input.",severity:"critical",recommendations:["Urgent medical oncology consultation (within days).","Biopsy of a metastatic site if feasible and not previously done (especially if discordance in receptors suspected or for research protocols).","Early palliative care referral for symptom management, psychosocial support, and goals of care discussion.","Discuss prognosis, treatment goals, and advanced care planning with patient and family.","Consider clinical trials."],urgency:"Same-day",actionType:"Urgent Oncology Referral & Palliative Care Integration"},{id:"inflammatory_breast_cancer_confirmed",condition:"Clinical diagnosis of inflammatory breast cancer (IBC) confirmed or highly suspected post-imaging/biopsy.",message:"IBC is an aggressive form of breast cancer. Requires urgent, coordinated trimodality therapy, starting with neoadjuvant systemic therapy.",severity:"critical",recommendations:["Urgent medical oncology, surgical oncology, and radiation oncology consultations (within days).","Skin punch biopsy if not already done and diagnosis uncertain, to confirm dermal lymphatic invasion.","Complete staging workup immediately (PET-CT highly recommended for IBC).","Do NOT proceed with upfront surgery."],urgency:"Immediate",actionType:"Urgent Multidisciplinary Consultation & Neoadjuvant Planning"}]}]},Ez={id:"prostate",name:"Prostate Cancer Diagnostic Pathway",description:"Evidence-based approach to prostate cancer diagnosis, risk stratification, and initial staging, aligned with NCCN 2024 and EAU 2024 guidelines.",recommendedTimeframe:"2-4 weeks from suspicion to diagnostic biopsy result; further 2-4 weeks for full staging and MDT discussion if cancer confirmed.",steps:[{id:"initial",title:"Initial Assessment & PSA/DRE Evaluation",description:"Patient presents with elevated Prostate-Specific Antigen (PSA), abnormal Digital Rectal Exam (DRE), strong family history, or known genetic predisposition (e.g., BRCA1/2). Assess urinary symptoms (IPSS score) and rule out benign causes of PSA elevation (UTI, prostatitis, recent ejaculation/instrumentation, catheter).",expectedDuration:"1-2 days",guidelineSource:"NCCN PROS-1 2024, EAU Guidelines on Prostate Cancer 2024",evidenceLevel:"I",patientInfo:"Discuss PSA/DRE findings, the concept of risk stratification, and the diagnostic pathway. Address anxiety. Explain that not all elevated PSAs mean cancer and benign causes need to be excluded.",pitfalls:["Not repeating an initial elevated PSA after addressing potential benign causes.","Ignoring abnormal DRE even with normal PSA.","Failure to consider and rule out UTI or recent ejaculation/instrumentation/catheterization that could transiently elevate PSA before proceeding."],options:[{text:"Elevated PSA (> age-specific range or >4 ng/mL generally, or >3 ng/mL for men with BRCA2 or >40yrs with BRCA1) and/or suspicious DRE (nodule, induration, asymmetry)",next:"psa_confirmation_risk_assessment"},{text:"Strong family history (e.g., 1st degree relative <65yrs, multiple relatives) or known genetic predisposition (BRCA1/2, Lynch Syndrome, HOXB13) - consider earlier screening / lower PSA threshold",next:"psa_confirmation_risk_assessment"},{text:"PSA normal, DRE normal, no significant risk factors",next:"routine_screening_surveillance_prostate"},{text:"Symptoms of UTI/prostatitis present",next:"treat_uti_recheck_psa"}],redFlags:[{id:"prostate_very_high_psa_symptoms",condition:"PSA > 20 ng/mL with new onset significant bone pain, or PSA > 50 ng/mL. Any PSA level with neurological symptoms concerning for spinal cord compression (e.g., new leg weakness, saddle anesthesia, bowel/bladder incontinence).",message:"High suspicion for metastatic disease or locally advanced disease with complications. Requires urgent evaluation and management.",severity:"critical",recommendations:["Urgent urology/oncology consultation (within 24-48 hours).","Immediate bone scan and CT Chest/Abdomen/Pelvis (or PSMA PET-CT if available and indicated for high-risk staging).","If cord compression suspected: urgent MRI spine (same day), neurosurgical/radiation oncology consult, consider immediate high-dose corticosteroids."],urgency:"Immediate",actionType:"Urgent Staging, Specialist Consultation & Symptom Management"}]},{id:"psa_confirmation_risk_assessment",title:"PSA Confirmation, Risk Assessment & Shared Decision-Making",description:"Confirm persistent PSA elevation (repeat test 4-8 weeks after initial, ensuring no interfering factors). Calculate PSA density (PSAD = PSA / prostate volume from TRUS/MRI) and PSA velocity if prior values available. Assess risk factors (age, race, family hx of prostate/breast/ovarian/pancreatic cancer, genetic mutations). Use validated risk calculators (e.g., ERSPC, PCPT, Stockholm3, 4Kscore, SelectMDx, MyProstateScore) to estimate probability of clinically significant cancer. Discuss pros/cons of biopsy.",expectedDuration:"1-2 weeks (allowing for repeat test and calculator use)",tooltip:"PSAD > 0.15 ng/mL/cc is concerning. Risk calculators and biomarkers can help refine biopsy decisions and avoid overdiagnosis.",guidelineSource:"NCCN PROS-2 2024, AUA/SUO Guidelines 2023, EAU Guidelines 2024",evidenceLevel:"II",patientInfo:"Explain rationale for confirming PSA, role of PSAD, risk calculators, and biomarkers in guiding decisions. Discuss the balance between detecting significant cancer and risks of biopsy/overtreatment. Shared decision-making is key.",pitfalls:["Proceeding to biopsy based on a single elevated PSA without confirmation or comprehensive risk assessment.","Not using or misinterpreting risk calculators/biomarkers.","Insufficient discussion of biopsy risks/benefits leading to uninformed patient choice."],options:[{text:"Persistent elevated PSA / high-risk profile on calculators / suspicious DRE / patient preference for diagnostic clarity after discussion",next:"pre_biopsy_prostate_mri"},{text:"PSA normalized or low risk profile after assessment / patient preference against biopsy after discussion",next:"active_monitoring_psa_dre_risk_reassessment"}]},{id:"pre_biopsy_prostate_mri",title:"Pre-biopsy Multiparametric Prostate MRI (mpMRI)",description:"Perform high-quality mpMRI (3T preferred) prior to initial biopsy if available and PSA/risk warrants. Report using PI-RADS v2.1. For patients with prior negative biopsy but ongoing suspicion, mpMRI is also strongly recommended.",expectedDuration:"1-2 weeks (scheduling and reporting)",tooltip:"mpMRI improves detection of clinically significant (Grade Group >=2) prostate cancer and can guide targeted biopsies, potentially reducing detection of insignificant cancers.",guidelineSource:"NCCN PROS-3 2024, EAU Guidelines 2024, PRECISION Trial, MRI-FIRST Trial",evidenceLevel:"I",patientInfo:"Explain mpMRI procedure, its benefits in identifying suspicious areas for targeted biopsy, and how results (PI-RADS score) will inform the biopsy plan. Mention it may help avoid biopsy if no suspicious lesions are found in some low-risk men.",pitfalls:["Poor quality mpMRI scan or inexperienced interpretation leading to false positives/negatives.","Not performing MRI before biopsy if indicated and available, leading to potentially missed targets.","Over-reliance on PI-RADS 3 lesions without considering other risk factors (PSAD is critical for PI-RADS 3)."],options:[{text:"PI-RADS 4 or 5 lesion (High or Very High suspicion)",next:"mri_targeted_plus_systematic_biopsy",triggers:["prostate_high_pirads"]},{text:"PI-RADS 3 lesion (Equivocal) - decision to biopsy based on PSAD, risk profile, biomarkers, patient preference",next:"pirads3_lesion_management_discussion"},{text:"PI-RADS 1 or 2 lesion (Low or Very Low suspicion) AND low overall clinical risk (e.g. low PSAD)",next:"continue_monitoring_consider_no_biopsy"},{text:"PI-RADS 1 or 2 lesion BUT high clinical risk (e.g. high PSAD, strong family hx) or patient preference",next:"systematic_biopsy_consider_no_target"},{text:"No mpMRI performed or available, but clinical suspicion remains high enough to warrant biopsy",next:"systematic_prostate_biopsy_only"}],redFlags:[{id:"prostate_high_pirads",condition:"PI-RADS 4 or 5 lesion identified on mpMRI.",message:"High or very high suspicion for clinically significant prostate cancer. MRI-targeted biopsy of the lesion plus systematic biopsies are strongly recommended.",severity:"critical",recommendations:["Schedule MRI-guided or MRI-ultrasound fusion targeted biopsy of the index lesion(s) + standard systematic template biopsies (typically 10-12 cores) within 2-3 weeks.","Discuss findings and biopsy plan clearly with the patient."],urgency:"Routine",actionType:"Targeted & Systematic Biopsy Scheduling"},{id:"prostate_extracapsular_extension_mri",condition:"Clear evidence of extracapsular extension (ECE), seminal vesicle invasion (SVI), or direct bladder/rectal invasion on mpMRI.",message:"Findings suggest locally advanced disease (at least T3). This is critical for staging and impacts treatment planning significantly. Biopsy should confirm.",severity:"warning",recommendations:["Ensure biopsy plan adequately samples areas near suspected ECE/SVI if safe and feasible.","Flag for urology/MDT discussion regarding neoadjuvant approaches or more extensive surgical planning if cancer is confirmed and resectable.","Consider PSMA PET-CT for staging if high-risk features are present on MRI, once cancer confirmed."],urgency:"Routine",actionType:"Biopsy Planning Adjustment & MDT Alert for Advanced Disease Features"}]},{id:"mri_targeted_plus_systematic_biopsy",title:"MRI-Targeted and Systematic Prostate Biopsy",description:"Perform MRI-targeted biopsies (cognitive, software fusion, or in-bore) of PI-RADS 3-5 lesions (typically 2-4 cores per target), PLUS systematic template biopsies (e.g., 10-12 cores, transrectal or transperineal approach). Prophylactic antibiotics tailored to local resistance patterns. Consider periprostatic block for pain.",expectedDuration:"1-3 days (procedure + initial pathology report)",tooltip:"Combination of targeted and systematic biopsy maximizes detection of clinically significant cancer. Transperineal approach has lower infection risk. Discuss risks: bleeding, infection (sepsis is rare but serious), pain, hematuria, hematospermia, temporary urinary retention.",guidelineSource:"NCCN PROS-4 2024, AUA/SUO Guidelines 2023, EAU Guidelines 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the biopsy procedure (targeted + systematic), chosen approach (transrectal vs transperineal), specific risks, and post-procedure care (e.g., antibiotic completion, signs of infection). Obtain informed consent.",pitfalls:["Targeting error during fusion biopsy leading to false negative in targeted cores.","Insufficient cores from targeted or systematic component.","Post-biopsy infection/sepsis, especially with TRUS biopsy if prophylaxis is inadequate or resistance occurs.","Underestimation of cancer grade/volume if sampling is suboptimal."],options:[{text:"Prostate cancer confirmed (Gleason score and Grade Group available)",next:"pathology_review_risk_stratification_mdt",triggers:["prostate_cancer_confirmed_biopsy"]},{text:"Biopsy negative for cancer, despite suspicious MRI/PSA (MRI-pathology discordance)",next:"negative_biopsy_discordant_high_suspicion_review"},{text:"Atypical findings (e.g., ASAP - Atypical Small Acinar Proliferation) or HGPIN (High-Grade Prostatic Intraepithelial Neoplasia)",next:"atypical_hgpin_biopsy_management"},{text:"Clinically insignificant cancer found (e.g., very low volume Gleason 3+3=6), concordant with low risk MRI/profile",next:"discussion_active_surveillance_low_risk"}],redFlags:[{id:"prostate_cancer_confirmed_biopsy",condition:"Prostate cancer (adenocarcinoma) confirmed on biopsy.",message:"Histological confirmation of prostate cancer. Proceed to detailed risk stratification, staging, and multidisciplinary discussion.",severity:"critical",recommendations:["Ensure full pathology report includes Gleason score, ISUP Grade Group, number of positive cores, percentage of core involvement for each positive core, presence of intraductal carcinoma (IDC-P), perineural invasion (PNI).","Schedule for risk stratification using NCCN or EAU criteria and staging investigations as indicated (NCCN PROS-5).","Arrange urology/oncology consultation to discuss results and comprehensive treatment options."],urgency:"Routine",actionType:"Detailed Pathology Review, Risk Stratification & Staging Initiation"}]},{id:"pathology_review_risk_stratification_mdt",title:"Pathology Review, Risk Stratification, Staging & MDT Discussion",description:"Detailed review of biopsy pathology. Risk stratify using NCCN criteria (Very Low to Very High Risk) or EAU risk groups (Low, Intermediate, High). Staging investigations: Bone scan and CT Abdomen/Pelvis for unfavorable intermediate-risk with >cT2b or GG >2, or high-risk localized. PSMA PET-CT (if available) is preferred over conventional imaging for initial staging of unfavorable intermediate, high, and very high-risk disease, or any suspected metastatic disease (NCCN PROS-5, EAU 2024). Discuss germline (for all high/very high risk, metastatic, +ve family hx, IDC-P) and somatic testing (for metastatic/recurrent, or regional considering treatment implications). Present at MDT.",expectedDuration:"1-2 weeks (for staging and MDT)",guidelineSource:"NCCN PROS-5, PROS-6, PROS-7 2024, AJCC 8th Ed., EAU Guidelines 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain Gleason score, Grade Group, full risk category, and implications for treatment options/prognosis. Discuss need and type of staging scans. Explain genetic testing rationale if indicated. Describe MDT role in recommending optimal treatment.",pitfalls:["Incorrect Gleason grading or incomplete pathology reporting.","Under-staging due to inappropriate imaging modality or missed metastatic disease.","Not offering germline/somatic testing as per evolving guidelines, missing actionable mutations.","Delay in MDT discussion impacting timely treatment initiation for aggressive cancers."],options:[{text:"Localized disease: Very Low, Low, or Favorable Intermediate Risk (NCCN)",next:"treatment_options_discussion_low_favorable_intermediate_risk_prostate"},{text:"Localized disease: Unfavorable Intermediate, High, or Very High Risk (NCCN)",next:"treatment_options_discussion_unfavorable_intermediate_high_risk_prostate"},{text:"Regional lymph node involvement (N1) identified on staging",next:"treatment_planning_n1_prostate_cancer",triggers:["prostate_n1_disease_staging"]},{text:"Metastatic (M1) disease identified on staging",next:"treatment_planning_m1_prostate_cancer",triggers:["prostate_m1_disease_staging"]}],redFlags:[{id:"prostate_n1_disease_staging",condition:"Regional lymph node (N1) disease confirmed on staging investigations.",message:"Pelvic lymph node positive (N1) prostate cancer. Treatment typically involves multimodal therapy.",severity:"critical",recommendations:["Medical oncology / Urologic oncology / Radiation oncology consultation for multimodal therapy planning (e.g., EBRT + ADT, possibly with abiraterone; or radical prostatectomy + ePLND followed by adjuvant/salvage therapy).","Ensure comprehensive somatic/germline testing.","Discuss prognosis, goals of care, and clinical trial options."],urgency:"Routine",actionType:"Multidisciplinary Consultation for N1 Disease"},{id:"prostate_m1_disease_staging",condition:"Metastatic (M1) disease confirmed on staging investigations (bone, distant lymph nodes, visceral).",message:"Metastatic prostate cancer. Systemic therapy is the cornerstone of management. Assess for oligometastatic vs widespread disease.",severity:"critical",recommendations:["Urgent medical oncology/urologic oncology consultation.","Initiate Androgen Deprivation Therapy (ADT) promptly. Consider combination therapy (e.g., ADT + ARPI, ADT + docetaxel, or triplet therapy for high volume/de novo metastatic HSPC).","Ensure comprehensive somatic/germline testing (e.g. BRCA, HRR mutations, MSI/dMMR).","Discuss prognosis, goals of care, palliative care involvement, and clinical trial options.","Address bone health (calcium, Vit D, bone protective agents)."],urgency:"Same-day",actionType:"Urgent Oncology Consultation & Systemic Therapy Initiation for M1 Disease"}]}]},Tz={id:"lung",name:"Lung Cancer Diagnostic Pathway",description:"Systematic approach to lung cancer evaluation and staging, compliant with NCCN 2024 and ESMO 2023 guidelines.",recommendedTimeframe:"2-3 weeks",steps:[{id:"initial",title:"Initial Presentation & Risk Assessment",description:"Patient presents with symptoms (e.g., persistent cough, dyspnea, hemoptysis) or incidental imaging finding concerning for lung cancer. Assess risk factors (smoking history, family history, occupational exposure).",expectedDuration:"1-2 days",guidelineSource:"NCCN LU-1 2024",evidenceLevel:"I",patientInfo:"Discuss the importance of evaluating symptoms and the plan for initial imaging if indicated. Counsel on smoking cessation.",pitfalls:["Dismissing symptoms as benign without investigation in high-risk patients.","Delay in ordering initial imaging."],options:[{text:"Suspicious chest imaging findings (e.g., nodule >8mm)",next:"imaging",triggers:["suspicious_imaging"]},{text:"Symptoms suggestive of lung cancer (e.g., hemoptysis, new persistent cough >3 weeks)",next:"symptoms",triggers:["concerning_symptoms"]}],redFlags:[{id:"suspicious_imaging",condition:"Suspicious chest imaging (e.g., solid nodule >8mm, part-solid nodule, GGO with solid component)",message:"Imaging findings concerning for malignancy. Refer to NCCN LU-2 for nodule management.",severity:"critical",recommendations:["Expedite dedicated CT chest with contrast (unless contraindicated).","Early pulmonology/thoracic surgery consultation within 1 week.","Review smoking history and occupational exposures in detail."],urgency:"Same-day",actionType:"Referral and Imaging"},{id:"concerning_symptoms",condition:"High-risk symptoms (e.g., hemoptysis, unexplained weight loss, new hoarseness)",message:"Symptoms concerning for lung cancer warrant prompt investigation.",severity:"warning",recommendations:["Chest imaging (CXR or CT) within 1 week as per NICE NG12.","Document duration, severity, and progression of symptoms.","Assess for other red flag symptoms (e.g., superior vena cava syndrome)."],urgency:"Routine",actionType:"Investigation"}]},{id:"imaging",title:"Diagnostic Imaging Studies",description:"Perform high-quality CT chest with IV contrast to characterize lesion(s) and assess for mediastinal/hilar adenopathy and distant metastases. PET-CT for staging if appropriate (NCCN LU-3).",expectedDuration:"3-5 days",tooltip:"CT features: size, morphology (solid, subsolid), spiculation, pleural retraction. PET-CT for FDG-avidity. Ensure renal function adequate for contrast.",guidelineSource:"NCCN LU-3 2024, ESMO LG-2023",evidenceLevel:"I",patientInfo:"Explain the purpose of CT/PET-CT, what to expect during the scan, and potential findings. Discuss contrast allergy risks.",pitfalls:["Inadequate CT slice thickness for small nodule characterization.","Misinterpretation of inflammatory vs. malignant FDG uptake on PET.","Not performing PET-CT prior to invasive staging in potentially resectable disease."],options:[{text:"Definitive lesion on CT Chest requiring characterization",next:"characterize",triggers:["significant_findings"]},{text:"Suspected Stage III/IV or indeterminate findings, proceed to PET/CT",next:"staging",triggers:["metastatic_suspicion"]}],redFlags:[{id:"significant_findings",condition:"CT findings highly suspicious for malignancy (e.g., spiculated mass, large nodule with growth)",message:"Features highly suspicious for malignancy. Requires tissue diagnosis.",severity:"critical",recommendations:["Expedite tissue diagnosis (biopsy/bronchoscopy).","Consider PET/CT for staging if not already done (NCCN LU-4).","Early thoracic MDT discussion planning (within 1-2 weeks)."],urgency:"Same-day",actionType:"Biopsy and Staging"},{id:"metastatic_suspicion",condition:"Suspected metastatic disease on CT or PET-CT (e.g., adrenal, liver, bone lesions)",message:"Features concerning for advanced/metastatic disease. Biopsy of metastatic site may be preferred.",severity:"critical",recommendations:["Complete staging workup (e.g., brain MRI).","Early medical oncology consultation.","Plan for molecular testing on diagnostic tissue (NCCN LU-5)."],urgency:"Same-day",actionType:"Referral and Staging"}]},{id:"characterize",title:"Lesion Characterization & Biopsy Planning",description:"Determine optimal biopsy strategy based on lesion location, size, and patient fitness. Peripheral lesions often amenable to CT-guided biopsy; central lesions may require bronchoscopy (EBUS/Navigational).",expectedDuration:"1-2 days",guidelineSource:"ACCP Lung Cancer Guidelines 2013, BTS 2023",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Discuss biopsy options, risks (pneumothorax, bleeding), benefits, and alternatives. Obtain informed consent.",pitfalls:["Choosing a suboptimal biopsy technique leading to non-diagnostic sample.","Delay in biopsy scheduling.","Not obtaining sufficient tissue for molecular testing."],options:[{text:"Peripheral lesion accessible to percutaneous biopsy",next:"biopsy"},{text:"Central lesion or mediastinal nodes requiring bronchoscopy/EBUS",next:"bronchoscopy"}]},{id:"biopsy",title:"Tissue Biopsy (Percutaneous)",description:"Perform image-guided (typically CT) core needle biopsy for peripheral lung lesions. Ensure adequate sample for histology and molecular testing (NCCN LU-5).",expectedDuration:"2-5 days",tooltip:"Core biopsy preferred over FNA for architectural assessment and molecular studies. Risks: pneumothorax (15-25%), bleeding. Post-procedure CXR.",guidelineSource:"NCCN LU-4 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Discuss risks (pneumothorax, bleeding, pain) and benefits of CT-guided biopsy. Obtain informed consent. Provide post-procedure instructions.",pitfalls:["Non-diagnostic sample due to poor targeting or insufficient tissue.","Delay in pathology reporting.","Not sending tissue for molecular markers if adenocarcinoma suspected."],options:[{text:"Malignancy confirmed (e.g., NSCLC, SCLC)",next:"staging_post_biopsy"},{text:"Non-diagnostic or benign pathology",next:"mdt_review_indeterminate"}]},{id:"bronchoscopy",title:"Bronchoscopy & Endobronchial Ultrasound (EBUS)",description:"For central lesions or mediastinal/hilar lymph node staging. EBUS-TBNA for lymph node sampling. Navigational bronchoscopy for peripheral lesions not suitable for CT-biopsy.",expectedDuration:"2-5 days",tooltip:"EBUS-TBNA is crucial for mediastinal staging (NCCN LU-4). Risks: bleeding, infection, pneumothorax (rare).",guidelineSource:"NCCN LU-4 2024, ERS/ESTS Guidelines",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain procedure, sedation, potential discomfort, and risks. Obtain informed consent. NPO instructions.",pitfalls:["Inadequate nodal staging if EBUS not performed systematically.","Complications in patients with severe COPD.","Insufficient material from FNA for all molecular tests."],options:[{text:"Malignancy confirmed, staging complete or needs PET",next:"staging_post_biopsy"},{text:"Non-diagnostic or benign pathology",next:"mdt_review_indeterminate"}]},{id:"staging_post_biopsy",title:"Post-Biopsy Staging & MDT Review",description:"Integrate histological diagnosis with PET-CT and other imaging (e.g., Brain MRI for NSCLC as per NCCN LU-6) to establish definitive TNM stage. All cases to be discussed at MDT.",expectedDuration:"5-7 days",guidelineSource:"NCCN LU-6/LU-7 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the staging results and their implications for treatment options. Outline the role of the MDT.",pitfalls:["Incomplete staging (e.g., omitting brain MRI in non-metastatic NSCLC).","Delay in MDT discussion.","Not performing molecular testing for NSCLC adenocarcinoma (EGFR, ALK, ROS1, BRAF, PD-L1 etc. - NCCN LU-5)."],options:[{text:"Localized disease (Stage I-II, selected III)",next:"treatment_planning_curative"},{text:"Locally advanced disease (Stage III)",next:"treatment_planning_multimodal"},{text:"Metastatic disease (Stage IV)",next:"palliative",triggers:["metastatic_confirmed"]}],redFlags:[{id:"metastatic_confirmed",condition:"Confirmed metastatic disease (Stage IV)",message:"Stage IV disease identified. Focus on systemic therapy and palliative care.",severity:"critical",recommendations:["Urgent medical oncology consultation (within 1 week).","Ensure comprehensive molecular testing is performed/pending (NCCN LU-9).","Early palliative care involvement for symptom management and goals of care discussion.","Discuss prognosis and treatment goals with patient and family."],urgency:"Same-day",actionType:"Referral and Systemic Therapy Planning"}]}]},Sz={id:"ovarian",name:"Ovarian Cancer Diagnostic Pathway",description:"Evidence-based approach to ovarian cancer diagnosis and staging, aligned with NCCN 2024, ESGO-ESTRO-ESP 2023, and SGO guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis; 2-4 weeks for full staging and surgical planning.",steps:[{id:"initial",title:"Initial Assessment & Symptom Evaluation",description:"Patient presents with symptoms (e.g., bloating, pelvic/abdominal pain, early satiety, urinary urgency/frequency - often persistent and new-onset) or incidental adnexal mass on imaging. Detailed history, including family history of ovarian/breast cancer (BRCA).",expectedDuration:"1-2 days",guidelineSource:"NCCN OV-1 2024, ACOG Committee Opinion No. 716",evidenceLevel:"I",patientInfo:"Explain that symptoms can be vague and the importance of thorough evaluation. Discuss family history and potential genetic predisposition. Address anxiety.",pitfalls:["Dismissing vague symptoms as benign, especially in premenopausal women.","Not taking a detailed family history.","Delay in referral to gynecologic oncology for suspicious findings."],options:[{text:"Suspicious pelvic mass on prior imaging or exam, or persistent concerning symptoms",next:"pelvic_exam_ultrasound"},{text:"Incidental adnexal finding, low suspicion symptoms",next:"initial_workup_low_risk"}],redFlags:[{id:"acute_symptoms_high_risk",condition:"Acute abdominal/pelvic pain with adnexal mass, signs of torsion, rupture, or bowel obstruction.",message:"Potential oncologic emergency or acute gynecologic condition. Requires urgent evaluation.",severity:"critical",recommendations:["Urgent gynecologic/surgical consultation (within 24 hours).","Immediate imaging (pelvic ultrasound, CT if indicated).","Assess for hemodynamic instability."],urgency:"Immediate",actionType:"Urgent Specialist Consultation & Imaging"}]},{id:"pelvic_exam_ultrasound",title:"Pelvic Examination & Transvaginal Ultrasound (TVUS)",description:"Perform comprehensive pelvic examination (bimanual and rectovaginal). Perform TVUS to characterize adnexal mass(es) - size, morphology (solid components, septations, papillary projections, laterality), and assess for ascites/peritoneal disease. Use IOTA ADNEX model or RMI if available.",expectedDuration:"1 day",tooltip:"Document mass characteristics meticulously. TVUS is the primary imaging modality. Consider CA-125 concurrently.",guidelineSource:"NCCN OV-1 2024, ISUOG Consensus Statement 2017",evidenceLevel:"I",calculatorId:"IOTA_ADNEX_model",patientInfo:"Explain the pelvic exam and TVUS procedure. Discuss how ultrasound helps characterize the mass. Reassure patient during exam.",pitfalls:["Incomplete pelvic exam.","Suboptimal ultrasound technique or interpretation.","Not recognizing high-risk ultrasound features."],options:[{text:"High suspicion of malignancy on exam/TVUS (e.g., solid/complex mass, ascites, peritoneal nodules, IOTA ADNEX high risk)",next:"tumor_markers_ct_staging",triggers:["suspicious_mass_imaging"]},{text:"Indeterminate findings on TVUS",next:"tumor_markers_ct_staging"},{text:"Clearly benign simple cyst on TVUS (e.g., <10cm, unilocular, anechoic)",next:"benign_cyst_management"}],redFlags:[{id:"suspicious_mass_imaging",condition:"Adnexal mass with ultrasound features suspicious for malignancy (e.g., solid component, papillary projections, ascites, high vascularity).",message:"Findings highly concerning for ovarian malignancy. Requires prompt referral to Gynecologic Oncologist.",severity:"critical",recommendations:["Refer to Gynecologic Oncologist within 1 week (NCCN OV-2).","Obtain CA-125, HE4 (if available, for ROMA score), and other markers (CEA, CA19-9, AFP, hCG, LDH if suspicious for non-epithelial tumor).","Proceed to CT Chest/Abdomen/Pelvis with contrast for staging."],urgency:"Same-day",actionType:"Referral & Staging Workup"}]},{id:"tumor_markers_ct_staging",title:"Tumor Markers & CT Staging",description:"Measure serum CA-125. In premenopausal women with complex mass, also consider AFP, hCG, LDH. For postmenopausal women with adnexal mass, CA-125 and HE4 (for ROMA score) can aid risk assessment. Perform CT Chest/Abdomen/Pelvis with contrast for staging (assess peritoneal carcinomatosis, lymphadenopathy, distant mets).",expectedDuration:"3-5 days",tooltip:"CA-125 can be elevated in benign conditions. Interpret with imaging. CT helps determine resectability and guides surgical planning.",guidelineSource:"NCCN OV-1 & OV-2 2024, SGO Guidelines",evidenceLevel:"I",calculatorId:"ROMA_score",patientInfo:"Explain blood tests for tumor markers and CT scan for staging. Discuss that CA-125 is not diagnostic alone but part of overall assessment.",pitfalls:["Relying solely on CA-125 for diagnosis.","Not ordering appropriate markers for suspected germ cell or stromal tumors in younger patients.","Inadequate CT protocol or interpretation for peritoneal disease."],options:[{text:"High suspicion based on imaging, elevated markers (e.g., CA-125 >200 U/mL in postmenopausal, or high ROMA/ADNEX score), and/or CT findings of metastatic disease",next:"gyn_onc_consult_surgical_planning",triggers:["confirmed_high_risk_oc"]},{text:"Indeterminate findings, further assessment needed (e.g. MRI Pelvis, GI consult if primary GI cancer suspected)",next:"mdt_review_further_investigation"}],redFlags:[{id:"confirmed_high_risk_oc",condition:"Combination of suspicious imaging, significantly elevated tumor markers, and/or CT evidence of advanced disease.",message:"High probability of ovarian cancer. Management by Gynecologic Oncologist is mandatory.",severity:"critical",recommendations:["Ensure Gynecologic Oncologist is leading management.","Discuss goals of care, including fertility preservation if applicable and feasible.","Plan for surgical staging/debulking or neoadjuvant chemotherapy based on resectability assessment (NCCN OV-3/OV-4).","Offer genetic counseling (BRCA, Lynch syndrome) - NCCN OV-1."],urgency:"Routine",actionType:"Definitive Management Planning"},{id:"bowel_ureteric_obstruction",condition:"Evidence of bowel or ureteric obstruction on CT scan.",message:"Significant complication requiring urgent intervention or planning.",severity:"critical",recommendations:["Urgent surgical/urologic/GI consultation as appropriate.","Consider stenting or diversion if symptomatic or impending renal failure.","Incorporate into overall surgical/treatment plan."],urgency:"Same-day",actionType:"Intervention & Specialist Consultation"}]},{id:"gyn_onc_consult_surgical_planning",title:"Gynecologic Oncology Consultation & Surgical/Treatment Planning",description:"Comprehensive consultation with Gynecologic Oncologist. Review all data, discuss prognosis, treatment options (primary debulking surgery (PDS) vs. neoadjuvant chemotherapy (NACT) followed by interval debulking surgery). Biopsy may be obtained via laparoscopy or image-guided if PDS not planned initially or diagnosis uncertain.",expectedDuration:"3-7 days",guidelineSource:"NCCN OV-3 & OV-4 2024, ESGO Guidelines",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Detailed discussion of diagnosis, stage, treatment goals (curative/palliative), surgical procedures (TAH-BSO, omentectomy, lymphadenectomy, peritonectomy), chemotherapy, side effects, and expected recovery. Importance of MDT input. Clinical trial options.",pitfalls:["Inadequate preoperative assessment of resectability leading to suboptimal surgery.","Delay in starting NACT for unresectable disease.","Not performing germline/somatic BRCA testing and HRD testing on tumor tissue (NCCN OV-5)."],options:[{text:"Proceed with Primary Debulking Surgery (PDS)",next:"primary_debulking_surgery"},{text:"Candidate for Neoadjuvant Chemotherapy (NACT) due to extensive disease or comorbidities",next:"neoadjuvant_chemotherapy_planning"},{text:"Diagnosis uncertain or requires tissue confirmation before major surgery/NACT",next:"diagnostic_laparoscopy_biopsy"}]}]},_z={id:"gastric",name:"Gastric Cancer Diagnostic Pathway",description:"Systematic approach to gastric cancer diagnosis and staging, aligned with NCCN 2024, ESMO 2023, and Japanese Gastric Cancer Association (JGCA) guidelines.",recommendedTimeframe:"1-2 weeks for endoscopy and biopsy results; 2-3 weeks for full staging and MDT discussion if cancer confirmed.",steps:[{id:"initial",title:"Initial Assessment & Symptom Evaluation",description:"Patient presents with dyspepsia, epigastric pain, weight loss, dysphagia, early satiety, or signs of GI bleeding (melena, hematemesis). Assess for alarm features (NCCN GC-1). Evaluate H. pylori risk factors.",expectedDuration:"1-2 days",guidelineSource:"NCCN GC-1 2024, ESMO Clinical Practice Guidelines 2023",evidenceLevel:"I",patientInfo:"Explain the importance of evaluating persistent GI symptoms. Discuss alarm features and the need for endoscopy if present. Address anxiety.",pitfalls:["Attributing symptoms to GERD without investigating further in at-risk patients.","Delaying endoscopy in patients with alarm features.","Not considering H. pylori testing in dyspeptic patients without alarm features (age <60)."],options:[{text:"Alarm features present (e.g., weight loss, dysphagia, persistent vomiting, GI bleed, palpable mass, iron deficiency anemia) OR age >60 with new onset dyspepsia (NCCN GC-1)",next:"urgent_endoscopy_biopsy",triggers:["alarm_symptoms_gc"]},{text:"No alarm features, age <60: Test for H. pylori (urea breath test or stool antigen). If positive, treat.",next:"hp_testing_management"},{text:"No alarm features, H. pylori negative or treated but symptoms persist >4-8 weeks",next:"endoscopy_biopsy_non_urgent"}],redFlags:[{id:"alarm_symptoms_gc",condition:"Presence of alarm features (e.g., significant weight loss, progressive dysphagia, overt GI bleeding, palpable mass).",message:"High suspicion for malignancy. Requires prompt endoscopic evaluation.",severity:"critical",recommendations:["Schedule upper GI endoscopy (EGD) within 2 weeks (NCCN GC-1).","Obtain CBC, iron studies, LFTs, albumin.","If active severe bleeding, manage as GI emergency (see GI Bleed Pathway)."],urgency:"Routine",actionType:"Endoscopy Scheduling & Lab Workup"}]},{id:"urgent_endoscopy_biopsy",title:"Upper GI Endoscopy (EGD) & Biopsy",description:"Perform EGD with high-definition white light and chromoendoscopy/NBI if available. Document lesion morphology (Paris classification), location, and extent. Obtain multiple biopsies (at least 6-8) from suspicious lesions for histology. Biopsy normal-appearing mucosa if linitis plastica suspected.",expectedDuration:"1-3 days (procedure to initial findings)",tooltip:"Systematic biopsy protocol is crucial. Photograph lesions. Consider EUS at same session if deep invasion suspected and expertise available.",guidelineSource:"NCCN GC-1 2024, ESGE Guideline 2022",evidenceLevel:"I",patientInfo:"Explain EGD procedure, sedation, risks (bleeding, perforation, aspiration), and purpose of biopsies. Obtain informed consent.",pitfalls:["Insufficient number or quality of biopsies.","Missing early or flat lesions.","Not documenting precise location for surgical planning.","Failure to biopsy suspicious regional nodes if seen on EUS."],options:[{text:"Gastric malignancy suspected/confirmed on EGD/biopsy (adenocarcinoma, lymphoma, GIST, NET)",next:"pathology_review_molecular_testing",triggers:["gastric_cancer_diagnosis"]},{text:"High-grade dysplasia found",next:"hgd_management"},{text:"Benign findings (e.g., gastritis, ulcer) or low-grade dysplasia",next:"benign_lgd_management"},{text:"Non-diagnostic EGD/biopsy but high clinical suspicion persists",next:"repeat_egd_alternative_imaging"}],redFlags:[{id:"gastric_cancer_diagnosis",condition:"Histopathological confirmation of gastric malignancy.",message:"Gastric cancer diagnosed. Proceed with comprehensive staging and MDT discussion.",severity:"critical",recommendations:["Ensure pathology report includes histologic type, grade, Lauren classification (intestinal/diffuse/mixed), HER2 IHC, PD-L1 CPS, and MSI status (NCCN GC-2).","Schedule staging CT Chest/Abdomen/Pelvis with oral and IV contrast.","Refer to multidisciplinary team (surgeon, medical oncologist, radiation oncologist, pathologist, radiologist)."],urgency:"Routine",actionType:"Staging & MDT Referral"},{id:"linitis_plastica_suspicion",condition:"Endoscopic suspicion of linitis plastica (diffusely infiltrated, rigid stomach wall).",message:"High suspicion for aggressive diffuse-type adenocarcinoma. Often underdiagnosed on biopsy.",severity:"critical",recommendations:["Take multiple deep biopsies or jumbo biopsies from different areas.","Consider EUS with FNA of thickened wall.","CT scan may show characteristic wall thickening. PET-CT can be helpful.","Early surgical consultation is critical due to poor prognosis."],urgency:"Same-day",actionType:"Enhanced Biopsy & Imaging, Urgent Consult"}]},{id:"pathology_review_molecular_testing",title:"Pathology Review & Molecular Testing",description:"Confirm histologic type (adenocarcinoma most common). For adenocarcinoma: assess grade, Lauren classification. Perform HER2 IHC (reflex FISH if IHC 2+). Test for MSI (IHC or PCR) and PD-L1 (CPS score, e.g., 22C3 or 28-8 pharmDx). Consider NTRK fusion testing for advanced disease.",expectedDuration:"5-10 days (for full molecular results)",tooltip:"Molecular testing is crucial for guiding systemic therapy in advanced/metastatic disease. Ensure adequate tissue for all tests.",guidelineSource:"NCCN GC-2 & GC-F 2024, CAP Guideline 2022",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain that detailed tumor analysis helps determine the best treatment options, including targeted therapies or immunotherapy.",pitfalls:["Insufficient tissue for all molecular tests.","Delay in obtaining molecular results impacting treatment decisions.","Misinterpretation of HER2 or PD-L1 scoring."],options:[{text:"Pathology and molecular results available",next:"staging_workup_gastric"}]},{id:"staging_workup_gastric",title:"Comprehensive Staging Workup",description:"CT Chest/Abdomen/Pelvis with oral and IV contrast. EUS for T and N staging of non-metastatic disease (NCCN GC-3). PET-CT if potentially resectable M0 disease to rule out occult mets (especially for GEJ or bulky tumors) or if CT equivocal. Diagnostic laparoscopy with peritoneal washings for all potentially resectable (cT1b or higher) gastric cancers before neoadjuvant/adjuvant therapy or surgery (NCCN GC-3). Assess nutritional status (albumin, prealbumin, weight loss %).",expectedDuration:"1-2 weeks",guidelineSource:"NCCN GC-3 & GC-4 2024, ESMO Guidelines 2023",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the purpose of each staging test (CT, EUS, PET, laparoscopy) in determining the extent of cancer and guiding treatment. Discuss nutritional support if needed.",pitfalls:["Omitting diagnostic laparoscopy for potentially resectable cases, leading to unexpected positive cytology or peritoneal mets at surgery.","Underutilization of EUS for local staging.","Not addressing malnutrition preoperatively."],options:[{text:"Resectable disease (cT1-T4a, N0-N3, M0, no positive cytology) - candidate for perioperative/neoadjuvant therapy or upfront surgery based on stage/MDT",next:"mdt_treatment_planning_resectable"},{text:"Unresectable locally advanced disease (T4b, bulky N3, encasement of major vessels) OR Oligometastatic disease potentially convertible",next:"mdt_treatment_planning_unresectable_locally_advanced"},{text:"Widely metastatic disease (M1) or positive peritoneal cytology",next:"mdt_treatment_planning_metastatic",triggers:["metastatic_gastric_cancer"]}],redFlags:[{id:"metastatic_gastric_cancer",condition:"Metastatic disease (M1) confirmed by imaging or positive peritoneal cytology.",message:"Stage IV gastric cancer. Treatment is primarily systemic with palliative intent.",severity:"critical",recommendations:["Medical oncology consultation for systemic therapy (chemotherapy +/- HER2-targeted therapy +/- immunotherapy based on biomarkers).","Early palliative care referral for symptom management and goals of care discussion.","Nutritional support, management of ascites/obstruction as needed.","Consider clinical trials."],urgency:"Same-day",actionType:"Systemic Therapy Planning & Supportive Care"}]}]},kz={id:"head_neck",name:"Head & Neck Cancer Diagnostic Pathway",description:"Structured approach to head and neck cancer diagnosis, staging, and initial management, aligned with NCCN 2024 and ESMO 2023 guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis; 2-3 weeks for full staging and MDT discussion.",steps:[{id:"initial",title:"Initial Presentation & Symptom Assessment",description:"Patient presents with symptoms such as persistent sore throat, dysphagia, odynophagia, hoarseness, neck mass, oral lesion, unexplained otalgia, or cranial neuropathies. Assess risk factors (tobacco, alcohol, HPV).",expectedDuration:"1-2 days",guidelineSource:"NCCN HN-1 2024, ESMO H&N Guidelines 2023",evidenceLevel:"I",patientInfo:"Explain the importance of evaluating persistent symptoms. Discuss risk factors. Address anxiety and the diagnostic plan, likely involving ENT specialist referral.",pitfalls:["Delaying referral for persistent symptoms (>2-4 weeks).","Not performing a thorough cranial nerve exam.","Underestimating significance of unilateral otalgia or serous otitis media in adults (nasopharyngeal cancer risk)."],options:[{text:"Red flag symptoms: Stridor, airway compromise, significant bleeding, rapidly enlarging neck mass, cranial neuropathy",next:"emergency_assessment_ent",triggers:["hn_emergency_symptoms"]},{text:"Suspicious neck mass, persistent hoarseness >2-4 wks, non-healing oral ulcer >2-4 wks, dysphagia/odynophagia, or other concerning symptoms",next:"ent_referral_exam"},{text:"Low suspicion symptoms, no clear red flags",next:"primary_care_monitoring_reassess"}],redFlags:[{id:"hn_emergency_symptoms",condition:"Stridor, airway compromise, active hemorrhage from tumor site, rapidly progressive cranial neuropathy.",message:"Potential life-threatening situation. Requires immediate specialist assessment and possible intervention.",severity:"critical",recommendations:["Immediate referral to ENT/Emergency Department.","Secure airway if compromised (prepare for intubation/tracheostomy).","Control hemorrhage.","Urgent imaging (CT Head/Neck with contrast) may be needed."],urgency:"Immediate",actionType:"Emergency Referral & Airway/Hemorrhage Management"}]},{id:"ent_referral_exam",title:"ENT Specialist Examination & Endoscopy",description:"Comprehensive head and neck examination by ENT specialist, including palpation of neck nodes, oral cavity, and cranial nerve assessment. Perform flexible nasopharyngolaryngoscopy. Examination under anesthesia (EUA) with direct laryngoscopy, esophagoscopy, bronchoscopy (panendoscopy) may be indicated, especially for unknown primary or synchronous primary suspicion.",expectedDuration:"1-3 days",tooltip:"Document all subsites. Biopsy suspicious lesions during endoscopy/EUA. Consider HPV testing for oropharyngeal tumors (p16 IHC).",guidelineSource:"NCCN HN-1 & HN-2 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the specialist exam, including flexible scope. If EUA needed, explain procedure, anesthesia, and purpose of biopsies.",pitfalls:["Incomplete endoscopic examination missing a primary site.","Not biopsying all suspicious areas.","Failure to perform p16 testing on oropharyngeal SCC biopsies."],options:[{text:"Visible lesion identified, biopsy taken/planned",next:"pathology_review_hn"},{text:"Neck mass, primary unknown after initial endoscopy. Plan for EUA, imaging, possible FNA of neck node.",next:"unknown_primary_workup_hn"},{text:"No lesion found, symptoms persist or high suspicion",next:"imaging_hn_initial"}]},{id:"pathology_review_hn",title:"Pathology Review & HPV Testing",description:"Histopathological confirmation of malignancy (usually Squamous Cell Carcinoma). For oropharyngeal SCC, p16 IHC testing is mandatory (NCCN HN-3). For nasopharyngeal carcinoma, EBV (EBER) testing. Note histologic grade and features like PNI, LVI.",expectedDuration:"3-7 days",tooltip:"p16 status significantly impacts staging and prognosis for oropharyngeal cancer. Ensure adequate tissue for all necessary tests.",guidelineSource:"NCCN HN-3 2024, CAP H&N Cancer Reporting Protocols",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the biopsy results, including cancer type and HPV/EBV status if relevant. Discuss how this information guides staging and treatment.",pitfalls:["p16 testing not performed or misinterpreted for oropharyngeal SCC.","Insufficient biopsy material for complete diagnosis and molecular testing.","Delay in pathology reporting."],options:[{text:"Malignancy confirmed (e.g., SCC, NPC, salivary gland tumor)",next:"staging_workup_hn",triggers:["hn_cancer_confirmed"]},{text:"Dysplasia or pre-malignant lesion found",next:"premalignant_lesion_management_hn"},{text:"Biopsy benign or non-diagnostic, but high clinical suspicion remains",next:"repeat_biopsy_further_investigation_hn"}],redFlags:[{id:"hn_cancer_confirmed",condition:"Histopathological confirmation of head and neck malignancy.",message:"Head and neck cancer diagnosed. Proceed with comprehensive staging and multidisciplinary team discussion.",severity:"critical",recommendations:["Schedule staging imaging (CT Neck with contrast, CT Chest, PET-CT as per NCCN HN-4).","Refer to multidisciplinary H&N oncology team (ENT surgeon, radiation oncologist, medical oncologist, pathologist, radiologist, speech pathologist, dietitian, dentist).","Dental assessment prior to radiation therapy.","Speech and swallow evaluation.","Nutritional assessment and support."],urgency:"Routine",actionType:"Staging, MDT Referral & Supportive Care Planning"}]},{id:"staging_workup_hn",title:"Comprehensive Staging Workup",description:"CT Neck with IV contrast (from skull base to clavicles). CT Chest (with or without contrast). PET-CT (skull base to mid-thigh) for stage III/IV disease, unknown primary, or aggressive histology (NCCN HN-4). MRI for specific sites (e.g., nasopharynx, paranasal sinus, skull base, salivary glands, PNI assessment). Dental evaluation and speech/swallow function assessment.",expectedDuration:"1-2 weeks",guidelineSource:"NCCN HN-4 & HN-5 2024, AJCC 8th Ed. Staging Manual",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain the purpose of staging scans (CT, PET-CT, MRI) to determine cancer extent. Discuss importance of dental, speech, and swallow evaluations before treatment.",pitfalls:["Incomplete staging (e.g., omitting chest imaging).","Not performing PET-CT when indicated, potentially missing distant mets or unknown primary.","Delay in dental clearance impacting start of radiation.","Underestimation of tumor extent, especially perineural invasion, without appropriate MRI."],options:[{text:"Localized disease (Stage I-II) or selected Stage III/IVA (e.g. HPV+ oropharynx)",next:"mdt_treatment_planning_early_hn"},{text:"Locally/regionally advanced disease (Stage III-IVB, excluding M1)",next:"mdt_treatment_planning_advanced_hn"},{text:"Metastatic disease (Stage IVC / M1) identified",next:"mdt_treatment_planning_metastatic_hn",triggers:["metastatic_hn_cancer"]},{text:"Cancer of Unknown Primary (CUP) with neck node mets",next:"unknown_primary_management_hn"}],redFlags:[{id:"metastatic_hn_cancer",condition:"Metastatic disease (M1) confirmed by staging investigations.",message:"Stage IVC (metastatic) head and neck cancer. Treatment intent is primarily palliative.",severity:"critical",recommendations:["Medical oncology consultation for systemic therapy (chemotherapy, immunotherapy, targeted therapy).","Early palliative care referral for symptom control and goals of care discussion.","Address nutritional support, pain management, and potential airway issues.","Consider clinical trials."],urgency:"Same-day",actionType:"Systemic Therapy & Palliative Care Planning"}]}]},Mz={id:"pancreatic",name:"Pancreatic Cancer Diagnostic Pathway",description:"Evidence-based approach to pancreatic cancer diagnosis, staging, and initial management planning, aligned with NCCN 2024, ESMO 2023, and ASGE guidelines.",recommendedTimeframe:"1-2 weeks for diagnosis; 2-3 weeks for full staging and MDT discussion.",steps:[{id:"initial",title:"Initial Presentation & Symptom Evaluation",description:"Patient presents with symptoms such as painless obstructive jaundice, new-onset diabetes (especially >50 yrs with weight loss), unexplained persistent abdominal/back pain, weight loss, steatorrhea, or acute pancreatitis without clear cause.",expectedDuration:"1-2 days",guidelineSource:"NCCN PA-1 & PA-2 2024, ESMO Pancreatic Cancer Guidelines 2023",evidenceLevel:"I",patientInfo:"Explain that symptoms warrant investigation to rule out serious conditions, including pancreatic cancer. Discuss the diagnostic plan, likely involving imaging and specialist referral.",pitfalls:["Attributing symptoms to benign GI issues, delaying diagnosis.","Not recognizing new-onset diabetes with weight loss as a red flag.","Delay in imaging for painless jaundice."],options:[{text:"Painless obstructive jaundice (elevated bilirubin, dark urine, pale stools)",next:"urgent_imaging_jaundice",triggers:["pan_jaundice"]},{text:"Suspicious pancreatic mass/lesion found on incidental imaging",next:"dedicated_pancreatic_imaging"},{text:"Concerning symptoms (e.g., persistent epigastric pain radiating to back, unexplained significant weight loss, new-onset diabetes with weight loss) without jaundice",next:"initial_labs_imaging_non_jaundice"},{text:"Vague symptoms, low suspicion initially",next:"primary_care_workup_monitoring"}],redFlags:[{id:"pan_jaundice",condition:"Painless obstructive jaundice.",message:"High suspicion for pancreatic head or periampullary malignancy. Requires urgent evaluation.",severity:"critical",recommendations:["Urgent (within 48 hours) high-quality multiphase pancreatic protocol CT scan (or MRI/MRCP if CT contraindicated/equivocal).","Check LFTs, coagulation profile (INR).","Urgent referral to HPB surgeon / Gastroenterologist with expertise in pancreatobiliary diseases.","Consider biliary drainage (ERCP with stenting or PTBD) if severe jaundice or cholangitis, after imaging if possible."],urgency:"Immediate",actionType:"Urgent Imaging, Labs & Specialist Referral"},{id:"cholangitis_signs",condition:"Jaundice with fever, chills, RUQ pain (Charcot's triad) or sepsis.",message:"Acute cholangitis, a medical emergency. Requires immediate biliary decompression and antibiotics.",severity:"critical",recommendations:["Immediate hospital admission.","Broad-spectrum IV antibiotics.","Urgent biliary decompression (ERCP or PTBD) within 12-24 hours.","Fluid resuscitation and supportive care."],urgency:"Immediate",actionType:"Emergency Admission & Intervention"}]},{id:"dedicated_pancreatic_imaging",title:"High-Quality Pancreatic Imaging",description:"Perform multiphase pancreatic protocol CT (preferred) or MRI/MRCP. This is crucial for characterizing the lesion, assessing vascular involvement (SMA, SMV, portal vein, celiac axis), and detecting metastatic disease.",expectedDuration:"2-5 days",tooltip:"CT protocol: non-contrast, arterial, pancreatic parenchymal, and portal venous phases. Thin slices. Radiologist expertise is key.",guidelineSource:"NCCN PA-2 & PA-3 2024, International Consensus Guidelines 2017 (Radiology)",evidenceLevel:"I",patientInfo:"Explain the specific type of CT or MRI needed and why its important for detailed views of the pancreas and surrounding structures.",pitfalls:["Using a generic abdominal CT instead of a dedicated pancreatic protocol scan.","Misinterpretation of vascular involvement.","Not identifying small liver or peritoneal metastases."],options:[{text:"Solid pancreatic mass identified, potentially resectable or borderline resectable",next:"ca19_9_tissue_acquisition"},{text:"Clearly unresectable locally advanced disease (e.g., extensive vascular encasement)",next:"ca19_9_tissue_acquisition_unresectable"},{text:"Metastatic disease identified on imaging",next:"ca19_9_biopsy_metastatic_site",triggers:["pan_metastatic_imaging"]},{text:"Cystic lesion of pancreas identified",next:"pancreatic_cystic_lesion_pathway"},{text:"No discrete mass, but diffuse changes or secondary signs (e.g. dilated pancreatic duct)",next:"eus_evaluation_pancreas"}],redFlags:[{id:"pan_metastatic_imaging",condition:"Evidence of metastatic disease (e.g., liver, lung, peritoneal metastases) on initial high-quality imaging.",message:"Metastatic pancreatic cancer. Tissue diagnosis is needed, preferably from a metastatic site. Treatment is systemic.",severity:"critical",recommendations:["Obtain CA 19-9.","Biopsy of an accessible metastatic lesion is preferred for diagnosis and molecular profiling.","Refer to Medical Oncologist.","Early Palliative Care consultation."],urgency:"Routine",actionType:"Biopsy Planning & Oncology Referral"}]},{id:"ca19_9_tissue_acquisition",title:"CA 19-9 & Tissue Acquisition Strategy",description:"Measure serum CA 19-9. Plan for tissue acquisition. EUS-FNA is preferred for most pancreatic head/body/tail lesions. CT-guided biopsy if EUS not feasible or for specific targets. Biopsy of suspected metastatic sites is preferred if M1 disease. For resectable disease without preoperative therapy planned, some centers proceed to surgery without biopsy if imaging is classic, but biopsy is generally recommended (NCCN PA-3).",expectedDuration:"3-7 days (including EUS scheduling and procedure)",tooltip:"CA 19-9 can be falsely normal in Lewis antigen negative individuals (~10%). EUS allows FNA and detailed local staging.",guidelineSource:"NCCN PA-3 2024, ASGE Guideline 2022 (EUS)",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain CA 19-9 blood test. Discuss EUS/biopsy procedure, its purpose for confirming diagnosis and guiding treatment, risks (pancreatitis, bleeding, perforation).",pitfalls:["Not obtaining tissue prior to neoadjuvant therapy.","Performing percutaneous biopsy through uninvolved peritoneum if potentially resectable (risk of seeding - though controversial and often unavoidable).","Non-diagnostic biopsy delaying treatment."],options:[{text:"Pancreatic adenocarcinoma or other malignancy confirmed by biopsy",next:"molecular_testing_staging_mdt"},{text:"Biopsy non-diagnostic, but high suspicion remains",next:"repeat_biopsy_alternative_approach"},{text:"Benign pathology, concordant with less suspicious imaging",next:"benign_pancreas_followup"}]},{id:"molecular_testing_staging_mdt",title:"Molecular Testing, Full Staging Review & MDT",description:"For confirmed adenocarcinoma, perform germline testing for all patients (BRCA1/2, PALB2, ATM, Lynch syndrome genes, etc.). Somatic tumor testing (e.g., KRAS, NRG1, NTRK fusions, MSI/dMMR, HRD) for advanced/metastatic disease or if informing neoadjuvant/adjuvant choices (NCCN PA-4). Review all imaging with MDT (HPB surgeon, medical/radiation oncologist, radiologist, pathologist) to confirm resectability status (resectable, borderline, locally advanced unresectable, metastatic) using NCCN criteria. Consider staging laparoscopy for select cases (e.g. high CA19-9, large tumors, borderline resectable) to rule out occult peritoneal/liver mets.",expectedDuration:"1-2 weeks (molecular testing can take time)",guidelineSource:"NCCN PA-3, PA-4, PA-5 2024",evidenceLevel:"I",requiresMDT:!0,patientInfo:"Explain that genetic testing (blood and/or tumor) can identify specific mutations that might guide treatment. Discuss MDT review and its role in formulating the best treatment plan. Explain staging laparoscopy if considered.",pitfalls:["Not performing germline testing for all patients.","Delay in obtaining molecular results for treatment decisions.","Inaccurate staging due to lack of MDT review or omitting staging laparoscopy when indicated."],options:[{text:"Resectable disease confirmed by MDT",next:"treatment_planning_resectable_pancreas"},{text:"Borderline resectable disease confirmed by MDT",next:"treatment_planning_borderline_pancreas"},{text:"Locally advanced, unresectable disease confirmed by MDT",next:"treatment_planning_locally_advanced_pancreas"},{text:"Metastatic disease confirmed by MDT",next:"treatment_planning_metastatic_pancreas",triggers:["pan_metastatic_mdt"]}],redFlags:[{id:"pan_metastatic_mdt",condition:"Metastatic pancreatic cancer confirmed after full workup and MDT review.",message:"Definitive metastatic disease. Focus on systemic therapy and supportive/palliative care.",severity:"critical",recommendations:["Medical Oncology to lead systemic therapy (chemotherapy +/- targeted therapy based on molecular results).","Palliative care for symptom management, QoL, and goals of care.","Nutritional support, pain management, management of biliary/duodenal obstruction.","Discuss clinical trial options."],urgency:"Routine",actionType:"Systemic Therapy & Palliative Care"}]}]},Cz={id:"bladder",name:"Bladder Cancer Diagnostic Pathway",description:"Systematic approach to bladder cancer diagnosis and staging",recommendedTimeframe:"2-3 weeks",steps:[{id:"initial",title:"Initial Assessment",description:"Patient presents with hematuria or urinary symptoms",expectedDuration:"1-2 days",tooltip:"Document gross vs microscopic hematuria and associated symptoms",options:[{text:"Gross hematuria",next:"urgent_cystoscopy",triggers:["gross_bleeding"]},{text:"Microscopic hematuria",next:"initial_workup"},{text:"Irritative symptoms",next:"urinalysis"}],redFlags:[{id:"gross_bleeding",condition:"Gross hematuria with clots",message:"Active bleeding requiring evaluation",severity:"critical",recommendations:["Urgent urologic consultation","CBC and coagulation profile","Consider admission if heavy bleeding"]}]},{id:"urinalysis",title:"Urinalysis and Cytology",description:"Initial laboratory evaluation",expectedDuration:"2-3 days",tooltip:"Include urine cytology and culture if indicated",options:[{text:"Positive cytology",next:"cystoscopy",triggers:["positive_cytology"]},{text:"Persistent hematuria",next:"cystoscopy"},{text:"Negative workup",next:"risk_assessment"}],redFlags:[{id:"positive_cytology",condition:"Positive urine cytology",message:"Cytology suggesting malignancy",severity:"warning",recommendations:["Expedite cystoscopy","Consider upper tract imaging","Document smoking history"]}]},{id:"cystoscopy",title:"Diagnostic Cystoscopy",description:"Direct visualization of bladder mucosa",expectedDuration:"1 day",tooltip:"Document location, size, and number of lesions",options:[{text:"Visible tumor",next:"turbt",triggers:["visible_tumor"]},{text:"Suspicious areas",next:"biopsy"},{text:"Normal cystoscopy",next:"imaging"}],redFlags:[{id:"visible_tumor",condition:"Visible bladder tumor",message:"Tumor identified on cystoscopy",severity:"critical",recommendations:["Schedule TURBT within 2 weeks","Complete staging workup","Consider enhanced cystoscopy"]}]},{id:"imaging",title:"Upper Tract Imaging",description:"CT urogram or other appropriate imaging",expectedDuration:"2-3 days",tooltip:"Evaluate upper tracts and look for metastatic disease",options:[{text:"Bladder mass",next:"turbt"},{text:"Upper tract lesion",next:"specialized_evaluation",triggers:["upper_tract"]},{text:"Metastatic disease",next:"staging",triggers:["metastatic"]}],redFlags:[{id:"upper_tract",condition:"Upper tract lesion",message:"Suspicious upper tract finding",severity:"warning",recommendations:["Urology consultation","Consider ureteroscopy","Plan comprehensive evaluation"]},{id:"metastatic",condition:"Metastatic disease",message:"Evidence of metastatic spread",severity:"critical",recommendations:["Tissue confirmation needed","Oncology consultation","Discuss treatment goals"]}]},{id:"turbt",title:"TURBT",description:"Transurethral resection of bladder tumor",expectedDuration:"1-2 days",tooltip:"Complete resection with muscle if possible",options:[{text:"Non-muscle invasive",next:"risk_stratification"},{text:"Muscle invasive",next:"staging",triggers:["muscle_invasive"]},{text:"Incomplete resection",next:"repeat_turbt"}],redFlags:[{id:"muscle_invasive",condition:"Muscle invasive disease",message:"Muscle invasion confirmed",severity:"critical",recommendations:["Complete staging workup","Multidisciplinary consultation","Discuss treatment options","Consider clinical trials"]}]}]},Cx={breast:Dz,prostate:Ez,lung:Tz,ovarian:Sz,gastric:_z,head_neck:kz,pancreatic:Mz,bladder:Cz},Px=({redFlag:e,onDismiss:t})=>{const{severity:n,message:s,condition:i,recommendations:o}=e;return l.jsxDEV("div",{className:`p-4 rounded-lg border ${n==="critical"?"bg-red-50 border-red-300":"bg-yellow-50 border-yellow-300"}`,children:l.jsxDEV("div",{className:"flex items-start space-x-3",children:[l.jsxDEV("div",{className:"flex-shrink-0 mt-1",children:n==="critical"?l.jsxDEV(Es,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:22,columnNumber:13},void 0):l.jsxDEV(tt,{className:"w-5 h-5 text-yellow-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:24,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:20,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-1",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h3",{className:`font-semibold ${n==="critical"?"text-red-800":"text-yellow-800"}`,children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:29,columnNumber:13},void 0),t&&l.jsxDEV("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:[l.jsxDEV("span",{className:"sr-only",children:"Dismiss"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:39,columnNumber:17},void 0),l.jsxDEV("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsxDEV("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:41,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:40,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:35,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:28,columnNumber:11},void 0),l.jsxDEV("p",{className:`mt-1 text-sm ${n==="critical"?"text-red-700":"text-yellow-700"}`,children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:46,columnNumber:11},void 0),o&&o.length>0&&l.jsxDEV("div",{className:"mt-3",children:[l.jsxDEV("h4",{className:`text-sm font-medium ${n==="critical"?"text-red-800":"text-yellow-800"}`,children:"Recommendations:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:53,columnNumber:15},void 0),l.jsxDEV("ul",{className:`mt-2 text-sm space-y-1 list-disc list-inside ${n==="critical"?"text-red-700":"text-yellow-700"}`,children:o.map((r,a)=>l.jsxDEV("li",{children:r},a,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:62,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:58,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/RedFlagAlert.tsx",lineNumber:14,columnNumber:5},void 0)},Pz=({summary:e,onRedFlagDismiss:t})=>{const{totalSteps:n,completedSteps:s,activeRedFlags:i,estimatedTimeRemaining:o,nextRequiredActions:r}=e,a=Math.round(s/n*100),c=i.filter(d=>d.severity==="critical"),u=i.filter(d=>d.severity==="warning");return l.jsxDEV("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:[l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h3",{className:"text-lg font-medium text-gray-900",children:"Pathway Progress"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:26,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:[s," of ",n," steps completed"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:29,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:[a,"%"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:32,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:28,columnNumber:11},void 0),l.jsxDEV("div",{className:"mt-2 relative",children:l.jsxDEV("div",{className:"h-2 bg-gray-100 rounded-full",children:l.jsxDEV("div",{className:`absolute left-0 h-2 rounded-full ${a===100?"bg-green-500":"bg-blue-500"}`,style:{width:`${a}%`}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:38,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:37,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:36,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:27,columnNumber:9},void 0),o&&l.jsxDEV("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[l.jsxDEV(No,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:51,columnNumber:13},void 0),l.jsxDEV("span",{children:["Estimated time remaining: ",o]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:50,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:25,columnNumber:7},void 0),i.length>0&&l.jsxDEV("div",{className:"p-6 space-y-4",children:[l.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:"Active Red Flags"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:60,columnNumber:11},void 0),l.jsxDEV("div",{className:"space-y-3",children:[c.map(d=>l.jsxDEV(Px,{redFlag:d,onDismiss:t?()=>t(d.id):void 0},d.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:63,columnNumber:15},void 0)),u.map(d=>l.jsxDEV(Px,{redFlag:d,onDismiss:t?()=>t(d.id):void 0},d.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:74,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:59,columnNumber:9},void 0),r.length>0&&l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h4",{className:"text-lg font-medium text-gray-900",children:"Next Required Actions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:91,columnNumber:11},void 0),l.jsxDEV("ul",{className:"mt-4 space-y-3",children:r.map((d,m)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV(nu,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:95,columnNumber:17},void 0),l.jsxDEV("span",{className:"text-gray-600",children:d},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:96,columnNumber:17},void 0)]},m,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:94,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:90,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-6",children:l.jsxDEV("button",{className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>{console.log("Generate AI suggestions")},children:[l.jsxDEV("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:112,columnNumber:11},void 0),"Get AI Suggestions"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:105,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:104,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/PathwaySummaryCard.tsx",lineNumber:23,columnNumber:5},void 0)},Az=({pathway:e})=>{const[t,n]=x.useState("initial"),[s,i]=x.useState({completedSteps:[],currentStep:"initial",redFlagsTriggered:[],timeStarted:Date.now()}),o=e.steps.find(u=>u.id===t),r=()=>{const u=e.steps.length,d=s.completedSteps.length,m=e.steps.filter(p=>s.redFlagsTriggered.some(g=>{var v;return(v=p.redFlags)==null?void 0:v.some(b=>b.id===g)})).flatMap(p=>p.redFlags||[]).filter(p=>s.redFlagsTriggered.includes(p.id)),f=e.recommendedTimeframe?`${e.recommendedTimeframe} (estimated)`:void 0,h=o?[o.description,...(o.redFlags||[]).flatMap(p=>p.recommendations)]:[];return{totalSteps:u,completedSteps:d,activeRedFlags:m,estimatedTimeRemaining:f,nextRequiredActions:h}},a=(u,d)=>{i(m=>({...m,completedSteps:[...m.completedSteps,t],currentStep:u,redFlagsTriggered:[...m.redFlagsTriggered,...d||[]]})),n(u)},c=u=>{i(d=>({...d,redFlagsTriggered:d.redFlagsTriggered.filter(m=>m!==u)}))};return o?l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxDEV("div",{className:"flex items-start justify-between",children:[l.jsxDEV("div",{children:[l.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:o.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:88,columnNumber:13},void 0),l.jsxDEV("p",{className:"mt-2 text-gray-700",children:o.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:87,columnNumber:11},void 0),o.tooltip&&l.jsxDEV("div",{className:"group relative",children:[l.jsxDEV(Ou,{className:"w-5 h-5 text-gray-400 hover:text-gray-500 cursor-help"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:93,columnNumber:15},void 0),l.jsxDEV("div",{className:"invisible group-hover:visible absolute right-0 w-64 p-2 mt-2 text-sm text-gray-600 bg-white rounded-lg shadow-lg border border-gray-200",children:o.tooltip},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:94,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:86,columnNumber:9},void 0),o.expectedDuration&&l.jsxDEV("div",{className:"mt-4 text-sm text-gray-600",children:["Expected duration: ",o.expectedDuration]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:85,columnNumber:7},void 0),l.jsxDEV(Pz,{summary:r(),onRedFlagDismiss:c},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:109,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-4",children:o.options.map((u,d)=>l.jsxDEV("button",{onClick:()=>a(u.next,u.triggers),className:"w-full py-3 px-4 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white font-medium text-left",children:u.text},d,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:117,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:115,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:83,columnNumber:5},void 0):l.jsxDEV("div",{className:"p-4 rounded-md bg-red-50 text-red-700",children:['Error: Step not found for ID "',t,'"']},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DecisionTree.tsx",lineNumber:76,columnNumber:7},void 0)},hS=()=>{const[e,t]=x.useState(null),n={breast:l.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:21,columnNumber:7},void 0),prostate:l.jsxDEV(zs,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:25,columnNumber:15},void 0),lung:l.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11c0-4.4-3.6-8-8-8S3 6.6 3 11c0 2.5 1.2 4.8 3 6.2V21h12v-3.8c1.8-1.4 3-3.7 3-6.2z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:28,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:27,columnNumber:7},void 0),ovarian:l.jsxDEV(y2,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:31,columnNumber:14},void 0),gastric:l.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 13.87C6 16.15 7.57 18 9.46 18H14.54C16.43 18 18 16.15 18 13.87C18 10.5 14 9 12 9C10 9 6 10.5 6 13.87Z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:33,columnNumber:7},void 0),head_neck:l.jsxDEV(N2,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:37,columnNumber:16},void 0),pancreatic:l.jsxDEV(Nl,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:38,columnNumber:17},void 0),bladder:l.jsxDEV(x2,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:39,columnNumber:14},void 0),colorectal:l.jsxDEV(v2,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:40,columnNumber:17},void 0),lymphoma:l.jsxDEV(Gs,{className:"w-6 h-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:41,columnNumber:15},void 0)};return l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Diagnostic Pathways"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:47,columnNumber:9},void 0),e&&l.jsxDEV("button",{onClick:()=>t(null),className:"text-sm text-gray-600 hover:text-gray-800 flex items-center",children:[l.jsxDEV("svg",{className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:54,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:53,columnNumber:13},void 0),"Back to Cancer Types"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:46,columnNumber:7},void 0),e?l.jsxDEV("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:l.jsxDEV(Az,{pathway:Cx[e]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:109,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:108,columnNumber:9},void 0):l.jsxDEV("div",{className:"grid gap-6",children:[l.jsxDEV("div",{className:"p-4 bg-white rounded-lg shadow border border-gray-200",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Select Cancer Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:64,columnNumber:13},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Cx).map(([s,i])=>l.jsxDEV("button",{onClick:()=>t(s),className:"p-4 text-left bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 flex items-start space-x-3",children:[l.jsxDEV("div",{className:"text-blue-600",children:n[s]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:72,columnNumber:19},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-blue-800",children:i.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:76,columnNumber:21},void 0),l.jsxDEV("p",{className:"text-sm text-blue-600 mt-1",children:i.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:77,columnNumber:21},void 0),i.recommendedTimeframe&&l.jsxDEV("p",{className:"text-sm text-blue-500 mt-2",children:["Typical timeline: ",i.recommendedTimeframe]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:79,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:75,columnNumber:19},void 0)]},s,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:67,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:65,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:63,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-4 bg-white rounded-lg shadow border border-gray-200",children:l.jsxDEV("div",{className:"flex items-start space-x-3",children:[l.jsxDEV(Qh,{className:"w-6 h-6 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:91,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"About Diagnostic Pathways"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:93,columnNumber:17},void 0),l.jsxDEV("p",{className:"mt-2 text-gray-600",children:"Select a cancer type above to view its specific diagnostic pathway. Each pathway provides:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:94,columnNumber:17},void 0),l.jsxDEV("ul",{className:"mt-2 space-y-2 text-gray-600 list-disc list-inside",children:[l.jsxDEV("li",{children:"Step-by-step diagnostic guidance"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:98,columnNumber:19},void 0),l.jsxDEV("li",{children:"Red flag alerts for critical findings"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:99,columnNumber:19},void 0),l.jsxDEV("li",{children:"Expected timelines and progress tracking"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:100,columnNumber:19},void 0),l.jsxDEV("li",{children:"AI-powered suggestions and summaries"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:101,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/diagnostic-pathways/DiagnosticPathways.tsx",lineNumber:45,columnNumber:5},void 0)};function Iz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Iz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var kg=e=>typeof e=="number"&&!isNaN(e),ml=e=>typeof e=="string",pS=e=>typeof e=="function",Rz=e=>ml(e)||kg(e),jz=e=>x.isValidElement(e)||ml(e)||pS(e)||kg(e),Oz=1,gS=()=>`${Oz++}`,ws=new Map,yh=[],Ax=new Set,bS=()=>ws.size>0,Vz=(e,{containerId:t})=>{var n;return(n=ws.get(t||1))==null?void 0:n.toasts.get(e)};function Lz(e,t){var n;if(t)return!!((n=ws.get(t))!=null&&n.isToastActive(e));let s=!1;return ws.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function Fz(e){if(!bS()){yh=yh.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Rz(e))ws.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ws.get(e.containerId);t?t.removeToast(e.id):ws.forEach(n=>{n.removeToast(e.id)})}}var Bz=(e={})=>{ws.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Hz(e,t){jz(e)&&(bS()||yh.push({content:e,options:t}),ws.forEach(n=>{n.buildToast(e,t)}))}function vS(e,t){ws.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function Uz(e){return Ax.add(e),()=>{Ax.delete(e)}}function zz(e){return e&&(ml(e.toastId)||kg(e.toastId))?e.toastId:gS()}function jl(e,t){return Hz(e,t),t.toastId}function fd(e,t){return{...t,type:t&&t.type||e,toastId:zz(t)}}function hd(e){return(t,n)=>jl(t,fd(e,n))}function gt(e,t){return jl(e,fd("default",t))}gt.loading=(e,t)=>jl(e,fd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function $z(e,{pending:t,error:n,success:s},i){let o;t&&(o=ml(t)?gt.loading(t,i):gt.loading(t.render,{...i,...t}));let r={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,d,m)=>{if(d==null){gt.dismiss(o);return}let f={type:u,...r,...i,data:m},h=ml(d)?{render:d}:d;return o?gt.update(o,{...f,...h}):gt(h.render,{...f,...h}),m},c=pS(e)?e():e;return c.then(u=>a("success",s,u)).catch(u=>a("error",n,u)),c}gt.promise=$z;gt.success=hd("success");gt.info=hd("info");gt.error=hd("error");gt.warning=hd("warning");gt.warn=gt.warning;gt.dark=(e,t)=>jl(e,fd("default",{theme:"dark",...t}));function Wz(e){Fz(e)}gt.dismiss=Wz;gt.clearWaitingQueue=Bz;gt.isActive=Lz;gt.update=(e,t={})=>{let n=Vz(e,t);if(n){let{props:s,content:i}=n,o={delay:100,...s,...t,toastId:t.toastId||e,updateId:gS()};o.toastId!==e&&(o.staleId=e);let r=o.render||i;delete o.render,jl(r,o)}};gt.done=e=>{gt.update(e,{progress:1})};gt.onChange=Uz;gt.play=e=>vS(!0,e);gt.pause=e=>vS(!1,e);const zt=[];for(let e=0;e<256;++e)zt.push((e+256).toString(16).slice(1));function Gz(e,t=0){return(zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]).toLowerCase()}let Am;const qz=new Uint8Array(16);function Kz(){if(!Am){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Am=crypto.getRandomValues.bind(crypto)}return Am(qz)}const Yz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ix={randomUUID:Yz};function xS(e,t,n){var i;if(Ix.randomUUID&&!e)return Ix.randomUUID();e=e||{};const s=e.random??((i=e.rng)==null?void 0:i.call(e))??Kz();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Gz(s)}const Rx="gemini-pro",jx=3,Xz=1e3,Jz=[{category:Kl.HARM_CATEGORY_HARASSMENT,threshold:ql.BLOCK_MEDIUM_AND_ABOVE},{category:Kl.HARM_CATEGORY_HATE_SPEECH,threshold:ql.BLOCK_MEDIUM_AND_ABOVE},{category:Kl.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:ql.BLOCK_MEDIUM_AND_ABOVE},{category:Kl.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:ql.BLOCK_MEDIUM_AND_ABOVE}];class Ha extends Error{constructor(n,s,i=500){super(n);Me(this,"code");Me(this,"statusCode");this.name="GeminiError",this.code=s,this.statusCode=i}}function Qz(){var t,n,s;const e=((n=(t=import.meta)==null?void 0:t.env)==null?void 0:n.VITE_GEMINI_API_KEY)??((s=process==null?void 0:process.env)==null?void 0:s.VITE_GEMINI_API_KEY)??"";if(!e)throw new Ha("Gemini API key not configured","API_KEY_MISSING",400);return e}const Zz=e=>new Promise(t=>setTimeout(t,e));async function NS(e,t=jx){try{return await e()}catch(n){if(t<=0||n instanceof Ha&&["API_KEY_MISSING","INVALID_RESPONSE","RATE_LIMIT_EXCEEDED"].includes(n.code))throw n;return await Zz(Xz*(jx-t+1)),NS(e,t-1)}}function e$(e){try{return{valid:!0,sanitized:JSON.parse(JSON.stringify(e))}}catch{return{valid:!1}}}async function t$(e,t,n){const s=Qz();return NS(async()=>{try{const o=new Y2(s).getGenerativeModel({model:Rx,safetySettings:Jz}),r=[];n!=null&&n.length,r.push({role:"user",parts:[{text:e}]});const d=(await(await o.startChat({history:r,generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}).sendMessage(e)).response).text(),m=e$(d);if(!m.valid||!m.sanitized)throw new Error("Response contains invalid JSON characters");return{id:xS(),content:m.sanitized,timestamp:new Date().toISOString(),metadata:{model:Rx}}}catch(i){throw i instanceof Ha?i:i instanceof Error?i.message.includes("API quota exceeded")||i.message.includes("Network error")||i.message.includes("Response contains invalid JSON characters")?new Error(i.message):i.message.toLowerCase().includes("network")||i.message.toLowerCase().includes("fetch")||i.message.toLowerCase().includes("connection")?new Error("Network error"):new Ha(`Failed to generate response: ${i.message}`,"GENERATION_FAILED",500):new Ha("Unknown error occurred","UNKNOWN_ERROR",500)}})}const n$={OPD:{screening:["Based on the patient's age and risk factors, recommended screening includes annual mammography and colonoscopy every 10 years.","Given the family history, consider genetic counseling and BRCA testing."],triage:["Patient requires urgent evaluation due to severe symptoms.","Routine follow-up recommended in 3 months."]},CDU:{toxicity:["Grade 3 neutropenia detected. Consider G-CSF support and dose reduction.","Mild peripheral neuropathy - continue monitoring, consider vitamin B6."]},Inpatient:{},Palliative:{},RadOnc:{}};let s$=class extends Error{constructor(t,n){super(t),this.code=n,this.name="APIError"}};function i$(e,t){const n=n$[e];if(!n)return"Mock response not found for this module.";const s=n[t];if(!s)return"Mock response not found for this intent.";const i=Math.floor(Math.random()*s.length);return s[i]}async function Mg({module:e,intent:t,prompt:n,context:s,mockMode:i,iterationCount:o=0,previousResponse:r,feedbackType:a,history:c=[]}){if(i)return{id:xS(),content:i$(e,t),timestamp:new Date,metadata:{module:e,intent:t,model:"mock"}};let u=n;if(o>0&&r){const m=`Previous response:
${r}

User feedback:
${n}`;u=a==="refine"?`Please refine and improve the previous response, focusing on accuracy and clarity.
${m}`:a==="elaborate"?`Please provide more detailed information and examples to elaborate on the previous response.
${m}`:a==="correct"?`Please correct any errors or inaccuracies in the previous response, ensuring medical accuracy.
${m}`:`Please continue with this additional context:
${m}`}const d=`
Context:
${s||"No specific context provided"}

Module: ${e}
Intent: ${t}

History:
${c.length>0?c.join(`

`):"No previous history"}

Current Task:
${u}

Please provide a comprehensive response suitable for a medical professional.`;try{const m=await t$(d);return{id:m.id,content:m.content,timestamp:new Date(m.timestamp),metadata:{module:e,intent:t,model:m.metadata.model}}}catch(m){throw new s$(m instanceof Error?m.message:"Failed to get AI response","GEMINI_API_ERROR")}}const yS=()=>{const[e,t]=x.useState(!1),[n,s]=x.useState({age:0,gender:"female",smokingHistory:!1,packYears:0,isHighRisk:!1,riskFactors:{priorCancer:!1,immunocompromised:!1,radiationExposure:!1,geneticRisk:{brcaPositive:!1,lynchSyndrome:!1}},familyHistory:{breast:!1,colorectal:!1,prostate:!1,ovarian:!1},lastScreening:{mammogram:"",colonoscopy:"",papSmear:"",ldct:"",psa:"",breastMri:"",endoscopy:"",ctAbdomen:""},activeSymptoms:{weightLoss:!1,abdominalPain:!1,backPain:!1,jaundice:!1,bloating:!1,earlySatiety:!1,hoarseness:!1,dysphagia:!1,earPain:!1,vomiting:!1,bleeding:!1,fever:!1,nightSweats:!1}}),[i,o]=x.useState({breast:!0,cervical:!0,colorectal:!0,lung:!0,prostate:!0}),[r,a]=x.useState(!1),c=N=>N.target.checked,u=N=>N!=null&&N.length>0,d=N=>u(N)?new Date().getFullYear()-new Date(N).getFullYear():1/0,m=()=>{const N=n.activeSymptoms,E=[];return N.weightLoss&&(N.backPain||N.jaundice)&&E.push("pancreatic"),N.bloating&&N.earlySatiety&&n.gender==="female"&&E.push("ovarian"),(N.hoarseness||N.dysphagia||N.earPain)&&E.push("headNeck"),(N.vomiting||N.bleeding)&&E.push("gastric"),(N.fever||N.nightSweats)&&N.weightLoss&&E.push("lymphoma"),E},f=()=>{const N={colorectal:{cancerType:"colorectal",status:"not-indicated",reason:"Age below screening threshold"},lung:{cancerType:"lung",status:"not-indicated",reason:"Not meeting screening criteria"}};if(n.age>=45){const D=n.lastScreening.colonoscopy,T=d(D);u(D)?T>=10?N.colorectal={cancerType:"colorectal",status:"due",reason:"Follow-up colonoscopy needed",isOverdue:!0}:T>=8&&(N.colorectal={cancerType:"colorectal",status:"upcoming",reason:"Colonoscopy due within 2 years",nextDue:D}):N.colorectal={cancerType:"colorectal",status:"due",reason:"Initial screening colonoscopy needed",isOverdue:n.age>45}}const E=m();if(E.length>0&&E.forEach(D=>{N[D]={cancerType:D,status:"due",reason:"Concerning symptoms present - requires immediate evaluation",isOverdue:!0}}),n.gender==="female"){if(n.age>=40&&n.age<=74){const D=n.lastScreening.mammogram;N.breast={cancerType:"breast",status:!u(D)||d(D)>=1?"due":"upcoming",reason:n.familyHistory.breast?"High-risk patient requires more frequent screening":n.isHighRisk?"Modified screening interval due to risk factors":"Regular annual screening recommended",isOverdue:u(D)&&d(D)>1}}if(n.age>=21&&n.age<=65){const D=n.lastScreening.papSmear;N.cervical={cancerType:"cervical",status:!u(D)||d(D)>=3?"due":"upcoming",reason:n.age>=30?"Co-testing with HPV recommended every 5 years":"Pap smear recommended every 3 years",isOverdue:u(D)&&d(D)>3}}}if(n.gender==="male"&&n.age>=50){const D=n.lastScreening.psa;N.prostate={cancerType:"prostate",status:!u(D)||d(D)>=1?"due":"upcoming",reason:n.familyHistory.prostate?"High-risk patient requires annual PSA screening":"Consider PSA screening based on shared decision making",isOverdue:u(D)&&d(D)>1}}if(n.age>=50&&n.age<=80&&n.smokingHistory&&(n.packYears??0)>=20){const D=n.lastScreening.ldct;N.lung={cancerType:"lung",status:!u(D)||d(D)>=1?"due":"upcoming",reason:"Annual LDCT recommended for high-risk patients",isOverdue:u(D)&&d(D)>1}}return N},h=async({prompt:N,context:E})=>{try{return(await Mg({module:"OPD",intent:"screening",prompt:N,context:E,mockMode:e})).content}catch(D){if(console.error("Generate Summary Error:",D),D.name==="APIError")switch(D.code){case"INVALID_JSON":case"INVALID_RESPONSE":throw new Error("The AI service returned an invalid response. Please try again.");case"RATE_LIMIT":throw new Error("Too many requests. Please wait a moment and try again.");case"CONNECTION_ERROR":throw new Error("Unable to connect to the AI service. Please check your connection.");default:throw new Error(D.message||"Failed to generate summary")}throw new Error("Failed to generate summary")}},p=f(),g=({title:N,description:E,duration:D=5e3,variant:T="default"})=>{gt(E,{type:T==="destructive"?"error":"info",autoClose:D,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},v=async N=>{a(!0);const E=p[N.toLowerCase()];if(E)try{const D=`
Patient Information:
- Age: ${n.age}
- Gender: ${n.gender}
- Smoking History: ${n.smokingHistory?`Yes (${n.packYears} pack years)`:"No"}
- High Risk: ${n.isHighRisk?"Yes":"No"}
- Family History: ${Object.entries(n.familyHistory).filter(([M,_])=>_).map(([M])=>M).join(", ")}

Screening Status:
Cancer Type: ${N}
Current Status: ${E.status}
Reason: ${E.reason}
Last Screening: ${n.lastScreening[N.toLowerCase()]||"Never"}
${E.isOverdue?"OVERDUE FOR SCREENING":""}
`,T=await h({prompt:"Analyze this patient's cancer screening status and provide personalized recommendations.",context:D});g({title:`${N} Screening Analysis`,description:T,duration:1e4})}catch(D){console.error("AI Consultation Error:",D),g({title:"Consultation Failed",description:D.message||"Unable to provide AI consultation at this time. Please try again later.",variant:"destructive"})}finally{a(!1)}},b=()=>{console.log("Exporting recommendations...")},w=(N,E)=>{if(E)return"text-red-600 bg-red-50";switch(N){case"due":return"text-yellow-600 bg-yellow-50";case"upcoming":return"text-blue-600 bg-blue-50";case"not-indicated":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}};return l.jsxDEV("div",{className:"space-y-6 max-w-4xl mx-auto p-6",children:[l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Cancer Screening Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:473,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center gap-4",children:[l.jsxDEV("button",{onClick:()=>t(!e),className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e?" Mock Mode":" Gemini Mode"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:475,columnNumber:11},void 0),l.jsxDEV("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsxDEV(Vu,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:487,columnNumber:13},void 0),"Export PDF"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:483,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:474,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:472,columnNumber:7},void 0),l.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"High Risk Assessment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:497,columnNumber:11},void 0),l.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsxDEV("input",{type:"checkbox",checked:n.isHighRisk,onChange:N=>s(E=>({...E,isHighRisk:c(N)})),className:"sr-only peer"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:499,columnNumber:13},void 0),l.jsxDEV("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 peer-checked:after:translate-x-full peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:508,columnNumber:13},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"High Risk Patient"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:509,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:498,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:496,columnNumber:9},void 0),n.isHighRisk&&l.jsxDEV("div",{className:"mt-4 space-y-4",children:l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.geneticRisk.brcaPositive,onChange:N=>s(E=>({...E,riskFactors:{...E.riskFactors,geneticRisk:{...E.riskFactors.geneticRisk,brcaPositive:c(N)}}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:517,columnNumber:17},void 0),l.jsxDEV("span",{children:"BRCA1/2 Positive"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:532,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:516,columnNumber:15},void 0),l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.geneticRisk.lynchSyndrome,onChange:N=>s(E=>({...E,riskFactors:{...E.riskFactors,geneticRisk:{...E.riskFactors.geneticRisk,lynchSyndrome:c(N)}}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:535,columnNumber:17},void 0),l.jsxDEV("span",{children:"Lynch Syndrome"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:550,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:534,columnNumber:15},void 0),l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.priorCancer,onChange:N=>s(E=>({...E,riskFactors:{...E.riskFactors,priorCancer:c(N)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:553,columnNumber:17},void 0),l.jsxDEV("span",{children:"Prior Cancer History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:565,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:552,columnNumber:15},void 0),l.jsxDEV("label",{className:"flex items-center space-x-3",children:[l.jsxDEV("input",{type:"checkbox",checked:n.riskFactors.immunocompromised,onChange:N=>s(E=>({...E,riskFactors:{...E.riskFactors,immunocompromised:c(N)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:568,columnNumber:17},void 0),l.jsxDEV("span",{children:"Immunocompromised"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:580,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:567,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:515,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:514,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:495,columnNumber:7},void 0),l.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Patient Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:589,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Age"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:592,columnNumber:13},void 0),l.jsxDEV("input",{type:"number",value:n.age||"",onChange:N=>s(E=>({...E,age:parseInt(N.target.value)||0})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:593,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:591,columnNumber:11},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:601,columnNumber:13},void 0),l.jsxDEV("select",{value:n.gender,onChange:N=>s(E=>({...E,gender:N.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsxDEV("option",{value:"female",children:"Female"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:607,columnNumber:15},void 0),l.jsxDEV("option",{value:"male",children:"Male"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:608,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:602,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:600,columnNumber:11},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Smoking History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:612,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-1 space-y-2",children:[l.jsxDEV("label",{className:"inline-flex items-center",children:[l.jsxDEV("input",{type:"checkbox",checked:n.smokingHistory,onChange:N=>s(E=>({...E,smokingHistory:c(N)})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:615,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-2",children:"Current or Former Smoker"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:621,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:614,columnNumber:15},void 0),n.smokingHistory&&l.jsxDEV("input",{type:"number",placeholder:"Pack Years",value:n.packYears||"",onChange:N=>s(E=>({...E,packYears:parseInt(N.target.value)||0})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:624,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:613,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:611,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:590,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Family History"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:638,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:Object.keys(n.familyHistory).map(N=>l.jsxDEV("label",{className:"inline-flex items-center",children:[l.jsxDEV("input",{type:"checkbox",checked:n.familyHistory[N],onChange:E=>s(D=>({...D,familyHistory:{...D.familyHistory,[N]:c(E)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:642,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-2 capitalize",children:[N," Cancer"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:654,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:641,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:639,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:637,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4 border-t pt-4",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Active Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:662,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(n.activeSymptoms).map(([N,E])=>l.jsxDEV("label",{className:"inline-flex items-center",children:[l.jsxDEV("input",{type:"checkbox",checked:E,onChange:D=>s(T=>({...T,activeSymptoms:{...T.activeSymptoms,[N]:c(D)}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:666,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-2 capitalize",children:N.replace(/([A-Z])/g," $1").toLowerCase()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:678,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:665,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:663,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:661,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4 border-t pt-4",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Last Screening Dates"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:686,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:Object.keys(n.lastScreening).map(N=>l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:N.replace(/([A-Z])/g," $1").trim()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:690,columnNumber:17},void 0),l.jsxDEV("input",{type:"date",value:n.lastScreening[N]||"",onChange:E=>s(D=>({...D,lastScreening:{...D.lastScreening,[N]:E.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:693,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:689,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:687,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:685,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:588,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-4",children:Object.entries(p).map(([N,E])=>!E||(N==="breast"||N==="cervical")&&n.gender==="male"||N==="prostate"&&n.gender==="female"?null:l.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:[l.jsxDEV("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>o(D=>({...D,[N]:!D[N]})),children:[l.jsxDEV("div",{className:"flex items-center gap-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 capitalize",children:[N," Cancer Screening"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:726,columnNumber:19},void 0),l.jsxDEV("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${w(E.status,E.isOverdue)}`,children:E.status.toUpperCase()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:729,columnNumber:19},void 0),E.isOverdue&&l.jsxDEV(tt,{className:"text-red-500",size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:733,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:725,columnNumber:17},void 0),i[N]?l.jsxDEV(Zh,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:736,columnNumber:47},void 0):l.jsxDEV(Tr,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:736,columnNumber:73},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:721,columnNumber:15},void 0),i[N]&&l.jsxDEV("div",{className:"p-4 border-t border-gray-200 space-y-4",children:[l.jsxDEV("p",{className:"text-gray-600",children:E.reason},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:741,columnNumber:19},void 0),(E==null?void 0:E.nextDue)&&l.jsxDEV("p",{className:"text-sm text-gray-500",children:["Next screening due: ",new Date(E.nextDue).toLocaleDateString()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:743,columnNumber:21},void 0),l.jsxDEV("button",{onClick:()=>v(E.cancerType),className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",disabled:r,children:[l.jsxDEV(w2,{size:16},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:752,columnNumber:21},void 0),"Ask AI about ",N," screening"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:747,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:740,columnNumber:17},void 0)]},N,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:720,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:712,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/cancer-screening/CancerScreening.tsx",lineNumber:471,columnNumber:5},void 0)};function o$({guideline:e}){return console.log("ReferralCard guideline prop:",e),l.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[l.jsxDEV("h3",{className:"font-medium text-gray-900",children:e.condition},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:19,columnNumber:9},this),l.jsxDEV("span",{className:`text-xs px-2 py-1 rounded-full ${e.urgency.includes("Urgent")?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:e.urgency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:20,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:18,columnNumber:7},this),l.jsxDEV("div",{className:"space-y-3 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Referral Criteria:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:31,columnNumber:11},this),l.jsxDEV("ul",{className:"mt-1 space-y-1",children:e.criteria.map((t,n)=>l.jsxDEV("li",{className:"text-gray-900 flex items-start",children:[l.jsxDEV("span",{className:"mr-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:35,columnNumber:17},this),t]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:34,columnNumber:15},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:32,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:30,columnNumber:9},this),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Required Workup:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:43,columnNumber:11},this),l.jsxDEV("ul",{className:"mt-1 space-y-1",children:e.workup.map((t,n)=>l.jsxDEV("li",{className:"text-gray-900 flex items-start",children:[l.jsxDEV("span",{className:"mr-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:47,columnNumber:17},this),t]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:46,columnNumber:15},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:44,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:29,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralCard.tsx",lineNumber:17,columnNumber:5},this)}const r$=({formData:e,setFormData:t})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"Age"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:22,columnNumber:9},void 0),l.jsxDEV("input",{type:"number",id:"age",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:e.age,onChange:n=>t(s=>({...s,age:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:25,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:21,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"symptoms",className:"block text-sm font-medium text-gray-700",children:"Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:35,columnNumber:9},void 0),l.jsxDEV("textarea",{id:"symptoms",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:e.symptoms,onChange:n=>t(s=>({...s,symptoms:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:38,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:34,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"Duration of Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:48,columnNumber:9},void 0),l.jsxDEV("input",{type:"text",id:"duration",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 2 weeks",value:e.duration,onChange:n=>t(s=>({...s,duration:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:51,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:47,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"clinicalFindings",className:"block text-sm font-medium text-gray-700",children:"Clinical Findings"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:62,columnNumber:9},void 0),l.jsxDEV("textarea",{id:"clinicalFindings",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:e.clinicalFindings,onChange:n=>t(s=>({...s,clinicalFindings:n.target.value}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:65,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:61,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralForm.tsx",lineNumber:20,columnNumber:5},void 0),a$=({aiTriageResult:e})=>{if(!e)return null;const t={Urgent:"bg-red-50 text-red-600",Soon:"bg-yellow-50 text-yellow-600",Routine:"bg-green-50 text-green-600"},n=e.urgency==="Urgent"?tt:e.urgency==="Soon"?No:Si;return l.jsxDEV("div",{className:`p-4 rounded-md ${t[e.urgency]}`,children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(n,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:30,columnNumber:9},void 0),l.jsxDEV("h4",{className:"font-medium",children:[e.urgency," Referral"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:29,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-2 text-sm",children:[l.jsxDEV("p",{children:["Timeframe: ",e.timeframe]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:34,columnNumber:9},void 0),l.jsxDEV("ul",{className:"mt-2 pl-5 list-disc",children:e.reasoning.map((s,i)=>l.jsxDEV("li",{children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:37,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:35,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/TriageResult.tsx",lineNumber:28,columnNumber:5},void 0)},Ox=[{id:"breast-001",cancerType:"Breast Cancer",pathwayName:"Suspected Breast Cancer Pathway",urgencyLevel:"Calculated",aiTriageFactors:{highRiskFactors:["Palpable lump","Skin changes (peau d'orange)","Nipple discharge (bloody)"],moderateRiskFactors:["Axillary lymphadenopathy","Persistent breast pain"],lowRiskFactors:["Family history (low risk)","Fibrocystic changes"],redFlags:[{trigger:["Palpable lump","Skin changes"],message:" Red Flag: High suspicion for inflammatory breast cancer."}]},requiredInformation:{clinical:["Age","Symptoms","Duration","Clinical Findings"]},slaTimeframes:{urgent:"See within 2 weeks",soon:"See within 4 weeks",routine:"See within 6 weeks"}},{id:"lung-001",cancerType:"Lung Cancer",pathwayName:"Suspected Lung Cancer Pathway",urgencyLevel:"Calculated",aiTriageFactors:{highRiskFactors:["Hemoptysis","Unexplained weight loss (>10%)","Chest X-ray suggestive of malignancy"],moderateRiskFactors:["Persistent cough (>3 weeks)","Smoker (>20 pack-years)","Hoarseness"],lowRiskFactors:["Shortness of breath (stable)","Resolved pneumonia"],redFlags:[{trigger:["Hemoptysis","Weight loss"],message:" Red Flag: High suspicion for malignancy. Expedite referral."},{trigger:["Hoarseness","Persistent cough"],message:" Red Flag: Possible recurrent laryngeal nerve involvement."}]},requiredInformation:{clinical:["Age","Symptoms","Duration","Smoking history","Clinical Findings"]},slaTimeframes:{urgent:"See within 1 week",soon:"See within 3 weeks",routine:"See within 5 weeks"}},{id:"colorectal-001",cancerType:"Colorectal Cancer",pathwayName:"Suspected Colorectal Cancer Pathway",urgencyLevel:"Calculated",aiTriageFactors:{highRiskFactors:["Rectal bleeding with change in bowel habit","Palpable abdominal mass","Iron deficiency anemia (unexplained)"],moderateRiskFactors:["Change in bowel habit (>6 weeks)","Family history (first-degree relative)","Weight loss"],lowRiskFactors:["Hemorrhoids (confirmed)","Anal fissure"],redFlags:[{trigger:["Rectal bleeding","Change in bowel habit","Age > 50"],message:" Red Flag: High suspicion for colorectal cancer. Urgent colonoscopy needed."}]},requiredInformation:{clinical:["Age","Symptoms","Duration","Family history","Clinical Findings"]},slaTimeframes:{urgent:"See within 2 weeks",soon:"See within 4 weeks",routine:"See within 6 weeks"}}],l$=e=>{let t=0;return e.highRiskFactors.forEach(n=>{(e.clinicalFindings.toLowerCase().includes(n.toLowerCase())||e.symptoms.toLowerCase().includes(n.toLowerCase()))&&(t+=3)}),e.moderateRiskFactors.forEach(n=>{(e.clinicalFindings.toLowerCase().includes(n.toLowerCase())||e.symptoms.toLowerCase().includes(n.toLowerCase()))&&(t+=2)}),e.age>60&&(t+=1),e.age>75&&(t+=1),(e.duration.includes("month")||e.duration.includes("week")&&parseInt(e.duration)>6)&&(t+=1),t},c$=(e,t)=>{const n=l$(e),s=n>=7?"Urgent":n>=4?"Soon":"Routine",i=[];n>=7?(i.push("Multiple high-risk factors identified"),i.push("Requires urgent assessment")):n>=4?(i.push("Moderate risk factors present"),i.push("Early assessment recommended")):(i.push("Routine assessment appropriate"),i.push("Low-risk presentation"));const o=s==="Urgent"?t.urgent:t.routine||"Not specified";return{urgency:s,reasoning:i,timeframe:o}};function wS(){const[e,t]=x.useState(!1),[n,s]=x.useState(""),[i,o]=x.useState({age:"",symptoms:"",duration:"",clinicalFindings:""}),[r,a]=x.useState(null),[c,u]=x.useState([]),[d,m]=x.useState(!1),f=x.useMemo(()=>[...new Set(Ox.map(v=>v.cancerType))],[]),h=x.useMemo(()=>Ox.find(v=>v.cancerType===n),[n]),p=async()=>{if(!h)return;const v={age:parseInt(i.age)||0,symptoms:i.symptoms,duration:i.duration,clinicalFindings:i.clinicalFindings,highRiskFactors:h.aiTriageFactors.highRiskFactors,moderateRiskFactors:h.aiTriageFactors.moderateRiskFactors},b={urgent:h.slaTimeframes.urgent,routine:h.slaTimeframes.routine},w=c$(v,b);a(w);const N=[],E=`${i.symptoms.toLowerCase()} ${i.clinicalFindings.toLowerCase()}`;h.aiTriageFactors.redFlags.forEach(D=>{D.trigger.every(M=>E.includes(M.toLowerCase()))&&N.push(D.message)}),u(N),g()},g=async()=>{if(!(!h||!r)){m(!0);try{const v=`
Cancer Type: ${h.pathwayName}
Patient Age: ${i.age}
Presenting Symptoms: ${i.symptoms}
Duration: ${i.duration}
Clinical Findings: ${i.clinicalFindings}

Initial Triage Result: ${r.urgency}
Red Flags Present: ${c.length>0?c.join(", "):"None"}

High Risk Factors to Consider:
${h.aiTriageFactors.highRiskFactors.join(`
`)}

Moderate Risk Factors to Consider:
${h.aiTriageFactors.moderateRiskFactors.join(`
`)}
`,b=await Mg({module:"OPD",intent:"triage",prompt:"Analyze this oncology referral and provide additional insights. Consider the urgency level, risk factors, and any concerning features that might need immediate attention. Suggest additional workup if needed.",context:v,mockMode:e});vr({title:"AI Clinical Insights",description:b.content,duration:1e4})}catch(v){console.error("AI Analysis Error:",v),vr({title:"AI Analysis Error",description:"Unable to get AI insights at this time. Using local triage results only.",variant:"destructive"})}finally{m(!1)}}};return l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:l.jsxDEV(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[l.jsxDEV("h2",{className:"text-2xl font-bold",children:" Referral Guidelines"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:127,columnNumber:11},this),l.jsxDEV("button",{onClick:()=>t(!e),className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e?" Mock Mode":" Gemini Mode"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:122,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:121,columnNumber:7},this),l.jsxDEV(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg shadow-lg",children:l.jsxDEV(ju,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:144,columnNumber:9},this),l.jsxDEV("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Referral Guideline Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:147,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:139,columnNumber:7},this),l.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxDEV("div",{className:"space-y-4 p-6 backdrop-blur-sm bg-white bg-opacity-40 rounded-xl shadow-lg border border-gray-200 border-opacity-40 transition-all duration-300 hover:shadow-xl",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Clinical Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:155,columnNumber:11},this),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"cancerType",className:"block text-sm font-medium text-gray-700",children:"Select Cancer Type / Pathway"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:159,columnNumber:13},this),l.jsxDEV("select",{id:"cancerType",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:n,onChange:v=>{s(v.target.value),a(null),u([])},children:[l.jsxDEV("option",{value:"",children:"Please select"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:172,columnNumber:15},this),f.map(v=>l.jsxDEV("option",{value:v,children:v},v,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:174,columnNumber:17},this))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:158,columnNumber:11},this),n&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(r$,{formData:i,setFormData:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:184,columnNumber:15},this),l.jsxDEV("button",{onClick:p,disabled:!n||d,className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d&&l.jsxDEV(Zs,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:192,columnNumber:33},this),d?"Analyzing...":"Determine Suggested Action"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:187,columnNumber:15},this),c.length>0&&l.jsxDEV("div",{className:"space-y-2",children:c.map((v,b)=>l.jsxDEV("div",{className:"p-3 bg-red-100 border border-red-300 rounded-md flex items-center gap-2 text-red-700",children:[l.jsxDEV(tt,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:201,columnNumber:23},this),l.jsxDEV("span",{className:"text-sm font-medium",children:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:202,columnNumber:23},this)]},b,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:200,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:198,columnNumber:17},this),r&&l.jsxDEV("div",{className:"mt-4 space-y-4",children:[l.jsxDEV("h4",{className:"text-md font-semibold text-gray-700",children:"Suggested Action:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:211,columnNumber:20},this),l.jsxDEV(a$,{aiTriageResult:r},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:212,columnNumber:20},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:210,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:154,columnNumber:9},this),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Guideline Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:222,columnNumber:11},this),h?l.jsxDEV(o$,{guideline:{condition:h.pathwayName,urgency:h.urgencyLevel,criteria:h.requiredInformation.clinical,workup:[...h.aiTriageFactors.highRiskFactors.map(v=>`High Risk: ${v}`),...h.aiTriageFactors.moderateRiskFactors.map(v=>`Moderate Risk: ${v}`)]}},h.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:224,columnNumber:14},this):l.jsxDEV("div",{className:"p-4 text-center text-gray-500 bg-gray-50 rounded-lg",children:"Select a cancer type to view guideline details."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:221,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/referral-guidelines/ReferralGuidelines.tsx",lineNumber:120,columnNumber:5},this)}const u$=[{type:"breast",label:"Breast Cancer",icon:""},{type:"lung",label:"Lung Cancer",icon:""},{type:"colorectal",label:"Colorectal Cancer",icon:""}],d$=({onSelect:e,selected:t})=>l.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:u$.map(({type:n,label:s,icon:i})=>l.jsxDEV(Be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-4 rounded-lg ${t===n?"bg-blue-100 border-blue-500":"bg-gray-50"} border-2 flex flex-col items-center`,onClick:()=>e(n),children:[l.jsxDEV("span",{className:"text-2xl mb-2",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:29,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-sm font-medium",children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:30,columnNumber:11},void 0)]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:20,columnNumber:9},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/CancerSelector.tsx",lineNumber:18,columnNumber:5},void 0),m$={first_visit:Iy,imaging:S2,biopsy:T2,histopathology:E2,molecular:ju,final:D2},f$={first_visit:"First Visit",imaging:"Imaging",biopsy:"Biopsy",histopathology:"Histopathology",molecular:"Molecular Testing",final:"Final Diagnosis"},h$=({events:e})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsxDEV(Iy,{className:"w-5 h-5 text-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:38,columnNumber:9},void 0),"Diagnostic Timeline"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:37,columnNumber:7},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:43,columnNumber:9},void 0),l.jsxDEV("div",{className:"space-y-6",children:e.map((t,n)=>{const s=m$[t.type];return l.jsxDEV(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"relative flex items-start gap-4 pl-8",children:[l.jsxDEV("div",{className:`absolute left-0 p-1 rounded-full bg-white ring-2 ${t.status==="completed"?"ring-green-500":t.status==="scheduled"?"ring-blue-500":"ring-gray-300"}`,children:l.jsxDEV(s,{className:`w-4 h-4 ${t.status==="completed"?"text-green-500":t.status==="scheduled"?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:62,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:57,columnNumber:17},void 0),l.jsxDEV("div",{className:"flex-1 bg-white rounded-lg border p-3",children:l.jsxDEV("div",{className:"flex justify-between items-start",children:[l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-medium text-gray-900",children:f$[t.type]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:71,columnNumber:23},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600",children:t.detail},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:72,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:70,columnNumber:21},void 0),l.jsxDEV("time",{className:"text-sm text-gray-500",children:t.date},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:74,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:69,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:68,columnNumber:17},void 0)]},t.type,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:50,columnNumber:15},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:46,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:41,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/DiagnosticTimeline.tsx",lineNumber:36,columnNumber:5},void 0);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ol(e){return e+.5|0}const gi=(e,t,n)=>Math.max(Math.min(e,n),t);function Na(e){return gi(Ol(e*2.55),0,255)}function vi(e){return gi(Ol(e*255),0,255)}function Hs(e){return gi(Ol(e/2.55)/100,0,1)}function Vx(e){return gi(Ol(e*100),0,100)}const In={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wh=[..."0123456789ABCDEF"],p$=e=>wh[e&15],g$=e=>wh[(e&240)>>4]+wh[e&15],mc=e=>(e&240)>>4===(e&15),b$=e=>mc(e.r)&&mc(e.g)&&mc(e.b)&&mc(e.a);function v$(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&In[e[1]]*17,g:255&In[e[2]]*17,b:255&In[e[3]]*17,a:t===5?In[e[4]]*17:255}:(t===7||t===9)&&(n={r:In[e[1]]<<4|In[e[2]],g:In[e[3]]<<4|In[e[4]],b:In[e[5]]<<4|In[e[6]],a:t===9?In[e[7]]<<4|In[e[8]]:255})),n}const x$=(e,t)=>e<255?t(e):"";function N$(e){var t=b$(e)?p$:g$;return e?"#"+t(e.r)+t(e.g)+t(e.b)+x$(e.a,t):void 0}const y$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DS(e,t,n){const s=t*Math.min(n,1-n),i=(o,r=(o+e/30)%12)=>n-s*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function w$(e,t,n){const s=(i,o=(i+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function D$(e,t,n){const s=DS(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function E$(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function Cg(e){const n=e.r/255,s=e.g/255,i=e.b/255,o=Math.max(n,s,i),r=Math.min(n,s,i),a=(o+r)/2;let c,u,d;return o!==r&&(d=o-r,u=a>.5?d/(2-o-r):d/(o+r),c=E$(n,s,i,d,o),c=c*60+.5),[c|0,u||0,a]}function Pg(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(vi)}function Ag(e,t,n){return Pg(DS,e,t,n)}function T$(e,t,n){return Pg(D$,e,t,n)}function S$(e,t,n){return Pg(w$,e,t,n)}function ES(e){return(e%360+360)%360}function _$(e){const t=y$.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Na(+t[5]):vi(+t[5]));const i=ES(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?s=T$(i,o,r):t[1]==="hsv"?s=S$(i,o,r):s=Ag(i,o,r),{r:s[0],g:s[1],b:s[2],a:n}}function k$(e,t){var n=Cg(e);n[0]=ES(n[0]+t),n=Ag(n),e.r=n[0],e.g=n[1],e.b=n[2]}function M$(e){if(!e)return;const t=Cg(e),n=t[0],s=Vx(t[1]),i=Vx(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${Hs(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Lx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function C$(){const e={},t=Object.keys(Fx),n=Object.keys(Lx);let s,i,o,r,a;for(s=0;s<t.length;s++){for(r=a=t[s],i=0;i<n.length;i++)o=n[i],a=a.replace(o,Lx[o]);o=parseInt(Fx[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let fc;function P$(e){fc||(fc=C$(),fc.transparent=[0,0,0,0]);const t=fc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const A$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function I$(e){const t=A$.exec(e);let n=255,s,i,o;if(t){if(t[7]!==s){const r=+t[7];n=t[8]?Na(r):gi(r*255,0,255)}return s=+t[1],i=+t[3],o=+t[5],s=255&(t[2]?Na(s):gi(s,0,255)),i=255&(t[4]?Na(i):gi(i,0,255)),o=255&(t[6]?Na(o):gi(o,0,255)),{r:s,g:i,b:o,a:n}}}function R$(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Hs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Im=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Vo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function j$(e,t,n){const s=Vo(Hs(e.r)),i=Vo(Hs(e.g)),o=Vo(Hs(e.b));return{r:vi(Im(s+n*(Vo(Hs(t.r))-s))),g:vi(Im(i+n*(Vo(Hs(t.g))-i))),b:vi(Im(o+n*(Vo(Hs(t.b))-o))),a:e.a+n*(t.a-e.a)}}function hc(e,t,n){if(e){let s=Cg(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Ag(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function TS(e,t){return e&&Object.assign(t||{},e)}function Bx(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vi(e[3]))):(t=TS(e,{r:0,g:0,b:0,a:1}),t.a=vi(t.a)),t}function O$(e){return e.charAt(0)==="r"?I$(e):_$(e)}class fl{constructor(t){if(t instanceof fl)return t;const n=typeof t;let s;n==="object"?s=Bx(t):n==="string"&&(s=v$(t)||P$(t)||O$(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=TS(this._rgb);return t&&(t.a=Hs(t.a)),t}set rgb(t){this._rgb=Bx(t)}rgbString(){return this._valid?R$(this._rgb):void 0}hexString(){return this._valid?N$(this._rgb):void 0}hslString(){return this._valid?M$(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let o;const r=n===o?.5:n,a=2*r-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-u,s.r=255&u*s.r+o*i.r+.5,s.g=255&u*s.g+o*i.g+.5,s.b=255&u*s.b+o*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=j$(this._rgb,t._rgb,n)),this}clone(){return new fl(this.rgb)}alpha(t){return this._rgb.a=vi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ol(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hc(this._rgb,2,t),this}darken(t){return hc(this._rgb,2,-t),this}saturate(t){return hc(this._rgb,1,t),this}desaturate(t){return hc(this._rgb,1,-t),this}rotate(t){return k$(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Os(){}const V$=(()=>{let e=0;return()=>e++})();function dt(e){return e==null}function Lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ze(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Bn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function cs(e,t){return Bn(e)?e:t}function Ye(e,t){return typeof e>"u"?t:e}const L$=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ft(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function st(e,t,n,s){let i,o,r;if(Lt(e))for(o=e.length,i=0;i<o;i++)t.call(n,e[i],i);else if(Ze(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(n,e[r[i]],r[i])}function xu(e,t){let n,s,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Nu(e){if(Lt(e))return e.map(Nu);if(Ze(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Nu(e[n[i]]);return t}return e}function SS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function F$(e,t,n,s){if(!SS(e))return;const i=t[e],o=n[e];Ze(i)&&Ze(o)?hl(i,o,s):t[e]=Nu(o)}function hl(e,t,n){const s=Lt(t)?t:[t],i=s.length;if(!Ze(e))return e;n=n||{};const o=n.merger||F$;let r;for(let a=0;a<i;++a){if(r=s[a],!Ze(r))continue;const c=Object.keys(r);for(let u=0,d=c.length;u<d;++u)o(c[u],e,r,n)}return e}function Ua(e,t){return hl(e,t,{merger:B$})}function B$(e,t,n){if(!SS(e))return;const s=t[e],i=n[e];Ze(s)&&Ze(i)?Ua(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Nu(i))}const Hx={"":e=>e,x:e=>e.x,y:e=>e.y};function H$(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function U$(e){const t=H$(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function yu(e,t){return(Hx[t]||(Hx[t]=U$(t)))(e)}function Ig(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wu=e=>typeof e<"u",Ti=e=>typeof e=="function",Ux=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function z$(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ft=Math.PI,Ds=2*Ft,$$=Ds+Ft,Du=Number.POSITIVE_INFINITY,W$=Ft/180,Jn=Ft/2,Vi=Ft/4,zx=Ft*2/3,_S=Math.log10,Nr=Math.sign;function za(e,t,n){return Math.abs(e-t)<n}function $x(e){const t=Math.round(e);e=za(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(_S(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function G$(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,o)=>i-o).pop(),t}function q$(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function pl(e){return!q$(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function K$(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Y$(e,t,n){let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function eo(e){return e*(Ft/180)}function X$(e){return e*(180/Ft)}function Wx(e){if(!Bn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function J$(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*Ft&&(o+=Ds),{angle:o,distance:i}}function Dh(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Q$(e,t){return(e-t+$$)%Ds-Ft}function li(e){return(e%Ds+Ds)%Ds}function kS(e,t,n,s){const i=li(e),o=li(t),r=li(n),a=li(o-i),c=li(r-i),u=li(i-o),d=li(i-r);return i===o||i===r||s&&o===r||a>c&&u<d}function Vn(e,t,n){return Math.max(t,Math.min(n,e))}function Z$(e){return Vn(e,-32768,32767)}function ya(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Rg(e,t,n){n=n||(r=>e[r]<t);let s=e.length-1,i=0,o;for(;s-i>1;)o=i+s>>1,n(o)?i=o:s=o;return{lo:i,hi:s}}const to=(e,t,n,s)=>Rg(e,n,s?i=>{const o=e[i][t];return o<n||o===n&&e[i+1][t]===n}:i=>e[i][t]<n),eW=(e,t,n)=>Rg(e,n,s=>e[s][t]>=n);function tW(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const MS=["push","pop","shift","splice","unshift"];function nW(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),MS.forEach(n=>{const s="_onData"+Ig(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function Gx(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(MS.forEach(o=>{delete e[o]}),delete e._chartjs)}function sW(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const CS=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function PS(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,CS.call(window,()=>{s=!1,e.apply(t,n)}))}}function iW(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const jg=e=>e==="start"?"left":e==="end"?"right":"center",Gt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,oW=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function rW(e,t,n){const s=t.length;let i=0,o=s;if(e._sorted){const{iScale:r,vScale:a,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:m,max:f,minDefined:h,maxDefined:p}=r.getUserBounds();if(h){if(i=Math.min(to(c,d,m).lo,n?s:to(t,d,r.getPixelForValue(m)).lo),u){const g=c.slice(0,i+1).reverse().findIndex(v=>!dt(v[a.axis]));i-=Math.max(0,g)}i=Vn(i,0,s-1)}if(p){let g=Math.max(to(c,r.axis,f,!0).hi+1,n?0:to(t,d,r.getPixelForValue(f),!0).hi+1);if(u){const v=c.slice(g-1).findIndex(b=>!dt(b[a.axis]));g+=Math.max(0,v)}o=Vn(g,i,s)-i}else o=s-i}return{start:i,count:o}}function aW(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),o}const pc=e=>e===0||e===1,qx=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ds/n)),Kx=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ds/n)+1,$a={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Jn)+1,easeOutSine:e=>Math.sin(e*Jn),easeInOutSine:e=>-.5*(Math.cos(Ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>pc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>pc(e)?e:qx(e,.075,.3),easeOutElastic:e=>pc(e)?e:Kx(e,.075,.3),easeInOutElastic(e){return pc(e)?e:e<.5?.5*qx(e*2,.1125,.45):.5+.5*Kx(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-$a.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?$a.easeInBounce(e*2)*.5:$a.easeOutBounce(e*2-1)*.5+.5};function Og(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Yx(e){return Og(e)?e:new fl(e)}function Rm(e){return Og(e)?e:new fl(e).saturate(.5).darken(.1).hexString()}const lW=["x","y","borderWidth","radius","tension"],cW=["color","borderColor","backgroundColor"];function uW(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:cW},numbers:{type:"number",properties:lW}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function dW(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xx=new Map;function mW(e,t){t=t||{};const n=e+JSON.stringify(t);let s=Xx.get(n);return s||(s=new Intl.NumberFormat(e,t),Xx.set(n,s)),s}function AS(e,t,n){return mW(t,n).format(e)}const fW={values(e){return Lt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,o=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),o=hW(e,n)}const r=_S(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),AS(e,s,c)}};function hW(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var IS={formatters:fW};function pW(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:IS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const po=Object.create(null),Eh=Object.create(null);function Wa(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const o=n[s];e=e[o]||(e[o]=Object.create(null))}return e}function jm(e,t,n){return typeof t=="string"?hl(Wa(e,t),n):hl(Wa(e,""),t)}class gW{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Rm(i.backgroundColor),this.hoverBorderColor=(s,i)=>Rm(i.borderColor),this.hoverColor=(s,i)=>Rm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return jm(this,t,n)}get(t){return Wa(this,t)}describe(t,n){return jm(Eh,t,n)}override(t,n){return jm(po,t,n)}route(t,n,s,i){const o=Wa(this,t),r=Wa(this,s),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=r[i];return Ze(c)?Object.assign({},u,c):Ye(c,u)},set(c){this[a]=c}}})}apply(t){t.forEach(n=>n(this))}}var St=new gW({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uW,dW,pW]);function bW(e){return!e||dt(e.size)||dt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Jx(e,t,n,s,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>s&&(s=o),s}function Li(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function Qx(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Th(e,t,n,s){RS(e,t,n,s,null)}function RS(e,t,n,s,i){let o,r,a,c,u,d,m,f;const h=t.pointStyle,p=t.rotation,g=t.radius;let v=(p||0)*W$;if(h&&typeof h=="object"&&(o=h.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(v),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),h){default:i?e.ellipse(n,s,i/2,g,0,0,Ds):e.arc(n,s,g,0,Ds),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(n+Math.sin(v)*d,s-Math.cos(v)*g),v+=zx,e.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*g),v+=zx,e.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,r=Math.cos(v+Vi)*c,m=Math.cos(v+Vi)*(i?i/2-u:c),a=Math.sin(v+Vi)*c,f=Math.sin(v+Vi)*(i?i/2-u:c),e.arc(n-m,s-a,u,v-Ft,v-Jn),e.arc(n+f,s-r,u,v-Jn,v),e.arc(n+m,s+a,u,v,v+Jn),e.arc(n-f,s+r,u,v+Jn,v+Ft),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,d=i?i/2:c,e.rect(n-d,s-c,2*d,2*c);break}v+=Vi;case"rectRot":m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+f,s-r),e.lineTo(n+m,s+a),e.lineTo(n-f,s+r),e.closePath();break;case"crossRot":v+=Vi;case"cross":m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+m,s+a),e.moveTo(n+f,s-r),e.lineTo(n-f,s+r);break;case"star":m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+m,s+a),e.moveTo(n+f,s-r),e.lineTo(n-f,s+r),v+=Vi,m=Math.cos(v)*(i?i/2:g),r=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(i?i/2:g),e.moveTo(n-m,s-a),e.lineTo(n+m,s+a),e.moveTo(n+f,s-r),e.lineTo(n-f,s+r);break;case"line":r=i?i/2:Math.cos(v)*g,a=Math.sin(v)*g,e.moveTo(n-r,s-a),e.lineTo(n+r,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(v)*(i?i/2:g),s+Math.sin(v)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function gl(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Vg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Lg(e){e.restore()}function vW(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function xW(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function NW(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),dt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function yW(e,t,n,s,i){if(i.strikethrough||i.underline){const o=e.measureText(s),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(a,d),e.stroke()}}function wW(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bl(e,t,n,s,i,o={}){const r=Lt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let c,u;for(e.save(),e.font=i.string,NW(e,o),c=0;c<r.length;++c)u=r[c],o.backdrop&&wW(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),dt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,n,s,o.maxWidth)),e.fillText(u,n,s,o.maxWidth),yW(e,n,s,u,o),s+=Number(i.lineHeight);e.restore()}function Sh(e,t){const{x:n,y:s,w:i,h:o,radius:r}=t;e.arc(n+r.topLeft,s+r.topLeft,r.topLeft,1.5*Ft,Ft,!0),e.lineTo(n,s+o-r.bottomLeft),e.arc(n+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,Ft,Jn,!0),e.lineTo(n+i-r.bottomRight,s+o),e.arc(n+i-r.bottomRight,s+o-r.bottomRight,r.bottomRight,Jn,0,!0),e.lineTo(n+i,s+r.topRight),e.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-Jn,!0),e.lineTo(n+r.topLeft,s)}const DW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,EW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function TW(e,t){const n=(""+e).match(DW);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const SW=e=>+e||0;function jS(e,t){const n={},s=Ze(t),i=s?Object.keys(t):t,o=Ze(e)?s?r=>Ye(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)n[r]=SW(o(r));return n}function _W(e){return jS(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ga(e){return jS(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Hn(e){const t=_W(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xt(e,t){e=e||{},t=t||St.font;let n=Ye(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ye(e.style,t.style);s&&!(""+s).match(EW)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Ye(e.family,t.family),lineHeight:TW(Ye(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Ye(e.weight,t.weight),string:""};return i.string=bW(i),i}function gc(e,t,n,s){let i,o,r;for(i=0,o=e.length;i<o;++i)if(r=e[i],r!==void 0&&r!==void 0)return r}function kW(e,t,n){const{min:s,max:i}=e,o=L$(t,(i-s)/2),r=(a,c)=>n&&a===0?0:a+c;return{min:r(s,-Math.abs(o)),max:r(i,o)}}function Eo(e,t){return Object.assign(Object.create(e),t)}function Fg(e,t=[""],n,s,i=()=>e[0]){const o=n||e;typeof s>"u"&&(s=FS("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:s,_getTarget:i,override:a=>Fg([a,...e],t,o,s)};return new Proxy(r,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return VS(a,c,()=>OW(c,t,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return eN(a).includes(c)},ownKeys(a){return eN(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function yr(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:OS(e,s),setContext:o=>yr(e,o,n,s),override:o=>yr(e.override(o),t,n,s)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return VS(o,r,()=>CW(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function OS(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ti(n)?n:()=>n,isIndexable:Ti(s)?s:()=>s}}const MW=(e,t)=>e?e+Ig(t):t,Bg=(e,t)=>Ze(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VS(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function CW(e,t,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:r}=e;let a=s[t];return Ti(a)&&r.isScriptable(t)&&(a=PW(t,a,e,n)),Lt(a)&&a.length&&(a=AW(t,a,e,r.isIndexable)),Bg(t,a)&&(a=yr(a,i,o&&o[t],r)),a}function PW(e,t,n,s){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(o,r||s);return a.delete(e),Bg(e,c)&&(c=Hg(i._scopes,i,e,c)),c}function AW(e,t,n,s){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;if(typeof o.index<"u"&&s(e))return t[o.index%t.length];if(Ze(t[0])){const c=t,u=i._scopes.filter(d=>d!==c);t=[];for(const d of c){const m=Hg(u,i,e,d);t.push(yr(m,o,r&&r[e],a))}}return t}function LS(e,t,n){return Ti(e)?e(t,n):e}const IW=(e,t)=>e===!0?t:typeof e=="string"?yu(t,e):void 0;function RW(e,t,n,s,i){for(const o of t){const r=IW(n,o);if(r){e.add(r);const a=LS(r._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(r===!1&&typeof s<"u"&&n!==s)return null}return!1}function Hg(e,t,n,s){const i=t._rootScopes,o=LS(t._fallback,n,s),r=[...e,...i],a=new Set;a.add(s);let c=Zx(a,r,n,o||n,s);return c===null||typeof o<"u"&&o!==n&&(c=Zx(a,r,o,c,s),c===null)?!1:Fg(Array.from(a),[""],i,o,()=>jW(t,n,s))}function Zx(e,t,n,s,i){for(;n;)n=RW(e,t,n,s,i);return n}function jW(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Lt(i)&&Ze(n)?n:i||{}}function OW(e,t,n,s){let i;for(const o of t)if(i=FS(MW(o,e),n),typeof i<"u")return Bg(e,i)?Hg(n,s,e,i):i}function FS(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function eN(e){let t=e._keys;return t||(t=e._keys=VW(e._scopes)),t}function VW(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}const LW=Number.EPSILON||1e-14,wr=(e,t)=>t<e.length&&!e[t].skip&&e[t],BS=e=>e==="x"?"y":"x";function FW(e,t,n,s){const i=e.skip?t:e,o=t,r=n.skip?t:n,a=Dh(o,i),c=Dh(r,o);let u=a/(a+c),d=c/(a+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const m=s*u,f=s*d;return{previous:{x:o.x-m*(r.x-i.x),y:o.y-m*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function BW(e,t,n){const s=e.length;let i,o,r,a,c,u=wr(e,0);for(let d=0;d<s-1;++d)if(c=u,u=wr(e,d+1),!(!c||!u)){if(za(t[d],0,LW)){n[d]=n[d+1]=0;continue}i=n[d]/t[d],o=n[d+1]/t[d],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[d]=i*r*t[d],n[d+1]=o*r*t[d])}}function HW(e,t,n="x"){const s=BS(n),i=e.length;let o,r,a,c=wr(e,0);for(let u=0;u<i;++u){if(r=a,a=c,c=wr(e,u+1),!a)continue;const d=a[n],m=a[s];r&&(o=(d-r[n])/3,a[`cp1${n}`]=d-o,a[`cp1${s}`]=m-o*t[u]),c&&(o=(c[n]-d)/3,a[`cp2${n}`]=d+o,a[`cp2${s}`]=m+o*t[u])}}function UW(e,t="x"){const n=BS(t),s=e.length,i=Array(s).fill(0),o=Array(s);let r,a,c,u=wr(e,0);for(r=0;r<s;++r)if(a=c,c=u,u=wr(e,r+1),!!c){if(u){const d=u[t]-c[t];i[r]=d!==0?(u[n]-c[n])/d:0}o[r]=a?u?Nr(i[r-1])!==Nr(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}BW(e,i,o),HW(e,o,t)}function bc(e,t,n){return Math.max(Math.min(e,n),t)}function zW(e,t){let n,s,i,o,r,a=gl(e[0],t);for(n=0,s=e.length;n<s;++n)r=o,o=a,a=n<s-1&&gl(e[n+1],t),o&&(i=e[n],r&&(i.cp1x=bc(i.cp1x,t.left,t.right),i.cp1y=bc(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=bc(i.cp2x,t.left,t.right),i.cp2y=bc(i.cp2y,t.top,t.bottom)))}function $W(e,t,n,s,i){let o,r,a,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")UW(e,i);else{let u=s?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],c=FW(u,a,e[Math.min(o+1,r-(s?0:1))%r],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}t.capBezierPoints&&zW(e,n)}function Ug(){return typeof window<"u"&&typeof document<"u"}function zg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Eu(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const pd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function WW(e,t){return pd(e).getPropertyValue(t)}const GW=["top","right","bottom","left"];function mo(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=GW[i];s[o]=parseFloat(e[t+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const qW=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function KW(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=s;let r=!1,a,c;if(qW(i,o,e.target))a=i,c=o;else{const u=t.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,r=!0}return{x:a,y:c,box:r}}function zi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=pd(n),o=i.boxSizing==="border-box",r=mo(i,"padding"),a=mo(i,"border","width"),{x:c,y:u,box:d}=KW(e,n),m=r.left+(d&&a.left),f=r.top+(d&&a.top);let{width:h,height:p}=t;return o&&(h-=r.width+a.width,p-=r.height+a.height),{x:Math.round((c-m)/h*n.width/s),y:Math.round((u-f)/p*n.height/s)}}function YW(e,t,n){let s,i;if(t===void 0||n===void 0){const o=e&&zg(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const r=o.getBoundingClientRect(),a=pd(o),c=mo(a,"border","width"),u=mo(a,"padding");t=r.width-u.width-c.width,n=r.height-u.height-c.height,s=Eu(a.maxWidth,o,"clientWidth"),i=Eu(a.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:s||Du,maxHeight:i||Du}}const vc=e=>Math.round(e*10)/10;function XW(e,t,n,s){const i=pd(e),o=mo(i,"margin"),r=Eu(i.maxWidth,e,"clientWidth")||Du,a=Eu(i.maxHeight,e,"clientHeight")||Du,c=YW(e,t,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=mo(i,"border","width"),h=mo(i,"padding");u-=h.width+f.width,d-=h.height+f.height}return u=Math.max(0,u-o.width),d=Math.max(0,s?u/s:d-o.height),u=vc(Math.min(u,r,c.maxWidth)),d=vc(Math.min(d,a,c.maxHeight)),u&&!d&&(d=vc(u/2)),(t!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=vc(Math.floor(d*s))),{width:u,height:d}}function tN(e,t,n){const s=t||1,i=Math.floor(e.height*s),o=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=s,r.height=i,r.width=o,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const JW=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ug()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function nN(e,t){const n=WW(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function $i(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function QW(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function ZW(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=$i(e,i,n),a=$i(i,o,n),c=$i(o,t,n),u=$i(r,a,n),d=$i(a,c,n);return $i(u,d,n)}const eG=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},tG=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function rr(e,t,n){return e?eG(t,n):tG()}function HS(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function US(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function zS(e){return e==="angle"?{between:kS,compare:Q$,normalize:li}:{between:ya,compare:(t,n)=>t-n,normalize:t=>t}}function sN({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function nG(e,t,n){const{property:s,start:i,end:o}=n,{between:r,normalize:a}=zS(s),c=t.length;let{start:u,end:d,loop:m}=e,f,h;if(m){for(u+=c,d+=c,f=0,h=c;f<h&&r(a(t[u%c][s]),i,o);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:m,style:e.style}}function sG(e,t,n){if(!n)return[e];const{property:s,start:i,end:o}=n,r=t.length,{compare:a,between:c,normalize:u}=zS(s),{start:d,end:m,loop:f,style:h}=nG(e,t,n),p=[];let g=!1,v=null,b,w,N;const E=()=>c(i,N,b)&&a(i,N)!==0,D=()=>a(o,b)===0||c(o,N,b),T=()=>g||E(),M=()=>!g||D();for(let _=d,P=d;_<=m;++_)w=t[_%r],!w.skip&&(b=u(w[s]),b!==N&&(g=c(b,i,o),v===null&&T()&&(v=a(b,i)===0?_:P),v!==null&&M()&&(p.push(sN({start:v,end:_,loop:f,count:r,style:h})),v=null),P=_,N=b));return v!==null&&p.push(sN({start:v,end:m,loop:f,count:r,style:h})),p}function iG(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const o=sG(s[i],e.points,t);o.length&&n.push(...o)}return n}function oG(e,t,n,s){let i=0,o=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function rG(e,t,n,s){const i=e.length,o=[];let r=t,a=e[t],c;for(c=t+1;c<=n;++c){const u=e[c%i];u.skip||u.stop?a.skip||(s=!1,o.push({start:t%i,end:(c-1)%i,loop:s}),t=r=u.stop?c:null):(r=c,a.skip&&(t=c)),a=u}return r!==null&&o.push({start:t%i,end:r%i,loop:s}),o}function aG(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=oG(n,i,o,s);if(s===!0)return iN(e,[{start:r,end:a,loop:o}],n,t);const c=a<r?a+i:a,u=!!e._fullLoop&&r===0&&a===i-1;return iN(e,rG(n,r,c,u),n,t)}function iN(e,t,n,s){return!s||!s.setContext||!n?t:lG(e,t,n,s)}function lG(e,t,n,s){const i=e._chart.getContext(),o=oN(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,c=n.length,u=[];let d=o,m=t[0].start,f=m;function h(p,g,v,b){const w=a?-1:1;if(p!==g){for(p+=c;n[p%c].skip;)p-=w;for(;n[g%c].skip;)g+=w;p%c!==g%c&&(u.push({start:p%c,end:g%c,loop:v,style:b}),d=b,m=g%c)}}for(const p of t){m=a?m:p.start;let g=n[m%c],v;for(f=m+1;f<=p.end;f++){const b=n[f%c];v=oN(s.setContext(Eo(i,{type:"segment",p0:g,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:r}))),cG(v,d)&&h(m,f-1,p.loop,d),g=b,d=v}m<f-1&&h(m,f-1,p.loop,d)}return u}function oN(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function cG(e,t){if(!t)return!1;const n=[],s=function(i,o){return Og(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function xc(e,t,n){return e.options.clip?e[n]:t[n]}function uG(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:xc(n,t,"left"),right:xc(n,t,"right"),top:xc(s,t,"top"),bottom:xc(s,t,"bottom")}:t}function dG(e,t){const n=t._clip;if(n.disabled)return!1;const s=uG(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const o=n.listeners[i],r=n.duration;o.forEach(a=>a({chart:t,initial:n.initial,numSteps:r,currentStep:Math.min(s-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=CS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let r=o.length-1,a=!1,c;for(;r>=0;--r)c=o[r],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),o.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ls=new mG;const rN="transparent",fG={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Yx(e||rN),i=s.valid&&Yx(t||rN);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class hG{constructor(t,n,s,i){const o=n[s];i=gc([t.to,i,o,t.from]);const r=gc([t.from,o,i]);this._active=!0,this._fn=t.fn||fG[t.type||typeof r],this._easing=$a[t.easing]||$a.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=gc([t.to,n,i,t.from]),this._from=gc([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let c;if(this._active=o!==a&&(r||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}c=n/s%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class $S{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ze(t))return;const n=Object.keys(St.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!Ze(o))return;const r={};for(const a of n)r[a]=o[a];(Lt(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,r)})})}_animateOptions(t,n){const s=n.options,i=gG(t,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&pG(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,n){const s=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(n),a=Date.now();let c;for(c=r.length-1;c>=0;--c){const u=r[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const d=n[u];let m=o[u];const f=s.get(u);if(m)if(f&&m.active()){m.update(f,d,a);continue}else m.cancel();if(!f||!f.duration){t[u]=d;continue}o[u]=m=new hG(f,t,u,d),i.push(m)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Ls.add(this._chart,s),!0}}function pG(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const o=e[s[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function gG(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function aN(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:s?o:i,end:s?i:o}}function bG(e,t,n){if(n===!1)return!1;const s=aN(e,n),i=aN(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function vG(e){let t,n,s,i;return Ze(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function WS(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=s.length;i<o;++i)n.push(s[i].index);return n}function lN(e,t,n,s={}){const i=e.keys,o=s.mode==="single";let r,a,c,u;if(t===null)return;let d=!1;for(r=0,a=i.length;r<a;++r){if(c=+i[r],c===n){if(d=!0,s.all)continue;break}u=e.values[c],Bn(u)&&(o||t===0||Nr(t)===Nr(u))&&(t+=u)}return!d&&!s.all?0:t}function xG(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let c,u,d;for(c=0,u=r.length;c<u;++c)d=r[c],a[c]={[i]:d,[o]:e[d]};return a}function Om(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function NG(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function yG(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function wG(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function cN(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const o=e[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function uN(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=s,c=o.axis,u=r.axis,d=NG(o,r,s),m=t.length;let f;for(let h=0;h<m;++h){const p=t[h],{[c]:g,[u]:v}=p,b=p._stacks||(p._stacks={});f=b[u]=wG(i,d,g),f[a]=v,f._top=cN(f,r,!0,s.type),f._bottom=cN(f,r,!1,s.type);const w=f._visualValues||(f._visualValues={});w[a]=v}}function Vm(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function DG(e,t){return Eo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function EG(e,t,n){return Eo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function aa(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Lm=e=>e==="reset"||e==="none",dN=(e,t)=>t?e:Object.assign({},e),TG=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:WS(n,!0),values:null};class qa{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Om(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&aa(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(m,f,h,p)=>m==="x"?f:m==="r"?p:h,o=n.xAxisID=Ye(s.xAxisID,Vm(t,"x")),r=n.yAxisID=Ye(s.yAxisID,Vm(t,"y")),a=n.rAxisID=Ye(s.rAxisID,Vm(t,"r")),c=n.indexAxis,u=n.iAxisID=i(c,o,r,a),d=n.vAxisID=i(c,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Gx(this._data,this),t._stacked&&aa(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Ze(n)){const i=this._cachedMeta;this._data=xG(n,i)}else if(s!==n){if(s){Gx(s,this);const i=this._cachedMeta;aa(i),i._parsed=[]}n&&Object.isExtensible(n)&&nW(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=Om(n.vScale,n),n.stack!==s.stack&&(i=!0,aa(n),n.stack=s.stack),this._resyncElements(t),(i||o!==n._stacked)&&(uN(this,n._parsed),n._stacked=Om(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:r}=s,a=o.axis;let c=t===0&&n===i.length?!0:s._sorted,u=t>0&&s._parsed[t-1],d,m,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Lt(i[t])?f=this.parseArrayData(s,i,t,n):Ze(i[t])?f=this.parseObjectData(s,i,t,n):f=this.parsePrimitiveData(s,i,t,n);const h=()=>m[a]===null||u&&m[a]<u[a];for(d=0;d<n;++d)s._parsed[d+t]=m=f[d],c&&(h()&&(c=!1),u=m);s._sorted=c}r&&uN(this,f)}parsePrimitiveData(t,n,s,i){const{iScale:o,vScale:r}=t,a=o.axis,c=r.axis,u=o.getLabels(),d=o===r,m=new Array(i);let f,h,p;for(f=0,h=i;f<h;++f)p=f+s,m[f]={[a]:d||o.parse(u[p],p),[c]:r.parse(n[p],p)};return m}parseArrayData(t,n,s,i){const{xScale:o,yScale:r}=t,a=new Array(i);let c,u,d,m;for(c=0,u=i;c<u;++c)d=c+s,m=n[d],a[c]={x:o.parse(m[0],d),y:r.parse(m[1],d)};return a}parseObjectData(t,n,s,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,m,f,h;for(d=0,m=i;d<m;++d)f=d+s,h=n[f],u[d]={x:o.parse(yu(h,a),f),y:r.parse(yu(h,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,o=this._cachedMeta,r=n[t.axis],a={keys:WS(i,!0),values:n._stacks[t.axis]._visualValues};return lN(a,r,o.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const o=s[n.axis];let r=o===null?NaN:o;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,r=lN(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&t===s.iScale,r=i.length,a=this._getOtherScale(t),c=TG(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:m}=yG(a);let f,h;function p(){h=i[f];const g=h[a.axis];return!Bn(h[t.axis])||d>g||m<g}for(f=0;f<r&&!(!p()&&(this.updateRangeFromParsed(u,t,h,c),o));++f);if(o){for(f=r-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,t,h,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i][t.axis],Bn(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=vG(Ye(this.options.clip,bG(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],o=n.chartArea,r=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(t,o,a,c),d=a;d<a+c;++d){const m=i[d];m.hidden||(m.active&&u?r.push(m):m.draw(t,o))}for(d=0;d<r.length;++d)r[d].draw(t,o)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=EG(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=DG(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",o=this._cachedDataOpts,r=t+"-"+n,a=o[r],c=this.enableOptionSharing&&wu(s);if(a)return dN(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),m=i?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),h=Object.keys(St.elements[t]),p=()=>this.getContext(s,i,n),g=u.resolveNamedOptions(f,h,p,m);return g.$shared&&(g.$shared=c,o[r]=Object.freeze(dN(g,c))),g}_resolveAnimations(t,n,s){const i=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,m=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),m);c=d.createResolver(f,this.getContext(t,s,n))}const u=new $S(i,c&&c.animations);return c&&c._cacheable&&(o[r]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Lm(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,o=this.getSharedOptions(s),r=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:r}}updateElement(t,n,s,i){Lm(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!Lm(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,o=n.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,n,s=!0){const i=this._cachedMeta,o=i.data,r=t+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=r;a--)u[a]=u[a-n]};for(c(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),s&&this.updateElements(o,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&aa(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Me(qa,"defaults",{}),Me(qa,"datasetElementType",null),Me(qa,"dataElementType",null);class Yc extends qa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:c}=rW(n,i,r);this._drawStart=a,this._drawCount=c,aW(n)&&(a=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:u},t),this.updateElements(i,a,c,t)}updateElements(t,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:m}=this._getSharedOptions(n,i),f=r.axis,h=a.axis,{spanGaps:p,segment:g}=this.options,v=pl(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||i==="none",w=n+s,N=t.length;let E=n>0&&this.getParsed(n-1);for(let D=0;D<N;++D){const T=t[D],M=b?T:{};if(D<n||D>=w){M.skip=!0;continue}const _=this.getParsed(D),P=dt(_[h]),k=M[f]=r.getPixelForValue(_[f],D),L=M[h]=o||P?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,_,c):_[h],D);M.skip=isNaN(k)||isNaN(L)||P,M.stop=D>0&&Math.abs(_[f]-E[f])>v,g&&(M.parsed=_,M.raw=u.data[D]),m&&(M.options=d||this.resolveDataElementOptions(D,T.active?"active":i)),b||this.updateElement(T,D,M,i),E=_}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Me(Yc,"id","line"),Me(Yc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Me(Yc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Fi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $g{constructor(t){Me(this,"options");this.options=t||{}}static override(t){Object.assign($g.prototype,t)}init(){}formats(){return Fi()}parse(){return Fi()}format(){return Fi()}add(){return Fi()}diff(){return Fi()}startOf(){return Fi()}endOf(){return Fi()}}var SG={_date:$g};function _G(e,t,n,s){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const u=a._reversePixels?eW:to;if(s){if(i._sharedOptions){const d=o[0],m=typeof d.getRange=="function"&&d.getRange(t);if(m){const f=u(o,t,n-m),h=u(o,t,n+m);return{lo:f.lo,hi:h.hi}}}}else{const d=u(o,t,n);if(c){const{vScale:m}=i._cachedMeta,{_parsed:f}=e,h=f.slice(0,d.lo+1).reverse().findIndex(g=>!dt(g[m.axis]));d.lo-=Math.max(0,h);const p=f.slice(d.hi).findIndex(g=>!dt(g[m.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:o.length-1}}function gd(e,t,n,s,i){const o=e.getSortedVisibleDatasetMetas(),r=n[t];for(let a=0,c=o.length;a<c;++a){const{index:u,data:d}=o[a],{lo:m,hi:f}=_G(o[a],t,r,i);for(let h=m;h<=f;++h){const p=d[h];p.skip||s(p,u,h)}}}function kG(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const o=t?Math.abs(s.x-i.x):0,r=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Fm(e,t,n,s,i){const o=[];return!i&&!e.isPointInArea(t)||gd(e,n,t,function(a,c,u){!i&&!gl(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&o.push({element:a,datasetIndex:c,index:u})},!0),o}function MG(e,t,n,s){let i=[];function o(r,a,c){const{startAngle:u,endAngle:d}=r.getProps(["startAngle","endAngle"],s),{angle:m}=J$(r,{x:t.x,y:t.y});kS(m,u,d)&&i.push({element:r,datasetIndex:a,index:c})}return gd(e,n,t,o),i}function CG(e,t,n,s,i,o){let r=[];const a=kG(n);let c=Number.POSITIVE_INFINITY;function u(d,m,f){const h=d.inRange(t.x,t.y,i);if(s&&!h)return;const p=d.getCenterPoint(i);if(!(!!o||e.isPointInArea(p))&&!h)return;const v=a(t,p);v<c?(r=[{element:d,datasetIndex:m,index:f}],c=v):v===c&&r.push({element:d,datasetIndex:m,index:f})}return gd(e,n,t,u),r}function Bm(e,t,n,s,i,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!s?MG(e,t,n,i):CG(e,t,n,s,i,o)}function mN(e,t,n,s,i){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return gd(e,n,t,(c,u,d)=>{c[r]&&c[r](t[n],i)&&(o.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(t.x,t.y,i))}),s&&!a?[]:o}var PG={modes:{index(e,t,n,s){const i=zi(t,e),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?Fm(e,i,o,s,r):Bm(e,i,o,!1,s,r),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,m=u.data[d];m&&!m.skip&&c.push({element:m,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,n,s){const i=zi(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?Fm(e,i,o,s,r):Bm(e,i,o,!1,s,r);if(a.length>0){const c=a[0].datasetIndex,u=e.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(e,t,n,s){const i=zi(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return Fm(e,i,o,s,r)},nearest(e,t,n,s){const i=zi(t,e),o=n.axis||"xy",r=n.includeInvisible||!1;return Bm(e,i,o,n.intersect,s,r)},x(e,t,n,s){const i=zi(t,e);return mN(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=zi(t,e);return mN(e,i,"y",n.intersect,s)}}};const GS=["left","top","right","bottom"];function la(e,t){return e.filter(n=>n.pos===t)}function fN(e,t){return e.filter(n=>GS.indexOf(n.pos)===-1&&n.box.axis===t)}function ca(e,t){return e.sort((n,s)=>{const i=t?s:n,o=t?n:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function AG(e){const t=[];let n,s,i,o,r,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function IG(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:o}=n;if(!s||!GS.includes(i))continue;const r=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function RG(e,t){const n=IG(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&t.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&t.availableHeight)}return n}function jG(e){const t=AG(e),n=ca(t.filter(u=>u.box.fullSize),!0),s=ca(la(t,"left"),!0),i=ca(la(t,"right")),o=ca(la(t,"top"),!0),r=ca(la(t,"bottom")),a=fN(t,"x"),c=fN(t,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:i.concat(c).concat(r).concat(a),chartArea:la(t,"chartArea"),vertical:s.concat(i).concat(c),horizontal:o.concat(r).concat(a)}}function hN(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function qS(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function OG(e,t,n,s){const{pos:i,box:o}=n,r=e.maxPadding;if(!Ze(i)){n.size&&(e[i]-=n.size);const m=s[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?o.height:o.width),n.size=m.size/m.count,e[i]+=n.size}o.getPadding&&qS(r,o.getPadding());const a=Math.max(0,t.outerWidth-hN(r,e,"left","right")),c=Math.max(0,t.outerHeight-hN(r,e,"top","bottom")),u=a!==e.w,d=c!==e.h;return e.w=a,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function VG(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function LG(e,t){const n=t.maxPadding;function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],n[r])}),o}return s(e?["left","right"]:["top","bottom"])}function wa(e,t,n,s){const i=[];let o,r,a,c,u,d;for(o=0,r=e.length,u=0;o<r;++o){a=e[o],c=a.box,c.update(a.width||t.w,a.height||t.h,LG(a.horizontal,t));const{same:m,other:f}=OG(t,n,a,s);u|=m&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&wa(i,t,n,s)||d}function Nc(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function pN(e,t,n,s){const i=n.padding;let{x:o,y:r}=t;for(const a of e){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const m=t.w*d,f=u.size||c.height;wu(u.start)&&(r=u.start),c.fullSize?Nc(c,i.left,r,n.outerWidth-i.right-i.left,f):Nc(c,t.left+u.placed,r,m,f),u.start=r,u.placed+=m,r=c.bottom}else{const m=t.h*d,f=u.size||c.width;wu(u.start)&&(o=u.start),c.fullSize?Nc(c,o,i.top,f,n.outerHeight-i.bottom-i.top):Nc(c,o,t.top+u.placed,f,m),u.start=o,u.placed+=m,o=c.right}}t.x=o,t.y=r}var Ln={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=Hn(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(n-i.height,0),a=jG(e.boxes),c=a.vertical,u=a.horizontal;st(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);qS(f,Hn(s));const h=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),p=RG(c.concat(u),m);wa(a.fullSize,h,m,p),wa(c,h,m,p),wa(u,h,m,p)&&wa(c,h,m,p),VG(h),pN(a.leftAndTop,h,m,p),h.x+=h.w,h.y+=h.h,pN(a.rightAndBottom,h,m,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},st(a.chartArea,g=>{const v=g.box;Object.assign(v,e.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class KS{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class FG extends KS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xc="$chartjs",BG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gN=e=>e===null||e==="";function HG(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[Xc]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gN(i)){const o=nN(e,"width");o!==void 0&&(e.width=o)}if(gN(s))if(e.style.height==="")e.height=e.width/(t||2);else{const o=nN(e,"height");o!==void 0&&(e.height=o)}return e}const YS=JW?{passive:!0}:!1;function UG(e,t,n){e&&e.addEventListener(t,n,YS)}function zG(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,YS)}function $G(e,t){const n=BG[e.type]||e.type,{x:s,y:i}=zi(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Tu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function WG(e,t,n){const s=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Tu(a.addedNodes,s),r=r&&!Tu(a.removedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function GG(e,t,n){const s=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Tu(a.removedNodes,s),r=r&&!Tu(a.addedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const vl=new Map;let bN=0;function XS(){const e=window.devicePixelRatio;e!==bN&&(bN=e,vl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function qG(e,t){vl.size||window.addEventListener("resize",XS),vl.set(e,t)}function KG(e){vl.delete(e),vl.size||window.removeEventListener("resize",XS)}function YG(e,t,n){const s=e.canvas,i=s&&zg(s);if(!i)return;const o=PS((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),r=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||o(u,d)});return r.observe(i),qG(e,o),r}function Hm(e,t,n){n&&n.disconnect(),t==="resize"&&KG(e)}function XG(e,t,n){const s=e.canvas,i=PS(o=>{e.ctx!==null&&n($G(o,e))},e);return UG(s,t,i),i}class JG extends KS{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(HG(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Xc])return!1;const s=n[Xc].initial;["height","width"].forEach(o=>{const r=s[o];dt(r)?n.removeAttribute(o):n.setAttribute(o,r)});const i=s.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Xc],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),r={attach:WG,detach:GG,resize:YG}[n]||XG;i[n]=r(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:Hm,detach:Hm,resize:Hm}[n]||zG)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return XW(t,n,s,i)}isAttached(t){const n=t&&zg(t);return!!(n&&n.isConnected)}}function QG(e){return!Ug()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?FG:JG}var jc;let To=(jc=class{constructor(){Me(this,"x");Me(this,"y");Me(this,"active",!1);Me(this,"options");Me(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return pl(this.x)&&pl(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}},Me(jc,"defaults",{}),Me(jc,"defaultRoutes"),jc);function ZG(e,t){const n=e.options.ticks,s=eq(e),i=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?nq(t):[],r=o.length,a=o[0],c=o[r-1],u=[];if(r>i)return sq(t,u,o,r/i),u;const d=tq(o,t,i);if(r>0){let m,f;const h=r>1?Math.round((c-a)/(r-1)):null;for(yc(t,u,d,dt(h)?0:a-h,a),m=0,f=r-1;m<f;m++)yc(t,u,d,o[m],o[m+1]);return yc(t,u,d,c,dt(h)?t.length:c+h),u}return yc(t,u,d),u}function eq(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function tq(e,t,n){const s=iq(e),i=t.length/n;if(!s)return Math.max(i,1);const o=G$(s);for(let r=0,a=o.length-1;r<a;r++){const c=o[r];if(c>i)return c}return Math.max(i,1)}function nq(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function sq(e,t,n,s){let i=0,o=n[0],r;for(s=Math.ceil(s),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=n[i*s])}function yc(e,t,n,s,i){const o=Ye(s,0),r=Math.min(Ye(i,e.length),e.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=o;d<0;)a++,d=Math.round(o+a*n);for(u=Math.max(o,0);u<r;u++)u===d&&(t.push(e[u]),a++,d=Math.round(o+a*n))}function iq(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const oq=e=>e==="left"?"right":e==="right"?"left":e,vN=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xN=(e,t)=>Math.min(t||e,e);function NN(e,t){const n=[],s=e.length/t,i=e.length;let o=0;for(;o<i;o+=s)n.push(e[Math.floor(o)]);return n}function rq(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),o=e._startPixel,r=e._endPixel,a=1e-6;let c=e.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-o,r-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(i-1))/2,c+=i<t?u:-u,c<o-a||c>r+a)))return c}function aq(e,t){st(e,n=>{const s=n.gc,i=s.length/2;let o;if(i>t){for(o=0;o<i;++o)delete n.data[s[o]];s.splice(0,i)}})}function ua(e){return e.drawTicks?e.tickLength:0}function yN(e,t){if(!e.display)return 0;const n=Xt(e.font,t),s=Hn(e.padding);return(Lt(e.text)?e.text.length:1)*n.lineHeight+s.height}function lq(e,t){return Eo(e,{scale:t,type:"scale"})}function cq(e,t,n){return Eo(e,{tick:n,index:t,type:"tick"})}function uq(e,t,n){let s=jg(e);return(n&&t!=="right"||!n&&t==="right")&&(s=oq(s)),s}function dq(e,t,n,s){const{top:i,left:o,bottom:r,right:a,chart:c}=e,{chartArea:u,scales:d}=c;let m=0,f,h,p;const g=r-i,v=a-o;if(e.isHorizontal()){if(h=Gt(s,o,a),Ze(n)){const b=Object.keys(n)[0],w=n[b];p=d[b].getPixelForValue(w)+g-t}else n==="center"?p=(u.bottom+u.top)/2+g-t:p=vN(e,n,t);f=a-o}else{if(Ze(n)){const b=Object.keys(n)[0],w=n[b];h=d[b].getPixelForValue(w)-v+t}else n==="center"?h=(u.left+u.right)/2-v+t:h=vN(e,n,t);p=Gt(s,r,i),m=n==="left"?-Jn:Jn}return{titleX:h,titleY:p,maxWidth:f,rotation:m}}class zr extends To{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=cs(t,Number.POSITIVE_INFINITY),n=cs(n,Number.NEGATIVE_INFINITY),s=cs(s,Number.POSITIVE_INFINITY),i=cs(i,Number.NEGATIVE_INFINITY),{min:cs(t,s),max:cs(n,i),minDefined:Bn(t),maxDefined:Bn(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)r=a[c].controller.getMinMax(this,t),i||(n=Math.min(n,r.min)),o||(s=Math.max(s,r.max));return n=o&&n>s?s:n,s=i&&n>s?n:s,{min:cs(n,cs(s,n)),max:cs(s,cs(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kW(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?NN(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=ZG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ft(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s],o.label=ft(n.callback,[o.value,s,t],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=xN(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let r=i,a,c,u;if(!this._isVisible()||!n.display||i>=o||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),m=d.widest.width,f=d.highest.height,h=Vn(this.chart.width-m,0,this.maxWidth);a=t.offset?this.maxWidth/s:h/(s-1),m+6>a&&(a=h/(s-(t.offset?.5:1)),c=this.maxHeight-ua(t.grid)-n.padding-yN(t.title,this.chart.options.font),u=Math.sqrt(m*m+f*f),r=X$(Math.min(Math.asin(Vn((d.highest.height+6)/a,-1,1)),Math.asin(Vn(c/u,-1,1))-Math.asin(Vn(f/u,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const c=yN(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=ua(o)+c):(t.height=this.maxHeight,t.width=ua(o)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:m,highest:f}=this._getLabelSizes(),h=s.padding*2,p=eo(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const b=s.mirror?0:v*m.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+b+h)}else{const b=s.mirror?0:g*m.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+b+h)}this._calculatePadding(u,d,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:o,padding:r},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;c?u?(f=i*t.width,h=s*n.height):(f=s*t.height,h=i*n.width):o==="start"?h=n.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,h=n.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-m+r)*this.width/(this.width-m),0)}else{let d=n.height/2,m=t.height/2;o==="start"?(d=0,m=t.height):o==="end"&&(d=n.height,m=0),this.paddingTop=d+r,this.paddingBottom=m+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)dt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=NN(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],c=Math.floor(n/xN(n,s));let u=0,d=0,m,f,h,p,g,v,b,w,N,E,D;for(m=0;m<n;m+=c){if(p=t[m].label,g=this._resolveTickFontOptions(m),i.font=v=g.string,b=o[v]=o[v]||{data:{},gc:[]},w=g.lineHeight,N=E=0,!dt(p)&&!Lt(p))N=Jx(i,b.data,b.gc,N,p),E=w;else if(Lt(p))for(f=0,h=p.length;f<h;++f)D=p[f],!dt(D)&&!Lt(D)&&(N=Jx(i,b.data,b.gc,N,D),E+=w);r.push(N),a.push(E),u=Math.max(N,u),d=Math.max(E,d)}aq(o,n);const T=r.indexOf(u),M=a.indexOf(d),_=P=>({width:r[P]||0,height:a[P]||0});return{first:_(0),last:_(n-1),widest:_(T),highest:_(M),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Z$(this._alignToPixels?Li(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=cq(this.getContext(),t,s))}return this.$context||(this.$context=lq(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=eo(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,c=o?o.highest.height+r:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:o,position:r,border:a}=i,c=o.offset,u=this.isHorizontal(),m=this.ticks.length+(c?1:0),f=ua(o),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,b=function(U){return Li(s,U,g)};let w,N,E,D,T,M,_,P,k,L,B,A;if(r==="top")w=b(this.bottom),M=this.bottom-f,P=w-v,L=b(t.top)+v,A=t.bottom;else if(r==="bottom")w=b(this.top),L=t.top,A=b(t.bottom)-v,M=w+v,P=this.top+f;else if(r==="left")w=b(this.right),T=this.right-f,_=w-v,k=b(t.left)+v,B=t.right;else if(r==="right")w=b(this.left),k=t.left,B=b(t.right)-v,T=w+v,_=this.left+f;else if(n==="x"){if(r==="center")w=b((t.top+t.bottom)/2+.5);else if(Ze(r)){const U=Object.keys(r)[0],q=r[U];w=b(this.chart.scales[U].getPixelForValue(q))}L=t.top,A=t.bottom,M=w+v,P=M+f}else if(n==="y"){if(r==="center")w=b((t.left+t.right)/2);else if(Ze(r)){const U=Object.keys(r)[0],q=r[U];w=b(this.chart.scales[U].getPixelForValue(q))}T=w-v,_=T-f,k=t.left,B=t.right}const V=Ye(i.ticks.maxTicksLimit,m),O=Math.max(1,Math.ceil(m/V));for(N=0;N<m;N+=O){const U=this.getContext(N),q=o.setContext(U),$=a.setContext(U),Z=q.lineWidth,I=q.color,ie=$.dash||[],ve=$.dashOffset,j=q.tickWidth,ce=q.tickColor,ge=q.tickBorderDash||[],xe=q.tickBorderDashOffset;E=rq(this,N,c),E!==void 0&&(D=Li(s,E,Z),u?T=_=k=B=D:M=P=L=A=D,h.push({tx1:T,ty1:M,tx2:_,ty2:P,x1:k,y1:L,x2:B,y2:A,width:Z,color:I,borderDash:ie,borderDashOffset:ve,tickWidth:j,tickColor:ce,tickBorderDash:ge,tickBorderDashOffset:xe}))}return this._ticksLength=m,this._borderValue=w,h}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:m}=o,f=ua(s.grid),h=f+d,p=m?-d:h,g=-eo(this.labelRotation),v=[];let b,w,N,E,D,T,M,_,P,k,L,B,A="middle";if(i==="top")T=this.bottom-p,M=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+p,M=this._getXAxisLabelAlignment();else if(i==="left"){const O=this._getYAxisLabelAlignment(f);M=O.textAlign,D=O.x}else if(i==="right"){const O=this._getYAxisLabelAlignment(f);M=O.textAlign,D=O.x}else if(n==="x"){if(i==="center")T=(t.top+t.bottom)/2+h;else if(Ze(i)){const O=Object.keys(i)[0],U=i[O];T=this.chart.scales[O].getPixelForValue(U)+h}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")D=(t.left+t.right)/2-h;else if(Ze(i)){const O=Object.keys(i)[0],U=i[O];D=this.chart.scales[O].getPixelForValue(U)}M=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?A="top":c==="end"&&(A="bottom"));const V=this._getLabelSizes();for(b=0,w=a.length;b<w;++b){N=a[b],E=N.label;const O=o.setContext(this.getContext(b));_=this.getPixelForTick(b)+o.labelOffset,P=this._resolveTickFontOptions(b),k=P.lineHeight,L=Lt(E)?E.length:1;const U=L/2,q=O.color,$=O.textStrokeColor,Z=O.textStrokeWidth;let I=M;r?(D=_,M==="inner"&&(b===w-1?I=this.options.reverse?"left":"right":b===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?u==="near"||g!==0?B=-L*k+k/2:u==="center"?B=-V.highest.height/2-U*k+k:B=-V.highest.height+k/2:u==="near"||g!==0?B=k/2:u==="center"?B=V.highest.height/2-U*k:B=V.highest.height-L*k,m&&(B*=-1),g!==0&&!O.showLabelBackdrop&&(D+=k/2*Math.sin(g))):(T=_,B=(1-L)*k/2);let ie;if(O.showLabelBackdrop){const ve=Hn(O.backdropPadding),j=V.heights[b],ce=V.widths[b];let ge=B-ve.top,xe=0-ve.left;switch(A){case"middle":ge-=j/2;break;case"bottom":ge-=j;break}switch(M){case"center":xe-=ce/2;break;case"right":xe-=ce;break;case"inner":b===w-1?xe-=ce:b>0&&(xe-=ce/2);break}ie={left:xe,top:ge,width:ce+ve.width,height:j+ve.height,color:O.backdropColor}}v.push({label:E,font:P,textOffset:B,options:{rotation:g,color:q,strokeColor:$,strokeWidth:Z,textAlign:I,textBaseline:A,translation:[D,T],backdrop:ie}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-eo(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,c=r.widest.width;let u,d;return n==="left"?i?(d=this.right+o,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+o,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:o,height:r}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,o,r),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(o=0,r=i.length;o<r;++o){const c=i[o];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),r=s.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,m,f;this.isHorizontal()?(u=Li(t,this.left,r)-r/2,d=Li(t,this.right,a)+a/2,m=f=c):(m=Li(t,this.top,r)-r/2,f=Li(t,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(u,m),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Vg(s,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,c=r.font,u=r.label,d=r.textOffset;bl(s,u,0,d,c,a)}i&&Lg(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const o=Xt(s.font),r=Hn(s.padding),a=s.align;let c=o.lineHeight/2;n==="bottom"||n==="center"||Ze(n)?(c+=r.bottom,Lt(s.text)&&(c+=o.lineHeight*(s.text.length-1))):c+=r.top;const{titleX:u,titleY:d,maxWidth:m,rotation:f}=dq(this,c,n,a);bl(t,s.text,0,0,o,{color:s.color,maxWidth:m,rotation:f,textAlign:uq(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Ye(t.grid&&t.grid.z,-1),i=Ye(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zr.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Xt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wc{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;hq(n)&&(s=this.register(n));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,mq(t,r,s),this.override&&St.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in St[i]&&(delete St[i][s],this.override&&delete po[s])}}function mq(e,t,n){const s=hl(Object.create(null),[n?St.get(n):{},St.get(t),e.defaults]);St.set(t,s),e.defaultRoutes&&fq(t,e.defaultRoutes),e.descriptors&&St.describe(t,e.descriptors)}function fq(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),o=[e].concat(s).join("."),r=t[n].split("."),a=r.pop(),c=r.join(".");St.route(o,i,c,a)})}function hq(e){return"id"in e&&"defaults"in e}class pq{constructor(){this.controllers=new wc(qa,"datasets",!0),this.elements=new wc(To,"elements"),this.plugins=new wc(Object,"plugins"),this.scales=new wc(zr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):st(i,r=>{const a=s||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,n,s){const i=Ig(t);ft(s["before"+i],[],s),n[t](s),ft(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var hs=new pq;class gq{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,n,s);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,n,s,i){i=i||{};for(const o of t){const r=o.plugin,a=r[s],c=[n,i,o.options];if(ft(a,c,r)===!1&&i.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=Ye(s.options&&s.options.plugins,{}),o=bq(s);return i===!1&&!n?[]:xq(t,o,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(o,r)=>o.filter(a=>!r.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function bq(e){const t={},n=[],s=Object.keys(hs.plugins.items);for(let o=0;o<s.length;o++)n.push(hs.getPlugin(s[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];n.indexOf(r)===-1&&(n.push(r),t[r.id]=!0)}return{plugins:n,localIds:t}}function vq(e,t){return!t&&e===!1?null:e===!0?{}:e}function xq(e,{plugins:t,localIds:n},s,i){const o=[],r=e.getContext();for(const a of t){const c=a.id,u=vq(s[c],i);u!==null&&o.push({plugin:a,options:Nq(e.config,{plugin:a,local:n[c]},u,r)})}return o}function Nq(e,{plugin:t,local:n},s,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(s,o);return n&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _h(e,t){const n=St.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function yq(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function wq(e,t){return e===t?"_index_":"_value_"}function wN(e){if(e==="x"||e==="y"||e==="r")return e}function Dq(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function kh(e,...t){if(wN(e))return e;for(const n of t){const s=n.axis||Dq(n.position)||e.length>1&&wN(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function DN(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Eq(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return DN(e,"x",n[0])||DN(e,"y",n[0])}return{}}function Tq(e,t){const n=po[e.type]||{scales:{}},s=t.scales||{},i=_h(e.type,t),o=Object.create(null);return Object.keys(s).forEach(r=>{const a=s[r];if(!Ze(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=kh(r,a,Eq(r,e),St.scales[a.type]),u=wq(c,i),d=n.scales||{};o[r]=Ua(Object.create(null),[{axis:c},a,d[c],d[u]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,c=r.indexAxis||_h(a,t),d=(po[a]||{}).scales||{};Object.keys(d).forEach(m=>{const f=yq(m,c),h=r[f+"AxisID"]||f;o[h]=o[h]||Object.create(null),Ua(o[h],[{axis:f},s[h],d[m]])})}),Object.keys(o).forEach(r=>{const a=o[r];Ua(a,[St.scales[a.type],St.scale])}),o}function JS(e){const t=e.options||(e.options={});t.plugins=Ye(t.plugins,{}),t.scales=Tq(e,t)}function QS(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Sq(e){return e=e||{},e.data=QS(e.data),JS(e),e}const EN=new Map,ZS=new Set;function Dc(e,t){let n=EN.get(e);return n||(n=t(),EN.set(e,n),ZS.add(n)),n}const da=(e,t,n)=>{const s=yu(t,n);s!==void 0&&e.add(s)};class _q{constructor(t){this._config=Sq(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=QS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),JS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Dc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Dc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Dc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Dc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:o}=this,r=this._cachedScopes(t,s),a=r.get(n);if(a)return a;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(m=>da(c,t,m))),d.forEach(m=>da(c,i,m)),d.forEach(m=>da(c,po[o]||{},m)),d.forEach(m=>da(c,St,m)),d.forEach(m=>da(c,Eh,m))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),ZS.has(n)&&r.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,po[n]||{},St.datasets[n]||{},{type:n},St,Eh]}resolveNamedOptions(t,n,s,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=TN(this._resolverCache,t,i);let c=r;if(Mq(r,n)){o.$shared=!1,s=Ti(s)?s():s;const u=this.createResolver(t,s,a);c=yr(r,s,u)}for(const u of n)o[u]=c[u];return o}createResolver(t,n,s=[""],i){const{resolver:o}=TN(this._resolverCache,t,s);return Ze(n)?yr(o,n,void 0,i):o}}function TN(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let o=s.get(i);return o||(o={resolver:Fg(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,o)),o}const kq=e=>Ze(e)&&Object.getOwnPropertyNames(e).some(t=>Ti(e[t]));function Mq(e,t){const{isScriptable:n,isIndexable:s}=OS(e);for(const i of t){const o=n(i),r=s(i),a=(r||o)&&e[i];if(o&&(Ti(a)||kq(a))||r&&Lt(a))return!0}return!1}var Cq="4.4.9";const Pq=["top","bottom","left","right","chartArea"];function SN(e,t){return e==="top"||e==="bottom"||Pq.indexOf(e)===-1&&t==="x"}function _N(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function kN(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ft(n&&n.onComplete,[e],t)}function Aq(e){const t=e.chart,n=t.options.animation;ft(n&&n.onProgress,[e],t)}function e_(e){return Ug()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Jc={},MN=e=>{const t=e_(e);return Object.values(Jc).filter(n=>n.canvas===t).pop()};function Iq(e,t,n){const s=Object.keys(e);for(const i of s){const o=+i;if(o>=t){const r=e[i];delete e[i],(n>0||o>t)&&(e[o+n]=r)}}}function Rq(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var ii;let bd=(ii=class{static register(...t){hs.add(...t),CN()}static unregister(...t){hs.remove(...t),CN()}constructor(t,n){const s=this.config=new _q(n),i=e_(t),o=MN(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||QG(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=V$(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=iW(m=>this.update(m),r.resizeDelay||0),this._dataChanges=[],Jc[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ls.listen(this,"complete",kN),Ls.listen(this,"progress",Aq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:o}=this;return dt(t)?n&&o?o:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qx(this.canvas,this.ctx),this}stop(){return Ls.stop(this),this}resize(t,n){Ls.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,n,o),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,tN(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),ft(s.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};st(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],c=kh(r,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),st(o,r=>{const a=r.options,c=a.id,u=kh(c,a),d=Ye(a.type,r.dtype);(a.position===void 0||SN(a.position,u)!==SN(r.dposition))&&(a.position=r.dposition),i[c]=!0;let m=null;if(c in s&&s[c].type===d)m=s[c];else{const f=hs.getScale(d);m=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[m.id]=m}m.init(a,t)}),st(i,(r,a)=>{r||delete s[a]}),st(s,r=>{Ln.configure(this,r,r.options),Ln.addBox(this,r)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,o)=>i.index-o.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(_N("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const o=n[s];let r=this.getDatasetMeta(s);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=o.indexAxis||_h(a,this.options),r.order=o.order||0,r.index=s,r.label=""+o.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const c=hs.getController(a),{datasetElementType:u,dataElementType:d}=St.datasets[a];Object.assign(c,{dataElementType:hs.getElement(d),datasetElementType:u&&hs.getElement(u)}),r.controller=new c(this,s),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){st(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:m}=this.getDatasetMeta(u),f=!i&&o.indexOf(m)===-1;m.buildOrUpdateElements(f),r=Math.max(+m.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||st(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(_N("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){st(this.scales,t=>{Ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Ux(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of n){const r=s==="_removeElements"?-o:o;Iq(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=s(0);for(let o=1;o<n;o++)if(!Ux(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ln.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],st(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ti(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ls.has(this)?this.attached&&!Ls.running(this)&&Ls.start(this):(this.draw(),kN({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,o;for(i=0,o=n.length;i<o;++i){const r=n[i];(!t||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=dG(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Vg(n,i),t.controller.draw(),i&&Lg(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return gl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const o=PG.modes[n];return typeof o=="function"?o(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);wu(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),r.update(o,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ls.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qx(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Jc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(o,r)=>{n.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};st(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},i=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){st(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},st(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let o,r,a,c;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){r=t[a];const u=r&&this.getDatasetMeta(r.datasetIndex).controller;u&&u[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!xu(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(m=>d.datasetIndex===m.datasetIndex&&d.index===m.index)),r=o(n,t),a=s?t:o(t,n);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const o=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:o}=this,r=n,a=this._getActiveElements(t,i,s,r),c=z$(t),u=Rq(t,this._lastEvent,s,c);s&&(this._lastEvent=null,ft(o.onHover,[t,a,this],this),c&&ft(o.onClick,[t,a,this],this));const d=!xu(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}},Me(ii,"defaults",St),Me(ii,"instances",Jc),Me(ii,"overrides",po),Me(ii,"registry",hs),Me(ii,"version",Cq),Me(ii,"getChart",MN),ii);function CN(){return st(bd.instances,e=>e._plugins.invalidate())}function t_(e,t,n=t){e.lineCap=Ye(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ye(n.borderDash,t.borderDash)),e.lineDashOffset=Ye(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ye(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ye(n.borderWidth,t.borderWidth),e.strokeStyle=Ye(n.borderColor,t.borderColor)}function jq(e,t,n){e.lineTo(n.x,n.y)}function Oq(e){return e.stepped?vW:e.tension||e.cubicInterpolationMode==="monotone"?xW:jq}function n_(e,t,n={}){const s=e.length,{start:i=0,end:o=s-1}=n,{start:r,end:a}=t,c=Math.max(i,r),u=Math.min(o,a),d=i<r&&o<r||i>a&&o>a;return{count:s,start:c,loop:t.loop,ilen:u<c&&!d?s+u-c:u-c}}function Vq(e,t,n,s){const{points:i,options:o}=t,{count:r,start:a,loop:c,ilen:u}=n_(i,n,s),d=Oq(o);let{move:m=!0,reverse:f}=s||{},h,p,g;for(h=0;h<=u;++h)p=i[(a+(f?u-h:h))%r],!p.skip&&(m?(e.moveTo(p.x,p.y),m=!1):d(e,g,p,f,o.stepped),g=p);return c&&(p=i[(a+(f?u:0))%r],d(e,g,p,f,o.stepped)),!!c}function Lq(e,t,n,s){const i=t.points,{count:o,start:r,ilen:a}=n_(i,n,s),{move:c=!0,reverse:u}=s||{};let d=0,m=0,f,h,p,g,v,b;const w=E=>(r+(u?a-E:E))%o,N=()=>{g!==v&&(e.lineTo(d,v),e.lineTo(d,g),e.lineTo(d,b))};for(c&&(h=i[w(0)],e.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[w(f)],h.skip)continue;const E=h.x,D=h.y,T=E|0;T===p?(D<g?g=D:D>v&&(v=D),d=(m*d+E)/++m):(N(),e.lineTo(E,D),p=T,m=0,g=v=D),b=D}N()}function Mh(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?Lq:Vq}function Fq(e){return e.stepped?QW:e.tension||e.cubicInterpolationMode==="monotone"?ZW:$i}function Bq(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),t_(e,t.options),e.stroke(i)}function Hq(e,t,n,s){const{segments:i,options:o}=t,r=Mh(t);for(const a of i)t_(e,o,a.style),e.beginPath(),r(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const Uq=typeof Path2D=="function";function zq(e,t,n,s){Uq&&!t.options.segment?Bq(e,t,n,s):Hq(e,t,n,s)}class Da extends To{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;$W(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=aG(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],o=this.points,r=iG(this,{property:n,start:i,end:i});if(!r.length)return;const a=[],c=Fq(s);let u,d;for(u=0,d=r.length;u<d;++u){const{start:m,end:f}=r[u],h=o[m],p=o[f];if(h===p){a.push(h);continue}const g=Math.abs((i-h[n])/(p[n]-h[n])),v=c(h,p,g,s.stepped);v[n]=t[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,n,s){return Mh(this)(t,this,n,s)}path(t,n,s){const i=this.segments,o=Mh(this);let r=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)r&=o(t,this,a,{start:n,end:n+s-1});return!!r}draw(t,n,s,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),zq(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Me(Da,"id","line"),Me(Da,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Me(Da,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Me(Da,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function PN(e,t,n,s){const i=e.options,{[n]:o}=e.getProps([n],s);return Math.abs(t-o)<i.radius+i.hitRadius}class Qc extends To{constructor(n){super();Me(this,"parsed");Me(this,"skip");Me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(n-r,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return PN(this,n,"x",s)}inYRange(n,s){return PN(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!gl(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Th(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Me(Qc,"id","point"),Me(Qc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Me(Qc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const AN=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},$q=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class IN extends To{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ft(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=Xt(s.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=AN(s,o);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(r,o,a,c)+10):(d=this.maxHeight,u=this._fitCols(r,i,a,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let m=t;o.textAlign="left",o.textBaseline="middle";let f=-1,h=-d;return this.legendItems.forEach((p,g)=>{const v=s+n/2+o.measureText(p.text).width;(g===0||u[u.length-1]+v+2*a>r)&&(m+=d,u[u.length-(g>0?0:1)]=0,h+=d,f++),c[g]={left:0,top:h,row:f,width:v,height:i},u[u.length-1]+=v+a}),m}_fitCols(t,n,s,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=r-t;let m=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((v,b)=>{const{itemWidth:w,itemHeight:N}=Wq(s,n,o,v,i);b>0&&h+N+2*a>d&&(m+=f+a,u.push({width:f,height:h}),p+=f+a,g++,f=h=0),c[b]={left:p,top:h,col:g,width:w,height:N},f=Math.max(f,w),h+=N+a}),m+=f,u.push({width:f,height:h}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:o}}=this,r=rr(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Gt(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=Gt(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+t+i,u.left=r.leftForLtr(r.x(c),u.width),c+=u.width+i}else{let a=0,c=Gt(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=Gt(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=r.leftForLtr(r.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Vg(t,this),this._draw(),Lg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:o,labels:r}=t,a=St.color,c=rr(t.rtl,this.left,this.width),u=Xt(r.font),{padding:d}=r,m=u.size,f=m/2;let h;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=AN(r,m),b=function(T,M,_){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const P=Ye(_.lineWidth,1);if(i.fillStyle=Ye(_.fillStyle,a),i.lineCap=Ye(_.lineCap,"butt"),i.lineDashOffset=Ye(_.lineDashOffset,0),i.lineJoin=Ye(_.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=Ye(_.strokeStyle,a),i.setLineDash(Ye(_.lineDash,[])),r.usePointStyle){const k={radius:g*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:P},L=c.xPlus(T,p/2),B=M+f;RS(i,k,L,B,r.pointStyleWidth&&p)}else{const k=M+Math.max((m-g)/2,0),L=c.leftForLtr(T,p),B=Ga(_.borderRadius);i.beginPath(),Object.values(B).some(A=>A!==0)?Sh(i,{x:L,y:k,w:p,h:g,radius:B}):i.rect(L,k,p,g),i.fill(),P!==0&&i.stroke()}i.restore()},w=function(T,M,_){bl(i,_.text,T,M+v/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},N=this.isHorizontal(),E=this._computeTitleHeight();N?h={x:Gt(o,this.left+d,this.right-s[0]),y:this.top+d+E,line:0}:h={x:this.left+d,y:Gt(o,this.top+E+d,this.bottom-n[0].height),line:0},HS(this.ctx,t.textDirection);const D=v+d;this.legendItems.forEach((T,M)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const _=i.measureText(T.text).width,P=c.textAlign(T.textAlign||(T.textAlign=r.textAlign)),k=p+f+_;let L=h.x,B=h.y;c.setWidth(this.width),N?M>0&&L+k+d>this.right&&(B=h.y+=D,h.line++,L=h.x=Gt(o,this.left+d,this.right-s[h.line])):M>0&&B+D>this.bottom&&(L=h.x=L+n[h.line].width+d,h.line++,B=h.y=Gt(o,this.top+E+d,this.bottom-n[h.line].height));const A=c.x(L);if(b(A,B,T),L=oW(P,L+p+f,N?L+k:this.right,t.rtl),w(c.x(L),B,T),N)h.x+=k+d;else if(typeof T.text!="string"){const V=u.lineHeight;h.y+=s_(T,V)+d}else h.y+=D}),US(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Xt(n.font),i=Hn(n.padding);if(!n.display)return;const o=rr(t.rtl,this.left,this.width),r=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,m=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,m=Gt(t.align,m,this.right-f);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);d=u+Gt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=Gt(a,m,m+f);r.textAlign=o.textAlign(jg(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=s.string,bl(r,n.text,h,d,s)}_computeTitleHeight(){const t=this.options.title,n=Xt(t.font),s=Hn(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,o;if(ya(t,this.left,this.right)&&ya(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],ya(t,i.left,i.left+i.width)&&ya(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!Kq(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=$q(i,s);i&&!o&&ft(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!o&&ft(n.onHover,[t,s,this],this)}else s&&ft(n.onClick,[t,s,this],this)}}function Wq(e,t,n,s,i){const o=Gq(s,e,t,n),r=qq(i,s,t.lineHeight);return{itemWidth:o,itemHeight:r}}function Gq(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+n.size/2+s.measureText(i).width}function qq(e,t,n){let s=e;return typeof t.text!="string"&&(s=s_(t,n)),s}function s_(e,t){const n=e.text?e.text.length:0;return t*n}function Kq(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Yq={id:"legend",_element:IN,start(e,t,n){const s=e.legend=new IN({ctx:e.ctx,options:n,chart:e});Ln.configure(e,s,n),Ln.addBox(e,s)},stop(e){Ln.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Ln.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Hn(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:r&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};let i_=class extends To{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Lt(s.text)?s.text.length:1;this._padding=Hn(s.padding);const o=i*Xt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:o,options:r}=this,a=r.align;let c=0,u,d,m;return this.isHorizontal()?(d=Gt(a,s,o),m=n+t,u=o-s):(r.position==="left"?(d=s+t,m=Gt(a,i,n),c=Ft*-.5):(d=o-t,m=Gt(a,n,i),c=Ft*.5),u=i-n),{titleX:d,titleY:m,maxWidth:u,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Xt(n.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(o);bl(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:jg(n.align),textBaseline:"middle",translation:[r,a]})}};function Xq(e,t){const n=new i_({ctx:e.ctx,options:t,chart:e});Ln.configure(e,n,t),Ln.addBox(e,n),e.titleBlock=n}var Jq={id:"title",_element:i_,start(e,t,n){Xq(e,n)},stop(e){const t=e.titleBlock;Ln.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Ln.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ea={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const c=e[o].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Dh(t,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function ds(e,t){return t&&(Lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Fs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Qq(e,t){const{element:n,datasetIndex:s,index:i}=t,o=e.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function RN(e,t){const n=e.chart.ctx,{body:s,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,c=Xt(t.bodyFont),u=Xt(t.titleFont),d=Xt(t.footerFont),m=o.length,f=i.length,h=s.length,p=Hn(t.padding);let g=p.height,v=0,b=s.reduce((E,D)=>E+D.before.length+D.lines.length+D.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,m&&(g+=m*u.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),b){const E=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=h*E+(b-h)*c.lineHeight+(b-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let w=0;const N=function(E){v=Math.max(v,n.measureText(E).width+w)};return n.save(),n.font=u.string,st(e.title,N),n.font=c.string,st(e.beforeBody.concat(e.afterBody),N),w=t.displayColors?r+2+t.boxPadding:0,st(s,E=>{st(E.before,N),st(E.lines,N),st(E.after,N)}),w=0,n.font=d.string,st(e.footer,N),n.restore(),v+=p.width,{width:v,height:g}}function Zq(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function eK(e,t,n,s){const{x:i,width:o}=s,r=n.caretSize+n.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function tK(e,t,n,s){const{x:i,width:o}=n,{width:r,chartArea:{left:a,right:c}}=e;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=o/2?u="left":i>=r-o/2&&(u="right"),eK(u,e,t,n)&&(u="center"),u}function jN(e,t,n){const s=n.yAlign||t.yAlign||Zq(e,n);return{xAlign:n.xAlign||t.xAlign||tK(e,t,n,s),yAlign:s}}function nK(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function sK(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function ON(e,t,n,s){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:c}=n,u=i+o,{topLeft:d,topRight:m,bottomLeft:f,bottomRight:h}=Ga(r);let p=nK(t,a);const g=sK(t,c,u);return c==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(d,f)+i:a==="right"&&(p+=Math.max(m,h)+i),{x:Vn(p,0,s.width-t.width),y:Vn(g,0,s.height-t.height)}}function Ec(e,t,n){const s=Hn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function VN(e){return ds([],Fs(e))}function iK(e,t,n){return Eo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function LN(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const o_={beforeTitle:Os,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Os,beforeBody:Os,beforeLabel:Os,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return dt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Os,afterBody:Os,beforeFooter:Os,footer:Os,afterFooter:Os};function hn(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?o_[t].call(n,s):i}class Ch extends To{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,o=new $S(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=iK(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=hn(s,"beforeTitle",this,t),o=hn(s,"title",this,t),r=hn(s,"afterTitle",this,t);let a=[];return a=ds(a,Fs(i)),a=ds(a,Fs(o)),a=ds(a,Fs(r)),a}getBeforeBody(t,n){return VN(hn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return st(t,o=>{const r={before:[],lines:[],after:[]},a=LN(s,o);ds(r.before,Fs(hn(a,"beforeLabel",this,o))),ds(r.lines,hn(a,"label",this,o)),ds(r.after,Fs(hn(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,n){return VN(hn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=hn(s,"beforeFooter",this,t),o=hn(s,"footer",this,t),r=hn(s,"afterFooter",this,t);let a=[];return a=ds(a,Fs(i)),a=ds(a,Fs(o)),a=ds(a,Fs(r)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],o=[],r=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(Qq(this.chart,n[c]));return t.filter&&(a=a.filter((d,m,f)=>t.filter(d,m,f,s))),t.itemSort&&(a=a.sort((d,m)=>t.itemSort(d,m,s))),st(a,d=>{const m=LN(t.callbacks,d);i.push(hn(m,"labelColor",this,d)),o.push(hn(m,"labelPointStyle",this,d)),r.push(hn(m,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Ea[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const c=this._size=RN(this,s),u=Object.assign({},a,c),d=jN(this.chart,s,u),m=ON(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const o=this.getCaretPosition(t,s,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:m}=Ga(a),{x:f,y:h}=t,{width:p,height:g}=n;let v,b,w,N,E,D;return o==="center"?(E=h+g/2,i==="left"?(v=f,b=v-r,N=E+r,D=E-r):(v=f+p,b=v+r,N=E-r,D=E+r),w=v):(i==="left"?b=f+Math.max(c,d)+r:i==="right"?b=f+p-Math.max(u,m)-r:b=this.caretX,o==="top"?(N=h,E=N-r,v=b-r,w=b+r):(N=h+g,E=N+r,v=b+r,w=b-r),D=N),{x1:v,x2:b,x3:w,y1:N,y2:E,y3:D}}drawTitle(t,n,s){const i=this.title,o=i.length;let r,a,c;if(o){const u=rr(s.rtl,this.x,this.width);for(t.x=Ec(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",r=Xt(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,c=0;c<o;++c)n.fillText(i[c],u.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,c+1===o&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,o){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=o,d=Xt(o.bodyFont),m=Ec(this,"left",o),f=i.x(m),h=c<d.lineHeight?(d.lineHeight-c)/2:0,p=n.y+h;if(o.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=i.leftForLtr(f,u)+u/2,b=p+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Th(t,g,v,b),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Th(t,g,v,b)}else{t.lineWidth=Ze(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(f,u),v=i.leftForLtr(i.xPlus(f,1),u-2),b=Ga(r.borderRadius);Object.values(b).some(w=>w!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Sh(t,{x:g,y:p,w:u,h:c,radius:b}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Sh(t,{x:v,y:p+1,w:u-2,h:c-2,radius:b}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,p,u,c),t.strokeRect(g,p,u,c),t.fillStyle=r.backgroundColor,t.fillRect(v,p+1,u-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,m=Xt(s.bodyFont);let f=m.lineHeight,h=0;const p=rr(s.rtl,this.x,this.width),g=function(_){n.fillText(_,p.x(t.x+h),t.y+f/2),t.y+=f+o},v=p.textAlign(r);let b,w,N,E,D,T,M;for(n.textAlign=r,n.textBaseline="middle",n.font=m.string,t.x=Ec(this,v,s),n.fillStyle=s.bodyColor,st(this.beforeBody,g),h=a&&v!=="right"?r==="center"?u/2+d:u+2+d:0,E=0,T=i.length;E<T;++E){for(b=i[E],w=this.labelTextColors[E],n.fillStyle=w,st(b.before,g),N=b.lines,a&&N.length&&(this._drawColorBox(n,t,E,p,s),f=Math.max(m.lineHeight,c)),D=0,M=N.length;D<M;++D)g(N[D]),f=m.lineHeight;st(b.after,g)}h=0,f=m.lineHeight,st(this.afterBody,g),t.y-=o}drawFooter(t,n,s){const i=this.footer,o=i.length;let r,a;if(o){const c=rr(s.rtl,this.x,this.width);for(t.x=Ec(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",r=Xt(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(i[a],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:o,yAlign:r}=this,{x:a,y:c}=t,{width:u,height:d}=s,{topLeft:m,topRight:f,bottomLeft:h,bottomRight:p}=Ga(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+m,c),r==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),r==="center"&&o==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+u,c+d-p),n.quadraticCurveTo(a+u,c+d,a+u-p,c+d),r==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+h,c+d),n.quadraticCurveTo(a,c+d,a,c+d-h),r==="center"&&o==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,c+m),n.quadraticCurveTo(a,c,a+m,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const r=Ea[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=RN(this,t),c=Object.assign({},r,this._size),u=jN(n,t,c),d=ON(t,c,u,n);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=Hn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,i,n),HS(t,n.textDirection),o.y+=r.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),US(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),o=!xu(s,i),r=this._positionChanged(i,n);(o||r)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,n,s),a=this._positionChanged(r,t),c=n||!xu(r,o)||a;return c&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,s,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&r.reverse(),r}_positionChanged(t,n){const{caretX:s,caretY:i,options:o}=this,r=Ea[o.position].call(this,t,n);return r!==!1&&(s!==r.x||i!==r.y)}}Me(Ch,"positioners",Ea);var oK={id:"tooltip",_element:Ch,positioners:Ea,afterInit(e,t,n){n&&(e.tooltip=new Ch({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:o_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const rK=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function aK(e,t,n,s){const i=e.indexOf(t);if(i===-1)return rK(e,t,n,s);const o=e.lastIndexOf(t);return i!==o?n:i}const lK=(e,t)=>e===null?null:Vn(Math.round(e),0,t);function FN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ph extends zr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:o}of n)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(dt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:aK(s,t,Ye(n,t),this._addedLabels),lK(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=t;r<=n;r++)i.push({value:r});return i}getLabelForValue(t){return FN.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Me(Ph,"id","category"),Me(Ph,"defaults",{ticks:{callback:FN}});function cK(e,t){const n=[],{bounds:i,step:o,min:r,max:a,precision:c,count:u,maxTicks:d,maxDigits:m,includeBounds:f}=e,h=o||1,p=d-1,{min:g,max:v}=t,b=!dt(r),w=!dt(a),N=!dt(u),E=(v-g)/(m+1);let D=$x((v-g)/p/h)*h,T,M,_,P;if(D<1e-14&&!b&&!w)return[{value:g},{value:v}];P=Math.ceil(v/D)-Math.floor(g/D),P>p&&(D=$x(P*D/p/h)*h),dt(c)||(T=Math.pow(10,c),D=Math.ceil(D*T)/T),i==="ticks"?(M=Math.floor(g/D)*D,_=Math.ceil(v/D)*D):(M=g,_=v),b&&w&&o&&K$((a-r)/o,D/1e3)?(P=Math.round(Math.min((a-r)/D,d)),D=(a-r)/P,M=r,_=a):N?(M=b?r:M,_=w?a:_,P=u-1,D=(_-M)/P):(P=(_-M)/D,za(P,Math.round(P),D/1e3)?P=Math.round(P):P=Math.ceil(P));const k=Math.max(Wx(D),Wx(M));T=Math.pow(10,dt(c)?k:c),M=Math.round(M*T)/T,_=Math.round(_*T)/T;let L=0;for(b&&(f&&M!==r?(n.push({value:r}),M<r&&L++,za(Math.round((M+L*D)*T)/T,r,BN(r,E,e))&&L++):M<r&&L++);L<P;++L){const B=Math.round((M+L*D)*T)/T;if(w&&B>a)break;n.push({value:B})}return w&&f&&_!==a?n.length&&za(n[n.length-1].value,a,BN(a,E,e))?n[n.length-1].value=a:n.push({value:a}):(!w||_===a)&&n.push({value:_}),n}function BN(e,t,{horizontal:n,minRotation:s}){const i=eo(s),o=(n?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class uK extends zr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const r=c=>i=n?i:c,a=c=>o=s?o:c;if(t){const c=Nr(i),u=Nr(o);c<0&&u<0?a(0):c>0&&u>0&&r(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),t||r(i-c)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=cK(i,o);return t.bounds==="ticks"&&Y$(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return AS(t,this.chart.options.locale,this.options.ticks.format)}}class Ah extends uK{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Bn(t)?t:0,this.max=Bn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=eo(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Me(Ah,"id","linear"),Me(Ah,"defaults",{ticks:{callback:IS.formatters.numeric}});const vd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(vd);function HN(e,t){return e-t}function UN(e,t){if(dt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof s=="function"&&(r=s(r)),Bn(r)||(r=typeof s=="string"?n.parse(r,s):n.parse(r)),r===null?null:(i&&(r=i==="week"&&(pl(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,i)),+r)}function zN(e,t,n,s){const i=xn.length;for(let o=xn.indexOf(e);o<i-1;++o){const r=vd[xn[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-t)/(a*r.size))<=s)return xn[o]}return xn[i-1]}function dK(e,t,n,s,i){for(let o=xn.length-1;o>=xn.indexOf(n);o--){const r=xn[o];if(vd[r].common&&e._adapter.diff(i,s,r)>=t-1)return r}return xn[n?xn.indexOf(n):0]}function mK(e){for(let t=xn.indexOf(e)+1,n=xn.length;t<n;++t)if(vd[xn[t]].common)return xn[t]}function $N(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=Rg(n,t),o=n[s]>=t?n[s]:n[i];e[o]=!0}}function fK(e,t,n,s){const i=e._adapter,o=+i.startOf(t[0].value,s),r=t[t.length-1].value;let a,c;for(a=o;a<=r;a=+i.add(a,1,s))c=n[a],c>=0&&(t[c].major=!0);return t}function WN(e,t,n){const s=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,s.push({value:a,major:!1});return o===0||!n?s:fK(e,s,i,n)}class Su extends zr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new SG._date(t.adapters.date);i.init(n),Ua(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:UN(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function c(u){!r&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!r||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Bn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),o=Bn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=tW(i,o,r);return this._unit=n.unit||(s.autoSkip?zN(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):dK(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:mK(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),WN(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;n=Vn(n,0,r),s=Vn(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,o=i.time,r=o.unit||zN(o.minUnit,n,s,this._getLabelCapacity(n)),a=Ye(i.ticks.stepSize,1),c=r==="week"?o.isoWeekday:!1,u=pl(c)||c===!0,d={};let m=n,f,h;if(u&&(m=+t.startOf(m,"isoWeek",c)),m=+t.startOf(m,u?"day":r),t.diff(s,n,r)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+r);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=m,h=0;f<s;f=+t.add(f,a,r),h++)$N(d,f,p);return(f===s||i.bounds==="ticks"||h===1)&&$N(d,f,p),Object.keys(d).sort(HN).map(g=>+g)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,o=this._unit,r=n||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,n,s,i){const o=this.options,r=o.ticks.callback;if(r)return ft(r,[t,n,s],this);const a=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],m=u&&a[u],f=s[n],h=u&&m&&f&&f.major;return this._adapter.format(t,i||(h?m:d))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=eo(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*o+a*r,h:s*r+a*o}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,o=this._tickFormatFunction(t,0,WN(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(UN(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return sW(t.sort(HN))}}Me(Su,"id","time"),Me(Su,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Tc(e,t,n){let s=0,i=e.length-1,o,r,a,c;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=to(e,"pos",t)),{pos:o,time:a}=e[s],{pos:r,time:c}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=to(e,"time",t)),{time:o,pos:a}=e[s],{time:r,pos:c}=e[i]);const u=r-o;return u?a+(c-a)*(t-o)/u:a}class GN extends Su{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Tc(n,this.min),this._tableRange=Tc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],o=[];let r,a,c,u,d;for(r=0,a=t.length;r<a;++r)u=t[r],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(r=0,a=i.length;r<a;++r)d=i[r+1],c=i[r-1],u=i[r],Math.round((d+c)/2)!==u&&o.push({time:u,pos:r/(a-1)});return o}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Tc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Tc(this._table,s*this._tableRange+this._minPos,!0)}}Me(GN,"id","timeseries"),Me(GN,"defaults",Su.defaults);const r_="label";function qN(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function hK(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function a_(e,t){e.labels=t}function l_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r_;const s=[];e.datasets=t.map(i=>{const o=e.datasets.find(r=>r[n]===i[n]);return!o||!i.data||s.includes(o)?{...i}:(s.push(o),Object.assign(o,i),o)})}function pK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r_;const n={labels:[],datasets:[]};return a_(n,e.labels),l_(n,e.datasets,t),n}function gK(e,t){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:o,type:r,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:m,...f}=e,h=x.useRef(null),p=x.useRef(null),g=()=>{h.current&&(p.current=new bd(h.current,{type:r,data:pK(a,o),options:c&&{...c},plugins:u}),qN(t,p.current))},v=()=>{qN(t,null),p.current&&(p.current.destroy(),p.current=null)};return x.useEffect(()=>{!i&&p.current&&c&&hK(p.current,c)},[i,c]),x.useEffect(()=>{!i&&p.current&&a_(p.current.config.data,a.labels)},[i,a.labels]),x.useEffect(()=>{!i&&p.current&&a.datasets&&l_(p.current.config.data,a.datasets,o)},[i,a.datasets]),x.useEffect(()=>{p.current&&(i?(v(),setTimeout(g)):p.current.update(m))},[i,c,a.labels,a.datasets,m]),x.useEffect(()=>{p.current&&(v(),setTimeout(g))},[r]),x.useEffect(()=>(g(),()=>v()),[]),Re.createElement("canvas",{ref:h,role:"img",height:n,width:s,...f},d)}const bK=x.forwardRef(gK);function vK(e,t){return bd.register(t),x.forwardRef((n,s)=>Re.createElement(bK,{...n,ref:s,type:e}))}const xK=vK("line",Yc);bd.register(Ph,Ah,Qc,Da,Jq,oK,Yq);const NK=({data:e})=>{const t={labels:e.map(s=>new Date(s.date).toLocaleDateString()),datasets:[{label:"ECOG Score",data:e.map(s=>s.ecog),borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",yAxisID:"y"},{label:"KPS Score",data:e.map(s=>s.kps),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",yAxisID:"y1"}]},n={responsive:!0,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"ECOG Score"},min:0,max:4,grid:{color:"rgba(0, 0, 0, 0.1)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"KPS Score"},min:0,max:100,grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top"},title:{display:!0,text:"Performance Status Trends"}}};return l.jsxDEV("div",{className:"p-4 bg-white rounded-lg border",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Score Trends"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:105,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-64",children:l.jsxDEV(xK,{options:n,data:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:107,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:106,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm text-gray-600",children:[l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"ECOG Score Interpretation:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:111,columnNumber:11},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:[l.jsxDEV("li",{children:"0: Fully active"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:113,columnNumber:13},void 0),l.jsxDEV("li",{children:"1: Restricted but ambulatory"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:114,columnNumber:13},void 0),l.jsxDEV("li",{children:"2: Ambulatory, capable of self-care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:115,columnNumber:13},void 0),l.jsxDEV("li",{children:"3: Limited self-care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:116,columnNumber:13},void 0),l.jsxDEV("li",{children:"4: Completely disabled"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:117,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:112,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:110,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"font-medium",children:"KPS Score Interpretation:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:121,columnNumber:11},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:[l.jsxDEV("li",{children:"100-90: Normal activity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:123,columnNumber:13},void 0),l.jsxDEV("li",{children:"80-70: Normal activity with effort"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:124,columnNumber:13},void 0),l.jsxDEV("li",{children:"60-50: Occasional assistance needed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:125,columnNumber:13},void 0),l.jsxDEV("li",{children:"40-30: Disabled, special care needed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:126,columnNumber:13},void 0),l.jsxDEV("li",{children:"20-10: Very sick, hospitalization"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:127,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:122,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:109,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/PerformanceScoreChart.tsx",lineNumber:104,columnNumber:5},void 0)},yK=({cancerType:e,stage:t,tnmStage:n,diagnosisDate:s,currentECOG:i,currentKPS:o,onGenerate:r,followUpPlan:a})=>{const[c,u]=x.useState(""),[d,m]=x.useState(!1),f=async()=>{m(!0);try{const p=await r();u(p)}catch(p){console.error("Error generating summary:",p)}finally{m(!1)}},h=()=>{const p=document.createElement("a"),g=new Blob([c],{type:"text/markdown"});p.href=URL.createObjectURL(g),p.download=`follow-up-summary-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return l.jsxDEV(Be.div,{className:"p-4 bg-white rounded-lg border shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsxDEV(Gs,{className:"w-5 h-5 text-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:60,columnNumber:11},void 0),"Smart Follow-Up Summary"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:59,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV("button",{onClick:f,disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:[l.jsxDEV(Gs,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:69,columnNumber:13},void 0),d?"Generating...":"Generate Summary"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:64,columnNumber:11},void 0),c&&l.jsxDEV("button",{onClick:h,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 flex items-center gap-2",children:[l.jsxDEV(Vu,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:77,columnNumber:15},void 0),"Export"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:73,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:63,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:58,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-gray-600",children:["Cancer Type: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:86,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:86,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["Stage: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:87,columnNumber:47},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:87,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["TNM: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:["T",n.t,"N",n.n,"M",n.m]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:88,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:88,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:85,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-gray-600",children:["Diagnosis Date: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:new Date(s).toLocaleDateString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:91,columnNumber:56},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:91,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["Current ECOG: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:92,columnNumber:54},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:92,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-gray-600",children:["Current KPS: ",l.jsxDEV("span",{className:"font-medium text-gray-900",children:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:93,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:84,columnNumber:7},void 0),c&&l.jsxDEV("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg prose prose-sm max-w-none",children:l.jsxDEV("div",{dangerouslySetInnerHTML:{__html:c}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:99,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:98,columnNumber:9},void 0),!c&&!d&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:'Click "Generate Summary" to create a comprehensive follow-up summary based on current patient data'},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:104,columnNumber:9},void 0),d&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500 animate-pulse",children:"Generating comprehensive follow-up summary..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/SmartFollowUpSummary.tsx",lineNumber:53,columnNumber:5},void 0)},wK={breast:[{type:"first_visit",date:"2025-03-15",detail:"Initial consultation for breast lump",status:"completed"},{type:"imaging",date:"2025-03-18",detail:"Mammogram and breast ultrasound",status:"completed"},{type:"biopsy",date:"2025-03-22",detail:"Core needle biopsy performed",status:"completed"},{type:"histopathology",date:"2025-03-28",detail:"Invasive ductal carcinoma confirmed",status:"completed"},{type:"molecular",date:"2025-04-02",detail:"ER+/PR+, HER2-, Ki-67 25%",status:"completed"},{type:"final",date:"2025-04-05",detail:"Stage IIA (T2N0M0) breast cancer diagnosis",status:"completed"}],lung:[{type:"first_visit",date:"2025-03-10",detail:"Referral for persistent cough and weight loss",status:"completed"},{type:"imaging",date:"2025-03-12",detail:"Chest CT showing RUL mass",status:"completed"},{type:"biopsy",date:"2025-03-16",detail:"CT-guided needle biopsy",status:"completed"},{type:"histopathology",date:"2025-03-20",detail:"Non-small cell lung cancer (adenocarcinoma)",status:"completed"},{type:"molecular",date:"2025-03-25",detail:"Pending molecular testing results",status:"scheduled"},{type:"final",date:"2025-03-28",detail:"Awaiting complete staging workup",status:"pending"}]},DK={breast:[{date:"2025-03-15",ecog:0,kps:100},{date:"2025-03-28",ecog:0,kps:90},{date:"2025-04-10",ecog:1,kps:80},{date:"2025-04-25",ecog:1,kps:80},{date:"2025-05-01",ecog:0,kps:90}],lung:[{date:"2025-03-10",ecog:1,kps:80},{date:"2025-03-24",ecog:1,kps:70},{date:"2025-04-07",ecog:2,kps:60},{date:"2025-04-21",ecog:1,kps:70},{date:"2025-05-01",ecog:1,kps:80}]},EK={breast:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"Clinical breast exam",frequency:"Every 3-4 months for 3 years"},{title:"Review symptoms",frequency:"Every visit"}],"6mo":[{title:"Mammogram",frequency:"Every 6-12 months"},{title:"Blood tests",frequency:"As clinically indicated"}],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[{title:"Symptom assessment",frequency:"Every visit"},{title:"Pain evaluation",frequency:"Every visit"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"Mammogram",frequency:"Every 12 months",duration:"5 years"},{title:"Clinical exam",frequency:"Every 3-4 months",duration:"2 years"}],imaging:[{title:"Breast MRI",frequency:"As indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"CT scan",frequency:"Every 6 months",duration:"2 years"},{title:"Bone scan",frequency:"As clinically indicated"}],imaging:[{title:"PET scan",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"New breast lumps",severity:"urgent",action:"Immediate referral"},{symptom:"Bone pain",severity:"warning",action:"Further investigation"},{symptom:"Persistent cough",severity:"warning",action:"Further investigation"},{symptom:"Unexplained weight loss",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Lymphedema",description:"Swelling in arm or breast",recommendations:["Exercise","Compression garments","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Arm swelling",severity:"medium"},{symptom:"Hot flashes",severity:"low"}]},lung:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"Chest CT",frequency:"Every 3-6 months for 2 years"},{title:"Physical exam",frequency:"Every 3 months"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"Chest X-ray",frequency:"Every 6 months",duration:"2 years"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"PET scan",frequency:"As clinically indicated"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"New cough",severity:"urgent",action:"Immediate referral"},{symptom:"Hemoptysis",severity:"urgent",action:"Immediate referral"},{symptom:"Shortness of breath",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Smoking cessation",description:"Support to quit smoking",recommendations:["Counseling","Nicotine replacement","Medications"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Cough",severity:"medium"},{symptom:"Shortness of breath",severity:"high"},{symptom:"Chest pain",severity:"medium"}]},colorectal:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"CEA test",frequency:"Every 3-6 months for 5 years"},{title:"CT scan",frequency:"Every 6-12 months for 5 years"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"Colonoscopy",frequency:"Every 1 year",duration:"5 years"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"PET scan",frequency:"As clinically indicated"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Rectal bleeding",severity:"urgent",action:"Immediate referral"},{symptom:"Abdominal pain",severity:"warning",action:"Further investigation"},{symptom:"Change in bowel habits",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Dietary advice",description:"Nutritional support",recommendations:["High fiber diet","Hydration","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Abdominal pain",severity:"high"},{symptom:"Weight loss",severity:"medium"}]},prostate:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"PSA test",frequency:"Every 3 months for 2 years"}],"6mo":[{title:"Physical exam",frequency:"Every 6 months"}],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"PSA test",frequency:"Every 6 months",duration:"5 years"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"Bone scan",frequency:"As clinically indicated"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Urinary retention",severity:"urgent",action:"Immediate referral"},{symptom:"Bone pain",severity:"warning",action:"Further investigation"},{symptom:"Weight loss",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Sexual health",description:"Support for sexual health",recommendations:["Counseling","Medications","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Urinary issues",severity:"high"},{symptom:"Erectile dysfunction",severity:"medium"}]},pancreatic:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"CA 19-9",frequency:"Every 3 months",duration:"2 years"},{title:"CT abdomen",frequency:"Every 3-6 months",duration:"2 years"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[{title:"CA 19-9",frequency:"Every 3 months",duration:"2 years"}],imaging:[{title:"CT scan",frequency:"As clinically indicated"}],labTests:[{title:"Blood tests",frequency:"As clinically indicated"}]},advanced:{surveillance:[{title:"PET scan",frequency:"As clinically indicated"}],imaging:[{title:"MRI",frequency:"As clinically indicated"}],labTests:[{title:"Tumor markers",frequency:"As clinically indicated"}]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Jaundice",severity:"urgent",action:"Immediate referral"},{symptom:"Abdominal pain",severity:"warning",action:"Further investigation"},{symptom:"Weight loss",severity:"warning",action:"Further investigation"}],urgentFlags:[],qolTopics:[{topic:"Nutritional support",description:"Support for maintaining nutrition",recommendations:["High calorie diet","Enzyme supplements","Specialist referral"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Fatigue",severity:"medium"},{symptom:"Abdominal pain",severity:"high"},{symptom:"Weight loss",severity:"medium"}]},esophageal:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[{title:"CT chest/abdomen",frequency:"Every 3-6 months",duration:"2 years"},{title:"Endoscopy",frequency:"Every 6 months",duration:"2 years"}],"6mo":[{title:"Physical exam",frequency:"Every 6 months",duration:"3 years"},{title:"Nutritional assessment",frequency:"Every 6 months"}],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[{title:"Symptom assessment",frequency:"Every 3 months"},{title:"Weight monitoring",frequency:"Every visit"}],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[{symptom:"Progressive dysphagia",severity:"urgent",action:"Immediate evaluation"},{symptom:"Weight loss > 5%",severity:"warning",action:"Early review"}],urgentFlags:[],qolTopics:[{topic:"Nutrition",description:"Managing eating difficulties and maintaining weight",recommendations:["Small frequent meals","Soft diet when needed"],applicableStages:["early","advanced"]}],commonSymptoms:[{symptom:"Swallowing difficulty",severity:"high",relatedFlags:["Progressive dysphagia"]}]},bladder:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},headneck:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},ovarian:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},gastric:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},lymphoma:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},melanoma:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},thyroid:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},hepatocellular:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},testicular:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},brain:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]},sarcoma:{metadata:{version:"1.0.0",lastUpdated:"2024-01-20"},intervals:{curative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]},palliative:{"3mo":[],"6mo":[],"1yr":[],"2yr":[],"5yr":[]}},stageGuidelines:{early:{surveillance:[],imaging:[],labTests:[]},advanced:{surveillance:[],imaging:[],labTests:[]}},surveillance:{investigations:[],examinations:[]},redFlags:[],urgentFlags:[],qolTopics:[],commonSymptoms:[]}},TK=(e,t)=>{var o;const n=[],s=[];return["intervals","surveillance","redFlags","urgentFlags","qolTopics","commonSymptoms"].forEach(r=>{e[r]||n.push(`Missing required section: ${r}`)}),(o=e.metadata)!=null&&o.version||n.push("Missing template version"),Object.entries(e.intervals).forEach(([r,a])=>{Object.keys(a).length===0&&n.push(`No follow-up intervals defined for ${r} intent`)}),e.commonSymptoms.forEach(r=>{["low","medium","high"].includes(r.severity)||n.push(`Invalid severity for symptom: ${r.symptom}`)}),e.redFlags.forEach(r=>{e.commonSymptoms.some(a=>{var c;return(c=a.relatedFlags)==null?void 0:c.includes(r.symptom)})||s.push(`Red flag "${r.symptom}" not linked to any common symptoms`)}),e.qolTopics.length===0&&n.push("No quality of life topics defined"),{isValid:n.length===0,errors:n,warnings:s}},Um=e=>({"3m":"3 months","6m":"6 months","1y":"1 year"})[e]||e,SK=(e,t,n)=>{const s=EK[e],{isValid:i,errors:o}=TK(s);if(!i)throw console.error(`Template validation failed for ${e}:`,o),new Error("Invalid follow-up template");const r=`${t.t}${t.n}${t.m}`,a=s.stageGuidelines[r],c=[...((a==null?void 0:a.surveillance)||[]).map(d=>({frequency:d.frequency})),...((a==null?void 0:a.imaging)||[]).map(d=>({frequency:d.frequency})),...((a==null?void 0:a.labTests)||[]).map(d=>({frequency:d.frequency}))],u=s.intervals[n]||{};return{timeline:Object.entries(u).map(([d,m])=>({interval:Um(d),actions:m.map(f=>`${f.title} (${Um(f.frequency)})`),guidelines:c.map(f=>Um(f.frequency))})),surveillance:{investigations:s.surveillance.investigations.map(d=>({...d,isDue:!1})),examinations:s.surveillance.examinations.map(d=>({...d,isDue:!1}))},redFlags:s.redFlags.map(d=>d.symptom),urgentFlags:s.urgentFlags.map(d=>d.condition),qolTopics:s.qolTopics,commonSymptoms:s.commonSymptoms}},Jt=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));Jt.displayName="Card";const an=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));an.displayName="CardHeader";const ln=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("h3",{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));ln.displayName="CardTitle";const _K=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("p",{ref:n,className:ke("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0));_K.displayName="CardDescription";const cn=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:ke("p-6 pt-0",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));cn.displayName="CardContent";const kK=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:ke("flex items-center p-6 pt-0",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0));kK.displayName="CardFooter";const KN=1,MK=1e3;class zm extends Error{constructor(t,n,s){super(t),this.statusCode=n,this.details=s,this.name="AIAssistantError"}}const CK=e=>new Promise(t=>setTimeout(t,e));async function PK(e){let t;for(let n=0;n<=KN;n++)try{n>0&&await CK(MK);const s=await fetch("/api/ai/generate-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const o=await s.json();throw s.status===429?new zm("Rate limit exceeded. Please try again later.",429):new zm(o.error||"Failed to generate summary",s.status,o.details)}return(await s.json()).summary}catch(s){if(console.error(`AI Summary Generation Error (Attempt ${n+1}/${KN+1}):`,s),t=s,s.statusCode===429||s.statusCode===400)throw s}throw t||new zm("Failed to generate summary after retries")}const AK=md("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),sn=x.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},o)=>{const r=s?OI:"button";return l.jsxDEV(r,{className:ke(AK({variant:t,size:n,className:e})),ref:o,...i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/button.tsx",lineNumber:46,columnNumber:7},void 0)});sn.displayName="Button";const IK=({cancerType:e,stage:t,intent:n,plan:s,onInsightsReady:i})=>{const[o,r]=x.useState(!1),[a,c]=x.useState(null),[u,d]=x.useState(null);x.useEffect(()=>{async function f(){if(s){r(!0),c(null),d(null);try{const h=`
Cancer Type: ${e}
Disease Stage: ${t}
Treatment Intent: ${n}

Follow-up Plan:
Timeline: ${s.timeline.map(g=>`${g.interval}: ${g.actions.join(", ")}`).join(`
`)}

Surveillance:
Investigations: ${s.surveillance.investigations.map(g=>g.title).join(", ")}
Examinations: ${s.surveillance.examinations.map(g=>g.title).join(", ")}

Red Flags to Monitor: ${s.redFlags.join(", ")}
Urgent Flags: ${s.urgentFlags.join(", ")}

Quality of Life Topics: ${s.qolTopics.map(g=>g.topic).join(", ")}
Common Symptoms to Monitor: ${s.commonSymptoms.map(g=>g.symptom).join(", ")}
`,p=await PK({prompt:"Review this oncology follow-up plan and provide enhanced recommendations. Consider surveillance frequency, symptom monitoring, quality of life aspects, and potential areas needing closer monitoring. Suggest any additional screenings or monitoring based on current guidelines.",context:h});d(p),i&&i(p),vr({title:"AI Follow-up Insights",description:p,duration:1e4})}catch(h){console.error("AI Analysis Error:",h),c(h.message||"Failed to analyze follow-up plan"),vr({title:"AI Analysis Failed",description:"Unable to provide AI insights at this time. Using standard follow-up plan.",variant:"destructive"})}finally{r(!1)}}}f()},[e,t,n,s,i]);const m=()=>{if(!u)return;const f=new Blob([u],{type:"text/markdown"}),h=URL.createObjectURL(f),p=document.createElement("a");p.href=h,p.download=`followup-summary-${e}.md`,p.click(),URL.revokeObjectURL(h)};return o?l.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-indigo-600 dark:text-indigo-300 animate-pulse",children:[l.jsxDEV(Zs,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:99,columnNumber:9},void 0),"AI analyzing follow-up plan..."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:98,columnNumber:7},void 0):a?l.jsxDEV("div",{className:"text-sm text-red-600 dark:text-red-400",children:a},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:107,columnNumber:7},void 0):u?l.jsxDEV("div",{className:"mt-2 flex flex-col gap-2",children:[l.jsxDEV("div",{className:"prose prose-sm dark:prose-invert max-w-none border rounded p-2 bg-gray-50 dark:bg-gray-800",children:l.jsxDEV("pre",{className:"whitespace-pre-wrap text-xs",children:u},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:117,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:116,columnNumber:9},void 0),l.jsxDEV(sn,{variant:"outline",size:"sm",onClick:m,className:"self-end flex items-center gap-1",title:"Export summary as Markdown",children:[l.jsxDEV(Vu,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:121,columnNumber:11},void 0)," Export Markdown"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/components/AIFollowUpAssistant.tsx",lineNumber:115,columnNumber:7},void 0):null};function RK(e,t){return t in e}function YN(e,t){return RK(e,t)?e[t]:void 0}const c_=()=>{const[e,t]=x.useState(!1),[n,s]=x.useState(null),[i,o]=x.useState({t:"",n:"",m:""}),[r,a]=x.useState("curative"),[c,u]=x.useState(!1),[d,m]=x.useState(null),[f,h]=x.useState(null);return x.useEffect(()=>{if(n){u(!0);try{const p=SK(n,i,r);m(p)}catch{vr({title:"Error",description:"Failed to generate follow-up plan. Please try again.",variant:"destructive"})}finally{u(!1)}}},[n,i,r]),l.jsxDEV(lt,{children:l.jsxDEV("div",{className:"space-y-6 p-6",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Follow-up Oncology"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:64,columnNumber:11},void 0),l.jsxDEV("button",{onClick:()=>t(!e),className:`px-3 py-1 rounded-full text-sm font-medium ${e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e?" Mock Mode":" Gemini Mode"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:63,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxDEV(Be.div,{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(d$,{selected:n,onSelect:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:76,columnNumber:11},void 0),n&&!c&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(Be.div,{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(Jt,{className:"dark:bg-gray-900 shadow-lg",children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{children:l.jsxDEV(oo,{children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{asChild:!0,children:l.jsxDEV("span",{children:"Diagnostic Timeline"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:100,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:99,columnNumber:27},void 0),l.jsxDEV(bi,{children:l.jsxDEV("p",{children:"Key milestones in the diagnostic journey"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:103,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:102,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:98,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:97,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:96,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:95,columnNumber:19},void 0),l.jsxDEV(cn,{children:l.jsxDEV(h$,{events:YN(wK,n)||[]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:110,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:109,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:94,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:89,columnNumber:15},void 0),l.jsxDEV(Be.div,{className:"lg:col-span-2 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(Jt,{className:"dark:bg-gray-900 shadow-lg",children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{children:l.jsxDEV(oo,{children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{asChild:!0,children:l.jsxDEV("span",{children:"Performance Score Trends"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:128,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:127,columnNumber:27},void 0),l.jsxDEV(bi,{children:l.jsxDEV("p",{children:"ECOG and KPS scores over time"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:131,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:130,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:126,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:125,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:124,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:123,columnNumber:19},void 0),l.jsxDEV(cn,{children:l.jsxDEV(NK,{data:YN(DK,n)||[]},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:138,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:137,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:122,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:117,columnNumber:15},void 0),l.jsxDEV(Be.div,{className:"lg:col-span-2 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV(Jt,{className:"dark:bg-gray-900 shadow-lg",children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{children:l.jsxDEV(oo,{children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{asChild:!0,children:l.jsxDEV("span",{children:"Smart Follow-Up Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:156,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:155,columnNumber:27},void 0),l.jsxDEV(bi,{children:l.jsxDEV("p",{children:"AI-generated follow-up summary and recommendations"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:159,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:158,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:154,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:153,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:152,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:151,columnNumber:19},void 0),l.jsxDEV(cn,{children:[l.jsxDEV(yK,{cancerType:n,stage:`${i.t}${i.n}${i.m}`,tnmStage:i,diagnosisDate:"2025-04-01",currentECOG:0,currentKPS:90,onGenerate:async()=>{try{return(await Mg({module:"OPD",intent:"follow-up",prompt:"Generate a follow-up summary and recommendations",context:`Cancer Type: ${n}
Stage: ${i.t}${i.n}${i.m}
Intent: ${r}`,mockMode:e})).content}catch(p){throw console.error("Error generating AI summary:",p),p}}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:166,columnNumber:21},void 0),l.jsxDEV(IK,{cancerType:n,stage:i,intent:"follow-up",plan:d,onInsightsReady:h},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:189,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:165,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:150,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:145,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:88,columnNumber:13},void 0),c&&l.jsxDEV(Be.div,{className:"flex justify-center items-center p-12",initial:{opacity:0},animate:{opacity:1},children:l.jsxDEV("div",{className:"animate-pulse flex space-x-4",children:[l.jsxDEV("div",{className:"h-12 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:209,columnNumber:17},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:211,columnNumber:19},void 0),l.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-32"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:212,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:208,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:203,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:62,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/follow-up-oncology/FollowUpOncology.tsx",lineNumber:61,columnNumber:5},void 0)},XN=[{label:"Patient Evaluation",icon:_2,component:wz,card:gz},{label:"Diagnostic Pathways",icon:k2,component:hS,card:bz},{label:"Cancer Screening",icon:M2,component:yS,card:vz},{label:"Referral Guidelines",icon:C2,component:wS,card:xz},{label:"Follow-Up Oncology",icon:P2,component:c_,card:Nz}],jK=()=>{const e={age:58,gender:"female",chiefComplaint:"Persistent cough and weight loss",riskFactors:["Smoking history","Family history of lung cancer"]};return l.jsxDEV("div",{children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-800 mb-8 flex items-center gap-2",children:" Oncology OPD Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:68,columnNumber:7},void 0),l.jsxDEV(pt.Group,{children:[l.jsxDEV(pt.List,{className:"flex space-x-2 mb-8",children:XN.map(({label:t,icon:n})=>l.jsxDEV(pt,{className:({selected:s})=>`
                opd-tab flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all
                ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md scale-[1.02]":"bg-white text-gray-700 hover:bg-gray-50 hover:text-indigo-600"}
              `,children:[l.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:86,columnNumber:15},void 0),t]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:75,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:73,columnNumber:9},void 0),l.jsxDEV(pt.Panels,{children:XN.map(({label:t,component:n,card:s})=>l.jsxDEV(pt.Panel,{children:l.jsxDEV(s,{children:[l.jsxDEV(n,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:96,columnNumber:17},void 0),l.jsxDEV(yz,{patientData:e,isEnabled:!0},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:95,columnNumber:15},void 0)},t,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:94,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:92,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:72,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/OPDModule.tsx",lineNumber:67,columnNumber:5},void 0)},OK=({children:e})=>l.jsxDEV("div",{className:"opd-module",children:l.jsxDEV("div",{className:"opd-content p-6",children:l.jsxDEV("div",{className:"max-w-5xl mx-auto",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/layout/OPDLayout.tsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/layout/OPDLayout.tsx",lineNumber:11,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/layout/OPDLayout.tsx",lineNumber:10,columnNumber:5},void 0),VK=({template:e,formData:t})=>{const n=e.sections.flatMap((i,o)=>i.items.map((r,a)=>({item:r,id:`section-${o}-item-${a}`}))).filter(({item:i,id:o})=>i.required&&(!t[o]||t[o].trim()==="")),s=n.length===0;return l.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxDEV("h3",{className:"font-semibold text-gray-900 mb-3",children:"Evaluation Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:27,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[s?l.jsxDEV(nu,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:32,columnNumber:11},void 0):l.jsxDEV(tt,{className:"w-5 h-5 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:34,columnNumber:11},void 0),l.jsxDEV("span",{className:s?"text-green-700":"text-amber-700",children:s?"All required fields are completed":`${n.length} required field(s) need attention`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:30,columnNumber:7},void 0),!s&&l.jsxDEV("div",{className:"mt-2 pl-7",children:l.jsxDEV("ul",{className:"list-disc text-sm text-amber-700",children:n.map(({item:i,id:o})=>l.jsxDEV("li",{children:i.text},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:48,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:46,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:45,columnNumber:9},void 0),l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxDEV(tt,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:57,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-red-700 font-medium",children:"Red Flag Checks"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:58,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:56,columnNumber:9},void 0),l.jsxDEV("ul",{className:"pl-7 list-disc text-sm text-red-700 space-y-1",children:e.redFlags.map((i,o)=>l.jsxDEV("li",{children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:62,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/EvaluationSummary.tsx",lineNumber:26,columnNumber:5},void 0)},LK={breast:{sections:[{title:"Clinical Presentation",items:[{text:"Breast Mass Characteristics",tooltip:"Size, location, mobility, skin changes, nipple changes",required:!0,redFlags:["Skin ulceration","Peau d'orange","Fixed mass"]},{text:"Lymph Node Status",tooltip:"Axillary, supraclavicular, cervical nodes",required:!0}],cancerSpecificNotes:["Document distance from nipple","Check for bilateral findings"]},{title:"Risk Assessment",items:[{text:"Family History",tooltip:"First-degree relatives with breast/ovarian cancer, age at diagnosis",required:!0,redFlags:["Multiple affected relatives","Young age at diagnosis"]},{text:"Genetic Factors",tooltip:"Known BRCA status, other genetic syndromes",required:!1}]}],notes:["Consider mammogram  ultrasound for imaging","Assess BIRADS category if imaging available","Consider genetic counseling if strong family history"],redFlags:["Inflammatory breast cancer signs","Nipple discharge/retraction","Axillary lymphadenopathy"]},lung:{sections:[{title:"Respiratory Symptoms",items:[{text:"Cough Characteristics",tooltip:"Duration, type, hemoptysis",required:!0,redFlags:["Hemoptysis","Stridor"]},{text:"Systemic Symptoms",tooltip:"Weight loss, fatigue, chest pain",required:!0}],cancerSpecificNotes:["Quantify pack-years if smoker","Note occupational exposures"]},{title:"Metastatic Symptoms",items:[{text:"Neurological Symptoms",tooltip:"Headache, weakness, confusion",required:!0,redFlags:["New neurological symptoms","Severe headache"]},{text:"Bone Pain",tooltip:"Location, severity, duration",required:!0}]}],notes:["Order chest CT if suspicious","Consider PET-CT for staging","Assess smoking cessation support needs"],redFlags:["Superior vena cava syndrome","Severe dyspnea","Significant hemoptysis"]},prostate:{sections:[{title:"Urinary Symptoms",items:[{text:"LUTS Assessment",tooltip:"Frequency, urgency, nocturia, stream",required:!0,redFlags:["Acute retention","Severe urinary symptoms"]},{text:"Obstructive Symptoms",tooltip:"Hesitancy, poor stream, retention",required:!0,redFlags:["Complete obstruction"]}],cancerSpecificNotes:["Document IPSS score","Record voiding diary findings"]},{title:"Physical Examination",items:[{text:"Digital Rectal Examination",tooltip:"Size, consistency, nodules, tenderness",required:!0,redFlags:["Hard nodular prostate","Fixed mass"]}]},{title:"Metastatic Assessment",items:[{text:"Bone Pain",tooltip:"Location, severity, duration",required:!0,redFlags:["Severe back pain","Pathological fracture risk"]},{text:"Neurological Symptoms",tooltip:"Lower limb weakness, sensory changes",required:!0,redFlags:["Cord compression symptoms"]}]}],notes:["Check PSA level","Consider bone scan if indicated","Family history documentation essential","Consider hereditary cancer syndromes"],redFlags:["Spinal cord compression","Urinary retention","Rapidly rising PSA","Pathological fracture risk"]},lymphoma:{sections:[{title:"Lymphadenopathy Assessment",items:[{text:"Node Characteristics",tooltip:"Size, location, consistency, mobility",required:!0,redFlags:["Rapid enlargement","Rock-hard nodes"]},{text:"Distribution Pattern",tooltip:"Document all involved sites systematically",required:!0}],cancerSpecificNotes:["Map out all involved nodes","Compare with previous examinations"]},{title:"B Symptoms",items:[{text:"Fever Pattern",tooltip:"Document temperature, duration, pattern",required:!0},{text:"Night Sweats",tooltip:"Severity, frequency, impact on daily life",required:!0},{text:"Weight Loss",tooltip:"Amount, duration, associated symptoms",required:!0,redFlags:[">10% in 6 months"]}]},{title:"Systemic Examination",items:[{text:"Hepatosplenomegaly",tooltip:"Size, tenderness, associated symptoms",required:!0},{text:"Extra-nodal Involvement",tooltip:"Skin lesions, bone pain, CNS symptoms",required:!0,redFlags:["CNS involvement","Airway compromise"]}]}],notes:["Document performance status","Consider PET-CT staging","Plan for bone marrow assessment","Check EBV status in young patients"],redFlags:["Superior vena cava syndrome","Airway compromise","CNS involvement","Significant B symptoms"]},colon:{sections:[{title:"Gastrointestinal Symptoms",items:[{text:"Bowel Habits",tooltip:"Changes in frequency, caliber, blood in stool",required:!0,redFlags:["Rectal bleeding","Severe constipation"]},{text:"Abdominal Symptoms",tooltip:"Pain, distention, mass",required:!0}],cancerSpecificNotes:["Document Bristol stool scale","Note any screening history"]},{title:"Risk Assessment",items:[{text:"Family History",tooltip:"History of colorectal cancer or polyps",required:!0},{text:"Lynch Syndrome Screening",tooltip:"Family history of associated cancers",required:!1}]}],notes:["Check hemoglobin level","Consider colonoscopy referral","Assess for Lynch syndrome criteria"],redFlags:["Bowel obstruction","Significant weight loss","Iron deficiency anemia"]},ovarian:{sections:[{title:"Symptoms & History",items:[{text:"Abdominal/Pelvic Symptoms",tooltip:"Bloating, early satiety, abdominal pain",required:!0,redFlags:["Rapidly increasing abdominal girth","Severe pain"]},{text:"Menstrual History",tooltip:"Pattern changes, irregular bleeding",required:!0,redFlags:["Post-menopausal bleeding"]},{text:"Constitutional Symptoms",tooltip:"Weight loss, fatigue, appetite changes",required:!0}],cancerSpecificNotes:["Document family history of ovarian/breast cancer","Check BRCA status if applicable"]},{title:"Physical Examination",items:[{text:"Abdominal Assessment",tooltip:"Ascites, masses, organomegaly",required:!0,redFlags:["Fixed pelvic mass","Omental cake"]},{text:"Pelvic Examination",tooltip:"Adnexal masses, tenderness",required:!0}]}],notes:["Check CA-125 if postmenopausal","Consider CT abdomen/pelvis","Consider genetic counseling referral"],redFlags:["Fixed pelvic mass","Rapidly growing abdominal distention","Significant ascites"]},gastric:{sections:[{title:"Upper GI Symptoms",items:[{text:"Epigastric Symptoms",tooltip:"Pain pattern, relation to food, duration",required:!0,redFlags:["Persistent pain","Progressive dysphagia"]},{text:"Eating Difficulties",tooltip:"Loss of appetite, early satiety, weight loss",required:!0,redFlags:["Significant weight loss","Complete dysphagia"]},{text:"GI Bleeding Signs",tooltip:"Hematemesis, melena, chronic blood loss",required:!0,redFlags:["Active bleeding","Severe anemia"]}],cancerSpecificNotes:["Note H. pylori status if known","Document family history"]}],notes:["Check for Virchow's node","Consider urgent gastroscopy","Check H. pylori status"],redFlags:["Persistent vomiting","Gastrointestinal bleeding","Severe weight loss","Iron deficiency anemia"]},"head-and-neck":{sections:[{title:"ENT Symptoms",items:[{text:"Voice Changes",tooltip:"Hoarseness, duration, progression",required:!0,redFlags:["Progressive hoarseness","Stridor"]},{text:"Swallowing Issues",tooltip:"Dysphagia pattern, odynophagia",required:!0,redFlags:["Complete dysphagia","Aspiration"]},{text:"Neck Masses",tooltip:"Location, size, duration, mobility",required:!0,redFlags:["Rapidly growing mass","Fixed mass"]}],cancerSpecificNotes:["Document smoking/alcohol history","Note occupational exposures"]},{title:"Physical Examination",items:[{text:"Oral Cavity Exam",tooltip:"Mucosal lesions, ulcers, masses",required:!0,redFlags:["Non-healing ulcers","Bleeding lesions"]},{text:"Neck Examination",tooltip:"Systematic lymph node assessment",required:!0,redFlags:["Fixed nodes","Multiple levels involved"]}]}],notes:["Complete head and neck exam essential","Consider nasendoscopy if indicated","Document risk factors carefully"],redFlags:["Stridor or airway compromise","Unilateral ear pain","Progressive dysphagia","Cranial nerve involvement"]}},FK=({id:e,label:t,tooltip:n,required:s=!1,value:i,onChange:o,error:r=!1,redFlags:a=[],rows:c=3,inputClassName:u})=>{const d={};return s&&(d["aria-required"]="true"),r&&(d["aria-invalid"]="true"),l.jsxDEV("div",{children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:l.jsxDEV("label",{htmlFor:e,className:"text-sm font-medium text-gray-900",children:[t,s&&l.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:46,columnNumber:24},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:41,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:40,columnNumber:7},void 0),l.jsxDEV("textarea",{id:e,value:i,onChange:m=>o(m.target.value),placeholder:n,rows:c,className:`w-full p-2 border rounded-md focus:ring-2 focus:ring-indigo-500 ${r?"border-red-300 bg-red-50":""} ${u||""}`,required:s,...d},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:49,columnNumber:7},void 0),a.length>0&&l.jsxDEV("div",{className:"mt-1 text-sm text-red-600",children:["Monitor for: ",a.join(", ")]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/FormField.tsx",lineNumber:39,columnNumber:5},void 0)},$m=({children:e,variant:t="primary",size:n="md",isLoading:s=!1,disabled:i=!1,icon:o,fullWidth:r=!1,className:a="",...c})=>{const u="rounded-md inline-flex items-center justify-center transition-colors font-medium",d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},m={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 shadow-sm",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 shadow-sm"},f=i||s?"opacity-70 cursor-not-allowed":"",h=r?"w-full":"",p=[u,d[n],m[t],f,h,a].join(" ");return l.jsxDEV("button",{className:p,disabled:i||s,...c,children:[s&&l.jsxDEV(Zs,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/Button.tsx",lineNumber:65,columnNumber:9},void 0),!s&&o&&l.jsxDEV("span",{className:"mr-2",children:o},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/Button.tsx",lineNumber:68,columnNumber:9},void 0),e]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/Button.tsx",lineNumber:59,columnNumber:5},void 0)},u_=x.createContext(void 0),BK=()=>{const e=x.useContext(u_);if(!e)throw new Error("useEvaluation must be used within an EvaluationProvider");return e},HK=({children:e})=>{const[t,n]=x.useState({}),[s,i]=x.useState(""),[o,r]=x.useState(!1),[a,c]=x.useState(null),[u,d]=x.useState(!1),m=x.useCallback((p,g)=>{n(v=>({...v,[p]:g})),u&&d(!1),a&&c(null)},[u,a]),f=x.useCallback(()=>{window.confirm("Are you sure you want to clear all form data?")&&(n({}),c(null),d(!1))},[]),h={formData:t,updateFormField:m,clearFormData:f,selectedCancerType:s,setSelectedCancerType:i,isFormSubmitting:o,setIsFormSubmitting:r,formError:a,setFormError:c,formSuccess:u,setFormSuccess:d};return l.jsxDEV(u_.Provider,{value:h,children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/context/EvaluationContext.tsx",lineNumber:70,columnNumber:5},void 0)},UK="modulepreload",zK=function(e){return"/"+e},JN={},is=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=zK(c),c in JN)return;JN[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":UK,u||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((f,h)=>{m.addEventListener("load",f),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return i.then(r=>{for(const a of r||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},$K=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:s}=await Promise.resolve().then(()=>$r);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Wg extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class WK extends Wg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class GK extends Wg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qK extends Wg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ih;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ih||(Ih={}));var KK=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};class YK{constructor(t,{headers:n={},customFetch:s,region:i=Ih.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=$K(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return KK(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:r}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=r):typeof r=="string"?(a["Content-Type"]="text/plain",u=r):typeof FormData<"u"&&r instanceof FormData?u=r:(a["Content-Type"]="application/json",u=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(p=>{throw new WK(p)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new GK(d);if(!d.ok)throw new qK(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield d.json():f==="application/octet-stream"?h=yield d.blob():f==="text/event-stream"?h=d:f==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var vn={},Gg={},xd={},Vl={},Nd={},yd={},XK=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dr=XK();const JK=Dr.fetch,d_=Dr.fetch.bind(Dr),m_=Dr.Headers,QK=Dr.Request,ZK=Dr.Response,$r=Object.freeze(Object.defineProperty({__proto__:null,Headers:m_,Request:QK,Response:ZK,default:d_,fetch:JK},Symbol.toStringTag,{value:"Module"})),eY=o2($r);var wd={};Object.defineProperty(wd,"__esModule",{value:!0});let tY=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wd.default=tY;var f_=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});const nY=f_(eY),sY=f_(wd);let iY=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var r,a,c;let u=null,d=null,m=null,f=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const g=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),v=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,f=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,h="OK")}catch{o.status===404&&g===""?(f=204,h="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw new sY.default(u)}return{error:u,data:d,count:m,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var r,a,c;return{error:{message:`${(r=o==null?void 0:o.name)!==null&&r!==void 0?r:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};yd.default=iY;var oY=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nd,"__esModule",{value:!0});const rY=oY(yd);let aY=class extends rY.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:o=i}={}){const r=o?`${o}.order`:"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(r,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:o=!1,format:r="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${u}"; options=${c};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nd.default=aY;var lY=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});const cY=lY(Nd);let uY=class extends cY.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${o}fts${r}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Vl.default=uY;var dY=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});const ma=dY(Vl);let mY=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=n,this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let o=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new ma.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const r=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(r.length>0){const a=[...new Set(r)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ma.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:o=!0}={}){const r="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ma.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ma.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new ma.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xd.default=mY;var Dd={},Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.version=void 0;Ed.version="0.0.0-automated";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.DEFAULT_HEADERS=void 0;const fY=Ed;Dd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fY.version}`};var h_=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gg,"__esModule",{value:!0});const hY=h_(xd),pY=h_(Vl),gY=Dd;let bY=class p_{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},gY.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new hY.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new p_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:o}={}){let r;const a=new URL(`${this.url}/rpc/${t}`);let c;s||i?(r=s?"HEAD":"GET",Object.entries(n).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{a.searchParams.append(d,m)})):(r="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new pY.default({method:r,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Gg.default=bY;var Wr=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});vn.PostgrestError=vn.PostgrestBuilder=vn.PostgrestTransformBuilder=vn.PostgrestFilterBuilder=vn.PostgrestQueryBuilder=vn.PostgrestClient=void 0;const g_=Wr(Gg);vn.PostgrestClient=g_.default;const b_=Wr(xd);vn.PostgrestQueryBuilder=b_.default;const v_=Wr(Vl);vn.PostgrestFilterBuilder=v_.default;const x_=Wr(Nd);vn.PostgrestTransformBuilder=x_.default;const N_=Wr(yd);vn.PostgrestBuilder=N_.default;const y_=Wr(wd);vn.PostgrestError=y_.default;var vY=vn.default={PostgrestClient:g_.default,PostgrestQueryBuilder:b_.default,PostgrestFilterBuilder:v_.default,PostgrestTransformBuilder:x_.default,PostgrestBuilder:N_.default,PostgrestError:y_.default};const{PostgrestClient:xY,PostgrestQueryBuilder:mne,PostgrestFilterBuilder:fne,PostgrestTransformBuilder:hne,PostgrestBuilder:pne,PostgrestError:gne}=vY,NY="2.11.2",yY={"X-Client-Info":`realtime-js/${NY}`},wY="1.0.0",w_=1e4,DY=1e3;var ar;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ar||(ar={}));var En;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(En||(En={}));var Xn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xn||(Xn={}));var Rh;(function(e){e.websocket="websocket"})(Rh||(Rh={}));var Ki;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ki||(Ki={}));class EY{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),o=n.getUint8(2);let r=this.HEADER_LENGTH+2;const a=s.decode(t.slice(r,r+i));r=r+i;const c=s.decode(t.slice(r,r+o));r=r+o;const u=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class D_{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const QN=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((o,r)=>(o[r]=TY(r,e,t,i),o),{})},TY=(e,t,n,s)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,r=n[e];return o&&!s.includes(o)?E_(o,r):jh(r)},E_=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return MY(t,n)}switch(e){case rt.bool:return SY(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return _Y(t);case rt.json:case rt.jsonb:return kY(t);case rt.timestamp:return CY(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return jh(t);default:return jh(t)}},jh=e=>e,SY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_Y=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},MY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let o;const r=e.slice(1,n);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(a=>E_(t,a))}return e},CY=e=>typeof e=="string"?e.replace(" ","T"):e,T_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wm{constructor(t,n,s={},i=w_){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ZN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ZN||(ZN={}));class Ka{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ka.syncState(this.state,i,o,r),this.pendingDiffs.forEach(c=>{this.state=Ka.syncDiff(this.state,c,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ka.syncDiff(this.state,i,o,r),a())}),this.onJoin((i,o,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:r})}),this.onLeave((i,o,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const o=this.cloneDeep(t),r=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{r[u]||(c[u]=d)}),this.map(r,(u,d)=>{const m=o[u];if(m){const f=d.map(v=>v.presence_ref),h=m.map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0),g=m.filter(v=>f.indexOf(v.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},s,i)}static syncDiff(t,n,s,i){const{joins:o,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const m=t[a].map(h=>h.presence_ref),f=d.filter(h=>m.indexOf(h.presence_ref)<0);t[a].unshift(...f)}s(a,d,c)}),this.map(r,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[a]=u,i(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ey;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ey||(ey={}));var ty;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ty||(ty={}));var Bs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bs||(Bs={}));class qg{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wm(this,Xn.join,this.params,this.timeout),this.rejoinTimer=new D_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ka(this),this.broadcastEndpointURL=T_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Bs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Bs.CLOSED));const c={},u={broadcast:o,presence:r,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){t==null||t(Bs.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(m=f==null?void 0:f.length)!==null&&m!==void 0?m:0,p=[];for(let g=0;g<h;g++){const v=f[g],{filter:{event:b,schema:w,table:N,filter:E}}=v,D=d&&d[g];if(D&&D.event===b&&D.schema===w&&D.table===N&&D.filter===E)p.push(Object.assign(Object.assign({},v),{id:D.id}));else{this.unsubscribe(),t==null||t(Bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Bs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:r}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=En.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new Wm(this,Xn.leave,{},t);i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,s){const i=new AbortController,o=setTimeout(()=>i.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),r}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wm(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,o;const r=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Xn;if(s&&[a,c,u,d].indexOf(r)>=0&&s!==this._joinRef())return;let f=this._onMessage(r,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,g,v;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===r}).map(h=>h.callback(f,s)):(o=this.bindings[r])===null||o===void 0||o.filter(h=>{var p,g,v,b,w,N;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in h){const E=h.id,D=(p=h.filter)===null||p===void 0?void 0:p.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(w=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===r}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:v,commit_timestamp:b,type:w,errors:N}=p;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(p))}h.callback(f,s)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&qg.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xn.close,{},t)}_onError(t){this._on(Xn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=QN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=QN(t.columns,t.old_record)),n}}const PY=()=>{},AY=typeof WebSocket<"u",IY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RY{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yY,this.params={},this.timeout=w_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=PY,this.conn=null,this.sendBuffer=[],this.serializer=new EY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>is(async()=>{const{default:c}=await Promise.resolve().then(()=>$r);return{default:c}},void 0).then(({default:c})=>c(...a)):r=fetch,(...a)=>r(...a)},this.endPoint=`${t}/${Rh.websocket}`,this.httpEndpoint=T_(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,r)=>r(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new D_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(AY){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new jY(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),is(async()=>{const{default:t}=await import("./browser-D9ebULCG.js").then(n=>n.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wY}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ar.connecting:return Ki.Connecting;case ar.open:return Ki.Open;case ar.closing:return Ki.Closing;default:return Ki.Closed}}isConnected(){return this.connectionState()===Ki.Open}channel(t,n={config:{}}){const s=new qg(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:i,ref:o}=t,r=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${s} (${o})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Xn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(DY,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:o,ref:r}=n;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${s} ${i} ${r&&"("+r+")"||""}`,o),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(i,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([IY],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class jY{constructor(t,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ar.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class Kg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OY extends Kg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Oh extends Kg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var VY=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const S_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:s}=await Promise.resolve().then(()=>$r);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},LY=()=>VY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>$r),void 0)).Response:Response}),Vh=e=>{if(Array.isArray(e))return e.map(n=>Vh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Vh(s)}),t};var So=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const Gm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FY=(e,t,n)=>So(void 0,void 0,void 0,function*(){const s=yield LY();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new OY(Gm(i),e.status||500))}).catch(i=>{t(new Oh(Gm(i),i))}):t(new Oh(Gm(e),e))}),BY=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function Ll(e,t,n,s,i,o){return So(this,void 0,void 0,function*(){return new Promise((r,a)=>{e(n,BY(t,s,i,o)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>r(c)).catch(c=>FY(c,a,s))})})}function _u(e,t,n,s){return So(this,void 0,void 0,function*(){return Ll(e,"GET",t,n,s)})}function mi(e,t,n,s,i){return So(this,void 0,void 0,function*(){return Ll(e,"POST",t,s,i,n)})}function HY(e,t,n,s,i){return So(this,void 0,void 0,function*(){return Ll(e,"PUT",t,s,i,n)})}function UY(e,t,n,s){return So(this,void 0,void 0,function*(){return Ll(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function __(e,t,n,s,i){return So(this,void 0,void 0,function*(){return Ll(e,"DELETE",t,s,i,n)})}var pn=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const zY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ny={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $Y{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=S_(i)}uploadOrUpdate(t,n,s,i){return pn(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},ny),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const c=r.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",r.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=s,a["cache-control"]=`max-age=${r.cacheControl}`,a["content-type"]=r.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),m=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield m.json();return m.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(jt(o))return{data:null,error:o};throw o}})}upload(t,n,s){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return pn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),r=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${r}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ny.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),f=yield m.json();return m.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(jt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return pn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield mi(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new Kg("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:a},error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}update(t,n,s){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return pn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}copy(t,n,s){return pn(this,void 0,void 0,function*(){try{return{data:{path:(yield mi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return pn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield mi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${r}`)},{data:o,error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return pn(this,void 0,void 0,function*(){try{const i=yield mi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${o}`):null})),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}download(t,n){return pn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield _u(this.fetch,`${this.url}/${i}/${a}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(jt(a))return{data:null,error:a};throw a}})}info(t){return pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield _u(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vh(s),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}exists(t){return pn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield UY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(jt(s)&&s instanceof Oh){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(t){return pn(this,void 0,void 0,function*(){try{return{data:yield __(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}list(t,n,s){return pn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zY),n),{prefix:t||""});return{data:yield mi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const WY="2.7.1",GY={"X-Client-Info":`storage-js/${WY}`};var Lo=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};class qY{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},GY),n),this.fetch=S_(s)}listBuckets(){return Lo(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}})}getBucket(t){return Lo(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Lo(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Lo(this,void 0,void 0,function*(){try{return{data:yield HY(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(jt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Lo(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Lo(this,void 0,void 0,function*(){try{return{data:yield __(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}})}}class KY extends qY{constructor(t,n={},s){super(t,n,s)}from(t){return new $Y(this.url,this.headers,t,this.fetch)}}const YY="2.49.8";let Ta="";typeof Deno<"u"?Ta="deno":typeof document<"u"?Ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ta="react-native":Ta="node";const XY={"X-Client-Info":`supabase-js-${Ta}/${YY}`},JY={headers:XY},QY={schema:"public"},ZY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eX={};var tX=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};const nX=e=>{let t;return e?t=e:typeof fetch>"u"?t=d_:t=fetch,(...n)=>t(...n)},sX=()=>typeof Headers>"u"?m_:Headers,iX=(e,t,n)=>{const s=nX(n),i=sX();return(o,r)=>tX(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(o,Object.assign(Object.assign({},r),{headers:u}))})};var oX=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};function rX(e){return e.endsWith("/")?e:e+"/"}function aX(e,t){var n,s;const{db:i,auth:o,realtime:r,global:a}=e,{db:c,auth:u,realtime:d,global:m}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},m),a),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>oX(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const k_="2.69.1",Ko=30*1e3,Lh=3,qm=Lh*Ko,lX="http://localhost:9999",cX="supabase.auth.token",uX={"X-Client-Info":`gotrue-js/${k_}`},Fh="X-Supabase-Api-Version",M_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mX=6e5;class Yg extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fX extends Yg{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function hX(e){return Ve(e)&&e.name==="AuthApiError"}class C_ extends Yg{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mi extends Yg{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class ci extends Mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pX(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class Km extends Mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sc extends Mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _c extends Mi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gX(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class sy extends Mi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bh extends Mi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ym(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class iy extends Mi{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Ya extends Mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const oy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ry=` 	
\r=`.split(""),bX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ry.length;t+=1)e[ry[t].charCodeAt(0)]=-2;for(let t=0;t<oy.length;t+=1)e[oy[t].charCodeAt(0)]=t;return e})();function P_(e,t,n){const s=bX[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ay(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=r=>{NX(r,s,n)};for(let r=0;r<e.length;r+=1)P_(e.charCodeAt(r),i,o);return t.join("")}function vX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xX(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vX(s,t)}}function NX(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function yX(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)P_(e.charCodeAt(i),n,s);return new Uint8Array(t)}function wX(e){const t=[];return xX(e,n=>t.push(n)),new Uint8Array(t)}function DX(e){return Math.round(Date.now()/1e3)+e}function EX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ms=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},Xa=()=>{if(!ms())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function TX(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const A_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>is(async()=>{const{default:s}=await Promise.resolve().then(()=>$r);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},SX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",I_=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},kc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mc=async(e,t)=>{await e.removeItem(t)};class Td{constructor(){this.promise=new Td.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Td.promiseConstructor=Promise;function Xm(e){const t=e.split(".");if(t.length!==3)throw new Ya("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!dX.test(t[s]))throw new Ya("JWT not in base64url format");return{header:JSON.parse(ay(t[0])),payload:JSON.parse(ay(t[1])),signature:yX(t[2]),raw:{header:t[0],payload:t[1]}}}async function _X(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kX(e,t){return new Promise((s,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await e(o);if(!t(o,null,r)){s(r);return}}catch(r){if(!t(o,r)){i(r);return}}})()})}function MX(e){return("0"+e.toString(16)).substr(-2)}function CX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,MX).join("")}async function PX(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function AX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await PX(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fo(e,t,n=!1){const s=CX();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await I_(e,`${t}-code-verifier`,i);const o=await AX(s);return[o,s===o?"plain":"s256"]}const IX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RX(e){const t=e.headers.get(Fh);if(!t||!t.match(IX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var VX=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const Wi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LX=[502,503,504];async function ly(e){var t;if(!SX(e))throw new Bh(Wi(e),0);if(LX.includes(e.status))throw new Bh(Wi(e),e.status);let n;try{n=await e.json()}catch(o){throw new C_(Wi(o),o)}let s;const i=RX(e);if(i&&i.getTime()>=M_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new iy(Wi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new iy(Wi(n),e.status,n.weak_password.reasons);throw new fX(Wi(n),e.status||500,s)}const FX=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function qe(e,t,n,s){var i;const o=Object.assign({},s==null?void 0:s.headers);o[Fh]||(o[Fh]=M_["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const r=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",c=await BX(e,t,n+a,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function BX(e,t,n,s,i,o){const r=FX(t,s,i,o);let a;try{a=await e(n,Object.assign({},r))}catch(c){throw console.error(c),new Bh(Wi(c),0)}if(a.ok||await ly(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(c){await ly(c)}}function ui(e){var t;let n=null;$X(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=DX(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function cy(e){const t=ui(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HX(e){return{data:e,error:null}}function UX(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:o}=e,r=VX(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:o},c=Object.assign({},r);return{data:{properties:a,user:c},error:null}}function zX(e){return e}function $X(e){return e.access_token&&e.refresh_token&&e.expires_in}var WX=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class GX{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=A_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fi})}catch(s){if(Ve(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=WX(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:UX,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fi})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,o,r,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:zX});if(d.error)throw d.error;const m=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,h=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fi})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fi})}catch(s){if(Ve(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fi})}catch(s){if(Ve(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:n,error:s}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}const qX={getItem:e=>Xa()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Xa()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Xa()&&globalThis.localStorage.removeItem(e)}};function uy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function KX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bo={debug:!!(globalThis&&Xa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class R_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YX extends R_{}async function XX(e,t,n){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}KX();const JX={url:lX,storageKey:cX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dy(e,t,n){return await n()}class xl{constructor(t){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xl.nextInstanceID,xl.nextInstanceID+=1,this.instanceID>0&&ms()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},JX),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GX({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=A_(i.fetch),this.lock=i.lock||dy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ms()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XX:this.lock=dy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Xa()?this.storage=qX:(this.memoryStorage={},this.storage=uy(this.memoryStorage)):(this.memoryStorage={},this.storage=uy(this.memoryStorage)),ms()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${k_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=TX(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ms()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),gX(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?{error:n}:{error:new C_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ui}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,s,i;try{let o;if("email"in t){const{email:d,password:m,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Fo(this.storage,this.storageKey)),o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:ui})}else if("phone"in t){const{phone:d,password:m,options:f}=t;o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ui})}else throw new Sc("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const c=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:r,options:a}=t;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cy})}else if("phone"in t){const{phone:o,password:r,options:a}=t;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cy})}else throw new Sc("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Km}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await kc(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:o,error:r}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:ui});if(await Mc(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Km}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:r})}catch(o){if(Ve(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:o,nonce:r}=t,a=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ui}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Km}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,o,r;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fo(this.storage,this.storageKey));const{error:m}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(r=c==null?void 0:c.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Sc("You must provide either an email or phone number.")}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,s;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:a}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ui});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const c=r.session,u=r.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await Fo(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:HX})}catch(o){if(Ve(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ci;const{error:i}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:o}=t,{error:r}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:i,options:o}=t,{data:r,error:a}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new Sc("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<qm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!r&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fi}):await this._useSession(async n=>{var s,i,o;const{data:r,error:a}=n;if(a)throw a;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ci}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:fi})})}catch(n){if(Ve(n))return pX(n)&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:o}=s;if(o)throw o;if(!i.session)throw new ci;const r=i.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Fo(this.storage,this.storageKey));const{data:u,error:d}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:r.access_token,xform:fi});if(d)throw d;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(Ve(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ci;const n=Date.now()/1e3;let s=n,i=!0,o=null;const{payload:r}=Xm(t.access_token);if(r.exp&&(s=r.exp,i=s<=n),i){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:r,error:a}=n;if(a)throw a;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ci;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ms())throw new _c("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _c(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _c("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sy("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:o,refresh_token:r,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!r||!u)throw new _c("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(a);let f=d+m;c&&(f=parseInt(c));const h=f-d;h*1e3<=Ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${m}s`);const p=f-m;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:g,error:v}=await this._getUser(o);if(v)throw v;const b={provider_token:s,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:f,refresh_token:r,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(s){if(Ve(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:o}=n;if(o)return{error:o};const r=(s=i.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:a}=await this.admin.signOut(r,t);if(a&&!(hX(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=EX(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:o},error:r}=n;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Fo(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ve(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async o=>{var r,a,c,u,d;const{data:m,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ms()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ve(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:o,error:r}=n;if(r)throw r;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await kX(async i=>(i>0&&await _X(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ui})),(i,o)=>{const r=200*Math.pow(2,i);return o&&Ym(o)&&Date.now()+r-s<Ko})}catch(s){if(this._debug(n,"error",s),Ve(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),ms()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await kc(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${qm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ym(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Td;const{data:o,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!o.session)throw new ci;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),Ve(o)){const r={session:null,error:o};return Ym(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await I_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Mc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ms()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ko}ms, refresh threshold is ${Lh} ticks`),i<=Lh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof R_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ms()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,r]=await Fo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);i.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:o}=n;return o?{data:null,error:o}:await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:o,error:r}=n;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:r,error:a}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:o}=n;return o?{data:null,error:o}:await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Xm(i.access_token);let a=null;r.aal&&(a=r.aal);let c=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=r.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(r=>r.kid===t);if(s||(s=this.jwks.keys.find(r=>r.kid===t),s&&this.jwks_cached_at+mX>Date.now()))return s;const{data:i,error:o}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new Ya("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),s=i.keys.find(r=>r.kid===t),!s)throw new Ya("No matching signing key found in JWKS");return s}async getClaims(t,n={keys:[]}){try{let s=t;if(!s){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};s=h.session.access_token}const{header:i,payload:o,signature:r,raw:{header:a,payload:c}}=Xm(s);if(jX(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(s);if(h)throw h;return{data:{claims:o,header:i,signature:r},error:null}}const u=OX(i.alg),d=await this.fetchJwk(i.kid,n),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,r,wX(`${a}.${c}`)))throw new Ya("Invalid JWT signature");return{data:{claims:o,header:i,signature:r},error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}}}xl.nextInstanceID=0;const QX=xl;class ZX extends QX{constructor(t){super(t)}}var eJ=function(e,t,n,s){function i(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function a(d){try{u(s.next(d))}catch(m){r(m)}}function c(d){try{u(s.throw(d))}catch(m){r(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((s=s.apply(e,t||[])).next())})};class tJ{constructor(t,n,s){var i,o,r;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=rX(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:QY,realtime:eX,auth:Object.assign(Object.assign({},ZY),{storageKey:u}),global:JY},m=aX(s??{},d);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=m.auth)!==null&&r!==void 0?r:{},this.headers,m.global.fetch),this.fetch=iX(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new xY(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new YK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new KY(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return eJ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:o,flowType:r,lock:a,debug:c},u,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZX({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:r,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new RY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nJ=(e,t,n)=>new tJ(e,t,n),sJ="https://hdrsfyljgabmxwxmpbix.supabase.co",iJ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcnNmeWxqZ2FibXh3eG1wYml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwNjc5NDAsImV4cCI6MjA1NzY0Mzk0MH0.VPnBZfe-BFSZ3L-YyWJUHYZz4fwt7uyY57KWYYAa3C4";let Jm=null;const oJ=()=>{if(!Jm)try{Jm=nJ(sJ,iJ,{auth:{detectSessionInUrl:!0,persistSession:!0,autoRefreshToken:!0}}),console.info(" Supabase client initialized")}catch(e){throw console.error(" Failed to create Supabase client:",e),new Error("Failed to initialize Supabase client")}return Jm},_o=oJ();class rJ extends Error{constructor(t){super(t),this.name="APIError"}}async function aJ(e){const{error:t}=await _o.from("patient_evaluations").insert([{cancer_type:e.cancerType,form_data:e.formData,timestamp:e.timestamp}]);if(t)throw console.error("Failed to save patient evaluation:",t),new rJ(t.message)}const lJ=({steps:e,currentStep:t})=>l.jsxDEV("nav",{"aria-label":"Progress",className:"mb-8",children:l.jsxDEV("ol",{className:"flex items-center",children:e.map((n,s)=>l.jsxDEV("li",{className:`relative ${s!==e.length-1?"flex-1":""}`,children:[n.status==="complete"?l.jsxDEV(Be.div,{className:"group",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:l.jsxDEV("span",{className:"flex items-center",children:[l.jsxDEV("span",{className:"relative flex h-8 w-8 items-center justify-center rounded-full bg-indigo-600",children:l.jsxDEV(Si,{className:"h-5 w-5 text-white","aria-hidden":"true"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:32,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:31,columnNumber:19},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-gray-900",children:n.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:34,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:30,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:24,columnNumber:15},void 0):n.status==="current"?l.jsxDEV(Be.div,{className:"flex items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[l.jsxDEV("span",{className:"relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-indigo-600",children:l.jsxDEV("span",{className:"h-2.5 w-2.5 rounded-full bg-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:45,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:44,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-indigo-600",children:n.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:47,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:38,columnNumber:15},void 0):l.jsxDEV("div",{className:"flex items-center",children:[l.jsxDEV("div",{className:"relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-gray-300",children:l.jsxDEV("span",{className:"h-2.5 w-2.5 rounded-full bg-transparent"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:52,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:51,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-3 text-sm font-medium text-gray-500",children:n.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:50,columnNumber:15},void 0),s!==e.length-1&&l.jsxDEV(l.Fragment,{children:l.jsxDEV("div",{className:"absolute left-4 top-4 -ml-px mt-0.5 h-0.5 w-full bg-gray-300",children:l.jsxDEV("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:n.status==="complete"?"100%":"0%"}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:62,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:61,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:59,columnNumber:15},void 0)]},n.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:22,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:20,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/ProgressStepper.tsx",lineNumber:19,columnNumber:5},void 0),my={"Chief Complaint":["Consider duration and pattern of symptoms","Note any associated symptoms","Document severity and impact on daily life"],"History of Present Illness":["Include timeline of symptom progression","Note previous treatments and responses","Document diagnostic tests already done"],"Physical Examination":["Always document ECOG/PS score","Note lymph node regions systematically","Document any B symptoms","Consider paraneoplastic manifestations"],"Performance Status":["Patients with ECOG 2 may need early palliative consult","Document any recent changes in performance","Consider impact on treatment choices"],"Past Medical History":["Note any contraindications to therapy","Document previous malignancies","Include relevant surgeries and procedures"]},cJ=({isOpen:e,onClose:t,currentSection:n})=>l.jsxDEV(Ts,{children:e&&l.jsxDEV(Be.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:20},className:"fixed right-0 top-0 h-screen w-80 bg-white/95 backdrop-blur-sm shadow-xl border-l border-gray-200 z-50",children:[l.jsxDEV("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Gs,{className:"w-5 h-5 text-indigo-600"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:53,columnNumber:15},void 0),l.jsxDEV("h3",{className:"font-semibold text-gray-900",children:"AI Assistant Tips"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:54,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:52,columnNumber:13},void 0),l.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:l.jsxDEV(Qn,{className:"w-5 h-5 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:56,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:51,columnNumber:11},void 0),l.jsxDEV("div",{className:"p-4 space-y-6 overflow-y-auto max-h-[calc(100vh-64px)]",children:n&&my[n]?l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsxDEV(A2,{className:"w-4 h-4 text-yellow-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:68,columnNumber:19},void 0),"Tips for: ",n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:67,columnNumber:17},void 0),l.jsxDEV("ul",{className:"space-y-2",children:my[n].map((s,i)=>l.jsxDEV(Be.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"p-3 bg-indigo-50 rounded-lg text-sm text-indigo-700",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:73,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:66,columnNumber:15},void 0):l.jsxDEV("div",{className:"text-center text-gray-500 py-8",children:[l.jsxDEV(Gs,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:87,columnNumber:17},void 0),l.jsxDEV("p",{children:"Select a section to see relevant AI tips"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:88,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:86,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:64,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/AISidebar.tsx",lineNumber:42,columnNumber:5},void 0),uJ=({cancerType:e,value:t,onChange:n})=>{const s=r=>["X","is","0","1","1a","1b","2","2a","2b","3","3a","3b","4","4a","4b"],i=()=>["X","0","1","2","3"],o=()=>["X","0","1","1a","1b"];return l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"TNM Staging"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:25,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"T Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:28,columnNumber:11},void 0),l.jsxDEV("select",{value:t.t,onChange:r=>n({...t,t:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select T Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:34,columnNumber:13},void 0),s().map(r=>l.jsxDEV("option",{value:r,children:["T",r]},r,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:36,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:29,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:27,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"N Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:43,columnNumber:11},void 0),l.jsxDEV("select",{value:t.n,onChange:r=>n({...t,n:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select N Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:49,columnNumber:13},void 0),i().map(r=>l.jsxDEV("option",{value:r,children:["N",r]},r,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:51,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:42,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"M Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:58,columnNumber:11},void 0),l.jsxDEV("select",{value:t.m,onChange:r=>n({...t,m:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select M Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:64,columnNumber:13},void 0),o().map(r=>l.jsxDEV("option",{value:r,children:["M",r]},r,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:66,columnNumber:15},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:59,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:26,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/TNMStaging.tsx",lineNumber:24,columnNumber:5},void 0)},dJ=[{score:0,description:"Fully active, able to carry on all pre-disease performance without restriction"},{score:1,description:"Restricted in physically strenuous activity but ambulatory and able to carry out work of a light or sedentary nature"},{score:2,description:"Ambulatory and capable of all self-care but unable to carry out any work activities; up and about more than 50% of waking hours"},{score:3,description:"Capable of only limited self-care; confined to bed or chair more than 50% of waking hours"},{score:4,description:"Completely disabled; cannot carry on any self-care; totally confined to bed or chair"},{score:5,description:"Dead"}],mJ=({value:e,onChange:t})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"ECOG Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:41,columnNumber:9},void 0),l.jsxDEV(oo,{children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{children:l.jsxDEV(Es,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:44,columnNumber:13},void 0),l.jsxDEV(bi,{children:l.jsxDEV("p",{className:"max-w-xs text-sm",children:"Eastern Cooperative Oncology Group (ECOG) performance status. Used to assess disease progress and how it affects daily living abilities."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:48,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:47,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:43,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:40,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid gap-4",children:dJ.map(({score:n,description:s})=>l.jsxDEV("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e===n?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-200"}`,onClick:()=>t(n),children:l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-semibold ${e===n?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700"}`,children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:69,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600",children:s},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:74,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:68,columnNumber:13},void 0)},n,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:59,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:57,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/ECOGSelector.tsx",lineNumber:39,columnNumber:5},void 0),fJ=e=>e>=90?"Able to carry on normal activities; minor signs or symptoms of disease":e>=70?"Able to care for self but unable to carry on normal activities or work":e>=50?"Requires considerable assistance and frequent medical care":e>=30?"Severely disabled; hospitalization indicated though death not imminent":"Very sick; hospital admission necessary; active supportive treatment necessary",fy=e=>e>=90?"bg-green-500":e>=70?"bg-blue-500":e>=50?"bg-yellow-500":e>=30?"bg-orange-500":"bg-red-500",hJ=({value:e,onChange:t})=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Karnofsky Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:30,columnNumber:9},void 0),l.jsxDEV(oo,{children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{children:l.jsxDEV(Es,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:34,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:33,columnNumber:13},void 0),l.jsxDEV(bi,{children:l.jsxDEV("p",{className:"max-w-xs text-sm",children:"Karnofsky Performance Status (KPS) scale quantifies cancer patients' general well-being and activities of daily life. Scores range from 0-100."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:37,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:36,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:32,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:29,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("span",{className:"text-2xl font-bold text-gray-700",children:[e,"%"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:48,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-sm text-gray-500",children:fJ(e)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:47,columnNumber:9},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("input",{type:"range",min:0,max:100,step:10,value:e,onChange:n=>t(parseInt(n.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${fy(e)} 0%, ${fy(e)} ${e}%, #e5e7eb ${e}%, #e5e7eb 100%)`}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:53,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500 px-1 mt-2",children:[l.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:66,columnNumber:13},void 0),l.jsxDEV("span",{children:"20"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:67,columnNumber:13},void 0),l.jsxDEV("span",{children:"40"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:68,columnNumber:13},void 0),l.jsxDEV("span",{children:"60"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:69,columnNumber:13},void 0),l.jsxDEV("span",{children:"80"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:70,columnNumber:13},void 0),l.jsxDEV("span",{children:"100"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:71,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:52,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"h-2 w-full bg-red-500 rounded mb-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:77,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-gray-600",children:"Critical"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:76,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"h-2 w-full bg-yellow-500 rounded mb-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:81,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-gray-600",children:"Moderate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:80,columnNumber:11},void 0),l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"h-2 w-full bg-green-500 rounded mb-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:85,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-gray-600",children:"Good"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:84,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:46,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/components/staging/KarnofskySlider.tsx",lineNumber:28,columnNumber:5},void 0),pJ=[{value:"breast",label:"Breast Cancer"},{value:"lung",label:"Lung Cancer"},{value:"colorectal",label:"Colorectal Cancer"},{value:"prostate",label:"Prostate Cancer"},{value:"lymphoma",label:"Lymphoma"},{value:"ovarian",label:"Ovarian Cancer"},{value:"gastric",label:"Gastric Cancer"},{value:"head_neck",label:"Head and Neck Cancer"}],Qm="patient-evaluation-autosave",gJ=3e4,bJ=()=>{const e=os(),{toast:t}=Eg(),{formData:n,updateFormField:s,clearFormData:i,selectedCancerType:o,setSelectedCancerType:r,isFormSubmitting:a,setIsFormSubmitting:c,formError:u,setFormError:d,formSuccess:m,setFormSuccess:f}=BK(),[h,p]=x.useState(!1),[g,v]=x.useState(),[b,w]=x.useState({t:"",n:"",m:""}),[N,E]=x.useState({ecog:0,kps:100}),D=x.useMemo(()=>o?LK[o]:null,[o]),T=x.useCallback(A=>{if(!D)return"upcoming";const V=D.sections[A].items.map((q,$)=>`section-${A}-item-${$}`),O=V.every(q=>{var $;return($=n[q])==null?void 0:$.trim()}),U=!O&&V.some(q=>{var $;return($=n[q])==null?void 0:$.trim()});return O?"complete":U?"current":"upcoming"},[D,n]),M=x.useMemo(()=>D?D.sections.map((A,V)=>{var O;return{id:V+1,name:A.title,description:((O=A.cancerSpecificNotes)==null?void 0:O[0])||"",status:T(V)}}):[],[D,n,T]),_=()=>{const A=window.open("","_blank");if(!A)return;const V=`
      <style>
        body { font-family: system-ui; line-height: 1.5; padding: 2rem; }
        h1 { color: #4f46e5; margin-bottom: 1.5rem; }
        .section { margin-bottom: 2rem; }
        .field { margin-bottom: 1rem; }
        .label { font-weight: 600; color: #374151; }
        .value { margin-top: 0.25rem; }
        .red-flag { color: #dc2626; padding: 0.5rem; background: #fee2e2; border-radius: 0.25rem; }
        @media print {
          body { padding: 0; }
          .page-break { page-break-before: always; }
        }
      </style>
    `;let O=`
      <h1>Patient Evaluation - ${o}</h1>
      <div class="content">
    `;D&&D.sections.forEach((U,q)=>{O+=`<div class="section">
          <h2>${U.title}</h2>`,U.items.forEach(($,Z)=>{var ve;const I=`section-${q}-item-${Z}`,ie=n[I]||"Not provided";O+=`
            <div class="field">
              <div class="label">${$.text}</div>
              <div class="value">${ie}</div>
              ${((ve=$.redFlags)==null?void 0:ve.map(j=>`<div class="red-flag"> ${j}</div>`).join(""))||""}
            </div>
          `}),O+="</div>"}),O+="</div>",A.document.write(`
      <!DOCTYPE html>
      <html>
        <head>${V}</head>
        <body>${O}</body>
      </html>
    `),A.document.close(),A.print()};x.useEffect(()=>{const A=localStorage.getItem(Qm);if(A)try{const{cancerType:V,data:O}=JSON.parse(A);r(V),Object.entries(O).forEach(([U,q])=>{s(U,q)}),t({title:"Form Data Restored",description:"Your previous progress has been loaded.",duration:3e3})}catch(V){console.error("Error loading saved form data:",V)}},[]),x.useEffect(()=>{if(!o||Object.keys(n).length===0)return;const V=setInterval(()=>{localStorage.setItem(Qm,JSON.stringify({cancerType:o,data:n,timestamp:new Date().toISOString()}))},gJ);return()=>clearInterval(V)},[o,n]);const P=()=>{localStorage.removeItem(Qm)},k=x.useMemo(()=>D?D.sections.flatMap((A,V)=>A.items.map((O,U)=>({item:O,id:`section-${V}-item-${U}`}))).filter(({item:A,id:V})=>A.required&&(!n[V]||n[V].trim()==="")):[],[D,n]),L=async A=>{if(A.preventDefault(),d(null),f(!1),!o){d("Please select a cancer type."),t({variant:"destructive",title:"Validation Error",description:"Please select a cancer type to proceed."});return}if(k.length>0){const V=`Please complete all required fields (${k.length} missing).`;d(V),t({variant:"destructive",title:"Missing Required Fields",description:V});const O=k[0].id,U=document.getElementById(O);U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),U.focus());return}try{c(!0),await aJ({cancerType:o,formData:n,timestamp:new Date().toISOString()}),P(),f(!0),t({title:"Success",description:"Patient evaluation saved successfully.",duration:3e3}),setTimeout(()=>{e("/opd")},1e3)}catch(V){console.error("Form submission error:",V);const O=V instanceof Error?V.message:"Failed to save evaluation. Please try again.";d(O),t({variant:"destructive",title:"Save Error",description:O,duration:5e3})}finally{c(!1)}},B=()=>{window.confirm("Are you sure you want to clear all form data? This cannot be undone.")&&(i(),P(),t({title:"Form Cleared",description:"All form data has been cleared.",duration:3e3}))};return l.jsxDEV("form",{onSubmit:L,className:"space-y-8",children:[l.jsxDEV("div",{className:"fixed right-4 top-4 z-50",children:l.jsxDEV("button",{type:"button",onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-colors",children:[l.jsxDEV(Gs,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:311,columnNumber:11},void 0),l.jsxDEV("span",{children:"AI Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:306,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:305,columnNumber:7},void 0),l.jsxDEV(cJ,{isOpen:h,onClose:()=>p(!1),currentSection:g},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:317,columnNumber:7},void 0),D&&l.jsxDEV(lJ,{steps:M,currentStep:M.findIndex(A=>A.status==="current")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:325,columnNumber:9},void 0),l.jsxDEV("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[l.jsxDEV("label",{htmlFor:"cancer-type-select",className:"block text-lg font-semibold text-gray-900 mb-4",children:"Select Cancer Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:333,columnNumber:9},void 0),l.jsxDEV("select",{id:"cancer-type-select","aria-label":"Cancer Type",value:o||"",onChange:A=>r(A.target.value),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-indigo-500",children:[l.jsxDEV("option",{value:"",children:"Select cancer type..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:346,columnNumber:11},void 0),pJ.map(A=>l.jsxDEV("option",{value:A.value,children:A.label},A.value,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:348,columnNumber:13},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:339,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:332,columnNumber:7},void 0),D&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:" Oncologist's Comprehensive OPD Evaluation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:357,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Use this structured form to guide your clinical judgment and capture essential information during patient evaluation in oncology OPD."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:358,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[l.jsxDEV("h3",{className:"text-blue-800 font-semibold flex items-center gap-2 mb-2",children:[l.jsxDEV(nu,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:365,columnNumber:15},void 0),"Clinical Guidance"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:364,columnNumber:13},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:D.notes.map((A,V)=>l.jsxDEV("li",{children:A},V,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:370,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:368,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:363,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[l.jsxDEV("h3",{className:"text-red-800 font-semibold flex items-center gap-2 mb-2",children:[l.jsxDEV(tt,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:378,columnNumber:15},void 0),"Red Flags to Monitor"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:377,columnNumber:13},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-red-700",children:D.redFlags.map((A,V)=>l.jsxDEV("li",{children:A},V,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:383,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:381,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:376,columnNumber:11},void 0),l.jsxDEV("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm space-y-6",children:[l.jsxDEV("div",{className:"border-b border-gray-200 pb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Disease Staging & Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:391,columnNumber:15},void 0),l.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Document current disease stage and patient's functional status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:392,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:390,columnNumber:13},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxDEV(uJ,{cancerType:o,value:b,onChange:w},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:398,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(mJ,{value:N.ecog,onChange:A=>E(V=>({...V,ecog:A}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:404,columnNumber:17},void 0),l.jsxDEV(hJ,{value:N.kps,onChange:A=>E(V=>({...V,kps:A}))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:408,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:403,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:397,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:389,columnNumber:11},void 0),D.sections.map((A,V)=>l.jsxDEV("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm space-y-6",children:[l.jsxDEV("div",{className:"border-b border-gray-200 pb-4",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:A.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:420,columnNumber:17},void 0),A.cancerSpecificNotes&&l.jsxDEV("div",{className:"mt-2 text-sm text-gray-600",children:A.cancerSpecificNotes.map((O,U)=>l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(Es,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:425,columnNumber:25},void 0),O]},U,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:424,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:422,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:419,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-4",children:A.items.map((O,U)=>{var ie;const q=`section-${V}-item-${U}`,$=!!O.required,Z=k.some(ve=>ve.id===q),I=O.redFlags&&O.redFlags.length>0;return l.jsxDEV("div",{className:"relative",children:[l.jsxDEV(FK,{id:q,label:O.text,required:$,value:n[q]||"",onChange:ve=>s(q,ve),error:Z,redFlags:O.redFlags||[],inputClassName:I?"border-red-200 focus:ring-red-500 focus:border-red-500":""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:442,columnNumber:23},void 0),I&&l.jsxDEV(oo,{children:l.jsxDEV(ro,{children:[l.jsxDEV(ao,{asChild:!0,children:l.jsxDEV("div",{className:"absolute right-3 top-3",children:l.jsxDEV(tt,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:457,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:456,columnNumber:31},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:455,columnNumber:29},void 0),l.jsxDEV(bi,{className:"bg-red-50 border border-red-200 p-3 max-w-xs",children:[l.jsxDEV("div",{className:"font-medium mb-1 text-red-800",children:"Clinical Red Flags:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:461,columnNumber:31},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 text-sm text-red-700",children:(ie=O.redFlags)==null?void 0:ie.map((ve,j)=>l.jsxDEV("li",{children:ve},j,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:464,columnNumber:35},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:462,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:460,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:454,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:453,columnNumber:25},void 0)]},U,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:441,columnNumber:21},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:433,columnNumber:15},void 0)]},V,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:418,columnNumber:13},void 0)),l.jsxDEV("div",{className:"mt-6",children:l.jsxDEV(VK,{template:D,formData:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:479,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:478,columnNumber:11},void 0),u&&l.jsxDEV("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-700 flex items-center gap-2",children:[l.jsxDEV(tt,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:488,columnNumber:15},void 0),u]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:487,columnNumber:13},void 0),m&&l.jsxDEV("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md text-green-700 flex items-center gap-2",children:[l.jsxDEV(nu,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:496,columnNumber:15},void 0),"Evaluation saved successfully! Redirecting..."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:495,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end gap-4 sticky bottom-0 bg-white p-4 border-t mt-6",children:[l.jsxDEV($m,{type:"button",variant:"secondary",onClick:_,icon:l.jsxDEV(ep,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:506,columnNumber:21},void 0),children:"Print Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:502,columnNumber:13},void 0),l.jsxDEV($m,{type:"button",variant:"secondary",onClick:B,disabled:a,icon:l.jsxDEV(I2,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:515,columnNumber:21},void 0),children:"Clear Form"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:510,columnNumber:13},void 0),l.jsxDEV($m,{type:"submit",variant:"primary",isLoading:a,icon:a?void 0:l.jsxDEV(R2,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:523,columnNumber:41},void 0),children:a?"Saving...":"Save Evaluation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:519,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:501,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:356,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/patient-evaluation/PatientEvaluationForm.tsx",lineNumber:303,columnNumber:5},void 0)},vJ=()=>l.jsxDEV(lt,{moduleName:"Oncology OPD",children:l.jsxDEV(HK,{children:l.jsxDEV(OK,{children:[l.jsxDEV(Xh,{children:[l.jsxDEV(at,{path:"/",element:l.jsxDEV(jK,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:20,columnNumber:38},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:20,columnNumber:13},void 0),l.jsxDEV(at,{path:"/patient-evaluation-form",element:l.jsxDEV(bJ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:21,columnNumber:61},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:21,columnNumber:13},void 0),l.jsxDEV(at,{path:"/diagnostic-pathways",element:l.jsxDEV(hS,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:22,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:22,columnNumber:13},void 0),l.jsxDEV(at,{path:"/cancer-screening",element:l.jsxDEV(yS,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:23,columnNumber:54},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:23,columnNumber:13},void 0),l.jsxDEV(at,{path:"/referral-guidelines",element:l.jsxDEV(wS,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:24,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:24,columnNumber:13},void 0),l.jsxDEV(at,{path:"/follow-up-oncology",element:l.jsxDEV(c_,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:25,columnNumber:56},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:25,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:19,columnNumber:11},void 0),l.jsxDEV(EU,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:27,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:18,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:17,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/opd/OPD.tsx",lineNumber:16,columnNumber:5},void 0),xJ=({protocol:e})=>l.jsxDEV(Jt,{className:"p-4 bg-white dark:bg-gray-900 shadow rounded-lg cursor-pointer hover:shadow-lg transition-all",children:l.jsxDEV("div",{className:"flex flex-col gap-2",children:[l.jsxDEV("span",{className:"text-xl font-bold text-indigo-800",children:e.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:13,columnNumber:9},void 0),l.jsxDEV("span",{className:"text-sm text-gray-600",children:e.tumour_group},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:14,columnNumber:9},void 0),e.treatment_intent&&l.jsxDEV("span",{className:"text-xs text-gray-500",children:e.treatment_intent},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:16,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/UnifiedProtocolCard.tsx",lineNumber:11,columnNumber:5},void 0);var Zm="focusScope.autoFocusOnMount",ef="focusScope.autoFocusOnUnmount",hy={bubbles:!1,cancelable:!0},NJ="FocusScope",Xg=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...r}=e,[a,c]=x.useState(null),u=At(i),d=At(o),m=x.useRef(null),f=Je(t,g=>c(g)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let g=function(N){if(h.paused||!a)return;const E=N.target;a.contains(E)?m.current=E:di(m.current,{select:!0})},v=function(N){if(h.paused||!a)return;const E=N.relatedTarget;E!==null&&(a.contains(E)||di(m.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const D of N)D.removedNodes.length>0&&di(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[s,a,h.paused]),x.useEffect(()=>{if(a){gy.add(h);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Zm,hy);a.addEventListener(Zm,u),a.dispatchEvent(b),b.defaultPrevented||(yJ(SJ(j_(a)),{select:!0}),document.activeElement===g&&di(a))}return()=>{a.removeEventListener(Zm,u),setTimeout(()=>{const b=new CustomEvent(ef,hy);a.addEventListener(ef,d),a.dispatchEvent(b),b.defaultPrevented||di(g??document.body,{select:!0}),a.removeEventListener(ef,d),gy.remove(h)},0)}}},[a,u,d,h]);const p=x.useCallback(g=>{if(!n&&!s||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const w=g.currentTarget,[N,E]=wJ(w);N&&E?!g.shiftKey&&b===E?(g.preventDefault(),n&&di(N,{select:!0})):g.shiftKey&&b===N&&(g.preventDefault(),n&&di(E,{select:!0})):b===w&&g.preventDefault()}},[n,s,h.paused]);return G.jsx(Pe.div,{tabIndex:-1,...r,ref:f,onKeyDown:p})});Xg.displayName=NJ;function yJ(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(di(s,{select:t}),document.activeElement!==n)return}function wJ(e){const t=j_(e),n=py(t,e),s=py(t.reverse(),e);return[n,s]}function j_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function py(e,t){for(const n of e)if(!DJ(n,{upTo:t}))return n}function DJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EJ(e){return e instanceof HTMLInputElement&&"select"in e}function di(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&EJ(e)&&t&&e.select()}}var gy=TJ();function TJ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=by(e,t),e.unshift(t)},remove(t){var n;e=by(e,t),(n=e[0])==null||n.resume()}}}function by(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function SJ(e){return e.filter(t=>t.tagName!=="A")}var tf=0;function O_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vy()),document.body.insertAdjacentElement("beforeend",e[1]??vy()),tf++,()=>{tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tf--}},[])}function vy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vs=function(){return vs=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},vs.apply(this,arguments)};function V_(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function _J(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Zc="right-scroll-bar-position",eu="width-before-scroll-bar",kJ="with-scroll-bars-hidden",MJ="--removed-body-scroll-bar-size";function nf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CJ(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var PJ=typeof window<"u"?x.useLayoutEffect:x.useEffect,xy=new WeakMap;function AJ(e,t){var n=CJ(null,function(s){return e.forEach(function(i){return nf(i,s)})});return PJ(function(){var s=xy.get(n);if(s){var i=new Set(s),o=new Set(e),r=n.current;i.forEach(function(a){o.has(a)||nf(a,null)}),o.forEach(function(a){i.has(a)||nf(a,r)})}xy.set(n,e)},[e]),n}function IJ(e){return e}function RJ(e,t){t===void 0&&(t=IJ);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var r=t(o,s);return n.push(r),function(){n=n.filter(function(a){return a!==r})}},assignSyncMedium:function(o){for(s=!0;n.length;){var r=n;n=[],r.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){s=!0;var r=[];if(n.length){var a=n;n=[],a.forEach(o),r=n}var c=function(){var d=r;r=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){r.push(d),u()},filter:function(d){return r=r.filter(d),n}}}};return i}function jJ(e){e===void 0&&(e={});var t=RJ(null);return t.options=vs({async:!0,ssr:!1},e),t}var L_=function(e){var t=e.sideCar,n=V_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,vs({},n))};L_.isSideCarExport=!0;function OJ(e,t){return e.useMedium(t),L_}var F_=jJ(),sf=function(){},Sd=x.forwardRef(function(e,t){var n=x.useRef(null),s=x.useState({onScrollCapture:sf,onWheelCapture:sf,onTouchMoveCapture:sf}),i=s[0],o=s[1],r=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,m=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,N=e.gapMode,E=V_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=f,T=AJ([n,t]),M=vs(vs({},E),i);return x.createElement(x.Fragment,null,d&&x.createElement(D,{sideCar:F_,removeScrollBar:u,shards:m,noRelative:h,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:N}),r?x.cloneElement(x.Children.only(a),vs(vs({},M),{ref:T})):x.createElement(w,vs({},M,{className:c,ref:T}),a))});Sd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sd.classNames={fullWidth:eu,zeroRight:Zc};var VJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VJ();return t&&e.setAttribute("nonce",t),e}function FJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HJ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LJ())&&(FJ(t,n),BJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},UJ=function(){var e=HJ();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},B_=function(){var e=UJ(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},zJ={left:0,top:0,right:0,gap:0},of=function(e){return parseInt(e||"",10)||0},$J=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[of(n),of(s),of(i)]},WJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zJ;var t=$J(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},GJ=B_(),lr="data-scroll-locked",qJ=function(e,t,n,s){var i=e.left,o=e.top,r=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(a,"px ").concat(s,`;
  }
  body[`).concat(lr,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zc,` {
    right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(eu,` {
    margin-right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(Zc," .").concat(Zc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(eu," .").concat(eu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(lr,`] {
    `).concat(MJ,": ").concat(a,`px;
  }
`)},Ny=function(){var e=parseInt(document.body.getAttribute(lr)||"0",10);return isFinite(e)?e:0},KJ=function(){x.useEffect(function(){return document.body.setAttribute(lr,(Ny()+1).toString()),function(){var e=Ny()-1;e<=0?document.body.removeAttribute(lr):document.body.setAttribute(lr,e.toString())}},[])},YJ=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;KJ();var o=x.useMemo(function(){return WJ(i)},[i]);return x.createElement(GJ,{styles:qJ(o,!t,i,n?"":"!important")})},Hh=!1;if(typeof window<"u")try{var Cc=Object.defineProperty({},"passive",{get:function(){return Hh=!0,!0}});window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Hh=!1}var Ho=Hh?{passive:!1}:!1,XJ=function(e){return e.tagName==="TEXTAREA"},H_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!XJ(e)&&n[t]==="visible")},JJ=function(e){return H_(e,"overflowY")},QJ=function(e){return H_(e,"overflowX")},yy=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=U_(e,s);if(i){var o=z_(e,s),r=o[1],a=o[2];if(r>a)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},ZJ=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},eQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},U_=function(e,t){return e==="v"?JJ(t):QJ(t)},z_=function(e,t){return e==="v"?ZJ(t):eQ(t)},tQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},nQ=function(e,t,n,s,i){var o=tQ(e,window.getComputedStyle(t).direction),r=o*s,a=n.target,c=t.contains(a),u=!1,d=r>0,m=0,f=0;do{var h=z_(e,a),p=h[0],g=h[1],v=h[2],b=g-v-o*p;(p||b)&&U_(e,a)&&(m+=b,f+=p),a=a.parentNode.host||a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(m)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wy=function(e){return[e.deltaX,e.deltaY]},Dy=function(e){return e&&"current"in e?e.current:e},sQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oQ=0,Uo=[];function rQ(e){var t=x.useRef([]),n=x.useRef([0,0]),s=x.useRef(),i=x.useState(oQ++)[0],o=x.useState(B_)[0],r=x.useRef(e);x.useEffect(function(){r.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=_J([e.lockRef.current],(e.shards||[]).map(Dy),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!r.current.allowPinchZoom;var b=Pc(g),w=n.current,N="deltaX"in g?g.deltaX:w[0]-b[0],E="deltaY"in g?g.deltaY:w[1]-b[1],D,T=g.target,M=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in g&&M==="h"&&T.type==="range")return!1;var _=yy(M,T);if(!_)return!0;if(_?D=M:(D=M==="v"?"h":"v",_=yy(M,T)),!_)return!1;if(!s.current&&"changedTouches"in g&&(N||E)&&(s.current=D),!D)return!0;var P=s.current||D;return nQ(P,v,g,P==="h"?N:E)},[]),c=x.useCallback(function(g){var v=g;if(!(!Uo.length||Uo[Uo.length-1]!==o)){var b="deltaY"in v?wy(v):Pc(v),w=t.current.filter(function(D){return D.name===v.type&&(D.target===v.target||v.target===D.shadowParent)&&sQ(D.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var N=(r.current.shards||[]).map(Dy).filter(Boolean).filter(function(D){return D.contains(v.target)}),E=N.length>0?a(v,N[0]):!r.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,b,w){var N={name:g,delta:v,target:b,should:w,shadowParent:aQ(b)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),d=x.useCallback(function(g){n.current=Pc(g),s.current=void 0},[]),m=x.useCallback(function(g){u(g.type,wy(g),g.target,a(g,e.lockRef.current))},[]),f=x.useCallback(function(g){u(g.type,Pc(g),g.target,a(g,e.lockRef.current))},[]);x.useEffect(function(){return Uo.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ho),document.addEventListener("touchmove",c,Ho),document.addEventListener("touchstart",d,Ho),function(){Uo=Uo.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Ho),document.removeEventListener("touchmove",c,Ho),document.removeEventListener("touchstart",d,Ho)}},[]);var h=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(o,{styles:iQ(i)}):null,h?x.createElement(YJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lQ=OJ(F_,rQ);var Jg=x.forwardRef(function(e,t){return x.createElement(Sd,vs({},e,{ref:t,sideCar:lQ}))});Jg.classNames=Sd.classNames;var cQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zo=new WeakMap,Ac=new WeakMap,Ic={},rf=0,$_=function(e){return e&&(e.host||$_(e.parentNode))},uQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=$_(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dQ=function(e,t,n,s){var i=uQ(t,Array.isArray(e)?e:[e]);Ic[n]||(Ic[n]=new WeakMap);var o=Ic[n],r=[],a=new Set,c=new Set(i),u=function(m){!m||a.has(m)||(a.add(m),u(m.parentNode))};i.forEach(u);var d=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(a.has(f))d(f);else try{var h=f.getAttribute(s),p=h!==null&&h!=="false",g=(zo.get(f)||0)+1,v=(o.get(f)||0)+1;zo.set(f,g),o.set(f,v),r.push(f),g===1&&p&&Ac.set(f,!0),v===1&&f.setAttribute(n,"true"),p||f.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),a.clear(),rf++,function(){r.forEach(function(m){var f=zo.get(m)-1,h=o.get(m)-1;zo.set(m,f),o.set(m,h),f||(Ac.has(m)||m.removeAttribute(s),Ac.delete(m)),h||m.removeAttribute(n)}),rf--,rf||(zo=new WeakMap,zo=new WeakMap,Ac=new WeakMap,Ic={})}},W_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=cQ(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),dQ(s,i,n,"aria-hidden")):function(){return null}},_d="Dialog",[G_,bne]=_s(_d),[mQ,as]=G_(_d),q_=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:r=!0}=e,a=x.useRef(null),c=x.useRef(null),[u,d]=Ei({prop:s,defaultProp:i??!1,onChange:o,caller:_d});return G.jsx(mQ,{scope:t,triggerRef:a,contentRef:c,contentId:$s(),titleId:$s(),descriptionId:$s(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(m=>!m),[d]),modal:r,children:n})};q_.displayName=_d;var K_="DialogTrigger",Y_=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=as(K_,n),o=Je(t,i.triggerRef);return G.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":e0(i.open),...s,ref:o,onClick:Se(e.onClick,i.onOpenToggle)})});Y_.displayName=K_;var Qg="DialogPortal",[fQ,X_]=G_(Qg,{forceMount:void 0}),J_=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,o=as(Qg,t);return G.jsx(fQ,{scope:t,forceMount:n,children:x.Children.map(s,r=>G.jsx(Un,{present:n||o.open,children:G.jsx(Gu,{asChild:!0,container:i,children:r})}))})};J_.displayName=Qg;var ku="DialogOverlay",Q_=x.forwardRef((e,t)=>{const n=X_(ku,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=as(ku,e.__scopeDialog);return o.modal?G.jsx(Un,{present:s||o.open,children:G.jsx(pQ,{...i,ref:t})}):null});Q_.displayName=ku;var hQ=mr("DialogOverlay.RemoveScroll"),pQ=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=as(ku,n);return G.jsx(Jg,{as:hQ,allowPinchZoom:!0,shards:[i.contentRef],children:G.jsx(Pe.div,{"data-state":e0(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),go="DialogContent",Z_=x.forwardRef((e,t)=>{const n=X_(go,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=as(go,e.__scopeDialog);return G.jsx(Un,{present:s||o.open,children:o.modal?G.jsx(gQ,{...i,ref:t}):G.jsx(bQ,{...i,ref:t})})});Z_.displayName=go;var gQ=x.forwardRef((e,t)=>{const n=as(go,e.__scopeDialog),s=x.useRef(null),i=Je(t,n.contentRef,s);return x.useEffect(()=>{const o=s.current;if(o)return W_(o)},[]),G.jsx(ek,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,o=>{var r;o.preventDefault(),(r=n.triggerRef.current)==null||r.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,o=>{const r=o.detail.originalEvent,a=r.button===0&&r.ctrlKey===!0;(r.button===2||a)&&o.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,o=>o.preventDefault())})}),bQ=x.forwardRef((e,t)=>{const n=as(go,e.__scopeDialog),s=x.useRef(!1),i=x.useRef(!1);return G.jsx(ek,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var r,a;(r=e.onCloseAutoFocus)==null||r.call(e,o),o.defaultPrevented||(s.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const r=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(r))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),ek=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...r}=e,a=as(go,n),c=x.useRef(null),u=Je(t,c);return O_(),G.jsxs(G.Fragment,{children:[G.jsx(Xg,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:G.jsx(Tl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":e0(a.open),...r,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),G.jsxs(G.Fragment,{children:[G.jsx(vQ,{titleId:a.titleId}),G.jsx(NQ,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Zg="DialogTitle",tk=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=as(Zg,n);return G.jsx(Pe.h2,{id:i.titleId,...s,ref:t})});tk.displayName=Zg;var nk="DialogDescription",sk=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=as(nk,n);return G.jsx(Pe.p,{id:i.descriptionId,...s,ref:t})});sk.displayName=nk;var ik="DialogClose",ok=x.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=as(ik,n);return G.jsx(Pe.button,{type:"button",...s,ref:t,onClick:Se(e.onClick,()=>i.onOpenChange(!1))})});ok.displayName=ik;function e0(e){return e?"open":"closed"}var rk="DialogTitleWarning",[vne,ak]=RI(rk,{contentName:go,titleName:Zg,docsSlug:"dialog"}),vQ=({titleId:e})=>{const t=ak(rk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},xQ="DialogDescriptionWarning",NQ=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ak(xQ).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},yQ=q_,wQ=Y_,DQ=J_,lk=Q_,ck=Z_,uk=tk,dk=sk,EQ=ok;const Ja=yQ,TQ=wQ,SQ=DQ,mk=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(lk,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));mk.displayName=lk.displayName;const Gr=x.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(SQ,{children:[l.jsxDEV(mk,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),l.jsxDEV(ck,{ref:s,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxDEV(EQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsxDEV(Qn,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),l.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));Gr.displayName=ck.displayName;const Fl=({className:e,...t})=>l.jsxDEV("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:58,columnNumber:3},void 0);Fl.displayName="DialogHeader";const kd=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(uk,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:86,columnNumber:3},void 0));kd.displayName=uk.displayName;const fk=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(dk,{ref:n,className:ke("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/dialog.tsx",lineNumber:101,columnNumber:3},void 0));fk.displayName=dk.displayName;var _Q=x.createContext(void 0);function Md(e){const t=x.useContext(_Q);return e||t||"ltr"}var af="rovingFocusGroup.onEntryFocus",kQ={bubbles:!1,cancelable:!0},Bl="RovingFocusGroup",[Uh,hk,MQ]=xg(Bl),[CQ,pk]=_s(Bl,[MQ]),[PQ,AQ]=CQ(Bl),gk=x.forwardRef((e,t)=>G.jsx(Uh.Provider,{scope:e.__scopeRovingFocusGroup,children:G.jsx(Uh.Slot,{scope:e.__scopeRovingFocusGroup,children:G.jsx(IQ,{...e,ref:t})})}));gk.displayName=Bl;var IQ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:r,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=e,f=x.useRef(null),h=Je(t,f),p=Md(o),[g,v]=Ei({prop:r,defaultProp:a??null,onChange:c,caller:Bl}),[b,w]=x.useState(!1),N=At(u),E=hk(n),D=x.useRef(!1),[T,M]=x.useState(0);return x.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(af,N),()=>_.removeEventListener(af,N)},[N]),G.jsx(PQ,{scope:n,orientation:s,dir:p,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(_=>v(_),[v]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>M(_=>_+1),[]),onFocusableItemRemove:x.useCallback(()=>M(_=>_-1),[]),children:G.jsx(Pe.div,{tabIndex:b||T===0?-1:0,"data-orientation":s,...m,ref:h,style:{outline:"none",...e.style},onMouseDown:Se(e.onMouseDown,()=>{D.current=!0}),onFocus:Se(e.onFocus,_=>{const P=!D.current;if(_.target===_.currentTarget&&P&&!b){const k=new CustomEvent(af,kQ);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const L=E().filter(U=>U.focusable),B=L.find(U=>U.active),A=L.find(U=>U.id===g),O=[B,A,...L].filter(Boolean).map(U=>U.ref.current);xk(O,d)}}D.current=!1}),onBlur:Se(e.onBlur,()=>w(!1))})})}),bk="RovingFocusGroupItem",vk=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,children:r,...a}=e,c=$s(),u=o||c,d=AQ(bk,n),m=d.currentTabStopId===u,f=hk(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),G.jsx(Uh.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:G.jsx(Pe.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Se(e.onMouseDown,v=>{s?d.onItemFocus(u):v.preventDefault()}),onFocus:Se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Se(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=OQ(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=f().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const E=N.indexOf(v.currentTarget);N=d.loop?VQ(N,E+1):N.slice(E+1)}setTimeout(()=>xk(N))}}),children:typeof r=="function"?r({isCurrentTabStop:m,hasTabStop:g!=null}):r})})});vk.displayName=bk;var RQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OQ(e,t,n){const s=jQ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return RQ[s]}function xk(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function VQ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var LQ=gk,FQ=vk,Cd="Tabs",[BQ,xne]=_s(Cd,[pk]),Nk=pk(),[HQ,t0]=BQ(Cd),yk=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:o,orientation:r="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Md(a),[m,f]=Ei({prop:s,onChange:i,defaultProp:o??"",caller:Cd});return G.jsx(HQ,{scope:n,baseId:$s(),value:m,onValueChange:f,orientation:r,dir:d,activationMode:c,children:G.jsx(Pe.div,{dir:d,"data-orientation":r,...u,ref:t})})});yk.displayName=Cd;var wk="TabsList",Dk=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,o=t0(wk,n),r=Nk(n);return G.jsx(LQ,{asChild:!0,...r,orientation:o.orientation,dir:o.dir,loop:s,children:G.jsx(Pe.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});Dk.displayName=wk;var Ek="TabsTrigger",Tk=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...o}=e,r=t0(Ek,n),a=Nk(n),c=kk(r.baseId,s),u=Mk(r.baseId,s),d=s===r.value;return G.jsx(FQ,{asChild:!0,...a,focusable:!i,active:d,children:G.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...o,ref:t,onMouseDown:Se(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?r.onValueChange(s):m.preventDefault()}),onKeyDown:Se(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&r.onValueChange(s)}),onFocus:Se(e.onFocus,()=>{const m=r.activationMode!=="manual";!d&&!i&&m&&r.onValueChange(s)})})})});Tk.displayName=Ek;var Sk="TabsContent",_k=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:o,...r}=e,a=t0(Sk,n),c=kk(a.baseId,s),u=Mk(a.baseId,s),d=s===a.value,m=x.useRef(d);return x.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),G.jsx(Un,{present:i||d,children:({present:f})=>G.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...r,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});_k.displayName=Sk;function kk(e,t){return`${e}-trigger-${t}`}function Mk(e,t){return`${e}-content-${t}`}var UQ=yk,Ck=Dk,Pk=Tk,Ak=_k;const Ik=UQ,n0=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(Ck,{ref:n,className:ke("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tabs.tsx",lineNumber:13,columnNumber:3},void 0));n0.displayName=Ck.displayName;const tn=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(Pk,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tabs.tsx",lineNumber:25,columnNumber:3},void 0));tn.displayName=Pk.displayName;const nn=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(Ak,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/tabs.tsx",lineNumber:37,columnNumber:3},void 0));nn.displayName=Ak.displayName;const zQ=({treatment:e})=>!e||!e.drugs||e.drugs.length===0?l.jsxDEV("p",{className:"text-muted-foreground",children:"No treatment information available."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:10,columnNumber:12},void 0):l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Treatment Drugs"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:15,columnNumber:7},void 0),l.jsxDEV("div",{className:"overflow-x-auto",children:l.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l.jsxDEV("tr",{children:[l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drug Name"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:20,columnNumber:15},void 0),l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dose"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:21,columnNumber:15},void 0),l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Administration"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:22,columnNumber:15},void 0),l.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Special Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:23,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:19,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:18,columnNumber:11},void 0),l.jsxDEV("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.drugs.map((t,n)=>l.jsxDEV("tr",{children:[l.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap",children:t.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:29,columnNumber:17},void 0),l.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap",children:t.dose||"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:30,columnNumber:17},void 0),l.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap",children:t.administration||"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:31,columnNumber:17},void 0),l.jsxDEV("td",{className:"px-4 py-2 whitespace-pre-line",children:t.special_notes&&t.special_notes.length>0?t.special_notes.join("; "):"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:32,columnNumber:17},void 0)]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:28,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:26,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:17,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:16,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentTab.tsx",lineNumber:14,columnNumber:5},void 0),$Q=({overview:e})=>l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Overview"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:23,columnNumber:5},void 0),e?l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:25,columnNumber:7},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No overview information."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:27,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:22,columnNumber:3},void 0),WQ=({lastReviewed:e,version:t,status:n,createdBy:s,updatedBy:i,createdAt:o,updatedAt:r})=>l.jsxDEV("div",{className:"space-y-4",children:[t&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Version"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:54,columnNumber:9},void 0),l.jsxDEV("p",{children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:55,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:53,columnNumber:7},void 0),n&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:60,columnNumber:9},void 0),l.jsxDEV("p",{children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:59,columnNumber:7},void 0),e&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Last Reviewed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:66,columnNumber:9},void 0),l.jsxDEV("p",{children:new Date(e).toLocaleDateString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:65,columnNumber:7},void 0),(s||o)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Created"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:72,columnNumber:9},void 0),s&&l.jsxDEV("p",{children:["By: ",s]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:73,columnNumber:23},void 0),o&&l.jsxDEV("p",{children:["On: ",new Date(o).toLocaleDateString()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:74,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:71,columnNumber:7},void 0),(i||r)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Last Updated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:79,columnNumber:9},void 0),i&&l.jsxDEV("p",{children:["By: ",i]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:80,columnNumber:23},void 0),r&&l.jsxDEV("p",{children:["On: ",new Date(r).toLocaleDateString()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:81,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:78,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:51,columnNumber:3},void 0),GQ=({protocol:e,open:t,onOpenChange:n})=>{var d,m,f,h,p,g,v,b,w,N,E;const s=Re.useMemo(()=>e.monitoring||{baseline:[],ongoing:[]},[e.monitoring]),i=Re.useMemo(()=>e.treatment||{drugs:[]},[e.treatment]),o=Re.useMemo(()=>Array.isArray(e.tests)?{baseline:[],monitoring:[]}:e.tests||{baseline:[],monitoring:[]},[e.tests]),r=Re.useMemo(()=>e.dose_modifications||{hematological:[],nonHematological:[],renal:[],hepatic:[]},[e.dose_modifications]),a=Re.useMemo(()=>e.toxicity_monitoring||{expected_toxicities:[],monitoring_parameters:"",frequency_details:"",thresholds_for_action:{}},[e.toxicity_monitoring]),c=Re.useMemo(()=>e.supportive_care||{required:[],optional:[],monitoring:[]},[e.supportive_care]),u=Re.useMemo(()=>e.interactions||{drugs_to_avoid:[],contraindications:[],precautions_with_other_drugs:[]},[e.interactions]);return l.jsxDEV(Ja,{open:t,onOpenChange:n,children:l.jsxDEV(Gr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxDEV(Fl,{children:[l.jsxDEV(kd,{children:e.code||"Protocol Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:139,columnNumber:11},void 0),l.jsxDEV(fk,{children:e.summary||"Treatment protocol details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:140,columnNumber:11},void 0),"        "]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:138,columnNumber:9},void 0),l.jsxDEV(Ik,{defaultValue:"overview",className:"w-full",children:[l.jsxDEV(n0,{className:"mb-4 flex flex-wrap",children:[l.jsxDEV(tn,{value:"overview",children:"Overview"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:145,columnNumber:13},void 0),l.jsxDEV(tn,{value:"treatment",children:"Treatment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:146,columnNumber:13},void 0),l.jsxDEV(tn,{value:"tests",children:"Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:147,columnNumber:13},void 0),l.jsxDEV(tn,{value:"monitoring",children:"Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:148,columnNumber:13},void 0),l.jsxDEV(tn,{value:"doseModifications",children:"Dose Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:149,columnNumber:13},void 0),l.jsxDEV(tn,{value:"safety",className:"text-red-600",children:[l.jsxDEV(tt,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:151,columnNumber:15},void 0),"Safety"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:150,columnNumber:13},void 0),l.jsxDEV(tn,{value:"support",children:[l.jsxDEV(no,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:155,columnNumber:15},void 0),"Support Care"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:154,columnNumber:13},void 0),l.jsxDEV(tn,{value:"emergency",children:[l.jsxDEV(Oc,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:159,columnNumber:15},void 0),"Emergency"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:158,columnNumber:13},void 0),l.jsxDEV(tn,{value:"toxicity",children:"Toxicity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:162,columnNumber:13},void 0),l.jsxDEV(tn,{value:"interactions",children:"Interactions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:163,columnNumber:13},void 0),l.jsxDEV(tn,{value:"references",children:[l.jsxDEV(Zn,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:165,columnNumber:15},void 0),"References"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:164,columnNumber:13},void 0),l.jsxDEV(tn,{value:"supportiveCare",children:"Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:168,columnNumber:13},void 0),l.jsxDEV(tn,{value:"info",children:"Info"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:169,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:144,columnNumber:11},void 0),l.jsxDEV(nn,{value:"overview",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV($Q,{overview:e.summary},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:173,columnNumber:15},void 0),e.eligibility&&l.jsxDEV("div",{className:"mt-4",children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Eligibility Criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:176,columnNumber:19},void 0),Array.isArray(e.eligibility)?l.jsxDEV("ul",{className:"list-disc list-inside",children:e.eligibility.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:180,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:178,columnNumber:21},void 0):l.jsxDEV(l.Fragment,{children:["                      ",l.jsxDEV("h4",{className:"font-medium mb-1",children:"Inclusion Criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:184,columnNumber:45},void 0),l.jsxDEV("ul",{className:"list-disc list-inside mb-2",children:(d=e.eligibility.inclusion_criteria)==null?void 0:d.map((D,T)=>l.jsxDEV("li",{children:D.criterion},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:187,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:185,columnNumber:23},void 0),l.jsxDEV("h4",{className:"font-medium mb-1",children:"Exclusion Criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:190,columnNumber:23},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:(m=e.eligibility.exclusion_criteria)==null?void 0:m.map((D,T)=>l.jsxDEV("li",{children:D.criterion},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:193,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:191,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:184,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:172,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:171,columnNumber:11},void 0),l.jsxDEV(nn,{value:"treatment",children:l.jsxDEV(zQ,{treatment:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:203,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:202,columnNumber:11},void 0),"          ",l.jsxDEV(nn,{value:"tests",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Baseline Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:207,columnNumber:17},void 0),"                ",o!=null&&o.baseline&&o.baseline.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:o.baseline.map((D,T)=>l.jsxDEV("li",{children:typeof D=="object"?D.name||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:210,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:208,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No baseline tests specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:214,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:206,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:219,columnNumber:17},void 0),o!=null&&o.monitoring&&o.monitoring.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:o.monitoring.map((D,T)=>l.jsxDEV("li",{children:typeof D=="object"?D.name||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:223,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:221,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No monitoring tests specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:227,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:218,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:205,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:204,columnNumber:35},void 0),l.jsxDEV(nn,{value:"monitoring",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Baseline Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:234,columnNumber:17},void 0),((f=s.baseline)==null?void 0:f.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:s.baseline.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:238,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:236,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No baseline monitoring specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:233,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Ongoing Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:247,columnNumber:17},void 0),((h=s.ongoing)==null?void 0:h.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:s.ongoing.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:251,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:249,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No ongoing monitoring specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:255,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:246,columnNumber:15},void 0),s.frequency&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Frequency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:261,columnNumber:19},void 0),l.jsxDEV("p",{className:"whitespace-pre-line",children:s.frequency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:262,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:260,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:232,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:231,columnNumber:25},void 0),"          ",l.jsxDEV(nn,{value:"doseModifications",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Hematological Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:269,columnNumber:17},void 0),((p=r.hematological)==null?void 0:p.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:r.hematological.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:273,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:271,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No hematological modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:277,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:268,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Non-Hematological Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:282,columnNumber:17},void 0),((g=r.nonHematological)==null?void 0:g.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:r.nonHematological.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:286,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:284,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No non-hematological modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:290,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:281,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Renal Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:295,columnNumber:17},void 0),((v=r.renal)==null?void 0:v.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:r.renal.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:299,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:297,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No renal modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:303,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:294,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Hepatic Modifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:308,columnNumber:17},void 0),((b=r.hepatic)==null?void 0:b.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:r.hepatic.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:312,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:310,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No hepatic modifications specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:316,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:307,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:267,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:266,columnNumber:35},void 0),l.jsxDEV(nn,{value:"safety",className:"mt-6",children:l.jsxDEV(Jt,{children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{className:"flex items-center gap-2 text-red-600",children:[l.jsxDEV(tt,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:325,columnNumber:19},void 0),"Safety Information"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:324,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:323,columnNumber:15},void 0),l.jsxDEV(cn,{className:"space-y-4",children:[e.precautions&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-amber-600 mb-2",children:"Precautions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:332,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-amber-50 p-3 rounded border-l-4 border-amber-400",children:typeof e.precautions=="string"?e.precautions:Array.isArray(e.precautions)?e.precautions.map((D,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof D=="object"?D.note||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:338,columnNumber:29},void 0)):JSON.stringify(e.precautions,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:333,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:331,columnNumber:19},void 0),e.contraindications&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-red-600 mb-2",children:"Contraindications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:349,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-400",children:typeof e.contraindications=="string"?e.contraindications:JSON.stringify(e.contraindications,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:350,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:348,columnNumber:19},void 0),u&&(u.drugs_to_avoid&&u.drugs_to_avoid.length>0||u.contraindications&&u.contraindications.length>0||u.precautions_with_other_drugs&&u.precautions_with_other_drugs.length>0)&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-orange-600 mb-2",children:"Drug Interactions & Warnings"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:360,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-400 space-y-2",children:["                      ",u.drugs_to_avoid&&u.drugs_to_avoid.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"font-medium text-red-600",children:"Drugs to Avoid:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:363,columnNumber:27},void 0),l.jsxDEV("ul",{className:"list-disc list-inside ml-2",children:u.drugs_to_avoid.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:366,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:364,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:362,columnNumber:25},void 0),u.contraindications&&u.contraindications.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"font-medium text-red-600",children:"Contraindications:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:373,columnNumber:27},void 0),l.jsxDEV("ul",{className:"list-disc list-inside ml-2",children:u.contraindications.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:376,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:374,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:372,columnNumber:25},void 0),u.precautions_with_other_drugs&&u.precautions_with_other_drugs.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"font-medium text-amber-600",children:"Precautions with Other Drugs:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:383,columnNumber:27},void 0),l.jsxDEV("ul",{className:"list-disc list-inside ml-2",children:u.precautions_with_other_drugs.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:386,columnNumber:31},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:384,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:382,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:361,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:359,columnNumber:19},void 0),!e.precautions&&!e.contraindications&&(!u||(!u.drugs_to_avoid||u.drugs_to_avoid.length===0)&&(!u.contraindications||u.contraindications.length===0)&&(!u.precautions_with_other_drugs||u.precautions_with_other_drugs.length===0))&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(tt,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:397,columnNumber:21},void 0),l.jsxDEV("p",{children:"No specific safety information available for this protocol."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:398,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:329,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:322,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:321,columnNumber:11},void 0),l.jsxDEV(nn,{value:"support",className:"mt-6",children:l.jsxDEV(Jt,{children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{className:"flex items-center gap-2",children:[l.jsxDEV(no,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:408,columnNumber:19},void 0),"Support Medications & Care"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:407,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:406,columnNumber:15},void 0),l.jsxDEV(cn,{className:"space-y-4",children:[e.pre_medications&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-blue-600",children:"Pre-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:415,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400",children:typeof e.pre_medications=="string"?e.pre_medications:Array.isArray(e.pre_medications)?e.pre_medications.length>0?e.pre_medications.map((D,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof D=="object"?D.name||D.drug||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:422,columnNumber:31},void 0)):"No pre-medications specified":JSON.stringify(e.pre_medications,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:416,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:414,columnNumber:19},void 0),e.post_medications&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-green-600",children:"Post-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:434,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:typeof e.post_medications=="string"?e.post_medications:Array.isArray(e.post_medications)?e.post_medications.length>0?e.post_medications.map((D,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof D=="object"?D.name||D.drug||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:441,columnNumber:31},void 0)):"No post-medications specified":JSON.stringify(e.post_medications,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:435,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:433,columnNumber:19},void 0),e.supportive_meds&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-purple-600",children:"Additional Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:453,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-purple-50 p-3 rounded border-l-4 border-purple-400",children:typeof e.supportive_meds=="string"?e.supportive_meds:Array.isArray(e.supportive_meds)?e.supportive_meds.length>0?e.supportive_meds.map((D,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof D=="object"?D.name||D.drug||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:460,columnNumber:31},void 0)):"No additional supportive medications specified":JSON.stringify(e.supportive_meds,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:454,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:452,columnNumber:19},void 0),!e.pre_medications&&!e.post_medications&&!e.supportive_meds&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(no,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:472,columnNumber:21},void 0),l.jsxDEV("p",{children:"No support medication information available for this protocol."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:473,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:471,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:412,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:405,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:404,columnNumber:11},void 0),l.jsxDEV(nn,{value:"emergency",className:"mt-6",children:l.jsxDEV(Jt,{children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{className:"flex items-center gap-2 text-red-600",children:[l.jsxDEV(Oc,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:483,columnNumber:19},void 0),"Emergency Protocols & Rescue Agents"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:482,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:481,columnNumber:15},void 0),l.jsxDEV(cn,{className:"space-y-4",children:[e.rescue_agents&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-red-600",children:"Emergency/Rescue Agents"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:490,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-400",children:typeof e.rescue_agents=="string"?e.rescue_agents:Array.isArray(e.rescue_agents)?e.rescue_agents.length>0?e.rescue_agents.map((D,T)=>l.jsxDEV("div",{className:"mb-2 last:mb-0",children:typeof D=="object"?D.name||D.drug||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:497,columnNumber:31},void 0)):"No rescue agents specified":JSON.stringify(e.rescue_agents,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:491,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:489,columnNumber:19},void 0),"                ",a&&a.thresholds_for_action&&Object.keys(a.thresholds_for_action).length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-orange-600",children:"Emergency Action Thresholds"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:507,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-400",children:l.jsxDEV("div",{className:"grid gap-2",children:Object.entries(a.thresholds_for_action).map(([D,T],M)=>l.jsxDEV("div",{className:"bg-white p-2 rounded border border-orange-200",children:[l.jsxDEV("span",{className:"font-medium text-orange-800",children:[D,":"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:512,columnNumber:29},void 0),l.jsxDEV("span",{className:"ml-2 text-gray-700",children:T},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:513,columnNumber:29},void 0)]},M,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:511,columnNumber:27},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:509,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:508,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:506,columnNumber:19},void 0),!e.rescue_agents&&(!a||!a.thresholds_for_action||Object.keys(a.thresholds_for_action).length===0)&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(Oc,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:523,columnNumber:21},void 0),l.jsxDEV("p",{children:"No emergency protocol information available."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:524,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:522,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:487,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:480,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:479,columnNumber:11},void 0),l.jsxDEV(nn,{value:"references",className:"mt-6",children:l.jsxDEV(Jt,{children:[l.jsxDEV(an,{children:l.jsxDEV(ln,{className:"flex items-center gap-2",children:[l.jsxDEV(Zn,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:534,columnNumber:19},void 0),"References & Clinical Evidence"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:533,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:532,columnNumber:15},void 0),l.jsxDEV(cn,{className:"space-y-4",children:[e.reference_list&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-blue-600",children:"Clinical References"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:541,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-400",children:typeof e.reference_list=="string"?e.reference_list:Array.isArray(e.reference_list)?e.reference_list.length>0?e.reference_list.map((D,T)=>l.jsxDEV("div",{className:"mb-3 last:mb-0 p-2 bg-white rounded border border-blue-200",children:[l.jsxDEV("span",{className:"text-sm text-blue-800 font-medium",children:["[",T+1,"]"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:549,columnNumber:33},void 0),l.jsxDEV("span",{className:"ml-2",children:typeof D=="object"?D.citation||D.title||JSON.stringify(D):D},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:550,columnNumber:33},void 0)]},T,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:548,columnNumber:31},void 0)):"No references available":JSON.stringify(e.reference_list,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:542,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:540,columnNumber:19},void 0),e.last_reviewed&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-green-600",children:"Protocol Currency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:563,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:[l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("span",{className:"font-medium",children:"Last Reviewed:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:566,columnNumber:25},void 0),l.jsxDEV("span",{className:"text-green-700",children:new Date(e.last_reviewed).toLocaleDateString()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:567,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:565,columnNumber:23},void 0),(()=>{const D=new Date(e.last_reviewed),_=Math.floor((new Date().getTime()-D.getTime())/(1e3*60*60*24))/365;let P="text-green-600",k="Current";return _>2?(P="text-red-600",k="Requires Review"):_>1&&(P="text-amber-600",k="Review Soon"),l.jsxDEV("div",{className:"mt-2 flex items-center justify-between",children:[l.jsxDEV("span",{className:"font-medium",children:"Status:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:588,columnNumber:29},void 0),l.jsxDEV("span",{className:`font-semibold ${P}`,children:k},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:589,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:587,columnNumber:27},void 0)})()]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:564,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:562,columnNumber:19},void 0),e.version&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold mb-2 text-purple-600",children:"Version Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:599,columnNumber:21},void 0),l.jsxDEV("div",{className:"bg-purple-50 p-3 rounded border-l-4 border-purple-400",children:l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("span",{className:"font-medium",children:"Protocol Version:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:602,columnNumber:25},void 0),l.jsxDEV("span",{className:"text-purple-700 font-mono",children:e.version},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:603,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:601,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:600,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:598,columnNumber:19},void 0),!e.reference_list&&!e.last_reviewed&&!e.version&&l.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[l.jsxDEV(Zn,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:611,columnNumber:21},void 0),l.jsxDEV("p",{children:"No reference or version information available."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:612,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:610,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:538,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:531,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:530,columnNumber:11},void 0),l.jsxDEV(nn,{value:"toxicity",children:l.jsxDEV("div",{className:"space-y-6",children:["              ",l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Expected Toxicities"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:620,columnNumber:17},void 0),a!=null&&a.expected_toxicities&&a.expected_toxicities.length>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:a.expected_toxicities.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:624,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:622,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No expected toxicities specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:628,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:619,columnNumber:54},void 0),(a==null?void 0:a.monitoring_parameters)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Parameters"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:633,columnNumber:19},void 0),l.jsxDEV("p",{className:"whitespace-pre-line",children:a.monitoring_parameters},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:634,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:632,columnNumber:17},void 0),(a==null?void 0:a.frequency_details)&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Frequency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:640,columnNumber:19},void 0),l.jsxDEV("p",{className:"whitespace-pre-line",children:a.frequency_details},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:641,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:639,columnNumber:17},void 0),(a==null?void 0:a.thresholds_for_action)&&Object.keys(a.thresholds_for_action).length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Action Thresholds"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:647,columnNumber:19},void 0),l.jsxDEV("div",{className:"grid gap-2",children:Object.entries(a.thresholds_for_action).map(([D,T],M)=>l.jsxDEV("div",{className:"bg-muted p-2 rounded-md",children:[l.jsxDEV("span",{className:"font-medium",children:[D,":"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:651,columnNumber:25},void 0)," ",T]},M,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:650,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:648,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:646,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:619,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:618,columnNumber:11},void 0),"          ",l.jsxDEV(nn,{value:"interactions",children:l.jsxDEV("div",{className:"space-y-6",children:[(u==null?void 0:u.drugs_to_avoid)&&u.drugs_to_avoid.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Drugs to Avoid"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:662,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:u.drugs_to_avoid.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:665,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:663,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:661,columnNumber:17},void 0),(u==null?void 0:u.contraindications)&&u.contraindications.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Contraindications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:673,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:u.contraindications.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:676,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:674,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:672,columnNumber:17},void 0),(u==null?void 0:u.precautions_with_other_drugs)&&u.precautions_with_other_drugs.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Precautions with Other Drugs"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:684,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside",children:u.precautions_with_other_drugs.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:687,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:685,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:683,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:659,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:658,columnNumber:35},void 0),l.jsxDEV(nn,{value:"supportiveCare",children:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Required Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:696,columnNumber:17},void 0),((w=c==null?void 0:c.required)==null?void 0:w.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:c.required.map((D,T)=>l.jsxDEV("li",{children:typeof D=="object"?D.name||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:700,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:698,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No required supportive care specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:704,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:695,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Optional Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:709,columnNumber:17},void 0),((N=c==null?void 0:c.optional)==null?void 0:N.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:c.optional.map((D,T)=>l.jsxDEV("li",{children:typeof D=="object"?D.name||JSON.stringify(D):D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:713,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:711,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No optional supportive care specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:717,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:708,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"font-semibold text-lg mb-2",children:"Monitoring Requirements"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:722,columnNumber:17},void 0),((E=c==null?void 0:c.monitoring)==null?void 0:E.length)>0?l.jsxDEV("ul",{className:"list-disc list-inside",children:c.monitoring.map((D,T)=>l.jsxDEV("li",{children:D},T,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:726,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:724,columnNumber:19},void 0):l.jsxDEV("p",{className:"text-muted-foreground",children:"No monitoring requirements specified."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:730,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:721,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:694,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:693,columnNumber:25},void 0),l.jsxDEV(nn,{value:"info",children:l.jsxDEV(WQ,{lastReviewed:e.last_reviewed,version:e.version,status:e.status,createdBy:e.created_by,updatedBy:e.updated_by,createdAt:e.created_at,updatedAt:e.updated_at},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:736,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:735,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:137,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/components/ProtocolDetailsDialog.tsx",lineNumber:136,columnNumber:5},void 0)},Rk=e=>{if(!e||typeof e!="object")return!1;const t=e;return typeof t.id=="string"&&typeof t.code=="string"&&typeof t.tumour_group=="string"},jk=e=>{const t=s=>{if(typeof s=="string"){const i=s.trim();if(i.startsWith("{")&&i.endsWith("}")||i.startsWith("[")&&i.endsWith("]"))try{return JSON.parse(i)}catch{return console.warn("Invalid JSON:",s),s}return s}return s};console.log("Raw treatment data:",e.treatment);const n={id:e.id,code:e.code,tumour_group:e.tumour_group,treatment_intent:e.treatment_intent||"",eligibility:t(e.eligibility),treatment:t(e.treatment),tests:t(e.tests),dose_modifications:t(e.dose_modifications),precautions:t(e.precautions),reference_list:t(e.reference_list),toxicity_monitoring:t(e.toxicity_monitoring),supportive_care:t(e.supportive_care),drug_class:t(e.drug_class),interactions:t(e.interactions),administration_notes:e.administration_notes||[],pre_medications:t(e.pre_medications),post_medications:t(e.post_medications),rescue_agents:t(e.rescue_agents)};return console.log("Transformed protocol:",{id:n.id,code:n.code,treatment:n.treatment}),n},Ok=async()=>{const{data:e,error:t}=await _o.from("cd_protocols").select("tumour_supergroup").order("tumour_supergroup");if(t)throw console.error("Error fetching tumour supergroups:",t),new Error("Failed to fetch tumour supergroups.");return Array.isArray(e)?[...new Set(e.map(s=>s.tumour_supergroup).filter(s=>typeof s=="string"))]:(console.error("Invalid response format for tumour supergroups"),[])},qQ=async e=>{let t=_o.from("cd_protocols").select("tumour_group, tumour_supergroup").order("tumour_group");e&&(t=t.eq("tumour_supergroup",e));const{data:n,error:s}=await t;if(s)throw console.error("Error fetching tumor groups:",s),new Error("Failed to fetch tumor groups.");return Array.isArray(n)?[...new Set(n.map(o=>o.tumour_group).filter(o=>typeof o=="string"))]:(console.error("Invalid response format for tumor groups"),[])},KQ=async e=>{const{data:t,error:n}=await _o.from("cd_protocols").select("*").eq("tumour_group",e).order("code");if(n)throw console.error("Error fetching protocols for tumor group",e,":",n),new Error(`Failed to fetch protocols for tumor group ${e}.`);if(!Array.isArray(t))return console.error("Invalid response format:",t),[];const s=[];return t.forEach((i,o)=>{if(Rk(i))try{s.push(jk(i))}catch(r){console.warn(`Failed to process protocol at index ${o}:`,r)}else console.warn(`Invalid protocol data at index ${o}`)}),s},YQ=async e=>{try{let t=_o.from("cd_protocols").select("*");e&&(e.tumorGroup&&(t=t.eq("tumour_group",e.tumorGroup)),e.treatmentIntent&&(t=t.eq("treatment_intent",e.treatmentIntent)),e.drugName&&(t=t.contains("treatment->>drugs",e.drugName)));const{data:n,error:s}=await t;if(console.log("[CDU] cd_protocols data:",n),s)throw s;if(!(n!=null&&n.length))return[];n.forEach((o,r)=>{["id","code","tumour_group","treatment"].forEach(a=>{a in o||console.warn(`[CDU] cd_protocols row missing field: ${a} (row #${r})`,o)})});const i=[];return n.forEach((o,r)=>{if(Rk(o))try{const a=jk(o);i.push(a)}catch(a){console.warn(`Failed to process protocol at index ${r}:`,a)}else console.warn(`Invalid protocol data at index ${r}`)}),i}catch(t){throw console.error("Error fetching protocols:",t),new Error(`Failed to fetch protocols: ${t instanceof Error?t.message:String(t)}`)}},XQ=({error:e,type:t="error"})=>{const n=t==="error"?"bg-red-50 dark:bg-red-900/10":t==="warning"?"bg-yellow-50 dark:bg-yellow-900/10":"bg-blue-50 dark:bg-blue-900/10",s=t==="error"?"text-red-700 dark:text-red-200":t==="warning"?"text-yellow-700 dark:text-yellow-200":"text-blue-700 dark:text-blue-200",i=t==="error"?"text-red-400 dark:text-red-300":t==="warning"?"text-yellow-400 dark:text-yellow-300":"text-blue-400 dark:text-blue-300";return l.jsxDEV("div",{className:`rounded-lg p-4 ${n}`,children:l.jsxDEV("div",{className:"flex items-center space-x-3",children:[l.jsxDEV(Es,{className:`h-5 w-5 ${i}`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:25,columnNumber:9},void 0),l.jsxDEV("div",{className:`text-sm font-medium ${s}`,children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:26,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:24,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolErrorState.tsx",lineNumber:23,columnNumber:5},void 0)},JQ=()=>l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,t)=>l.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 animate-pulse",children:[l.jsxDEV("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:18,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:20,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:21,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-4/6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:22,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:19,columnNumber:13},void 0),l.jsxDEV("div",{className:"mt-4 flex gap-2",children:[l.jsxDEV("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:25,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:26,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:24,columnNumber:13},void 0)]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:14,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/ProtocolLoadingSkeleton.tsx",lineNumber:6,columnNumber:5},void 0);function QQ(){const[e,t]=x.useState([]),[n,s]=x.useState(null),[i,o]=x.useState([]),[r,a]=x.useState(null),[c,u]=x.useState([]),[d,m]=x.useState(null),[f,h]=x.useState(!0),[p,g]=x.useState(null);return x.useEffect(()=>{(async()=>{try{h(!0),g(null);const b=await Ok();t(b)}catch{g("Failed to load tumour supergroups.")}finally{h(!1)}})()},[]),x.useEffect(()=>{n&&(h(!0),a(null),u([]),qQ(n).then(v=>{o(v),h(!1)}).catch(()=>{g("Failed to load tumour groups."),h(!1)}))},[n]),x.useEffect(()=>{r&&(h(!0),KQ(r).then(v=>{u(v),h(!1)}).catch(()=>{g("Failed to load protocols for this group."),h(!1)}))},[r]),f?l.jsxDEV(JQ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:71,columnNumber:23},this):p?l.jsxDEV(XQ,{error:p,type:"error"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:72,columnNumber:21},this):n?n&&!r?l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:[l.jsxDEV("button",{onClick:()=>s(null),className:"mb-4 px-4 py-2 text-gray-600 hover:text-gray-800",children:" Back to Supergroups"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:108,columnNumber:9},this),l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Select Tumour Group"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:114,columnNumber:9},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(v=>l.jsxDEV("div",{className:"cursor-pointer p-6 rounded-xl shadow-md bg-gradient-to-br from-blue-50 to-blue-100 hover:bg-blue-200 transition",onClick:()=>a(v),children:l.jsxDEV("h2",{className:"text-xl font-bold text-blue-900",children:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:122,columnNumber:15},this)},v,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:117,columnNumber:13},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:102,columnNumber:7},this):r?l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:[l.jsxDEV("button",{onClick:()=>a(null),className:"mb-4 px-4 py-2 text-gray-600 hover:text-gray-800",children:" Back to Groups"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:139,columnNumber:9},this),l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:["Protocols in ",r]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:145,columnNumber:9},this),c.length===0?l.jsxDEV("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No protocols found."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:147,columnNumber:11},this):l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(v=>l.jsxDEV("div",{onClick:()=>m(v),children:l.jsxDEV(xJ,{protocol:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:154,columnNumber:17},this)},v.code,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:153,columnNumber:15},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:151,columnNumber:11},this),d&&l.jsxDEV(GQ,{protocol:d,open:!!d,onOpenChange:v=>{v||m(null)}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:160,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:133,columnNumber:7},this):null:l.jsxDEV(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 p-4",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Select Tumour Supergroup"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:83,columnNumber:9},this),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>l.jsxDEV("div",{className:"cursor-pointer p-6 rounded-xl shadow-md bg-gradient-to-br from-indigo-50 to-indigo-100 hover:bg-indigo-200 transition",onClick:()=>s(v),children:l.jsxDEV("h2",{className:"text-xl font-bold text-indigo-900",children:v},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:91,columnNumber:15},this)},v,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:86,columnNumber:13},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:77,columnNumber:7},this)}const ZQ=[{id:"overview",label:"Overview",color:"bg-blue-500",hoverColor:"hover:bg-blue-600",icon:l.jsxDEV(Ou,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:66,columnNumber:11},void 0)},{id:"eligibility",label:"Eligibility",color:"bg-green-500",hoverColor:"hover:bg-green-600",icon:l.jsxDEV(Si,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:73,columnNumber:11},void 0)},{id:"treatment",label:"Treatment",color:"bg-purple-500",hoverColor:"hover:bg-purple-600",icon:l.jsxDEV(no,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:80,columnNumber:11},void 0)},{id:"tests",label:"Tests",color:"bg-amber-500",hoverColor:"hover:bg-amber-600",icon:l.jsxDEV(mf,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:87,columnNumber:11},void 0)},{id:"monitoring",label:"Monitoring",color:"bg-cyan-500",hoverColor:"hover:bg-cyan-600",icon:l.jsxDEV(zs,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:94,columnNumber:11},void 0)},{id:"toxicity",label:"Toxicity",color:"bg-red-500",hoverColor:"hover:bg-red-600",icon:l.jsxDEV(tt,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:101,columnNumber:11},void 0)},{id:"modifications",label:"Modifications",color:"bg-yellow-500",hoverColor:"hover:bg-yellow-600",icon:l.jsxDEV(j2,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:108,columnNumber:11},void 0)},{id:"pharmacology",label:"Pharmacology",color:"bg-pink-500",hoverColor:"hover:bg-pink-600",icon:l.jsxDEV(Ry,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:115,columnNumber:11},void 0)},{id:"administration",label:"Administration",color:"bg-violet-500",hoverColor:"hover:bg-violet-600",icon:l.jsxDEV(No,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:122,columnNumber:11},void 0)},{id:"prepost",label:"Pre/Post Meds",color:"bg-emerald-500",hoverColor:"hover:bg-emerald-600",icon:l.jsxDEV(O2,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:129,columnNumber:11},void 0)},{id:"rescue",label:"Rescue & Support",color:"bg-rose-500",hoverColor:"hover:bg-rose-600",icon:l.jsxDEV(Oc,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:136,columnNumber:11},void 0)},{id:"precautions",label:"Precautions",color:"bg-orange-500",hoverColor:"hover:bg-orange-600",icon:l.jsxDEV(V2,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:143,columnNumber:11},void 0)},{id:"ai",label:"AI Insights",color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",icon:l.jsxDEV(jy,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:150,columnNumber:11},void 0)},{id:"info",label:"Info & Metadata",color:"bg-slate-500",hoverColor:"hover:bg-slate-600",icon:l.jsxDEV(L2,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:157,columnNumber:11},void 0)}],Ey=({type:e,title:t,message:n})=>{const s={warning:"bg-yellow-50 border-yellow-400 text-yellow-800",error:"bg-red-50 border-red-400 text-red-800",success:"bg-green-50 border-green-400 text-green-800"};return l.jsxDEV("div",{className:`p-4 mb-4 border-l-4 rounded-r ${s[e]}`,children:[l.jsxDEV("div",{className:"flex items-center",children:[e==="warning"&&l.jsxDEV(tt,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:175,columnNumber:32},void 0),e==="error"&&l.jsxDEV(Qn,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:176,columnNumber:30},void 0),e==="success"&&l.jsxDEV(Si,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:177,columnNumber:32},void 0),l.jsxDEV("h3",{className:"font-semibold",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:174,columnNumber:7},void 0),l.jsxDEV("p",{className:"mt-2",children:n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:180,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:173,columnNumber:5},void 0)},et=({title:e,children:t,defaultOpen:n=!1})=>{const[s,i]=x.useState(n);return l.jsxDEV("div",{className:"border rounded-lg mb-4",children:[l.jsxDEV("button",{onClick:()=>i(!s),className:"w-full px-4 py-2 flex items-center justify-between bg-gray-50 hover:bg-gray-100 rounded-lg",children:[l.jsxDEV("span",{className:"font-semibold",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:198,columnNumber:9},void 0),s?l.jsxDEV(Zh,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:199,columnNumber:19},void 0):l.jsxDEV(Tr,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:199,columnNumber:55},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:194,columnNumber:7},void 0),l.jsxDEV(Ts,{children:s&&l.jsxDEV(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxDEV("div",{className:"p-4 border-t",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:210,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:203,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:201,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:193,columnNumber:5},void 0)},$o=({data:e})=>l.jsxDEV("div",{className:"overflow-x-auto",children:l.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsxDEV("thead",{className:"bg-gray-50",children:l.jsxDEV("tr",{children:[l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drug Name"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:226,columnNumber:13},void 0),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dose"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:227,columnNumber:13},void 0),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Administration"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:228,columnNumber:13},void 0),l.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Alternatives"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:229,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:225,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:224,columnNumber:9},void 0),l.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,n)=>{var s;return l.jsxDEV("tr",{className:n%2===0?"bg-white":"bg-gray-50",children:[l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:235,columnNumber:15},void 0),l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.dose},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:236,columnNumber:15},void 0),l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.administration},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:237,columnNumber:15},void 0),l.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((s=t.alternative_switches)==null?void 0:s.join(", "))||"-"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:238,columnNumber:15},void 0)]},n,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:234,columnNumber:13},void 0)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:232,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:223,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:222,columnNumber:5},void 0),eZ=({protocol:e,activeTab:t})=>{var i,o,r,a,c,u,d,m,f,h,p,g,v;const n=b=>!b||!Array.isArray(b)||b.length===0?l.jsxDEV("p",{className:"text-gray-600",children:"No information available"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:255,columnNumber:14},void 0):l.jsxDEV("ul",{className:"list-disc list-inside space-y-2",children:b.map((w,N)=>l.jsxDEV("li",{className:"text-gray-700",children:typeof w=="string"?w:l.jsxDEV("div",{children:[w.test&&l.jsxDEV("span",{children:[l.jsxDEV("strong",{children:w.test},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:269,columnNumber:21},void 0),w.purpose&&l.jsxDEV("span",{children:["  ",w.purpose]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:270,columnNumber:38},void 0),w.frequency&&l.jsxDEV("span",{children:[" (",w.frequency,")"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:271,columnNumber:40},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:268,columnNumber:19},void 0),w.name&&l.jsxDEV("span",{children:[l.jsxDEV("strong",{children:w.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:278,columnNumber:21},void 0),w.dose&&l.jsxDEV("span",{children:["  ",w.dose]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:279,columnNumber:35},void 0),w.timing&&l.jsxDEV("span",{children:[" at ",w.timing]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:280,columnNumber:37},void 0),w.route&&l.jsxDEV("span",{children:[" via ",w.route]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:281,columnNumber:36},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:277,columnNumber:19},void 0),w.indication&&l.jsxDEV("span",{children:[l.jsxDEV("strong",{children:w.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:288,columnNumber:21},void 0),w.indication&&l.jsxDEV("span",{children:["  ",w.indication]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:289,columnNumber:41},void 0),w.dosing&&l.jsxDEV("div",{className:"ml-4 text-sm",children:w.dosing},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:290,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:287,columnNumber:19},void 0),w.criteria&&l.jsxDEV("div",{children:[l.jsxDEV("div",{children:[l.jsxDEV("strong",{children:"Criteria:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:297,columnNumber:26},void 0)," ",w.criteria]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:297,columnNumber:21},void 0),w.drug_a_reduction&&l.jsxDEV("div",{className:"ml-4",children:["Drug A: ",w.drug_a_reduction]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:298,columnNumber:47},void 0),w.drug_b_reduction&&l.jsxDEV("div",{className:"ml-4",children:["Drug B: ",w.drug_b_reduction]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:299,columnNumber:47},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:296,columnNumber:19},void 0),!w.test&&!w.name&&!w.indication&&!w.criteria&&l.jsxDEV("span",{children:JSON.stringify(w)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:305,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:265,columnNumber:15},void 0)},N,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:261,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:259,columnNumber:7},void 0),s={overview:l.jsxDEV("div",{className:"space-y-6",children:[((i=e.eligibility)==null?void 0:i.exclusion_criteria)&&l.jsxDEV(Ey,{type:"error",title:"Exclusion Criteria",message:e.eligibility.exclusion_criteria.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:319,columnNumber:11},void 0),l.jsxDEV(et,{title:"Eligibility Criteria",defaultOpen:!0,children:n((o=e.eligibility)==null?void 0:o.inclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:326,columnNumber:9},void 0),l.jsxDEV(et,{title:"Exclusions",children:n((r=e.eligibility)==null?void 0:r.exclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:330,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:317,columnNumber:7},void 0),eligibility:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(et,{title:"Inclusion Criteria",defaultOpen:!0,children:n((a=e.eligibility)==null?void 0:a.inclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:337,columnNumber:9},void 0),l.jsxDEV(et,{title:"Exclusion Criteria",children:n((c=e.eligibility)==null?void 0:c.exclusion_criteria)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:341,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:336,columnNumber:7},void 0),tests:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV(et,{title:"Baseline Tests",defaultOpen:!0,children:n((u=e.tests)==null?void 0:u.baseline)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:348,columnNumber:9},void 0),l.jsxDEV(et,{title:"Monitoring Tests",children:n((d=e.tests)==null?void 0:d.monitoring)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:352,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:347,columnNumber:7},void 0),treatment:l.jsxDEV("div",{className:"space-y-6",children:[e.treatment&&"protocol"in e.treatment&&l.jsxDEV("div",{className:"mb-6",children:[l.jsxDEV("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Treatment Protocol"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:361,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-700",children:e.treatment.protocol},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:360,columnNumber:13},void 0),((m=e.treatment)==null?void 0:m.drugs)&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"font-semibold text-indigo-900 mb-4",children:"Treatment Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:368,columnNumber:13},void 0),l.jsxDEV($o,{data:e.treatment.drugs},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:369,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:367,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:358,columnNumber:9},void 0),monitoring:l.jsxDEV("div",{className:"space-y-6",children:[e.toxicity_monitoring&&l.jsxDEV("div",{className:"bg-orange-50 rounded-lg p-4 mb-6",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-orange-900 mb-2",children:"Toxicity Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:378,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("h5",{className:"font-medium text-orange-800 mb-2",children:"Parameters to Monitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:381,columnNumber:17},void 0),n(e.toxicity_monitoring.parameters)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:380,columnNumber:15},void 0),e.toxicity_monitoring.frequency&&l.jsxDEV("p",{className:"text-orange-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Frequency:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:386,columnNumber:19},void 0)," ",e.toxicity_monitoring.frequency]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:385,columnNumber:17},void 0),Object.keys(e.toxicity_monitoring.thresholds).length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h5",{className:"font-medium text-orange-800 mb-2",children:"Threshold Values"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:391,columnNumber:19},void 0),l.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm text-orange-700",children:JSON.stringify(e.toxicity_monitoring.thresholds,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:392,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:390,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:379,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:377,columnNumber:11},void 0),e.monitoring&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(et,{title:"Baseline Monitoring",defaultOpen:!0,children:n(e.monitoring.baseline)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:403,columnNumber:13},void 0),l.jsxDEV(et,{title:"Ongoing Monitoring",children:n(e.monitoring.ongoing)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:406,columnNumber:13},void 0),e.monitoring.frequency&&l.jsxDEV("div",{className:"bg-orange-50 p-4 rounded-lg",children:[l.jsxDEV("h5",{className:"font-medium text-orange-800",children:"Monitoring Frequency"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:411,columnNumber:17},void 0),l.jsxDEV("p",{className:"mt-1 text-orange-700",children:e.monitoring.frequency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:412,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:410,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:402,columnNumber:11},void 0),e.ai_notes&&l.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-purple-900 mb-4",children:"AI Monitoring Recommendations"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:420,columnNumber:13},void 0),e.ai_notes.recommendations&&l.jsxDEV(et,{title:"Recommendations",children:n(e.ai_notes.recommendations)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:422,columnNumber:15},void 0),e.ai_notes.warnings&&l.jsxDEV(et,{title:"Warnings",children:n(e.ai_notes.warnings)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:427,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:419,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:375,columnNumber:7},void 0),toxicity:l.jsxDEV("div",{className:"space-y-6",children:e.toxicity_monitoring&&l.jsxDEV(et,{title:"Toxicity Monitoring",defaultOpen:!0,children:n((f=e.toxicity_monitoring)==null?void 0:f.parameters)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:438,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:436,columnNumber:7},void 0),modifications:l.jsxDEV("div",{className:"space-y-6",children:[((h=e.dose_modifications)==null?void 0:h.hematological)&&l.jsxDEV(et,{title:"Hematological Modifications",defaultOpen:!0,children:n(e.dose_modifications.hematological)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:447,columnNumber:11},void 0),((p=e.dose_modifications)==null?void 0:p.nonHematological)&&l.jsxDEV(et,{title:"Non-Hematological Modifications",children:n(e.dose_modifications.nonHematological)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:453,columnNumber:11},void 0),((g=e.dose_modifications)==null?void 0:g.renal)&&l.jsxDEV(et,{title:"Renal Modifications",children:n(e.dose_modifications.renal)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:459,columnNumber:11},void 0),((v=e.dose_modifications)==null?void 0:v.hepatic)&&l.jsxDEV(et,{title:"Hepatic Modifications",children:n(e.dose_modifications.hepatic)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:445,columnNumber:7},void 0),pharmacology:l.jsxDEV("div",{className:"space-y-6",children:[e.drug_class&&l.jsxDEV("div",{className:"bg-pink-50 p-4 rounded-lg",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-pink-900 mb-2",children:"Drug Classification"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:475,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-2",children:[e.drug_class.name&&l.jsxDEV("p",{className:"text-pink-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Class:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:479,columnNumber:19},void 0)," ",e.drug_class.name]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:478,columnNumber:17},void 0),e.drug_class.mechanism&&l.jsxDEV("p",{className:"text-pink-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Mechanism:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:484,columnNumber:19},void 0)," ",e.drug_class.mechanism]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:483,columnNumber:17},void 0),e.drug_class.classification&&l.jsxDEV("p",{className:"text-pink-800",children:[l.jsxDEV("span",{className:"font-medium",children:"Classification:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:489,columnNumber:19},void 0)," ",e.drug_class.classification]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:488,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:476,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:474,columnNumber:11},void 0),l.jsxDEV(et,{title:"Pharmacokinetics",defaultOpen:!0,children:l.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(e.pharmacokinetics,null,2)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:497,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:496,columnNumber:9},void 0),e.interactions&&l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV(et,{title:"Drug Interactions",children:n(e.interactions.drugs)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:504,columnNumber:13},void 0),l.jsxDEV(et,{title:"Contraindications",children:n(e.interactions.contraindications)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:507,columnNumber:13},void 0),l.jsxDEV(et,{title:"Special Precautions",children:n(e.interactions.precautions)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:510,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:503,columnNumber:11},void 0),e.administration_notes&&l.jsxDEV(et,{title:"Administration Notes",children:n(e.administration_notes)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:517,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:472,columnNumber:7},void 0),administration:l.jsxDEV("div",{className:"space-y-6",children:e.administration_notes&&l.jsxDEV(et,{title:"Administration Notes",defaultOpen:!0,children:n(e.administration_notes)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:526,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:524,columnNumber:7},void 0),prepost:l.jsxDEV("div",{className:"space-y-6",children:[e.pre_medications&&l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Pre-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:536,columnNumber:13},void 0),l.jsxDEV(et,{title:"Required Pre-medications",defaultOpen:!0,children:l.jsxDEV($o,{data:e.pre_medications.required},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:538,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:537,columnNumber:13},void 0),l.jsxDEV(et,{title:"Optional Pre-medications",children:l.jsxDEV($o,{data:e.pre_medications.optional},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:541,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:540,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:535,columnNumber:11},void 0),e.post_medications&&l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Post-medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:548,columnNumber:13},void 0),l.jsxDEV(et,{title:"Required Post-medications",children:l.jsxDEV($o,{data:e.post_medications.required},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:550,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:549,columnNumber:13},void 0),l.jsxDEV(et,{title:"Optional Post-medications",children:l.jsxDEV($o,{data:e.post_medications.optional},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:553,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:552,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:547,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:533,columnNumber:7},void 0),rescue:l.jsxDEV("div",{className:"space-y-6",children:[e.rescue_agents&&e.rescue_agents.length>0&&l.jsxDEV("div",{className:"bg-teal-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Rescue Agents"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:563,columnNumber:13},void 0),l.jsxDEV("div",{className:"divide-y divide-teal-200",children:e.rescue_agents.map((b,w)=>l.jsxDEV("div",{className:"py-3",children:[l.jsxDEV("h5",{className:"font-medium text-teal-800",children:b.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:567,columnNumber:19},void 0),l.jsxDEV("p",{className:"text-sm text-teal-700 mt-1",children:[l.jsxDEV("span",{className:"font-medium",children:"Indication:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:568,columnNumber:61},void 0)," ",b.indication]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:568,columnNumber:19},void 0),l.jsxDEV("p",{className:"text-sm text-teal-700 mt-1",children:[l.jsxDEV("span",{className:"font-medium",children:"Dosing:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:569,columnNumber:61},void 0)," ",b.dosing]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:569,columnNumber:19},void 0)]},w,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:566,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:564,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:562,columnNumber:11},void 0),e.supportive_meds&&e.supportive_meds.length>0&&l.jsxDEV("div",{className:"bg-teal-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-teal-900 mb-4",children:"Supportive Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:578,columnNumber:13},void 0),l.jsxDEV($o,{data:e.supportive_meds},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:579,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:577,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:560,columnNumber:7},void 0),precautions:l.jsxDEV("div",{className:"space-y-6",children:[e.precautions&&e.precautions.length>0&&l.jsxDEV(Ey,{type:"warning",title:"Precautions",message:e.precautions.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:587,columnNumber:11},void 0),l.jsxDEV(et,{title:"Precautions",defaultOpen:!0,children:n(e.precautions)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:594,columnNumber:9},void 0),l.jsxDEV(et,{title:"References",children:n(e.reference_list)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:598,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:585,columnNumber:7},void 0),ai:l.jsxDEV("div",{className:"space-y-6",children:e.ai_notes&&l.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-purple-900 mb-4",children:"AI Insights"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:607,columnNumber:13},void 0),e.ai_notes.recommendations&&l.jsxDEV(et,{title:"Recommendations",defaultOpen:!0,children:n(e.ai_notes.recommendations)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:609,columnNumber:15},void 0),e.ai_notes.warnings&&l.jsxDEV(et,{title:"Warnings",children:n(e.ai_notes.warnings)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:614,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:606,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:604,columnNumber:7},void 0),info:l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxDEV("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Protocol Information"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:625,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Code"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:628,columnNumber:15},void 0),l.jsxDEV("p",{className:"font-medium",children:e.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:629,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:627,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Tumor Group"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:632,columnNumber:15},void 0),l.jsxDEV("p",{className:"font-medium",children:e.tumour_group},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:633,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:631,columnNumber:13},void 0),e.treatment_intent&&l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Treatment Intent"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:637,columnNumber:17},void 0),l.jsxDEV("p",{className:"font-medium",children:e.treatment_intent},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:638,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:636,columnNumber:15},void 0),e.version&&l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Version"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:643,columnNumber:17},void 0),l.jsxDEV("p",{className:"font-medium",children:e.version},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:644,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:642,columnNumber:15},void 0),e.last_reviewed&&l.jsxDEV("div",{children:[l.jsxDEV("p",{className:"text-sm text-gray-600",children:"Last Reviewed"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:649,columnNumber:17},void 0),l.jsxDEV("p",{className:"font-medium",children:e.last_reviewed},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:650,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:648,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:626,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:624,columnNumber:9},void 0),e.reference_list&&e.reference_list.length>0&&l.jsxDEV(et,{title:"References",defaultOpen:!0,children:n(e.reference_list)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:657,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:623,columnNumber:7},void 0)};return l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-6",children:s[t]},t,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:666,columnNumber:5},void 0)},Vk=()=>{const[e,t]=x.useState([]),[n,s]=x.useState(null),[i,o]=x.useState([]),[r,a]=x.useState(!0),[c,u]=x.useState(null);x.useEffect(()=>{(async()=>{try{a(!0),u(null);const f=await Ok();t(f)}catch{u("Failed to load tumour supergroups.")}finally{a(!1)}})()},[]),x.useEffect(()=>{n&&(async()=>{try{a(!0),u(null);const f=await YQ({tumorGroup:n,drugName:null,treatmentIntent:null});o(f)}catch{u("Failed to load protocols for this supergroup.")}finally{a(!1)}})()},[n]);const d=()=>{selectedProtocol?setSelectedProtocol(null):n&&(s(null),o([]))};return r?l.jsxDEV("div",{className:"flex items-center justify-center h-32 text-indigo-600",children:"Loading..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:769,columnNumber:7},void 0):c?l.jsxDEV("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 text-red-700",children:[c,l.jsxDEV("button",{onClick:d,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:779,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:777,columnNumber:7},void 0):selectedProtocol?l.jsxDEV("div",{className:"space-y-6",children:[l.jsxDEV("div",{className:"flex items-center space-x-4",children:l.jsxDEV("button",{onClick:d,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[l.jsxDEV(m0,{className:"w-5 h-5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:797,columnNumber:13},void 0),"Back to Protocols"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:793,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:792,columnNumber:9},void 0),l.jsxDEV("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsxDEV("div",{className:"p-6 border-b",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-indigo-900",children:selectedProtocol.code},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:803,columnNumber:13},void 0),selectedProtocol.treatment_intent&&l.jsxDEV("p",{className:"text-gray-600 mt-1",children:["Intent: ",selectedProtocol.treatment_intent]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:807,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:802,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex space-x-1 p-2 bg-gray-50",children:ZQ.map(m=>l.jsxDEV("button",{onClick:()=>setActiveTab(m.id),className:`px-4 py-2 rounded-md text-white transition-colors duration-200 flex items-center space-x-2 ${activeTab===m.id?`${m.color}`:"bg-gray-400"} ${m.hoverColor}`,children:[m.icon,l.jsxDEV("span",{children:m.label},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:822,columnNumber:17},void 0)]},m.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:814,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:812,columnNumber:11},void 0),l.jsxDEV(Ts,{mode:"wait",children:l.jsxDEV(eZ,{protocol:selectedProtocol,activeTab},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:827,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:826,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:801,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:791,columnNumber:7},void 0):n?n&&!selectedProtocol?l.jsxDEV("div",{className:"space-y-8",children:[l.jsxDEV("button",{onClick:d,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[l.jsxDEV(m0,{className:"w-5 h-5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:862,columnNumber:11},void 0),"Back to Supergroups"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:858,columnNumber:9},void 0),l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:["Protocols in ",n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:865,columnNumber:9},void 0),i.length===0?l.jsxDEV("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"No protocols found."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:867,columnNumber:11},void 0):l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(m=>l.jsxDEV(UnifiedProtocolCard,{protocol:m},m.code,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:873,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:871,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:857,columnNumber:7},void 0):null:l.jsxDEV("div",{className:"space-y-8",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-indigo-900 mb-8",children:"Select Tumour Supergroup"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:838,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(m=>l.jsxDEV("div",{className:"cursor-pointer p-6 rounded-xl shadow-md bg-gradient-to-br from-indigo-50 to-indigo-100 hover:bg-indigo-200 transition",onClick:()=>s(m),children:l.jsxDEV("h2",{className:"text-xl font-bold text-indigo-900",children:m},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:846,columnNumber:15},void 0)},m,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:841,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:839,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/safe/treatmentProtocols/TreatmentProtocols.tsx",lineNumber:837,columnNumber:7},void 0)},tZ=e=>{var t,n,s;return{id:e.id||crypto.randomUUID(),name:e.name||"Not specified",severity:e.severity||"Not specified",grading_scale:e.grading_scale||"CTCAE v5.0",recognition:e.recognition||"",symptoms:Array.isArray(e.symptoms)?e.symptoms:[],signs:Array.isArray(e.signs)?e.signs:[],imaging:Array.isArray(e.imaging)?e.imaging:[],labs:Array.isArray(e.labs)?e.labs:[],clinical_category:e.clinical_category||"Uncategorized",symptom_onset:e.symptom_onset||"",expected_onset:e.expected_onset||"",onset_timing_days:e.onset_timing_days||0,reversibility:e.reversibility||"Unknown",toxicity_type:e.toxicity_type||"Unknown",is_dose_limiting:!!e.is_dose_limiting,requires_hospitalization:!!e.requires_hospitalization,toxicity_risk_factors:Array.isArray(e.toxicity_risk_factors)?e.toxicity_risk_factors:[],management:Array.isArray(e.management)?e.management:[],dose_guidance:Array.isArray(e.dose_guidance)?e.dose_guidance:[],culprit_drugs:Array.isArray(e.culprit_drugs)?e.culprit_drugs:[],culprit_classes:Array.isArray(e.culprit_classes)?e.culprit_classes:[],intervention_required:Array.isArray(e.intervention_required)?e.intervention_required:[],monitoring_recommendations:Array.isArray(e.monitoring_recommendations)?e.monitoring_recommendations:[],lab_triggers:Array.isArray(e.lab_triggers)?e.lab_triggers:[],related_toxicity_ids:Array.isArray(e.related_toxicity_ids)?e.related_toxicity_ids:[],monitoring_frequency:{initial:((t=e.monitoring_frequency)==null?void 0:t.initial)||"Not specified",followup:((n=e.monitoring_frequency)==null?void 0:n.followup)||"Not specified",longterm:((s=e.monitoring_frequency)==null?void 0:s.longterm)||"Not specified"},reference_data:e.reference_data||{},source_reference:e.source_reference||"",notes:e.notes||"",notes_clinical_pearls:e.notes_clinical_pearls||"",notes_ui_display:e.notes_ui_display||"",toxicity_score_weight:e.toxicity_score_weight||0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||new Date().toISOString()}},nZ=async()=>{try{const{data:e,error:t}=await _o.from("toxicities").select(`
        id, name, severity, grading_scale, recognition,
        symptoms, signs, imaging, labs, clinical_category,
        symptom_onset, expected_onset, onset_timing_days,
        reversibility, toxicity_type, is_dose_limiting,
        requires_hospitalization, toxicity_risk_factors,
        management, dose_guidance, culprit_drugs,
        culprit_classes, intervention_required,
        monitoring_recommendations, lab_triggers,
        related_toxicity_ids, monitoring_frequency,
        reference_data, source_reference, notes,
        notes_clinical_pearls, notes_ui_display,
        toxicity_score_weight, created_at, updated_at
      `);if(t)throw new Error(`Toxicity fetch error: ${t.message}`);return(e||[]).map(n=>tZ(n))}catch(e){throw console.error("Error fetching toxicities:",e),e}},sZ=({type:e,title:t,message:n,className:s=""})=>{const i={warning:"bg-yellow-50 border-yellow-400 text-yellow-800",error:"bg-red-50 border-red-400 text-red-800",success:"bg-green-50 border-green-400 text-green-800",info:"bg-blue-50 border-blue-400 text-blue-800"},o={warning:l.jsxDEV(tt,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:46,columnNumber:14},void 0),error:l.jsxDEV(Qn,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:47,columnNumber:12},void 0),success:l.jsxDEV(Si,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:48,columnNumber:14},void 0),info:l.jsxDEV(Ou,{className:"w-5 h-5 mr-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:49,columnNumber:11},void 0)},r=Array.isArray(n)?n:[n];return l.jsxDEV("div",{className:`p-4 mb-4 border-l-4 rounded-r ${i[e]} ${s}`,children:[l.jsxDEV("div",{className:"flex items-center",children:[o[e],l.jsxDEV("h3",{className:"font-semibold",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:58,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:56,columnNumber:7},void 0),l.jsxDEV("div",{className:"mt-2",children:r.map((a,c)=>l.jsxDEV("p",{className:"text-sm leading-snug",children:a},c,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:62,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:60,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/AlertBanner.tsx",lineNumber:55,columnNumber:5},void 0)},iZ=e=>e.includes("4")?"bg-red-100 text-red-800":e.includes("3")?"bg-orange-100 text-orange-800":e.includes("2")?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",oZ=e=>e.includes("4")?"border-red-500":e.includes("3")?"border-orange-500":e.includes("2")?"border-yellow-500":"border-green-500",rZ=({toxicity:e,isOpen:t,onToggle:n})=>l.jsxDEV("div",{className:`bg-white/90 rounded-lg shadow-sm border-l-4 transition-all duration-200 ${oZ(e.severity)}`,children:[l.jsxDEV("button",{onClick:n,className:"flex items-center justify-between w-full px-3 py-2 text-left hover:bg-gray-50/50","aria-expanded":t,children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("span",{className:"text-base font-medium text-gray-900",children:e.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:42,columnNumber:9},void 0),l.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${iZ(e.severity)}`,children:e.severity},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:43,columnNumber:9},void 0),e.is_dose_limiting&&l.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-red-50 text-red-700",children:"DLT"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:41,columnNumber:7},void 0),l.jsxDEV(Tr,{className:`h-4 w-4 text-gray-500 transform transition-transform duration-300 ${t?"rotate-180":""}`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:52,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:36,columnNumber:5},void 0),t&&l.jsxDEV("div",{className:"px-3 pb-3 text-sm",children:l.jsxDEV("div",{className:"space-y-3 pt-1",children:[l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Clinical Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:62,columnNumber:13},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Category:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:65,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.clinical_category},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:66,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:64,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Grade:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:69,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.grading_scale},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:70,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:68,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Onset:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:73,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.expected_onset},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:74,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:72,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500",children:"Reversibility:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:77,columnNumber:17},void 0),l.jsxDEV("span",{className:"ml-1 text-gray-900",children:e.reversibility},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:76,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:63,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:61,columnNumber:11},void 0),l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Recognition"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:85,columnNumber:13},void 0),l.jsxDEV("p",{className:"leading-snug text-gray-700 mb-2",children:e.recognition},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:86,columnNumber:13},void 0),e.symptoms.length>0&&l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:90,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.symptoms.map((s,i)=>l.jsxDEV("li",{className:"text-gray-600",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:93,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:91,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:84,columnNumber:11},void 0),l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:102,columnNumber:13},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.management.map((s,i)=>l.jsxDEV("li",{className:"text-gray-700 leading-snug",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:105,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:103,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:101,columnNumber:11},void 0),e.monitoring_recommendations.length>0&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Monitoring"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:113,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500 block",children:"Initial:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:117,columnNumber:21},void 0),l.jsxDEV("span",{className:"text-gray-900",children:e.monitoring_frequency.initial},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:118,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:116,columnNumber:19},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500 block",children:"Follow-up:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:121,columnNumber:21},void 0),l.jsxDEV("span",{className:"text-gray-900",children:e.monitoring_frequency.followup},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:122,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:120,columnNumber:19},void 0),l.jsxDEV("div",{children:[l.jsxDEV("span",{className:"text-gray-500 block",children:"Long-term:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:125,columnNumber:21},void 0),l.jsxDEV("span",{className:"text-gray-900",children:e.monitoring_frequency.longterm},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:126,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:124,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:115,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5 mt-2",children:e.monitoring_recommendations.map((s,i)=>l.jsxDEV("li",{className:"text-gray-700 leading-snug",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:131,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:114,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:112,columnNumber:13},void 0),(e.labs.length>0||e.imaging.length>0)&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Investigations"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:141,columnNumber:15},void 0),e.labs.length>0&&l.jsxDEV("div",{className:"mb-2",children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Laboratory Tests"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:144,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.labs.map((s,i)=>l.jsxDEV("li",{className:"text-gray-600",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:147,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:145,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:143,columnNumber:17},void 0),e.imaging.length>0&&l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Imaging"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:154,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc pl-4 space-y-0.5",children:e.imaging.map((s,i)=>l.jsxDEV("li",{className:"text-gray-600",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:157,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:155,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:153,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:140,columnNumber:13},void 0),e.dose_guidance.length>0&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Dose Modification"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:168,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-0.5",children:e.dose_guidance.map((s,i)=>l.jsxDEV("p",{className:"leading-snug text-gray-700",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:171,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:169,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:167,columnNumber:13},void 0),(e.culprit_drugs.length>0||e.culprit_classes.length>0)&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Causative Agents"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:180,columnNumber:15},void 0),e.culprit_drugs.length>0&&l.jsxDEV("div",{className:"flex flex-wrap gap-1 mb-1",children:e.culprit_drugs.map((s,i)=>l.jsxDEV("span",{className:"px-2 py-0.5 text-xs bg-purple-50 text-purple-700 rounded-full",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:184,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:182,columnNumber:17},void 0),e.culprit_classes.length>0&&l.jsxDEV("div",{className:"flex flex-wrap gap-1",children:e.culprit_classes.map((s,i)=>l.jsxDEV("span",{className:"px-2 py-0.5 text-xs bg-blue-50 text-blue-700 rounded-full",children:s},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:193,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:179,columnNumber:13},void 0),e.notes_clinical_pearls&&l.jsxDEV("section",{children:[l.jsxDEV("h3",{className:"font-medium text-gray-900 mb-1",children:"Clinical Pearls"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:205,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-gray-700 leading-snug whitespace-pre-wrap",children:e.notes_clinical_pearls},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:206,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:204,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:59,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:58,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:35,columnNumber:3},void 0),aZ=()=>{const[e,t]=x.useState([]),[n,s]=x.useState(!0),[i,o]=x.useState(null),[r,a]=x.useState(null);return x.useEffect(()=>{async function c(){try{const u=await nZ();t(u)}catch(u){const d=u instanceof Error?u.message:"Unknown error";o(`Failed to load toxicity data: ${d}`),console.error("Error fetching toxicities:",u)}finally{s(!1)}}c()},[]),l.jsxDEV("div",{className:"h-screen flex flex-col",children:[l.jsxDEV("div",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm border-b px-4 py-2",children:l.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Toxicity Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:247,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:246,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex-1 overflow-hidden",children:l.jsxDEV("div",{className:"h-full p-4",children:n?l.jsxDEV("div",{className:"flex justify-center items-center h-full",children:l.jsxDEV(Zs,{className:"h-6 w-6 text-indigo-600 animate-spin"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:254,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:253,columnNumber:13},void 0):i?l.jsxDEV(sZ,{type:"error",title:"Error Loading Data",message:i},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:257,columnNumber:13},void 0):e.length===0?l.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[l.jsxDEV(Es,{className:"h-8 w-8 mb-2"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:264,columnNumber:15},void 0),l.jsxDEV("p",{children:"No toxicity data available"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:265,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:263,columnNumber:13},void 0):l.jsxDEV("div",{className:"h-full overflow-y-auto scrollbar-thin pr-2",children:l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.map((c,u)=>l.jsxDEV(rZ,{toxicity:c,isOpen:r===u,onToggle:()=>a(r===u?null:u)},c.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:271,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:269,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:251,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:250,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/toxicity/Toxicity.tsx",lineNumber:245,columnNumber:5},void 0)},lZ=[{diagnosis:"Breast Cancer",stage:"I",name:"AC-T Protocol",premedications:["Dexamethasone","Ondansetron","Diphenhydramine","Fosaprepitant"]},{diagnosis:"Breast Cancer",stage:"II",name:"FEC-T Protocol",premedications:["Dexamethasone","Aprepitant","Ondansetron","Lorazepam"]},{diagnosis:"Breast Cancer",stage:"III",name:"TCHP Protocol",premedications:["Dexamethasone","Ondansetron","Diphenhydramine","Famotidine"]},{diagnosis:"Breast Cancer",stage:"IV",name:"Palliative Capecitabine",premedications:["Dexamethasone","Ondansetron"]},{diagnosis:"Colorectal Cancer",stage:"II",name:"FOLFOX6",premedications:["Dexamethasone","Ondansetron","Calcium gluconate","Magnesium sulfate"]},{diagnosis:"Colorectal Cancer",stage:"III",name:"FOLFOX + Avastin",premedications:["Dexamethasone","Ranitidine","Ondansetron","Calcium gluconate"]},{diagnosis:"Colorectal Cancer",stage:"IV",name:"FOLFIRI + Avastin",premedications:["Dexamethasone","Ondansetron","Atropine","Diphenhydramine"]},{diagnosis:"Lung Cancer",stage:"I",name:"Surgery + Observation",premedications:[]},{diagnosis:"Lung Cancer",stage:"III",name:"Concurrent Chemoradiation",premedications:["Dexamethasone","Ondansetron","Fosaprepitant"]},{diagnosis:"Lung Cancer",stage:"IV",name:"Platinum Doublet",premedications:["Dexamethasone","Granisetron","Fosaprepitant","Lorazepam"]},{diagnosis:"Ovarian Cancer",stage:"III",name:"Carboplatin + Paclitaxel",premedications:["Dexamethasone","Diphenhydramine","Ranitidine","Ondansetron"]},{diagnosis:"Lymphoma",stage:"Any",name:"R-CHOP",premedications:["Acetaminophen","Diphenhydramine","Ondansetron","Mesna"]},{diagnosis:"Leukemia",stage:"Any",name:"7+3 Induction",premedications:["Dexamethasone","Ondansetron","Allopurinol"]},{diagnosis:"Melanoma",stage:"IV",name:"Immunotherapy (PD-1)",premedications:["Acetaminophen","Diphenhydramine"]},{diagnosis:"Prostate Cancer",stage:"IV",name:"ADT + Docetaxel",premedications:["Dexamethasone","Ondansetron","Famotidine"]},{diagnosis:"Other",stage:"Any",name:"Consider Clinical Trial",premedications:[]}],lf="disease-progress-tracker-data",cZ={"Breast Cancer":["ACT","FECD","T-DM1","Kadcyla"],"Colorectal Cancer":["FOLFOX","FOLFIRI","FOLFOXIRI","CAPOX"],"Lung Cancer":["Carbo + Pemetrexed","Osimertinib","Durvalumab"],"Prostate Cancer":["Docetaxel","Abiraterone","Enzalutamide"],Lymphoma:["R-CHOP","ABVD","Bendamustine + Rituximab"],Leukemia:["7+3 Regimen","FLAG-IDA","Blinatumomab"],Melanoma:["Nivolumab + Ipilimumab","Pembrolizumab"],"Ovarian Cancer":["Carboplatin + Paclitaxel","Bevacizumab"],Other:[]},uZ=["Breast Cancer","Colorectal Cancer","Lung Cancer","Prostate Cancer","Ovarian Cancer","Lymphoma","Leukemia","Melanoma","Other"],dZ=["HER2 Positive","KRAS Mutant","EGFR Mutant","ALK Rearrangement","MSI-High","PD-L1 Positive","BRAF V600E","TP53 Mutant","Other"],mZ=[{title:"Disease Status",icon:F2},{title:"Performance Status",icon:zs},{title:"Progression",icon:B2},{title:"Lines of Treatment",icon:Ry},{title:"AI Assistant",icon:jy}],fZ=()=>{const{toast:e}=Eg(),[t,n]=x.useState(0),[s,i]=x.useState(!1),[o,r]=x.useState([]),a=()=>!u||!h?[]:lZ.filter(ae=>ae.diagnosis===(u==="Other"?m:u)&&(ae.stage===h||ae.stage==="Any")),c=()=>{const ae=a();return ae.length?[...new Set(ae.flatMap(_e=>_e.premedications||[]))]:[]},[u,d]=x.useState(""),[m,f]=x.useState(""),[h,p]=x.useState(""),[g,v]=x.useState(""),[b,w]=x.useState(""),[N,E]=x.useState(""),[D,T]=x.useState(""),[M,_]=x.useState(""),[P,k]=x.useState(""),[L,B]=x.useState(""),[A,V]=x.useState(""),[O,U]=x.useState(""),[q,$]=x.useState(""),[Z,I]=x.useState(""),[ie,ve]=x.useState(""),[j,ce]=x.useState(""),[ge,xe]=x.useState(""),[ne,me]=x.useState(""),[De,K]=x.useState(""),[J,Y]=x.useState(""),[ue,de]=x.useState(""),[re,pe]=x.useState(""),[ze,$e]=x.useState(""),[We,Mn]=x.useState(""),[As,ls]=x.useState(null),mt=()=>{const ae=g==="Other"?b:g;let _e=` Smart Treatment Suggestions:
`;if(ae)switch(ae){case"HER2 Positive":_e+=`- Consider T-DM1 or Trastuzumab-based therapy
`,_e+=`- Dual HER2 blockade may be appropriate
`;break;case"KRAS Mutant":_e+=`- KRAS mutation limits anti-EGFR therapy options
`,_e+=`- Consider MEK inhibitor clinical trials
`;break;case"EGFR Mutant":_e+=`- EGFR TKI therapy recommended
`,_e+=`- Monitor for T790M resistance mutation
`;break;case"PD-L1 Positive":_e+=`- Consider immunotherapy as monotherapy
`,_e+=`- Evaluate combination chemo-immunotherapy
`;break;default:_e+=`- Consider molecular profiling for targetable mutations
`}if(L){_e+=`
 Performance Status Considerations:
`;const It=parseInt(L,10);isNaN(It)?_e+=`- Performance score invalid, please reassess
`:It<=1?_e+=`- Patient fit for full dose therapy
`:It===2?(_e+=`- Consider dose reduction or weekly regimens
`,_e+=`- Close monitoring for toxicity needed
`):(_e+=`- Best supportive care may be most appropriate
`,_e+=`- Avoid aggressive therapy due to poor PS
`)}if(ne)switch(_e+=`
 Line of Therapy Recommendations:
`,ne){case"1st Line":_e+=`- Standard first-line protocols preferred
`,_e+=`- Consider clinical trial enrollment
`;break;case"2nd Line":_e+=`- Review first-line response duration
`,_e+=`- Consider alternative drug class
`;break;case"3rd Line":_e+=`- Molecular profiling guided therapy
`,_e+=`- Early palliative care integration
`;break;case"Maintenance":_e+=`- Less intensive continuation approach
`,_e+=`- Monitor tolerability closely
`;break}return _e},Wn=async()=>{try{i(!0);const ae=mt();await new Promise(_e=>setTimeout(_e,1e3)),(!u||!h)&&e({title:"Warning",description:"Please provide diagnosis and stage for better suggestions",variant:"destructive"}),ls(ae)}catch(ae){console.error("AI Suggestion Error:",ae),e({title:"Error",description:"Failed to generate AI suggestions",variant:"destructive"})}finally{i(!1)}},un=()=>{var ae,_e,It,Cn,yt,Ut,dn,ko,Kr,Is,Mo,Co,Yr,Hl,Xr,Ul,Jr,Qr,zl,$l,Zr,Wl,Gl;try{const z=localStorage.getItem(lf);if(z){const se=JSON.parse(z);d(((ae=se.diseaseStatus)==null?void 0:ae.primaryDiagnosis)||""),f(((_e=se.diseaseStatus)==null?void 0:_e.otherPrimaryDiagnosis)||""),p(((It=se.diseaseStatus)==null?void 0:It.stageAtDiagnosis)||""),v(((Cn=se.diseaseStatus)==null?void 0:Cn.histologyMutation)||""),w(((yt=se.diseaseStatus)==null?void 0:yt.otherHistologyMutation)||""),E(((Ut=se.diseaseStatus)==null?void 0:Ut.dateOfDiagnosis)||""),T(((dn=se.diseaseStatus)==null?void 0:dn.diseaseNotes)||""),_(((ko=se.performanceStatus)==null?void 0:ko.assessmentDate)||""),k(((Kr=se.performanceStatus)==null?void 0:Kr.performanceScale)||""),B(((Is=se.performanceStatus)==null?void 0:Is.performanceScore)||""),V(((Mo=se.performanceStatus)==null?void 0:Mo.performanceNotes)||""),U(((Co=se.progression)==null?void 0:Co.reassessmentDate)||""),$(((Yr=se.progression)==null?void 0:Yr.imagingType)||""),I(((Hl=se.progression)==null?void 0:Hl.findingsSummary)||""),ve(((Xr=se.progression)==null?void 0:Xr.markerType)||""),ce(((Ul=se.progression)==null?void 0:Ul.markerValue)||""),xe(((Jr=se.progression)==null?void 0:Jr.progressionNotes)||""),me(((Qr=se.linesOfTreatment)==null?void 0:Qr.treatmentLine)||""),K(((zl=se.linesOfTreatment)==null?void 0:zl.treatmentRegimen)||""),Y((($l=se.linesOfTreatment)==null?void 0:$l.startDate)||""),de(((Zr=se.linesOfTreatment)==null?void 0:Zr.endDate)||""),pe(((Wl=se.linesOfTreatment)==null?void 0:Wl.treatmentResponse)||""),$e(((Gl=se.linesOfTreatment)==null?void 0:Gl.treatmentNotes)||""),e({title:"Success",description:"Previous session data loaded!",variant:"default"})}}catch(z){console.error("Failed to load from localStorage",z),e({title:"Warning",description:"Failed to load previous data",variant:"destructive"})}},ee=()=>{const ae={diseaseStatus:{primaryDiagnosis:u,otherPrimaryDiagnosis:m,stageAtDiagnosis:h,histologyMutation:g,otherHistologyMutation:b,dateOfDiagnosis:N,diseaseNotes:D},performanceStatus:{assessmentDate:M,performanceScale:P,performanceScore:L,performanceNotes:A},progression:{reassessmentDate:O,imagingType:q,findingsSummary:Z,markerType:ie,markerValue:j,progressionNotes:ge},linesOfTreatment:{treatmentLine:ne,treatmentRegimen:De,startDate:J,endDate:ue,treatmentResponse:re,treatmentNotes:ze}};localStorage.setItem(lf,JSON.stringify(ae))};x.useEffect(()=>{un()},[]);const Q=()=>{ee(),e({title:"Success",description:"Disease Status Saved!",variant:"default"})},Ne=()=>{ee(),e({title:"Success",description:"Performance Status Saved!",variant:"default"})},Ie=()=>{ee(),e({title:"Success",description:"Progression Record Saved!",variant:"default"})},Le=()=>{ee(),e({title:"Success",description:"Line of Treatment Saved!",variant:"default"})},Nt=()=>{localStorage.removeItem(lf),d(""),f(""),p(""),v(""),w(""),E(""),T(""),_(""),k(""),B(""),V(""),U(""),$(""),I(""),ve(""),ce(""),xe(""),me(""),K(""),Y(""),de(""),pe(""),$e(""),e({title:"Success",description:"All data cleared!",variant:"default"})};return x.useEffect(()=>{if(u){const ae=cZ[u]||[];r(ae)}else r([])},[u]),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-2xl shadow-lg",children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:" Disease & Progress Tracker"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:397,columnNumber:9},void 0),l.jsxDEV("button",{type:"button",onClick:Nt,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-semibold rounded-lg hover:opacity-90 transition",children:" Clear All Data"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:396,columnNumber:7},void 0),l.jsxDEV(pt.Group,{selectedIndex:t,onChange:n,children:[l.jsxDEV(pt.List,{className:"flex space-x-4 border-b pb-3 mb-6",children:mZ.map((ae,_e)=>l.jsxDEV(pt,{className:({selected:It})=>`
              flex items-center gap-2 cursor-pointer py-2 px-4 rounded-lg shadow transition-all duration-300
              ${It?"bg-gradient-to-r from-indigo-500 to-teal-500 text-white":"bg-white text-gray-600 hover:text-indigo-500 hover:shadow-md"}
            `,children:[l.jsxDEV(ae.icon,{className:"w-5 h-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:417,columnNumber:15},void 0),ae.title]},_e,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:411,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:409,columnNumber:9},void 0),l.jsxDEV(pt.Panels,{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("label",{htmlFor:"primary-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:429,columnNumber:17},void 0),l.jsxDEV("select",{id:"primary-diagnosis",value:u,onChange:ae=>d(ae.target.value),className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Primary Diagnosis",children:[l.jsxDEV("option",{value:"",children:"Select Primary Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:439,columnNumber:19},void 0),uZ.map(ae=>l.jsxDEV("option",{value:ae,children:ae},ae,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:441,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:432,columnNumber:17},void 0),u==="Other"&&l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("label",{htmlFor:"other-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:446,columnNumber:21},void 0),l.jsxDEV("input",{id:"other-diagnosis",type:"text",value:m,onChange:ae=>f(ae.target.value),placeholder:"Specify Other Primary Diagnosis",className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:449,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:445,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:428,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"stage-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage at Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:462,columnNumber:17},void 0),l.jsxDEV("select",{id:"stage-diagnosis",value:h,onChange:ae=>p(ae.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Stage at Diagnosis",children:[l.jsxDEV("option",{value:"",children:"Select Stage"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:472,columnNumber:19},void 0),l.jsxDEV("option",{value:"I",children:"Stage I"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:473,columnNumber:19},void 0),l.jsxDEV("option",{value:"II",children:"Stage II"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:474,columnNumber:19},void 0),l.jsxDEV("option",{value:"III",children:"Stage III"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:475,columnNumber:19},void 0),l.jsxDEV("option",{value:"IV",children:"Stage IV"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:476,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:465,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:461,columnNumber:15},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("label",{htmlFor:"histology-mutation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Histology/Mutation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:481,columnNumber:17},void 0),l.jsxDEV("select",{id:"histology-mutation",value:g,onChange:ae=>v(ae.target.value),className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Histology or Mutation",children:[l.jsxDEV("option",{value:"",children:"Select Histology/Mutation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:491,columnNumber:19},void 0),dZ.map(ae=>l.jsxDEV("option",{value:ae,children:ae},ae,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:493,columnNumber:21},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:484,columnNumber:17},void 0),g==="Other"&&l.jsxDEV("div",{className:"mt-2",children:[l.jsxDEV("label",{htmlFor:"other-mutation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Mutation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:498,columnNumber:21},void 0),l.jsxDEV("input",{id:"other-mutation",type:"text",value:b,onChange:ae=>w(ae.target.value),placeholder:"Specify Other Histology/Mutation",className:"w-full input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:501,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:497,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:480,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"date-diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:514,columnNumber:17},void 0),l.jsxDEV("input",{id:"date-diagnosis",type:"date",value:N,onChange:ae=>E(ae.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Date of Diagnosis"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:517,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:513,columnNumber:15},void 0),l.jsxDEV("div",{className:"md:col-span-2",children:[l.jsxDEV("label",{htmlFor:"disease-notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Disease Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:528,columnNumber:17},void 0),l.jsxDEV("textarea",{id:"disease-notes",value:D,onChange:ae=>T(ae.target.value),placeholder:"Disease Notes...",rows:4,className:"textarea-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:531,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:527,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:427,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Q,className:"save-button bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200",children:"Save Disease Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:543,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:542,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:426,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"assessment-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assessment Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:557,columnNumber:17},void 0),l.jsxDEV("input",{id:"assessment-date",type:"date",value:M,onChange:ae=>_(ae.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Assessment Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:560,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:556,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"performance-scale",className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Scale"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:570,columnNumber:17},void 0),l.jsxDEV("select",{id:"performance-scale",value:P,onChange:ae=>k(ae.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Performance Scale",children:[l.jsxDEV("option",{value:"",children:"Select Scale"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:580,columnNumber:19},void 0),l.jsxDEV("option",{value:"ecog",children:"ECOG"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:581,columnNumber:19},void 0),l.jsxDEV("option",{value:"karnofsky",children:"Karnofsky"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:582,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:569,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"performance-score",className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Score"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:586,columnNumber:17},void 0),l.jsxDEV("select",{id:"performance-score",value:L,onChange:ae=>B(ae.target.value),className:"input-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200","aria-label":"Performance Score",children:[l.jsxDEV("option",{value:"",children:"Select Score"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:596,columnNumber:19},void 0),l.jsxDEV("option",{value:"0",children:"0 - Fully active"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:597,columnNumber:19},void 0),l.jsxDEV("option",{value:"1",children:"1 - Restricted in strenuous activity"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:598,columnNumber:19},void 0),l.jsxDEV("option",{value:"2",children:"2 - Ambulatory but unable to work"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:599,columnNumber:19},void 0),l.jsxDEV("option",{value:"3",children:"3 - Limited self-care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:600,columnNumber:19},void 0),l.jsxDEV("option",{value:"4",children:"4 - Completely disabled"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:601,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:589,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:585,columnNumber:15},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{htmlFor:"performance-notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:605,columnNumber:17},void 0),l.jsxDEV("textarea",{id:"performance-notes",value:A,onChange:ae=>V(ae.target.value),placeholder:"Performance Notes...",rows:4,className:"textarea-field focus:ring-2 focus:ring-indigo-500 transition-all duration-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:608,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:604,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:555,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Ne,className:"save-button bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200",children:"Save Performance Status"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:620,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:619,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:554,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("input",{type:"date",value:O,onChange:ae=>U(ae.target.value),className:"input-field","aria-label":"Reassessment Date",placeholder:"Reassessment Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:633,columnNumber:15},void 0),l.jsxDEV("select",{value:q,onChange:ae=>$(ae.target.value),className:"input-field","aria-label":"Imaging Type",children:[l.jsxDEV("option",{value:"",children:"Select Imaging Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:647,columnNumber:17},void 0),l.jsxDEV("option",{value:"CT",children:"CT Scan"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:648,columnNumber:17},void 0),l.jsxDEV("option",{value:"MRI",children:"MRI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:649,columnNumber:17},void 0),l.jsxDEV("option",{value:"PET",children:"PET Scan"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:650,columnNumber:17},void 0),l.jsxDEV("option",{value:"XRay",children:"X-Ray"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:651,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:641,columnNumber:15},void 0),l.jsxDEV("textarea",{value:Z,onChange:ae=>I(ae.target.value),placeholder:"Findings Summary...",rows:4,className:"textarea-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:653,columnNumber:15},void 0),l.jsxDEV("input",{type:"text",value:ie,onChange:ae=>ve(ae.target.value),placeholder:"Tumor Marker Type",className:"input-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:654,columnNumber:15},void 0),l.jsxDEV("input",{type:"number",value:j,onChange:ae=>ce(ae.target.value),placeholder:"Tumor Marker Value",className:"input-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:655,columnNumber:15},void 0),l.jsxDEV("textarea",{value:ge,onChange:ae=>xe(ae.target.value),placeholder:"Progression Notes...",rows:4,className:"textarea-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:656,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:632,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Ie,className:"save-button",children:"Save Progression"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:660,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:659,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:631,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:[l.jsxDEV("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("select",{value:ne,onChange:ae=>me(ae.target.value),className:"input-field","aria-label":"Treatment Line",children:[l.jsxDEV("option",{value:"",children:"Select Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:673,columnNumber:17},void 0),l.jsxDEV("option",{value:"1st Line",children:"1st Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:674,columnNumber:17},void 0),l.jsxDEV("option",{value:"2nd Line",children:"2nd Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:675,columnNumber:17},void 0),l.jsxDEV("option",{value:"3rd Line",children:"3rd Line"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:676,columnNumber:17},void 0),l.jsxDEV("option",{value:"Maintenance",children:"Maintenance"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:677,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:667,columnNumber:15},void 0),l.jsxDEV("input",{type:"text",value:De,onChange:ae=>K(ae.target.value),placeholder:"Treatment Regimen",className:"input-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:679,columnNumber:15},void 0),l.jsxDEV("input",{type:"date",value:J,onChange:ae=>Y(ae.target.value),className:"input-field","aria-label":"Start Date",placeholder:"Start Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:680,columnNumber:15},void 0),l.jsxDEV("input",{type:"date",value:ue,onChange:ae=>de(ae.target.value),className:"input-field","aria-label":"End Date",placeholder:"End Date"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:688,columnNumber:15},void 0),l.jsxDEV("select",{value:re,onChange:ae=>pe(ae.target.value),className:"input-field","aria-label":"Treatment Response",children:[l.jsxDEV("option",{value:"",children:"Select Response"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:702,columnNumber:17},void 0),l.jsxDEV("option",{value:"Complete Response",children:"Complete Response (CR)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:703,columnNumber:17},void 0),l.jsxDEV("option",{value:"Partial Response",children:"Partial Response (PR)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:704,columnNumber:17},void 0),l.jsxDEV("option",{value:"Stable Disease",children:"Stable Disease (SD)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:705,columnNumber:17},void 0),l.jsxDEV("option",{value:"Progressive Disease",children:"Progressive Disease (PD)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:706,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:696,columnNumber:15},void 0),l.jsxDEV("textarea",{value:ze,onChange:ae=>$e(ae.target.value),placeholder:"Treatment Notes...",rows:4,className:"textarea-field"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:708,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:666,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex justify-end mt-6",children:l.jsxDEV("button",{type:"button",onClick:Le,className:"save-button",children:"Save Line of Treatment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:712,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:711,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:665,columnNumber:11},void 0),l.jsxDEV(pt.Panel,{children:l.jsxDEV("div",{className:"space-y-6",children:[a().length>0&&l.jsxDEV("div",{className:"p-6 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900 dark:to-blue-900 rounded-xl shadow-sm mb-6 transform transition-all duration-300 hover:shadow-md hover:scale-[1.01]",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-indigo-700 dark:text-indigo-300 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-indigo-100 dark:bg-indigo-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:723,columnNumber:21},void 0),"Matched Treatment Protocols"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:722,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1.5",children:a().map((ae,_e)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 mt-1 bg-indigo-400 dark:bg-indigo-600 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:731,columnNumber:25},void 0),l.jsxDEV("span",{children:ae.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:732,columnNumber:25},void 0)]},_e,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:730,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:728,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:721,columnNumber:17},void 0),o.length>0&&l.jsxDEV("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900 dark:to-indigo-900 rounded-xl shadow-sm mb-6 transform transition-all duration-300 hover:shadow-md hover:scale-[1.01]",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-purple-600 dark:text-purple-400 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-purple-100 dark:bg-purple-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:743,columnNumber:21},void 0),"Standard Protocols for ",u]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:742,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1.5",children:o.map((ae,_e)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 mt-1 bg-purple-400 dark:bg-purple-600 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:751,columnNumber:25},void 0),l.jsxDEV("span",{children:ae},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:752,columnNumber:25},void 0)]},_e,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:750,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:748,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:741,columnNumber:17},void 0),c().length>0&&l.jsxDEV("div",{className:"p-6 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900 dark:to-teal-900 rounded-xl shadow-sm mb-6 transform transition-all duration-300 hover:shadow-md hover:scale-[1.01]",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-emerald-700 dark:text-emerald-300 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-emerald-100 dark:bg-emerald-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:763,columnNumber:21},void 0),"Suggested Pre-Medications"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:762,columnNumber:19},void 0),l.jsxDEV("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-300 space-y-1.5",children:c().map((ae,_e)=>l.jsxDEV("li",{className:"flex items-start",children:[l.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 mt-1 bg-emerald-400 dark:bg-emerald-600 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:771,columnNumber:25},void 0),l.jsxDEV("span",{children:ae},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:772,columnNumber:25},void 0)]},_e,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:770,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:768,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:761,columnNumber:17},void 0),l.jsxDEV("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-100 dark:border-gray-700",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-200",children:"AI Treatment Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:780,columnNumber:17},void 0),l.jsxDEV("div",{className:"mb-4",children:[l.jsxDEV("label",{htmlFor:"ai-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Case Summary (Optional)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:785,columnNumber:19},void 0),l.jsxDEV("textarea",{id:"ai-input",value:We,onChange:ae=>Mn(ae.target.value),placeholder:"Enter case summary (e.g., Metastatic CRC after FOLFIRI)",rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:788,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:784,columnNumber:17},void 0),l.jsxDEV("button",{onClick:Wn,disabled:s,className:"w-full px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center",children:s?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("div",{className:"w-5 h-5 border-3 border-t-transparent border-white rounded-full animate-spin mr-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:805,columnNumber:23},void 0),l.jsxDEV("span",{children:"Analyzing Patient Data..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:806,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:804,columnNumber:21},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV("span",{className:"mr-2",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:810,columnNumber:23},void 0),l.jsxDEV("span",{children:"Ask AI for Personalized Suggestions"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:811,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:809,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:798,columnNumber:17},void 0),As&&l.jsxDEV("div",{className:"p-6 mt-6 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900 rounded-xl shadow-lg border border-blue-100 dark:border-blue-800 transform transition-all duration-500 animate-in fade-in-0 slide-in-from-bottom-4",children:[l.jsxDEV("h4",{className:"text-lg font-bold mb-3 text-blue-600 dark:text-blue-300 flex items-center",children:[l.jsxDEV("span",{className:"mr-2 p-1 bg-blue-100 dark:bg-blue-800 rounded-full",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:819,columnNumber:23},void 0),"AI Personalized Recommendations"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:818,columnNumber:21},void 0),l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:As},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:824,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:817,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:779,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:718,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:717,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:423,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:407,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/sections/DiseaseProgressTracker.tsx",lineNumber:394,columnNumber:5},void 0)};function zh(e,[t,n]){return Math.min(n,Math.max(t,e))}function hZ(e,t){return x.useReducer((n,s)=>t[n][s]??n,e)}var s0="ScrollArea",[Lk,Nne]=_s(s0),[pZ,$n]=Lk(s0),Fk=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:o=600,...r}=e,[a,c]=x.useState(null),[u,d]=x.useState(null),[m,f]=x.useState(null),[h,p]=x.useState(null),[g,v]=x.useState(null),[b,w]=x.useState(0),[N,E]=x.useState(0),[D,T]=x.useState(!1),[M,_]=x.useState(!1),P=Je(t,L=>c(L)),k=Md(i);return G.jsx(pZ,{scope:n,type:s,dir:k,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:m,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:D,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:M,onScrollbarYEnabledChange:_,onCornerWidthChange:w,onCornerHeightChange:E,children:G.jsx(Pe.div,{dir:k,...r,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});Fk.displayName=s0;var Bk="ScrollAreaViewport",Hk=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:i,...o}=e,r=$n(Bk,n),a=x.useRef(null),c=Je(t,a,r.onViewportChange);return G.jsxs(G.Fragment,{children:[G.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),G.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e.style},children:G.jsx("div",{ref:r.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Hk.displayName=Bk;var Ps="ScrollAreaScrollbar",i0=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=$n(Ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:r}=i,a=e.orientation==="horizontal";return x.useEffect(()=>(a?o(!0):r(!0),()=>{a?o(!1):r(!1)}),[a,o,r]),i.type==="hover"?G.jsx(gZ,{...s,ref:t,forceMount:n}):i.type==="scroll"?G.jsx(bZ,{...s,ref:t,forceMount:n}):i.type==="auto"?G.jsx(Uk,{...s,ref:t,forceMount:n}):i.type==="always"?G.jsx(o0,{...s,ref:t}):null});i0.displayName=Ps;var gZ=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=$n(Ps,e.__scopeScrollArea),[o,r]=x.useState(!1);return x.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),r(!0)},d=()=>{c=window.setTimeout(()=>r(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),G.jsx(Un,{present:n||o,children:G.jsx(Uk,{"data-state":o?"visible":"hidden",...s,ref:t})})}),bZ=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=$n(Ps,e.__scopeScrollArea),o=e.orientation==="horizontal",r=Ad(()=>c("SCROLL_END"),100),[a,c]=hZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,c]),x.useEffect(()=>{const u=i.viewport,d=o?"scrollLeft":"scrollTop";if(u){let m=u[d];const f=()=>{const h=u[d];m!==h&&(c("SCROLL"),r()),m=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,c,r]),G.jsx(Un,{present:n||a!=="hidden",children:G.jsx(o0,{"data-state":a==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Se(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Se(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Uk=x.forwardRef((e,t)=>{const n=$n(Ps,e.__scopeScrollArea),{forceMount:s,...i}=e,[o,r]=x.useState(!1),a=e.orientation==="horizontal",c=Ad(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;r(a?u:d)}},10);return Er(n.viewport,c),Er(n.content,c),G.jsx(Un,{present:s||o,children:G.jsx(o0,{"data-state":o?"visible":"hidden",...i,ref:t})})}),o0=x.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,i=$n(Ps,e.__scopeScrollArea),o=x.useRef(null),r=x.useRef(0),[a,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=qk(a.viewport,a.content),d={...s,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>r.current=0,onThumbPointerDown:f=>r.current=f};function m(f,h){return DZ(f,r.current,a,h)}return n==="horizontal"?G.jsx(vZ,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollLeft,h=Ty(f,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=m(f,i.dir))}}):n==="vertical"?G.jsx(xZ,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollTop,h=Ty(f,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=m(f))}}):null}),vZ=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,o=$n(Ps,e.__scopeScrollArea),[r,a]=x.useState(),c=x.useRef(null),u=Je(t,c,o.onScrollbarXChange);return x.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),G.jsx($k,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),Yk(f,m)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&r&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Cu(r.paddingLeft),paddingEnd:Cu(r.paddingRight)}})}})}),xZ=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,o=$n(Ps,e.__scopeScrollArea),[r,a]=x.useState(),c=x.useRef(null),u=Je(t,c,o.onScrollbarYChange);return x.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),G.jsx($k,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pd(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),Yk(f,m)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&r&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Cu(r.paddingTop),paddingEnd:Cu(r.paddingBottom)}})}})}),[NZ,zk]=Lk(Ps),$k=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:o,onThumbPointerUp:r,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:m,...f}=e,h=$n(Ps,n),[p,g]=x.useState(null),v=Je(t,P=>g(P)),b=x.useRef(null),w=x.useRef(""),N=h.viewport,E=s.content-s.viewport,D=At(d),T=At(c),M=Ad(m,10);function _(P){if(b.current){const k=P.clientX-b.current.left,L=P.clientY-b.current.top;u({x:k,y:L})}}return x.useEffect(()=>{const P=k=>{const L=k.target;(p==null?void 0:p.contains(L))&&D(k,E)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[N,p,E,D]),x.useEffect(T,[s,T]),Er(p,M),Er(h.content,M),G.jsx(NZ,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:At(o),onThumbPointerUp:At(r),onThumbPositionChange:T,onThumbPointerDown:At(a),children:G.jsx(Pe.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Se(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=p.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),_(P))}),onPointerMove:Se(e.onPointerMove,_),onPointerUp:Se(e.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),Mu="ScrollAreaThumb",Wk=x.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=zk(Mu,e.__scopeScrollArea);return G.jsx(Un,{present:n||i.hasThumb,children:G.jsx(yZ,{ref:t,...s})})}),yZ=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...i}=e,o=$n(Mu,n),r=zk(Mu,n),{onThumbPositionChange:a}=r,c=Je(t,m=>r.onThumbChange(m)),u=x.useRef(void 0),d=Ad(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const m=o.viewport;if(m){const f=()=>{if(d(),!u.current){const h=EZ(m,a);u.current=h,a()}};return a(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[o.viewport,d,a]),G.jsx(Pe.div,{"data-state":r.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Se(e.onPointerDownCapture,m=>{const h=m.target.getBoundingClientRect(),p=m.clientX-h.left,g=m.clientY-h.top;r.onThumbPointerDown({x:p,y:g})}),onPointerUp:Se(e.onPointerUp,r.onThumbPointerUp)})});Wk.displayName=Mu;var r0="ScrollAreaCorner",Gk=x.forwardRef((e,t)=>{const n=$n(r0,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?G.jsx(wZ,{...e,ref:t}):null});Gk.displayName=r0;var wZ=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,i=$n(r0,n),[o,r]=x.useState(0),[a,c]=x.useState(0),u=!!(o&&a);return Er(i.scrollbarX,()=>{var m;const d=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),Er(i.scrollbarY,()=>{var m;const d=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(d),r(d)}),u?G.jsx(Pe.div,{...s,ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Cu(e){return e?parseInt(e,10):0}function qk(e,t){const n=e/t;return isNaN(n)?0:n}function Pd(e){const t=qk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function DZ(e,t,n,s="ltr"){const i=Pd(n),o=i/2,r=t||o,a=i-r,c=n.scrollbar.paddingStart+r,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,m=s==="ltr"?[0,d]:[d*-1,0];return Kk([c,u],m)(e)}function Ty(e,t,n="ltr"){const s=Pd(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,r=t.content-t.viewport,a=o-s,c=n==="ltr"?[0,r]:[r*-1,0],u=zh(e,c);return Kk([0,r],[0,a])(u)}function Kk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function Yk(e,t){return e>0&&e<t}var EZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},r=n.left!==o.left,a=n.top!==o.top;(r||a)&&t(),n=o,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function Ad(e,t){const n=At(e),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Er(e,t){const n=At(t);Ht(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,n])}var Xk=Fk,TZ=Hk,SZ=Gk;const Jk=x.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(Xk,{ref:s,className:ke("relative overflow-hidden",e),...n,children:[l.jsxDEV(TZ,{className:"h-full w-full rounded-[inherit]",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:17,columnNumber:5},void 0),l.jsxDEV(Qk,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:20,columnNumber:5},void 0),l.jsxDEV(SZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:21,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:12,columnNumber:3},void 0));Jk.displayName=Xk.displayName;const Qk=x.forwardRef(({className:e,orientation:t="vertical",...n},s)=>l.jsxDEV(i0,{ref:s,orientation:t,className:ke("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...n,children:l.jsxDEV(Wk,{className:"relative flex-1 rounded-full bg-slate-200 dark:bg-slate-800"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:43,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/scroll-area.tsx",lineNumber:30,columnNumber:3},void 0));Qk.displayName=i0.displayName;const _Z=md("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bn({className:e,variant:t,...n}){return l.jsxDEV("div",{className:ke(_Z({variant:t}),e),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}const kZ=()=>l.jsxDEV(Gr,{className:"w-[95vw] max-w-4xl h-[95vh] flex flex-col bg-white dark:bg-gray-900 p-0 gap-0",children:l.jsxDEV("div",{className:"animate-pulse",children:[l.jsxDEV(Fl,{className:"px-6 py-4 border-b dark:border-gray-800",children:l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-8 w-64 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:38,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-4 w-48 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:39,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:36,columnNumber:7},void 0),l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[l.jsxDEV("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:44,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:45,columnNumber:11},void 0),l.jsxDEV("div",{className:"h-6 w-28 bg-gray-200 dark:bg-gray-700 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:43,columnNumber:9},void 0),[...Array(3)].map((e,t)=>l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"h-6 w-48 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:50,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("div",{className:"h-4 w-full bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:52,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-4 w-5/6 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:53,columnNumber:15},void 0),l.jsxDEV("div",{className:"h-4 w-4/6 bg-gray-200 dark:bg-gray-700 rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:54,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:51,columnNumber:13},void 0)]},t,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:49,columnNumber:11},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:42,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:35,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:34,columnNumber:3},void 0),MZ=({error:e,onRetry:t})=>l.jsxDEV(Gr,{className:"w-[95vw] max-w-4xl h-[95vh] flex flex-col bg-white dark:bg-gray-900 p-0 gap-0",children:l.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:l.jsxDEV("div",{className:"p-6 flex flex-col items-center justify-center text-center space-y-4",children:[l.jsxDEV("div",{className:"p-3 rounded-full bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400",children:l.jsxDEV(tt,{className:"h-6 w-6"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:69,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:68,columnNumber:9},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Error Loading Medication Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:72,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:73,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:71,columnNumber:9},void 0),l.jsxDEV("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors",children:"Try Again"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:67,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:66,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:65,columnNumber:3},void 0),us=({title:e,icon:t,children:n})=>l.jsxDEV("div",{className:"relative border border-gray-100 dark:border-gray-800 rounded-xl bg-gradient-to-b from-white/50 to-gray-50/50 dark:from-gray-900/50 dark:to-gray-800/50 p-6 backdrop-blur shadow-sm",children:[l.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[t&&l.jsxDEV("div",{className:"p-2 bg-gray-100/80 dark:bg-gray-800/80 rounded-lg",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:94,columnNumber:16},void 0),l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:95,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:93,columnNumber:5},void 0),n]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:92,columnNumber:3},void 0),nt=({title:e,children:t,variant:n="default"})=>l.jsxDEV("div",{className:ke("rounded-lg p-4 backdrop-blur-sm",n==="warning"&&"bg-yellow-100/30 dark:bg-yellow-900/30 border border-yellow-200/50 dark:border-yellow-700/50",n==="danger"&&"bg-red-100/30 dark:bg-red-900/30 border border-red-200/50 dark:border-red-700/50",n==="default"&&"bg-gray-100/30 dark:bg-gray-800/30 border border-gray-200/50 dark:border-gray-700/50"),children:[l.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:l.jsxDEV("h4",{className:ke("text-sm font-medium",n==="warning"&&"text-yellow-800 dark:text-yellow-200",n==="danger"&&"text-red-800 dark:text-red-200",n==="default"&&"text-gray-900 dark:text-gray-100"),children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:116,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:115,columnNumber:5},void 0),l.jsxDEV("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:125,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:109,columnNumber:3},void 0);function CZ({medication:e,isOpen:t,onClose:n}){var c,u,d,m,f,h,p,g,v,b,w,N,E,D,T,M,_,P,k,L,B,A,V,O,U,q,$,Z,I,ie,ve,j,ce,ge,xe,ne,me,De,K,J,Y,ue,de;const[s,i]=x.useState(!1),[o,r]=x.useState(null),a=()=>{r(null),i(!0),i(!1)};return e?s?l.jsxDEV(Ja,{open:t,onOpenChange:n,children:l.jsxDEV(kZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:149,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:148,columnNumber:7},this):o?l.jsxDEV(Ja,{open:t,onOpenChange:n,children:l.jsxDEV(MZ,{error:o,onRetry:a},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:157,columnNumber:9},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:156,columnNumber:7},this):l.jsxDEV(Ja,{open:t,onOpenChange:n,"aria-label":`${e.name} Details`,children:l.jsxDEV(Gr,{className:"w-[95vw] max-w-4xl h-[95vh] flex flex-col bg-white dark:bg-gray-900 p-0 gap-0",role:"dialog","aria-modal":"true","aria-labelledby":"medication-title","aria-describedby":"medication-description",children:[l.jsxDEV(Fl,{className:"px-6 py-4 border-b dark:border-gray-800 sticky top-0 z-10 bg-white dark:bg-gray-900 backdrop-blur-sm bg-opacity-90",children:l.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[l.jsxDEV("div",{className:"flex-1 min-w-0",children:["              ",l.jsxDEV(kd,{id:"medication-title",className:"text-2xl font-bold text-gray-900 dark:text-gray-50 truncate",children:e.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:176,columnNumber:59},this),l.jsxDEV("p",{id:"medication-description",className:"sr-only",children:"Detailed information about the medication, including dosing, side effects, and monitoring."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:182,columnNumber:15},this),((c=e.brand_names)==null?void 0:c.length)>0&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:e.brand_names.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:184,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:176,columnNumber:13},this),"            ",l.jsxDEV("button",{onClick:n,onKeyDown:re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),n())},className:"absolute right-4 top-4 text-gray-400 hover:text-gray-700 dark:text-gray-500 dark:hover:text-gray-300 transition-colors rounded-full p-2 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900","aria-label":"Close medication details",children:l.jsxDEV(Qn,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:199,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:188,columnNumber:31},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:175,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:174,columnNumber:9},this),"        ",l.jsxDEV(Jk,{className:"flex-1 h-[calc(95vh-4rem)] overflow-y-auto",role:"region","aria-label":"Medication details",children:l.jsxDEV("div",{className:"p-6 space-y-8",children:[l.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxDEV(bn,{variant:"outline",className:"px-2.5 py-1 whitespace-nowrap",children:e.classification},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:206,columnNumber:15},this),e.is_chemotherapy&&l.jsxDEV(bn,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-300",children:[l.jsxDEV(zs,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:211,columnNumber:19},this),"Chemotherapy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:210,columnNumber:17},this),e.is_immunotherapy&&l.jsxDEV(bn,{variant:"secondary",className:"bg-green-500/10 text-green-700 dark:bg-green-500/20 dark:text-green-300",children:[l.jsxDEV(Gs,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:217,columnNumber:19},this),"Immunotherapy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:216,columnNumber:17},this),e.is_targeted_therapy&&l.jsxDEV(bn,{variant:"secondary",className:"bg-purple-500/10 text-purple-700 dark:bg-purple-500/20 dark:text-purple-300",children:[l.jsxDEV(no,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:223,columnNumber:19},this),"Targeted Therapy"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:222,columnNumber:17},this),e.is_orphan_drug&&l.jsxDEV(bn,{variant:"secondary",className:"bg-blue-500/10 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300",children:[l.jsxDEV(mf,{className:"w-3.5 h-3.5 mr-1"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:229,columnNumber:19},this),"Orphan Drug"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:228,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:205,columnNumber:13},this),"            ",e.black_box_warning&&l.jsxDEV("div",{className:"relative p-6 border-2 border-red-500 dark:border-red-700 bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-950/50 dark:to-red-900/30 rounded-xl shadow-lg backdrop-blur-sm",children:[l.jsxDEV("div",{className:"absolute -top-3 left-4 px-2 py-0.5 bg-red-500 text-white text-xs font-bold uppercase tracking-wider rounded",children:"Black Box Warning"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:236,columnNumber:17},this),l.jsxDEV("div",{className:"flex gap-3 items-start mt-2",children:[l.jsxDEV(tt,{className:"w-5 h-5 flex-shrink-0 text-red-500 dark:text-red-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:240,columnNumber:19},this),l.jsxDEV("div",{className:"flex-1 text-red-800 dark:text-red-200 whitespace-pre-wrap",children:e.black_box_warning},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:241,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:239,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:235,columnNumber:15},this),e.mechanism&&l.jsxDEV(us,{title:"Mechanism of Action",icon:l.jsxDEV(mf,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:250,columnNumber:58},this),children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.mechanism},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:251,columnNumber:17},this),e.summary&&l.jsxDEV("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:e.summary},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:253,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:250,columnNumber:15},this),e.indications&&l.jsxDEV(us,{title:"Indications",icon:l.jsxDEV(zs,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:260,columnNumber:50},this),children:l.jsxDEV("div",{className:"grid gap-6 sm:grid-cols-2",children:[((d=(u=e.indications)==null?void 0:u.cancer_types)==null?void 0:d.length)>0&&l.jsxDEV(nt,{title:"Cancer Types",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.cancer_types.map((re,pe)=>l.jsxDEV(bn,{variant:"secondary",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:266,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:264,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:263,columnNumber:21},this),((f=(m=e.indications)==null?void 0:m.biomarkers)==null?void 0:f.length)>0&&l.jsxDEV(nt,{title:"Biomarkers",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.biomarkers.map((re,pe)=>l.jsxDEV(bn,{variant:"outline",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:275,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:273,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:272,columnNumber:21},this),((p=(h=e.indications)==null?void 0:h.staging)==null?void 0:p.length)>0&&l.jsxDEV(nt,{title:"Disease Stage",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.staging.map((re,pe)=>l.jsxDEV(bn,{variant:"secondary",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:284,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:282,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:281,columnNumber:21},this),((v=(g=e.indications)==null?void 0:g.line_of_therapy)==null?void 0:v.length)>0&&l.jsxDEV(nt,{title:"Line of Therapy",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.indications.line_of_therapy.map((re,pe)=>l.jsxDEV(bn,{variant:"secondary",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:293,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:291,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:261,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:260,columnNumber:15},this),(e.dosing||e.administration)&&l.jsxDEV(us,{title:"Dosing & Administration",icon:l.jsxDEV(H2,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:304,columnNumber:62},this),children:l.jsxDEV("div",{className:"space-y-4",children:[((b=e.dosing)==null?void 0:b.standard)&&l.jsxDEV(nt,{title:"Standard Dose",children:l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.dosing.standard},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:309,columnNumber:25},this),e.administration&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Administration: ",e.administration]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:308,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:307,columnNumber:21},this),((w=e.dosing)==null?void 0:w.schedule)&&l.jsxDEV(nt,{title:"Schedule",children:l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.dosing.schedule},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:321,columnNumber:25},this),e.dosing.cycle_length&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cycle Length: ",e.dosing.cycle_length]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:323,columnNumber:27},this),e.dosing.duration&&l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Duration: ",e.dosing.duration]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:328,columnNumber:27},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:320,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:319,columnNumber:21},this),((E=(N=e.dosing)==null?void 0:N.adjustments)==null?void 0:E.length)>0&&l.jsxDEV(nt,{title:"Dose Adjustments",variant:"warning",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.dosing.adjustments.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:339,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:337,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:336,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:305,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:304,columnNumber:15},this),e.side_effects&&l.jsxDEV(us,{title:"Side Effects",icon:l.jsxDEV(Nl,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:350,columnNumber:51},this),children:l.jsxDEV("div",{className:"grid gap-6 sm:grid-cols-2",children:[((D=e.side_effects.common)==null?void 0:D.length)>0&&l.jsxDEV(nt,{title:"Common Side Effects",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.common.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:356,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:354,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:353,columnNumber:21},this),((T=e.side_effects.severe)==null?void 0:T.length)>0&&l.jsxDEV(nt,{title:"Severe Side Effects",variant:"danger",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.severe.map((re,pe)=>l.jsxDEV("li",{className:"text-red-700 dark:text-red-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:365,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:363,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:362,columnNumber:21},this),((M=e.side_effects.monitoring)==null?void 0:M.length)>0&&l.jsxDEV(nt,{title:"Monitoring Required",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.monitoring.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:374,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:372,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:371,columnNumber:21},this),((_=e.side_effects.management)==null?void 0:_.length)>0&&l.jsxDEV(nt,{title:"Management",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.side_effects.management.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:383,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:381,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:380,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:350,columnNumber:15},this),e.monitoring&&l.jsxDEV(us,{title:"Monitoring",icon:l.jsxDEV(ff,{className:"h-5 w-5 text-indigo-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:394,columnNumber:49},this),children:l.jsxDEV("div",{className:"space-y-4",children:[((P=e.pre_treatment_tests)==null?void 0:P.length)>0&&l.jsxDEV(nt,{title:"Pre-Treatment Tests",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.pre_treatment_tests.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:400,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:398,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:397,columnNumber:21},this),((k=e.monitoring.baseline)==null?void 0:k.length)>0&&l.jsxDEV(nt,{title:"Baseline Tests",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.monitoring.baseline.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:409,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:407,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:406,columnNumber:21},this),((L=e.monitoring.ongoing)==null?void 0:L.length)>0&&l.jsxDEV(nt,{title:"Ongoing Monitoring",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.monitoring.ongoing.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:418,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:416,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:415,columnNumber:21},this),"                  ",((A=(B=e.monitoring)==null?void 0:B.parameters)==null?void 0:A.length)>0&&l.jsxDEV(nt,{title:"Parameters",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.monitoring.parameters.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:426,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:424,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:423,columnNumber:21},this),((V=e.monitoring)==null?void 0:V.frequency)&&l.jsxDEV(nt,{title:"Frequency",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.monitoring.frequency},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:433,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:432,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:395,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:394,columnNumber:15},this),(e.interactions||((O=e.contraindications)==null?void 0:O.length)>0)&&l.jsxDEV(us,{title:"Drug Interactions",icon:l.jsxDEV(zs,{className:"h-5 w-5 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:442,columnNumber:56},this),children:l.jsxDEV("div",{className:"space-y-4",children:[(((q=(U=e.interactions)==null?void 0:U.contraindications)==null?void 0:q.length)>0||(($=e.contraindications)==null?void 0:$.length)>0)&&l.jsxDEV(nt,{title:"Contraindications",variant:"danger",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:[...((Z=e.interactions)==null?void 0:Z.contraindications)||[],...e.contraindications||[]].map((re,pe)=>l.jsxDEV("li",{className:"text-red-700 dark:text-red-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:451,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:446,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:445,columnNumber:21},this),"                  ",((ie=(I=e.interactions)==null?void 0:I.drugs)==null?void 0:ie.length)>0&&l.jsxDEV(nt,{title:"Interacting Medications",children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:(j=(ve=e.interactions)==null?void 0:ve.drugs)==null?void 0:j.map((re,pe)=>l.jsxDEV(bn,{variant:"outline",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:459,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:457,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:456,columnNumber:21},this),((ge=(ce=e.interactions)==null?void 0:ce.precautions)==null?void 0:ge.length)>0&&l.jsxDEV(nt,{title:"Precautions",variant:"warning",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:(ne=(xe=e.interactions)==null?void 0:xe.precautions)==null?void 0:ne.map((re,pe)=>l.jsxDEV("li",{className:"text-amber-700 dark:text-amber-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:468,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:466,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:465,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:443,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:442,columnNumber:15},this),e.special_considerations&&l.jsxDEV(us,{title:"Special Considerations",icon:l.jsxDEV(tt,{className:"h-5 w-5 text-orange-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:481,columnNumber:61},this),children:l.jsxDEV("div",{className:"space-y-4",children:[e.special_considerations.pregnancy&&l.jsxDEV(nt,{title:"Pregnancy",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.pregnancy},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:485,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:484,columnNumber:21},this),e.special_considerations.elderly&&l.jsxDEV(nt,{title:"Elderly",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.elderly},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:492,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:491,columnNumber:21},this),e.special_considerations.renal&&l.jsxDEV(nt,{title:"Renal Impairment",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.renal},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:499,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:498,columnNumber:21},this),e.special_considerations.hepatic&&l.jsxDEV(nt,{title:"Hepatic Impairment",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.special_considerations.hepatic},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:506,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:505,columnNumber:21},this),"                  ",((De=(me=e.special_considerations)==null?void 0:me.other)==null?void 0:De.length)>0&&l.jsxDEV(nt,{title:"Other Considerations",children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:(J=(K=e.special_considerations)==null?void 0:K.other)==null?void 0:J.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:514,columnNumber:27},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:512,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:511,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:482,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:481,columnNumber:15},this),e.pharmacokinetics&&l.jsxDEV(us,{title:"Pharmacokinetics",icon:l.jsxDEV(No,{className:"h-5 w-5 text-purple-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:525,columnNumber:55},this),children:l.jsxDEV("div",{className:"grid gap-4 sm:grid-cols-2",children:["                  ",((Y=e.pharmacokinetics)==null?void 0:Y.half_life)&&l.jsxDEV(nt,{title:"Half-Life",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.half_life},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:528,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:527,columnNumber:21},this),e.pharmacokinetics.metabolism&&l.jsxDEV(nt,{title:"Metabolism",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.metabolism},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:535,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:534,columnNumber:21},this),e.pharmacokinetics.excretion&&l.jsxDEV(nt,{title:"Excretion",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.excretion},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:542,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:541,columnNumber:21},this),e.pharmacokinetics.bioavailability&&l.jsxDEV(nt,{title:"Bioavailability",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.bioavailability},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:549,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:548,columnNumber:21},this),e.pharmacokinetics.protein_binding&&l.jsxDEV(nt,{title:"Protein Binding",children:l.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300",children:e.pharmacokinetics.protein_binding},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:556,columnNumber:23},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:555,columnNumber:21},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:526,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:525,columnNumber:15},this),l.jsxDEV("div",{className:"grid gap-6 sm:grid-cols-2",children:[((ue=e.reference_sources)==null?void 0:ue.length)>0&&l.jsxDEV(us,{title:"References",icon:l.jsxDEV(no,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:568,columnNumber:51},this),children:l.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.reference_sources.map((re,pe)=>l.jsxDEV(bn,{variant:"outline",className:"text-xs",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:571,columnNumber:23},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:569,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:568,columnNumber:17},this),((de=e.routine_monitoring)==null?void 0:de.length)>0&&l.jsxDEV(us,{title:"Routine Testing",icon:l.jsxDEV(ff,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:579,columnNumber:56},this),children:l.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:e.routine_monitoring.map((re,pe)=>l.jsxDEV("li",{className:"text-gray-700 dark:text-gray-300",children:re},pe,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:582,columnNumber:23},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:580,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:579,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:566,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:203,columnNumber:11},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:202,columnNumber:32},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:167,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationDetailModal.tsx",lineNumber:162,columnNumber:15},this):null}const fa=e=>{try{const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),s=t.createGain();switch(n.connect(s),s.connect(t.destination),e){case"sort":n.type="sine",n.frequency.setValueAtTime(440,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),n.start(t.currentTime),n.stop(t.currentTime+.1);break;case"select":n.type="sine",n.frequency.setValueAtTime(520,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.05),n.start(t.currentTime),n.stop(t.currentTime+.05);break;case"success":n.type="sine",n.frequency.setValueAtTime(780,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),n.start(t.currentTime),n.stop(t.currentTime+.15);break;case"warning":n.type="triangle",n.frequency.setValueAtTime(320,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.start(t.currentTime),n.stop(t.currentTime+.3);break;case"error":n.type="square",n.frequency.setValueAtTime(220,t.currentTime),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),n.start(t.currentTime),n.stop(t.currentTime+.2);break}}catch(t){console.warn("Audio feedback not supported",t)}},PZ=()=>typeof window<"u"&&(typeof window.AudioContext<"u"||typeof window.webkitAudioContext<"u");function AZ(e,t){const[n,s]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}class IZ extends Re.Component{constructor(){super(...arguments);Me(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("Medication component error:",n,s)}render(){return this.state.hasError?this.props.fallback||l.jsxDEV("div",{className:"p-6 text-center",children:[l.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-red-600 font-medium mb-2",children:[l.jsxDEV(tt,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:23,columnNumber:13},this),l.jsxDEV("h2",{children:"Error loading medication data"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:24,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:22,columnNumber:11},this),l.jsxDEV("p",{className:"text-gray-600 text-sm",children:"Please try refreshing the page. If the problem persists, contact support."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:26,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/MedicationErrorBoundary.tsx",lineNumber:21,columnNumber:9},this):this.props.children}}const Sy=(e,t)=>e.localeCompare(t),RZ=(e,t,n,s,i)=>x.useMemo(()=>[...e.filter(r=>{var a,c;if(t){const u=t.toLowerCase(),d=(r.name||"").toLowerCase().includes(u),m=(r.brand_names||[]).some(p=>(p||"").toLowerCase().includes(u)),f=(r.classification||"").toLowerCase().includes(u),h=(((a=r.indications)==null?void 0:a.cancer_types)||[]).some(p=>(p||"").toLowerCase().includes(u));if(!d&&!m&&!f&&!h)return!1}return n&&!((c=r.classification)!=null&&c.includes(n))?!1:s?["Antiemetic","Anxiolytic","Antihistamine","Corticosteroid"].some(d=>{var m;return(m=r.classification)==null?void 0:m.includes(d)}):!0})].sort((r,a)=>{const c=i.order==="asc"?1:-1;switch(i.field){case"name":return Sy(r.name,a.name)*c;case"classification":return Sy(r.classification,a.classification)*c;case"updated_at":return(new Date(r.updated_at).getTime()-new Date(a.updated_at).getTime())*c;default:return 0}}),[e,t,n,s,i]),cf=()=>l.jsxDEV("div",{className:"bg-white/30 backdrop-blur-md border border-white/20 rounded-xl shadow-lg p-6 animate-pulse","data-testid":"medication-skeleton",children:[l.jsxDEV("div",{className:"flex justify-between items-start",children:[l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{className:"h-6 w-48 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:84,columnNumber:9},void 0),l.jsxDEV("div",{className:"h-4 w-32 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:85,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:83,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-6 w-24 bg-gray-200 rounded-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:87,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:82,columnNumber:5},void 0),l.jsxDEV("div",{className:"mt-4 flex gap-2",children:[l.jsxDEV("div",{className:"h-5 w-20 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:90,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-5 w-24 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:91,columnNumber:7},void 0),l.jsxDEV("div",{className:"h-5 w-16 bg-gray-200 rounded-md"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:92,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:89,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:81,columnNumber:3},void 0),jZ=e=>e.includes("Antiemetic")?"bg-teal-100 text-teal-800 border border-teal-200":e.includes("Antihistamine")?"bg-cyan-100 text-cyan-800 border border-cyan-200":e.includes("Corticosteroid")?"bg-emerald-100 text-emerald-800 border border-emerald-200":e.includes("Anxiolytic")?"bg-indigo-100 text-indigo-800 border border-indigo-200":e.includes("Chemotherapy")?"bg-yellow-100 text-yellow-800 border border-yellow-200":e.includes("Checkpoint Inhibitor")?"bg-green-100 text-green-800 border border-green-200":e.includes("Monoclonal Antibody")?"bg-purple-100 text-purple-800 border border-purple-200":e.includes("Conjugate")?"bg-pink-100 text-pink-800 border border-pink-200":e.includes("Inhibitor")?"bg-blue-100 text-blue-800 border border-blue-200":e.includes("SERM")?"bg-orange-100 text-orange-800 border border-orange-200":"bg-gray-100 text-gray-800 border border-gray-200",OZ=e=>e.includes("5-HT3 Receptor Antagonist")?"5-HT3 RA":e.includes("NK1 Receptor Antagonist")?"NK1 RA":e.includes("Checkpoint Inhibitor")?e.replace("Checkpoint Inhibitor","Inhibitor"):e.includes("Monoclonal Antibody")?e.replace("Monoclonal Antibody","mAb"):e.includes("Tyrosine Kinase Inhibitor")?e.replace("Tyrosine Kinase Inhibitor","TKI"):e.includes("Antibody-Drug Conjugate")?e.replace("Targeted Antibody-Drug Conjugate","ADC"):e==="Selective Estrogen Receptor Modulator (SERM)"?"SERM":e,Zk="medications-sort-preference",VZ=()=>{try{const e=localStorage.getItem(Zk);if(e){const t=JSON.parse(e);if(t.field&&["name","classification","updated_at"].includes(t.field)&&t.order&&["asc","desc"].includes(t.order))return t}}catch{console.warn("Failed to parse saved sort preference")}return{field:"name",order:"asc"}};function LZ({initialData:e}){const t=Re.useRef(null),[n,s]=x.useState(e||[]),[i,o]=x.useState(!e),[r,a]=x.useState(""),c=AZ(r,300),[u,d]=x.useState(""),[m,f]=x.useState(!1),[h,p]=x.useState(null),[g,v]=x.useState(null),[b,w]=x.useState(-1),[N,E]=x.useState(VZ()),[D,T]=x.useState("");RZ(n,c,u,m,N);const M=A=>{if(A!==b&&(w(A),fa("select"),n[A])){const V=new URL(window.location.href);V.searchParams.set("med",n[A].id),window.history.replaceState({},"",V)}},_=A=>{T(A),setTimeout(()=>T(""),1e3)},P=A=>{if(typeof window>"u")return;const V=new URL(window.location.href);Object.entries(A).forEach(([O,U])=>{U?V.searchParams.set(O==="search"?"q":O,U):V.searchParams.delete(O==="search"?"q":O)}),window.history.replaceState({},"",V)},k=(A,V)=>{E(A),_(V),P({sort:A.field,order:A.order})};x.useEffect(()=>{try{localStorage.setItem(Zk,JSON.stringify(N))}catch{console.warn("Failed to save sort preference")}},[N]);const L=A=>{var V;if(((V=document.activeElement)==null?void 0:V.tagName)!=="INPUT")switch(A.key){case"ArrowDown":case"j":{A.preventDefault();const O=b<n.length-1?b+1:b;M(O);break}case"ArrowUp":case"k":{A.preventDefault();const O=b>0?b-1:b;M(O);break}case"Enter":A.preventDefault(),b>=0&&b<n.length&&(v(n[b]),fa("select"));break;case"Home":A.preventDefault(),w(0);break;case"End":A.preventDefault(),w(n.length-1);break;case"n":case"c":case"u":case"s":case"l":if(A.altKey){if(A.preventDefault(),A.key==="l"){const O=new URL(window.location.href);navigator.clipboard.writeText(O.toString()),_("URL copied to clipboard! "),fa("select");return}if(A.key==="n"){const O={field:"name",order:N.field==="name"&&N.order==="asc"?"desc":"asc"};k(O,`Sorted by name ${O.order==="asc"?"":""}`)}else if(A.key==="c"){const O={field:"classification",order:N.field==="classification"&&N.order==="asc"?"desc":"asc"};k(O,`Sorted by classification ${O.order==="asc"?"":""}`)}else if(A.key==="u"){const O={field:"updated_at",order:N.field==="updated_at"&&N.order==="asc"?"desc":"asc"};k(O,`Sorted by date ${O.order==="asc"?"":""}`)}if(A.key==="s"){const O={...N,order:N.order==="asc"?"desc":"asc"};k(O,`Sort order: ${O.order==="asc"?"ascending ":"descending "}`)}}break}},B=x.useCallback(async()=>{try{o(!0),p(null);let A=_o.from("oncology_medications").select("*").order(N.field,{ascending:N.order==="asc"});c&&(A=A.or(`name.ilike.%${c}%,classification.ilike.%${c}%`)),u&&(A=A.eq("classification",u)),m&&(A=A.eq("is_premedication",!0));const{data:V,error:O}=await A;if(O)throw console.error(" Error fetching from oncology_medications:",O),O;console.log(" Medications fetched:",V),s(V)}catch(A){const V=A;console.error(" Error fetching medications:",V);const O=V.message||"Failed to fetch medications. Please try again.";p(O),PZ()&&fa("error"),_(`Error: ${O}`),s([])}finally{o(!1)}},[c,u,m,N]);return x.useEffect(()=>{e||B()},[e]),x.useEffect(()=>{const A=setTimeout(()=>{r||u?B():e||B()},300);return()=>clearTimeout(A)},[r,u,e]),x.useEffect(()=>{w(-1)},[n]),x.useEffect(()=>{if(typeof window<"u"){const A=new URL(window.location.href),V=A.searchParams.get("q");V&&a(V);const O=A.searchParams.get("class");O&&d(O);const U=A.searchParams.get("sort"),q=A.searchParams.get("order");U&&q&&E({field:U,order:q});const $=A.searchParams.get("med");if($&&n.length>0){const Z=n.findIndex(I=>I.id===$);Z!==-1&&(w(Z),setTimeout(()=>{const I=document.getElementById(`medication-${Z}`);I==null||I.scrollIntoView({behavior:"smooth",block:"nearest"})},100))}}},[n]),x.useEffect(()=>{const A=V=>{var O,U;V.key==="/"&&((O=document.activeElement)==null?void 0:O.tagName)!=="INPUT"&&(V.preventDefault(),(U=t.current)==null||U.focus()),V.key==="Escape"&&(r||u?(a(""),d("")):w(-1)),L(V)};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[r,u,n.length]),x.useEffect(()=>{if(b>=0){const A=document.getElementById(`medication-${b}`);A==null||A.scrollIntoView({behavior:"smooth",block:"nearest"})}},[b]),i?l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV(cf,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:496,columnNumber:9},this),l.jsxDEV(cf,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:497,columnNumber:9},this),l.jsxDEV(cf,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:495,columnNumber:7},this):l.jsxDEV(IZ,{children:l.jsxDEV("div",{className:"space-y-6 relative",children:[D&&l.jsxDEV("div",{className:`
              fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
              bg-gray-900/90 text-white px-4 py-2 rounded-lg shadow-xl 
              backdrop-blur-sm z-50
              animate-in fade-in-0 zoom-in-95 duration-200
              data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95
              flex items-center gap-2 font-medium
            `,role:"status","aria-live":"polite",children:D},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:508,columnNumber:11},this),l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("div",{className:"flex items-center gap-3",children:[l.jsxDEV("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg shadow-lg",children:l.jsxDEV(no,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:526,columnNumber:15},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:525,columnNumber:13},this),l.jsxDEV("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Oncology Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:528,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:524,columnNumber:11},this),l.jsxDEV("button",{onClick:()=>{const A=new URL(window.location.href);navigator.clipboard.writeText(A.toString()),_("URL copied to clipboard! "),fa("select")},className:"px-3 py-2 flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800 bg-white/30 backdrop-blur-md border border-white/20 rounded-lg shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 transition-all duration-300",title:"Copy link to clipboard (Alt+L)",children:[l.jsxDEV(U2,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:542,columnNumber:13},this),"Share View"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:532,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:523,columnNumber:9},this),l.jsxDEV("div",{className:"flex gap-4 items-center",children:[l.jsxDEV("button",{onClick:()=>{f(!m),d("")},className:`
              px-4 py-2 rounded-lg text-sm font-medium 
              transition-all duration-300
              ${m?"bg-indigo-600 text-white shadow-lg":"bg-white/30 text-gray-600 hover:bg-indigo-50"}
            `,children:m?" Pre-Medications Only":"Show Pre-Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:549,columnNumber:11},this),l.jsxDEV("div",{className:"flex-1 relative",children:[l.jsxDEV(cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:567,columnNumber:13},this),l.jsxDEV("input",{ref:t,type:"text",placeholder:"Search medications, classifications, or cancer types... (Press '/' to focus)",value:r,onChange:A=>{a(A.target.value),P({search:A.target.value||void 0})},className:"pl-10 pr-4 py-2 w-full bg-white/30 backdrop-blur-md border border-white/20 rounded-lg shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:568,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:566,columnNumber:11},this),!m&&l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("select",{value:u,onChange:A=>d(A.target.value),className:"pl-4 pr-10 py-2 bg-white/30 backdrop-blur-md border border-white/20 rounded-lg shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 appearance-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300","aria-label":"Filter by classification",children:[l.jsxDEV("option",{value:"",children:"All Classifications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:592,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Pre-Medications",children:[l.jsxDEV("option",{value:"5-HT3 Receptor Antagonist Antiemetic",children:"5-HT3 RA Antiemetic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:594,columnNumber:19},this),l.jsxDEV("option",{value:"NK1 Receptor Antagonist Antiemetic",children:"NK1 RA Antiemetic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:595,columnNumber:19},this),l.jsxDEV("option",{value:"D2 Receptor Antagonist Antiemetic",children:"D2 RA Antiemetic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:596,columnNumber:19},this),l.jsxDEV("option",{value:"H1 Antihistamine",children:"H1 Antihistamine"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:597,columnNumber:19},this),l.jsxDEV("option",{value:"H2 Antihistamine",children:"H2 Antihistamine"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:598,columnNumber:19},this),l.jsxDEV("option",{value:"Corticosteroid",children:"Corticosteroid"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:599,columnNumber:19},this),l.jsxDEV("option",{value:"Benzodiazepine Anxiolytic",children:"Benzodiazepine Anxiolytic"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:600,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:593,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Traditional Chemotherapy",children:[l.jsxDEV("option",{value:"Platinum Chemotherapy",children:"Platinum Chemotherapy"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:603,columnNumber:19},this),l.jsxDEV("option",{value:"Anthracycline Chemotherapy",children:"Anthracycline Chemotherapy"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:604,columnNumber:19},this),l.jsxDEV("option",{value:"Taxane Chemotherapy",children:"Taxane Chemotherapy"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:605,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:602,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Immunotherapy",children:[l.jsxDEV("option",{value:"PD-1 Checkpoint Inhibitor",children:"PD-1 Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:608,columnNumber:19},this),l.jsxDEV("option",{value:"PD-L1 Checkpoint Inhibitor",children:"PD-L1 Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:609,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:607,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Antibody-Drug Conjugates",children:[l.jsxDEV("option",{value:"HER2-Targeted Antibody-Drug Conjugate",children:"HER2 ADC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:612,columnNumber:19},this),l.jsxDEV("option",{value:"Trop-2-Targeted Antibody-Drug Conjugate",children:"Trop-2 ADC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:613,columnNumber:19},this),l.jsxDEV("option",{value:"CD79b-Targeted Antibody-Drug Conjugate",children:"CD79b ADC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:614,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:611,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Monoclonal Antibodies",children:l.jsxDEV("option",{value:"HER2 Monoclonal Antibody",children:"HER2 mAb"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:617,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:616,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Targeted Therapies",children:[l.jsxDEV("option",{value:"EGFR Tyrosine Kinase Inhibitor",children:"EGFR TKI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:620,columnNumber:19},this),l.jsxDEV("option",{value:"ALK Tyrosine Kinase Inhibitor",children:"ALK TKI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:621,columnNumber:19},this),l.jsxDEV("option",{value:"ALK/ROS1 Tyrosine Kinase Inhibitor",children:"ALK/ROS1 TKI"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:622,columnNumber:19},this),l.jsxDEV("option",{value:"KRAS Inhibitor",children:"KRAS Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:623,columnNumber:19},this),l.jsxDEV("option",{value:"PI3K Inhibitor",children:"PI3K Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:624,columnNumber:19},this),l.jsxDEV("option",{value:"CDK4/6 Inhibitor",children:"CDK4/6 Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:625,columnNumber:19},this),l.jsxDEV("option",{value:"BTK Inhibitor",children:"BTK Inhibitor"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:626,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:619,columnNumber:17},this),l.jsxDEV("optgroup",{label:"Hormone Therapy",children:l.jsxDEV("option",{value:"Selective Estrogen Receptor Modulator (SERM)",children:"SERM"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:629,columnNumber:19},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:628,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:586,columnNumber:15},this),l.jsxDEV(Jh,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:632,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:585,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:548,columnNumber:9},this),l.jsxDEV("div",{className:"text-sm text-gray-500","aria-label":"Keyboard shortcuts",children:[l.jsxDEV("h3",{className:"sr-only",children:"Keyboard shortcuts"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:639,columnNumber:11},this),l.jsxDEV("ul",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[l.jsxDEV("li",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"/"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:644,columnNumber:17},this),l.jsxDEV("span",{children:"Search"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:645,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:643,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:648,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:""},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:649,columnNumber:17},this),l.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:650,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"j"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:651,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"k"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:652,columnNumber:17},this),l.jsxDEV("span",{children:"Navigate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:653,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:647,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Home"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:656,columnNumber:17},this),l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"End"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:657,columnNumber:17},this),l.jsxDEV("span",{children:"Jump to top/bottom"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:658,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:655,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Enter"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:661,columnNumber:17},this),l.jsxDEV("span",{children:"View details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:662,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:660,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Esc"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:665,columnNumber:17},this),l.jsxDEV("span",{children:"Clear filters"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:666,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:664,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:642,columnNumber:13},this),l.jsxDEV("li",{className:"flex flex-wrap gap-x-4 gap-y-2 border-t border-gray-200/30 pt-2 w-full",children:[l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:672,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"N"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:673,columnNumber:17},this),l.jsxDEV("span",{children:"Sort by name"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:674,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:671,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:677,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"C"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:678,columnNumber:17},this),l.jsxDEV("span",{children:"Sort by class"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:679,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:676,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:682,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"U"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:683,columnNumber:17},this),l.jsxDEV("span",{children:"Sort by updated"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:684,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:681,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:687,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"S"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:688,columnNumber:17},this),l.jsxDEV("span",{children:"Toggle ascending/descending"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:689,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:686,columnNumber:15},this),l.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"Alt"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:692,columnNumber:17},this),"+",l.jsxDEV("kbd",{className:"px-2 py-0.5 text-xs bg-gray-100 border border-gray-300 rounded",children:"L"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:693,columnNumber:17},this),l.jsxDEV("span",{children:"Copy sharable link"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:694,columnNumber:17},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:691,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:670,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:640,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:638,columnNumber:9},this),l.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 text-sm",role:"toolbar","aria-label":"Sort controls",children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("label",{htmlFor:"sort-field",className:"text-gray-600",children:"Sort by:"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:707,columnNumber:13},this),l.jsxDEV("select",{id:"sort-field",value:N.field,onChange:A=>{const V={field:A.target.value,order:"asc"};k(V,`Sorted by ${A.target.value.replace(/_/g," ")} ${V.order==="asc"?"":""}`)},className:`
                pl-3 pr-8 py-1 bg-white/30 backdrop-blur-md border border-white/20 
                rounded-lg shadow hover:shadow-md opacity-80 hover:opacity-100 
                appearance-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent 
                transition-all duration-300
                ${N.field==="name"&&"text-indigo-700"}
                ${N.field==="classification"&&"text-purple-700"}
                ${N.field==="updated_at"&&"text-blue-700"}
              `,title:"Press Alt+N for name, Alt+C for class, Alt+U for updated","aria-label":`Sort by ${N.field}, currently ${N.order==="asc"?"ascending":"descending"}`,children:[l.jsxDEV("option",{value:"name",children:[N.field==="name"&&(N.order==="asc"?" ":" "),"Name"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:730,columnNumber:15},this),l.jsxDEV("option",{value:"classification",children:[N.field==="classification"&&(N.order==="asc"?" ":" "),"Classification"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:733,columnNumber:15},this),l.jsxDEV("option",{value:"updated_at",children:[N.field==="updated_at"&&(N.order==="asc"?" ":" "),"Last Updated"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:736,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:708,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:706,columnNumber:11},this),l.jsxDEV("button",{onClick:()=>{const A={...N,order:N.order==="asc"?"desc":"asc"};k(A,`Sort order: ${A.order==="asc"?"ascending ":"descending "}`)},className:`
              inline-flex items-center gap-1 px-2.5 py-1.5 
              text-gray-600 hover:text-gray-800 
              border border-transparent hover:border-gray-200 
              rounded-lg transition-all duration-200
              ${N.order==="desc"?"bg-gray-100/50":""}
            `,title:"Press Alt+S to toggle sort order",children:[N.order==="asc"?"":"",N.order==="asc"?"Ascending":"Descending"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:741,columnNumber:11},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:701,columnNumber:9},this),l.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 text-sm border-t border-gray-200/30 pt-3 mt-3",children:[!i&&!h&&l.jsxDEV("span",{className:"text-gray-600",children:["Found ",n.length," medication",n.length!==1?"s":"",(r||u)&&" matching filters"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:766,columnNumber:13},this),r&&l.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded bg-indigo-100 text-indigo-800 gap-1",children:["Search: ",r,l.jsxDEV("button",{onClick:()=>a(""),className:"hover:text-indigo-600",title:"Clear search",children:l.jsxDEV(Qn,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:779,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:774,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:772,columnNumber:13},this),u&&l.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded bg-purple-100 text-purple-800 gap-1",children:["Type: ",u,l.jsxDEV("button",{onClick:()=>d(""),className:"hover:text-purple-600",title:"Clear classification filter",children:l.jsxDEV(Qn,{className:"h-3 w-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:791,columnNumber:17},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:786,columnNumber:15},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:784,columnNumber:13},this),(r||u)&&l.jsxDEV("button",{onClick:()=>{a(""),d("")},className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Clear all filters"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:796,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:764,columnNumber:9},this),h&&l.jsxDEV("div",{className:"bg-white/30 backdrop-blur-md border border-white/20 text-red-700 p-4 rounded-xl shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 transition-all duration-300 flex items-center gap-2",children:[l.jsxDEV(Qn,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:810,columnNumber:13},this),l.jsxDEV("p",{children:h},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:811,columnNumber:13},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:809,columnNumber:11},this),l.jsxDEV("div",{className:"space-y-4",children:n.length===0?l.jsxDEV("div",{className:"text-center p-8 bg-white/30 backdrop-blur-md border border-white/20 rounded-xl shadow-lg hover:shadow-xl opacity-80 hover:opacity-100 transition-all duration-300",children:["No medications found. ",r||u?"Try adjusting your filters.":""]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:817,columnNumber:13},this):n.map((A,V)=>{var O,U,q;return l.jsxDEV("div",{id:`medication-${V}`,className:`group bg-white/30 backdrop-blur-md border ${b===V?"border-indigo-500 ring-2 ring-indigo-500 ring-opacity-50 shadow-xl scale-[1.02]":"border-white/20 hover:shadow-2xl hover:scale-[1.02]"} rounded-xl shadow-lg opacity-80 hover:opacity-100 p-6 cursor-pointer 
                  transition-all duration-300
                  motion-safe:animate-in 
                  motion-safe:fade-in-0 
                  ${N.order==="asc"?"motion-safe:slide-in-from-bottom-4":"motion-safe:slide-in-from-top-4"}
                  motion-safe:duration-500
                  motion-safe:delay-[${Math.min(V*50,1e3)}ms]`,onClick:()=>v(A),title:`Click to view detailed information (${V+1} of ${n.length})`,role:"button",tabIndex:0,"aria-selected":b===V?"true":"false",children:[l.jsxDEV("div",{className:"flex justify-between items-start",children:[l.jsxDEV("div",{children:[l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV("h3",{className:"text-lg font-semibold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:A.name||"Untitled Medication"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:848,columnNumber:23},this),A.is_premedication&&l.jsxDEV("span",{className:"px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full",children:"Pre-Med"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:852,columnNumber:25},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:847,columnNumber:21},this),((O=A.brand_names)==null?void 0:O.length)>0&&l.jsxDEV("p",{className:"mt-1 text-sm text-gray-600",children:A.brand_names.join(", ")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:858,columnNumber:23},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:846,columnNumber:19},this),l.jsxDEV("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${jZ(A.classification||"")}`,children:OZ(A.classification||"")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:863,columnNumber:19},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:845,columnNumber:17},this),l.jsxDEV("div",{className:"mt-2 flex flex-wrap gap-1",children:(q=(U=A.indications)==null?void 0:U.cancer_types)==null?void 0:q.map(($,Z)=>l.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-xs bg-gray-100 text-gray-800 border border-gray-200 hover:bg-gray-200 transition-colors duration-200 cursor-help",title:`Search for medications indicated for ${$}`,onClick:I=>{I.stopPropagation(),a($)},children:$},Z,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:869,columnNumber:21},this))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:867,columnNumber:17},this)]},A.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:822,columnNumber:15},this)})},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:815,columnNumber:9},this),l.jsxDEV(CZ,{medication:g,isOpen:!!g,onClose:()=>{v(null);const A=new URL(window.location.href);A.searchParams.delete("med"),window.history.replaceState({},"",A)}},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:888,columnNumber:9},this)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:505,columnNumber:7},this)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/medications/MedicationsView.tsx",lineNumber:504,columnNumber:5},this)}const FZ=()=>{const[e,t]=x.useState(0),n=[{id:"treatment-protocols",label:"Treatment Protocols",component:l.jsxDEV(QQ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:25,columnNumber:75},void 0)},{id:"medications",label:"Medications",component:l.jsxDEV(LZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:26,columnNumber:59},void 0)},{id:"toxicity",label:"Toxicity",component:l.jsxDEV(aZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:27,columnNumber:53},void 0)},{id:"disease-progress",label:"Disease Progress",component:l.jsxDEV(fZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:28,columnNumber:69},void 0)}];return l.jsxDEV(lt,{moduleName:"Chemotherapy Day Unit",children:l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-indigo-700",children:"Chemotherapy Day Unit"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:34,columnNumber:9},void 0),l.jsxDEV(pt.Group,{selectedIndex:e,onChange:t,children:[l.jsxDEV(pt.List,{className:"flex space-x-4 border-b pb-3 mb-6",children:n.map((s,i)=>l.jsxDEV(pt,{className:({selected:o})=>`
                cursor-pointer py-2 px-4 rounded-lg shadow transition-all duration-300
                ${o?"bg-gradient-to-r from-indigo-500 to-teal-500 text-white":"bg-white text-gray-600 hover:text-indigo-500 hover:shadow-md"}
              `,children:s.label},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:38,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:36,columnNumber:11},void 0),l.jsxDEV(pt.Panels,{children:n.map((s,i)=>l.jsxDEV(pt.Panel,{children:s.id==="treatment-protocols"?l.jsxDEV(Xh,{children:[l.jsxDEV(at,{index:!0,element:s.component},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:54,columnNumber:21},void 0),l.jsxDEV(at,{path:"treatment-protocols/:id",element:l.jsxDEV(Vk,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:55,columnNumber:68},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:55,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:53,columnNumber:19},void 0):s.component},i,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:51,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:35,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:33,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/cdu/CDU.tsx",lineNumber:32,columnNumber:5},void 0)},_y=[{id:"neutropenic-fever",title:"Neutropenic Fever",timeToAction:"60 minutes",category:["Hematologic","Infectious"],symptoms:["Fever (single temperature 38.3C or 38.0C sustained over 1 hour)","Absolute neutrophil count <500 cells/mm","Chills or rigors","Hypotension","Altered mental status"],diagnostics:["Complete blood count with differential","Blood cultures (2 sets, peripheral and central line if present)","Urine culture","Chest X-ray","Additional cultures from suspected sites of infection"],management:[{title:"Empiric Antibiotic Therapy",description:"Start broad-spectrum antibiotics within 1 hour of presentation"},{title:"Risk Assessment",description:"Determine high vs low risk based on MASCC score or CISNE index"},{title:"Source Control",description:"Remove infected catheters/devices if indicated"},{title:"Monitoring",description:"Close monitoring for clinical deterioration; ICU assessment if unstable"}],medications:[{name:"Piperacillin-Tazobactam",dosage:"4.5g IV every 6 hours"},{name:"Cefepime",dosage:"2g IV every 8 hours"},{name:"Meropenem",dosage:"1g IV every 8 hours"}],additionalNotes:"Consider antibiotic adjustments after 48-72 hours based on cultures and clinical response."},{id:"spinal-cord-compression",title:"Spinal Cord Compression",timeToAction:"12 hours",category:"Obstructive",symptoms:["Back pain (90% of cases)","Weakness or paralysis in extremities","Sensory loss below level of compression","Urinary or bowel incontinence/retention","Loss of deep tendon reflexes"],diagnostics:["MRI of entire spine (preferred)","CT scan if MRI contraindicated","Complete neurological examination","Laboratory tests: CBC, CMP, Calcium levels"],management:[{title:"High-Dose Corticosteroids",description:"Start dexamethasone immediately upon suspicion"},{title:"Urgent Neurosurgical/Radiation Oncology Consult",description:"Coordinate multidisciplinary care team"},{title:"Radiation Therapy",description:"External beam radiation therapy within 24 hours"},{title:"Surgical Decompression",description:"Consider for spinal instability or radioresistant tumors"}],medications:[{name:"Dexamethasone",dosage:"Loading dose: 10mg IV, then 4mg IV/PO every 6 hours"}]},{id:"tumor-lysis-syndrome",title:"Tumor Lysis Syndrome",timeToAction:"6 hours",category:"Metabolic",symptoms:["Hyperuricemia","Hyperkalemia","Hyperphosphatemia","Hypocalcemia","Acute kidney injury","Cardiac arrhythmias","Seizures"],diagnostics:["Serum electrolytes (K, Ca, P) q6h","Serum creatinine and BUN","Uric acid levels","Urine output monitoring","ECG monitoring for arrhythmias"],management:[{title:"Aggressive Hydration",description:"IV fluids at 2-3L/m/day to maintain high urine output (100-200 mL/h)"},{title:"Electrolyte Management",description:"Correct electrolyte imbalances; avoid calcium supplementation if phosphate is elevated"},{title:"Xanthine Oxidase Inhibitor",description:"Allopurinol for prevention; rasburicase for established hyperuricemia"},{title:"Renal Replacement",description:"Consider hemodialysis for severe electrolyte disturbances, oliguria, or azotemia"}],medications:[{name:"Allopurinol",dosage:"100-300mg PO every 8 hours"},{name:"Rasburicase",dosage:"0.2mg/kg IV as a single dose (use with caution in G6PD deficiency)"},{name:"Sodium Bicarbonate",dosage:"Consider for urinary alkalinization if pH <7.0"}],additionalNotes:"Avoid calcium correction until hyperphosphatemia is addressed to prevent calcium phosphate precipitation."},{id:"superior-vena-cava-syndrome",title:"Superior Vena Cava Syndrome",timeToAction:"24 hours",category:"Obstructive",symptoms:["Facial swelling (especially in morning)","Neck distention","Difficulty breathing/dyspnea","Upper extremity swelling","Dilated neck or chest wall veins","Cough, hoarseness, dysphagia"],diagnostics:["CT of chest with contrast","Venography if diagnosis uncertain","Consider bronchoscopy or mediastinoscopy for tissue diagnosis","Oxygen saturation monitoring"],management:[{title:"Airway Management",description:"Elevate head of bed; supplemental oxygen if needed"},{title:"Radiation Therapy",description:"For known malignancies, especially radiosensitive tumors"},{title:"Stent Placement",description:"Consider urgent stenting for severe symptoms"},{title:"Tissue Diagnosis",description:"Obtain if not previously established (guides definitive treatment)"}],medications:[{name:"Dexamethasone",dosage:"4-10mg IV every 6 hours"},{name:"Furosemide",dosage:"20-40mg IV/PO daily as needed for edema"}]},{id:"hypercalcemia-of-malignancy",title:"Hypercalcemia of Malignancy",timeToAction:"24 hours",category:"Metabolic",symptoms:["Altered mental status, confusion","Nausea, vomiting, constipation","Polydipsia, polyuria","Weakness, fatigue","Cardiac arrhythmias","Bone pain"],diagnostics:["Serum calcium (total and ionized)","Kidney function tests","Serum phosphorus, magnesium","PTH and PTHrP levels","25-OH Vitamin D"],management:[{title:"Volume Expansion",description:"Normal saline at 200-300 mL/hr initially, then maintenance"},{title:"Calciuresis",description:"Loop diuretics after adequate hydration"},{title:"Bisphosphonate Therapy",description:"For moderate to severe hypercalcemia (> 12 mg/dL)"},{title:"Treat Underlying Malignancy",description:"Definitive treatment based on primary tumor"}],medications:[{name:"Zoledronic Acid",dosage:"4mg IV over 15 minutes"},{name:"Pamidronate",dosage:"60-90mg IV over 2-4 hours"},{name:"Furosemide",dosage:"20-40mg IV after hydration"},{name:"Calcitonin",dosage:"4-8 IU/kg SC/IM every 12 hours (short-term use)"}],additionalNotes:"Response to bisphosphonates typically occurs in 2-4 days; monitor calcium levels daily."},{id:"febrile-neutropenia",title:"Febrile Neutropenia",timeToAction:"60 minutes",category:["Hematologic","Infectious"],symptoms:["Fever (38.3C once or 38.0C for 1h)","Absolute neutrophil count <500 cells/mm","Shaking chills","Hypotension","Mucositis","Localizing symptoms of infection"],diagnostics:["Complete blood count with differential","Blood cultures (2 sets)","Urinalysis and urine culture","Chest radiograph","Cultures from any suspected sites of infection"],management:[{title:"Empiric Antibiotics",description:"Start broad-spectrum antibiotics within 1 hour of presentation"},{title:"Risk Stratification",description:"MASCC or CISNE score to determine inpatient vs. outpatient management"},{title:"Infection Site Assessment",description:"Comprehensive evaluation for source of infection"},{title:"G-CSF Consideration",description:"Consider for high-risk patients or expected prolonged neutropenia"}],medications:[{name:"Cefepime",dosage:"2g IV every 8 hours"},{name:"Piperacillin-Tazobactam",dosage:"4.5g IV every 6-8 hours"},{name:"Meropenem",dosage:"1g IV every 8 hours"},{name:"Add Vancomycin",dosage:"15-20mg/kg IV every 8-12 hours if MRSA suspected"}],additionalNotes:"Reassess antibiotic therapy after 48 hours based on cultures and clinical response."},{id:"septic-shock",title:"Septic Shock in Cancer Patients",timeToAction:"30 minutes",category:"Infectious",symptoms:["Persistent hypotension after fluid resuscitation","Temperature >38.3C or <36C","Heart rate >90 beats/minute","Respiratory rate >20 breaths/minute or PaCO2 <32 mmHg","Altered mental status","Decreased urine output (<0.5 mL/kg/hr)","Mottled skin or prolonged capillary refill"],diagnostics:["Blood cultures (at least 2 sets)","CBC with differential","Comprehensive metabolic panel","Lactate level","Blood gases","Chest X-ray","Urinalysis and urine culture","Imaging of suspected infection sites"],management:[{title:"Immediate Fluid Resuscitation",description:"30 mL/kg crystalloid for hypotension or lactate 4 mmol/L within first 3 hours"},{title:"Broad-Spectrum Antibiotics",description:"Administer within 1 hour of recognition"},{title:"Vasopressors",description:"If hypotension persists despite fluid resuscitation"},{title:"Source Control",description:"Identify and control source of infection (drain abscesses, remove infected devices)"},{title:"ICU Transfer",description:"Arrange immediate transfer to intensive care"}],medications:[{name:"Norepinephrine",dosage:"First-line vasopressor, 0.1-0.5 mcg/kg/min IV"},{name:"Broad-spectrum antibiotics",dosage:"Per institutional protocol and suspected source"},{name:"Vasopressin",dosage:"May be added to norepinephrine (0.03-0.04 units/min)"}],additionalNotes:"Cancer patients are at higher risk for multidrug-resistant organisms; consider previous microbiology results and recent antibiotic exposure when selecting empiric therapy."},{id:"chemo-anaphylaxis",title:"Anaphylaxis from Chemotherapy",timeToAction:"5 minutes",category:"Treatment-Related",symptoms:["Hypotension","Wheezing or bronchospasm","Urticaria or flushing","Angioedema","Dyspnea","Gastrointestinal symptoms (nausea, vomiting, diarrhea)","Temporal relationship to chemotherapy infusion"],diagnostics:["Clinical diagnosis based on symptoms","Vital signs monitoring","Pulse oximetry","Consider tryptase level (if available, within 3 hours of reaction)"],management:[{title:"Stop Infusion",description:"Immediately discontinue the offending agent"},{title:"Maintain Airway",description:"Position patient, prepare for intubation if severe"},{title:"Epinephrine",description:"Administer IM epinephrine as first-line treatment"},{title:"Fluid Resuscitation",description:"IV fluids for hypotension"},{title:"Secondary Medications",description:"H1 and H2 antihistamines, corticosteroids"}],medications:[{name:"Epinephrine",dosage:"0.3-0.5 mg IM (1:1000 solution), may repeat every 5-15 minutes as needed"},{name:"Diphenhydramine",dosage:"25-50 mg IV/IM/PO"},{name:"Ranitidine or famotidine",dosage:"Ranitidine 50 mg IV or Famotidine 20 mg IV"},{name:"Methylprednisolone",dosage:"125 mg IV"}],additionalNotes:"Document reaction in detail; consider allergy/immunology consult for desensitization protocols if the chemotherapy agent is essential for treatment."},{id:"leukostasis",title:"Leukostasis in Acute Leukemia",timeToAction:"6 hours",category:"Hematologic",symptoms:["Dyspnea or hypoxemia","Confusion or altered mental status","Visual changes","Headache","Very high WBC count (>100,000/L, especially in AML)","Pulmonary infiltrates without infection","Priapism (rare)"],diagnostics:["Complete blood count with differential","Blood gas analysis","Chest X-ray","Brain imaging (if neurological symptoms)","Coagulation studies","Basic metabolic panel"],management:[{title:"Urgent Leukapheresis",description:"Particularly for symptomatic patients with WBC >100,000/L"},{title:"Hydration",description:"IV fluids to maintain good hydration and urine output"},{title:"Cytoreduction",description:"Hydroxyurea or other rapidly acting cytoreductive therapy"},{title:"Avoid Transfusions",description:"If possible, avoid RBC transfusions which may increase viscosity"},{title:"Allopurinol or Rasburicase",description:"Preemptive treatment for tumor lysis syndrome"}],medications:[{name:"Hydroxyurea",dosage:"50-100 mg/kg/day PO divided in 2-3 doses"},{name:"Rasburicase",dosage:"0.2 mg/kg IV once daily (for high risk of TLS)"},{name:"Allopurinol",dosage:"300-600 mg/day PO"}],additionalNotes:"Leukostasis is a medical emergency requiring prompt hematology consultation. If leukapheresis is not immediately available, cytoreduction with hydroxyurea should be initiated while arranging transfer to a center with apheresis capability."},{id:"bowel-obstruction",title:"Bowel Obstruction due to Tumor",timeToAction:"24 hours",category:"Obstructive",symptoms:["Abdominal pain","Nausea and vomiting","Absence of bowel movements or flatus","Abdominal distention","High-pitched or absent bowel sounds","History of intra-abdominal malignancy (especially colorectal, ovarian, gastric)"],diagnostics:["Abdominal X-ray (supine and upright)","CT abdomen with contrast (if not contraindicated)","Complete blood count","Comprehensive metabolic panel","Blood gas analysis if concern for ischemia"],management:[{title:"NPO Status",description:"Nothing by mouth"},{title:"Nasogastric Tube",description:"For decompression and symptom relief"},{title:"IV Fluids",description:"Correct fluid and electrolyte imbalances"},{title:"Surgical Consultation",description:"Evaluate for possible surgical intervention"},{title:"Pharmacological Management",description:"Antiemetics, pain control, consider octreotide for malignant bowel obstruction"}],medications:[{name:"Octreotide",dosage:"100-600 mcg/day SC or IV continuous infusion"},{name:"Dexamethasone",dosage:"8-20 mg/day IV"},{name:"Ondansetron",dosage:"4-8 mg IV every 8 hours"},{name:"Opioid analgesics",dosage:"Titrate to pain control"}],additionalNotes:"In patients with advanced cancer, consider goals of care discussions. For inoperable cases, palliative measures may be appropriate, including venting gastrostomy for symptom control."},{id:"siadh",title:"SIADH (Syndrome of Inappropriate ADH Secretion)",timeToAction:"12 hours",category:"Metabolic",symptoms:["Hyponatremia (Na <135 mEq/L)","Decreased serum osmolality (<275 mOsm/kg)","Inappropriate urine concentration (Uosm >100 mOsm/kg)","Euvolemia (no edema or dehydration)","Headache","Nausea and vomiting","Confusion or altered mental status","Seizures (in severe cases)"],diagnostics:["Serum sodium and osmolality","Urine sodium and osmolality","Serum cortisol and TSH (to rule out adrenal insufficiency and hypothyroidism)","Chest imaging (to identify SCLC or other pulmonary malignancies)","Brain imaging (for CNS malignancies)","Volume status assessment"],management:[{title:"Fluid Restriction",description:"800-1000 mL/day for mild to moderate hyponatremia"},{title:"Hypertonic Saline",description:"For severe hyponatremia (Na <120 mEq/L) or neurological symptoms"},{title:"Monitor Sodium Correction Rate",description:"Not to exceed 8-10 mEq/L in 24 hours to avoid osmotic demyelination syndrome"},{title:"Treat Underlying Malignancy",description:"Directed therapy for SCLC or other causative tumor"},{title:"Pharmacologic Therapy",description:"Consider salt tablets, loop diuretics, or vasopressin receptor antagonists"}],medications:[{name:"3% Sodium Chloride",dosage:"For severe symptoms: 100-150 mL IV over 10-20 minutes, may repeat; otherwise 0.5-1 mL/kg/hr"},{name:"Tolvaptan",dosage:"Start 15 mg daily, can increase to 30-60 mg daily"},{name:"Salt tablets",dosage:"1-2 g TID with meals"},{name:"Furosemide",dosage:"20-40 mg daily (with salt tablets)"}],additionalNotes:"SIADH is commonly associated with small cell lung cancer, CNS disorders, and certain medications. Monitor sodium levels closely during correction to prevent osmotic demyelination syndrome."},{id:"ici-toxicities",title:"Immune Checkpoint Inhibitor Toxicities",timeToAction:"24 hours",category:"Treatment-Related",symptoms:["Colitis: diarrhea, abdominal pain","Pneumonitis: dyspnea, cough, hypoxia","Hepatitis: elevated liver enzymes, jaundice","Endocrinopathies: fatigue, headache, hypophysitis, thyroid dysfunction","Dermatitis: rash, pruritus","Nephritis: elevated creatinine","Myocarditis: chest pain, arrhythmia, heart failure","Neurological: neuropathy, myasthenia gravis-like syndrome, encephalitis"],diagnostics:["System-specific laboratory tests (liver function, thyroid function, etc.)","Inflammatory markers (CRP, ESR)","Imaging appropriate to affected organ system","Consider specialist consultations based on affected organ","Tissue biopsy in selected cases"],management:[{title:"Grade-Based Management",description:"Severity determines whether to continue, hold, or permanently discontinue ICI"},{title:"Corticosteroids",description:"Cornerstone of management for grade 2 or higher toxicities"},{title:"Specialty Consultation",description:"Based on organ system involved (gastroenterology, pulmonology, etc.)"},{title:"Additional Immunosuppression",description:"For steroid-refractory cases (infliximab, mycophenolate mofetil, etc.)"},{title:"Hormone Replacement",description:"For endocrinopathies"}],medications:[{name:"Prednisone/Methylprednisolone",dosage:"Grade 2: 0.5-1 mg/kg/day; Grade 3-4: 1-2 mg/kg/day"},{name:"Infliximab",dosage:"5 mg/kg IV for steroid-refractory colitis"},{name:"Mycophenolate mofetil",dosage:"500-1000 mg BID for hepatitis not responding to steroids"},{name:"Hormone replacement",dosage:"As needed for specific endocrinopathies"}],additionalNotes:"Early recognition and prompt intervention are critical. Most irAEs occur within first 12 weeks of treatment but can present months after discontinuation. Multidisciplinary management with oncology and organ specialists is recommended."}],BZ=e=>{const t=e.match(/(\d+)\s*(\w+)/);if(!t)return e;const[n,s,i]=t,o=parseInt(s,10);return i.startsWith("minute")?o<60?`${o}m`:`${Math.floor(o/60)}h ${o%60}m`:i.startsWith("hour")?`${o}h`:i.startsWith("day")?`${o}d`:e},eM=({timeToAction:e})=>{const t=()=>{const o=e.match(/(\d+)\s*(minutes?|hours?|days?)/i);if(!o)return{bg:"bg-yellow-600",text:"text-white"};const r=parseInt(o[1],10),a=o[2].toLowerCase();let c=r;return a.startsWith("hour")&&(c=r*60),a.startsWith("day")&&(c=r*24*60),c<=15?{bg:"bg-red-600",text:"text-white"}:c<=60?{bg:"bg-orange-500",text:"text-white"}:c<=360?{bg:"bg-yellow-500",text:"text-white"}:{bg:"bg-blue-500",text:"text-white"}},{bg:n,text:s}=t(),i=BZ(e);return l.jsxDEV(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n} ${s}`,whileHover:{scale:1.05},children:[l.jsxDEV("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/RedFlagTag.tsx",lineNumber:48,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/RedFlagTag.tsx",lineNumber:47,columnNumber:7},void 0),"Act within ",i]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/RedFlagTag.tsx",lineNumber:41,columnNumber:5},void 0)};var tM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ky=Re.createContext&&Re.createContext(tM),HZ=["attr","size","title"];function UZ(e,t){if(e==null)return{};var n=zZ(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zZ(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pu.apply(this,arguments)}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?My(Object(n),!0).forEach(function(s){$Z(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function $Z(e,t,n){return t=WZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nM(e){return e&&e.map((t,n)=>Re.createElement(t.tag,Au({key:n},t.attr),nM(t.child)))}function Id(e){return t=>Re.createElement(qZ,Pu({attr:Au({},e.attr)},t),nM(e.child))}function qZ(e){var t=n=>{var{attr:s,size:i,title:o}=e,r=UZ(e,HZ),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Re.createElement("svg",Pu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,r,{className:c,style:Au(Au({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Re.createElement("title",null,o),e.children)};return ky!==void 0?Re.createElement(ky.Consumer,null,n=>t(n)):t(tM)}function KZ(e){return Id({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function YZ(e){return Id({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function XZ(e){return Id({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function JZ(e){return Id({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}const QZ=({protocol:e,onViewDetails:t})=>{const[n,s]=x.useState(!1),i=()=>(Array.isArray(e.category)?e.category:[e.category]).map(r=>l.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 mr-2",children:r},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:19,columnNumber:7},void 0));return l.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",children:[l.jsxDEV("button",{className:"w-full flex justify-between items-center p-4 text-left focus:outline-none",onClick:()=>s(!n),children:[l.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:36,columnNumber:11},void 0),e.timeToAction&&l.jsxDEV(eM,{timeToAction:e.timeToAction},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:38,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:35,columnNumber:9},void 0),l.jsxDEV(Be.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:l.jsxDEV(KZ,{className:"text-gray-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:45,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:31,columnNumber:7},void 0),l.jsxDEV("div",{className:"px-4 pb-3 border-t border-gray-100",children:l.jsxDEV("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[i(),l.jsxDEV("span",{className:"truncate",children:["Key signs: ",e.symptoms.slice(0,2).join(", "),e.symptoms.length>2&&"..."]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:51,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:50,columnNumber:7},void 0),l.jsxDEV(Ts,{children:n&&l.jsxDEV(Be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxDEV("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:[l.jsxDEV("div",{className:"mb-4",children:[l.jsxDEV("h4",{className:"font-medium text-gray-700 mb-1",children:"Key Symptoms"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:72,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[e.symptoms.slice(0,3).map((o,r)=>l.jsxDEV("li",{className:"text-sm",children:o},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:75,columnNumber:21},void 0)),e.symptoms.length>3&&l.jsxDEV("li",{className:"text-sm text-gray-500",children:["+ ",e.symptoms.length-3," more symptoms"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:78,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:73,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:71,columnNumber:15},void 0),l.jsxDEV("div",{className:"mb-4",children:[l.jsxDEV("h4",{className:"font-medium text-gray-700 mb-1",children:"Initial Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:84,columnNumber:17},void 0),l.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[e.management.slice(0,2).map((o,r)=>l.jsxDEV("li",{className:"text-sm",children:o.title},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:87,columnNumber:21},void 0)),e.management.length>2&&l.jsxDEV("li",{className:"text-sm text-gray-500",children:["+ ",e.management.length-2," more steps"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:90,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:85,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:83,columnNumber:15},void 0),l.jsxDEV("button",{onClick:o=>{o.stopPropagation(),t()},className:"mt-2 inline-flex items-center px-3 py-2 border border-red-300 text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:["Full Protocol ",l.jsxDEV(XZ,{className:"ml-2 h-3 w-3"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:102,columnNumber:31},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:95,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:70,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:63,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:61,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyAccordion.tsx",lineNumber:29,columnNumber:5},void 0)};var sM={exports:{}};(function(e,t){(function(n,s){e.exports=s(x)})(typeof self<"u"?self:Bt,function(n){return function(){var s={155:function(b){b.exports=n}},i={};function o(b){var w=i[b];if(w!==void 0)return w.exports;var N=i[b]={exports:{}};return s[b](N,N.exports,o),N.exports}o.d=function(b,w){for(var N in w)o.o(w,N)&&!o.o(b,N)&&Object.defineProperty(b,N,{enumerable:!0,get:w[N]})},o.o=function(b,w){return Object.prototype.hasOwnProperty.call(b,w)},o.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var r={};o.r(r),o.d(r,{useReactToPrint:function(){return v}});var a=o(155);function c({level:b="error",messages:w,suppressErrors:N=!1}){N||(b==="error"?console.error(w):b==="warning"?console.warn(w):console.debug(w))}function u(b,w){if(w||!b){const N=document.getElementById("printWindow");N&&document.body.removeChild(N)}}function d(b){return b instanceof Error?b:new Error("Unknown Error")}function m(b,w){const{documentTitle:N,onAfterPrint:E,onPrintError:D,preserveAfterPrint:T,print:M,suppressErrors:_}=w;setTimeout(()=>{var P,k;if(b.contentWindow){let L=function(){E==null||E(),u(T)};if(b.contentWindow.focus(),M)M(b).then(L).catch(B=>{D?D("print",d(B)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:_})});else{if(b.contentWindow.print){const B=(k=(P=b.contentDocument)===null||P===void 0?void 0:P.title)!==null&&k!==void 0?k:"",A=b.ownerDocument.title;N&&(b.ownerDocument.title=N,b.contentDocument&&(b.contentDocument.title=N)),b.contentWindow.print(),N&&(b.ownerDocument.title=A,b.contentDocument&&(b.contentDocument.title=B))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:_});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(B=>{var A,V;return((V=(A=navigator.userAgent)!==null&&A!==void 0?A:navigator.vendor)!==null&&V!==void 0?V:"opera"in window&&window.opera).match(B)})?setTimeout(L,500):L()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:_})},500)}function f(b){const w=[],N=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,null);let E=N.nextNode();for(;E;)w.push(E),E=N.nextNode();return w}function h(b,w,N){const E=f(b),D=f(w);if(E.length===D.length)for(let T=0;T<E.length;T++){const M=E[T],_=D[T],P=M.shadowRoot;if(P!==null){const k=_.attachShadow({mode:P.mode});k.innerHTML=P.innerHTML,h(P,k,N)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",b,w],suppressErrors:N})}const p=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function g(b,w,N,E){var D,T,M,_,P;const{contentNode:k,clonedContentNode:L,clonedImgNodes:B,clonedVideoNodes:A,numResourcesToLoad:V,originalCanvasNodes:O}=N,{bodyClass:U,fonts:q,ignoreGlobalStyles:$,pageStyle:Z,nonce:I,suppressErrors:ie,copyShadowRoots:ve}=E;b.onload=null;const j=(D=b.contentDocument)!==null&&D!==void 0?D:(T=b.contentWindow)===null||T===void 0?void 0:T.document;if(j){const ce=j.body.appendChild(L);ve&&h(k,ce,!!ie),q&&(!((M=b.contentDocument)===null||M===void 0)&&M.fonts&&(!((_=b.contentWindow)===null||_===void 0)&&_.FontFace)?q.forEach(J=>{const Y=new FontFace(J.family,J.source,{weight:J.weight,style:J.style});b.contentDocument.fonts.add(Y),Y.loaded.then(()=>{w(Y)}).catch(ue=>{w(Y,["Failed loading the font:",Y,"Load error:",d(ue)])})}):(q.forEach(J=>{w(J)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:ie})));const ge=Z??p,xe=j.createElement("style");I&&(xe.setAttribute("nonce",I),j.head.setAttribute("nonce",I)),xe.appendChild(j.createTextNode(ge)),j.head.appendChild(xe),U&&j.body.classList.add(...U.split(" "));const ne=j.querySelectorAll("canvas");for(let J=0;J<O.length;++J){const Y=O[J],ue=ne[J];if(ue===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Y],suppressErrors:ie});continue}const de=ue.getContext("2d");de&&de.drawImage(Y,0,0)}for(let J=0;J<B.length;J++){const Y=B[J],ue=Y.getAttribute("src");if(ue){const de=new Image;de.onload=()=>{w(Y)},de.onerror=(re,pe,ze,$e,We)=>{w(Y,["Error loading <img>",Y,"Error",We])},de.src=ue}else w(Y,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Y])}for(let J=0;J<A.length;J++){const Y=A[J];Y.preload="auto";const ue=Y.getAttribute("poster");if(ue){const de=new Image;de.onload=()=>{w(Y)},de.onerror=(re,pe,ze,$e,We)=>{w(Y,["Error loading video poster",ue,"for video",Y,"Error:",We])},de.src=ue}else Y.readyState>=2?w(Y):Y.src?(Y.onloadeddata=()=>{w(Y)},Y.onerror=(de,re,pe,ze,$e)=>{w(Y,["Error loading video",Y,"Error",$e])},Y.onstalled=()=>{w(Y,["Loading video stalled, skipping",Y])}):w(Y,["Error loading video, `src` is empty",Y])}const me="select",De=k.querySelectorAll(me),K=j.querySelectorAll(me);for(let J=0;J<De.length;J++)K[J].value=De[J].value;if(!$){const J=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Y=0,ue=J.length;Y<ue;++Y){const de=J[Y];if(de.tagName.toLowerCase()==="style"){const re=j.createElement(de.tagName),pe=de.sheet;if(pe){let ze="";try{const $e=pe.cssRules.length;for(let We=0;We<$e;++We)typeof pe.cssRules[We].cssText=="string"&&(ze+=`${pe.cssRules[We].cssText}\r
`)}catch($e){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",de,`Original error: ${d($e).message}`],level:"warning"})}re.setAttribute("id",`react-to-print-${Y}`),I&&re.setAttribute("nonce",I),re.appendChild(j.createTextNode(ze)),j.head.appendChild(re)}}else if(de.getAttribute("href"))if(de.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",de],level:"warning"}),w(de);else{const re=j.createElement(de.tagName);for(let pe=0,ze=de.attributes.length;pe<ze;++pe){const $e=de.attributes[pe];$e&&re.setAttribute($e.nodeName,(P=$e.nodeValue)!==null&&P!==void 0?P:"")}re.onload=()=>{w(re)},re.onerror=(pe,ze,$e,We,Mn)=>{w(re,["Failed to load",re,"Error:",Mn])},I&&re.setAttribute("nonce",I),j.head.appendChild(re)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",de],level:"warning"}),w(de)}}}V===0&&m(b,E)}function v({bodyClass:b,contentRef:w,copyShadowRoots:N,documentTitle:E,fonts:D,ignoreGlobalStyles:T,nonce:M,onAfterPrint:_,onBeforePrint:P,onPrintError:k,pageStyle:L,preserveAfterPrint:B,print:A,suppressErrors:V}){return(0,a.useCallback)(O=>{function U(){const q={bodyClass:b,contentRef:w,copyShadowRoots:N,documentTitle:E,fonts:D,ignoreGlobalStyles:T,nonce:M,onAfterPrint:_,onPrintError:k,pageStyle:L,preserveAfterPrint:B,print:A,suppressErrors:V},$=function(){const ie=document.createElement("iframe");return ie.width=`${document.documentElement.clientWidth}px`,ie.height=`${document.documentElement.clientHeight}px`,ie.style.position="absolute",ie.style.top=`-${document.documentElement.clientHeight+100}px`,ie.style.left=`-${document.documentElement.clientWidth+100}px`,ie.id="printWindow",ie.srcdoc="<!DOCTYPE html>",ie}(),Z=function(ie,ve){const{contentRef:j,fonts:ce,ignoreGlobalStyles:ge,suppressErrors:xe}=ve,ne=function({contentRef:ue,optionalContent:de,suppressErrors:re}){return!de||de instanceof Event||(ue&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof de!="function")?ue?ue.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:re}):de()}({contentRef:j,optionalContent:ie,suppressErrors:xe});if(!ne)return;const me=ne.cloneNode(!0),De=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),K=me.querySelectorAll("img"),J=me.querySelectorAll("video"),Y=ce?ce.length:0;return{contentNode:ne,clonedContentNode:me,clonedImgNodes:K,clonedVideoNodes:J,numResourcesToLoad:(ge?0:De.length)+K.length+J.length+Y,originalCanvasNodes:ne.querySelectorAll("canvas")}}(O,q);if(!Z)return void c({messages:["There is nothing to print"],suppressErrors:V});const I=function(ie,ve,j){const{suppressErrors:ce}=ie,ge=[],xe=[];return function(ne,me){ge.includes(ne)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",ne],suppressErrors:ce}):(me?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...me],suppressErrors:ce}),xe.push(ne)):ge.push(ne),ge.length+xe.length===ve&&m(j,ie))}}(q,Z.numResourcesToLoad,$);(function(ie,ve,j,ce){ie.onload=()=>{g(ie,ve,j,ce)},document.body.appendChild(ie)})($,I,Z,q)}u(B,!0),P?P().then(()=>{U()}).catch(q=>{k==null||k("onBeforePrint",d(q))}):U()},[b,w,N,E,D,T,M,_,P,k,L,B,A,V])}return r}()})})(sM);var ZZ=sM.exports;const eee=({protocol:e,onClose:t})=>{const n=x.useRef(null),s=ZZ.useReactToPrint({content:()=>n.current});return l.jsxDEV(Be.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:l.jsxDEV(Be.div,{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-auto",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:"spring",damping:25},onClick:i=>i.stopPropagation(),children:[l.jsxDEV("div",{className:"sticky top-0 bg-red-100 p-4 border-b border-red-200 flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex items-center space-x-3",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-red-800",children:e.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:37,columnNumber:13},void 0),e.timeToAction&&l.jsxDEV(eM,{timeToAction:e.timeToAction},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:39,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:36,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex space-x-2",children:[l.jsxDEV("button",{onClick:s,className:"p-2 bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200","aria-label":"Print protocol",children:l.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 512 512",children:l.jsxDEV("path",{fill:"currentColor",d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:49,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:48,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:43,columnNumber:13},void 0),l.jsxDEV("button",{onClick:t,className:"p-2 bg-gray-100 text-gray-800 rounded-full hover:bg-gray-200","aria-label":"Close modal",children:l.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 352 512",children:l.jsxDEV("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:58,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:57,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:42,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:35,columnNumber:9},void 0),l.jsxDEV("div",{ref:n,className:"p-6 print:p-4",children:[l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 print:gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Clinical Presentation"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:67,columnNumber:15},void 0),l.jsxDEV("ul",{className:"list-disc ml-5 space-y-1 text-gray-700",children:e.symptoms.map((i,o)=>l.jsxDEV("li",{children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:70,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:68,columnNumber:15},void 0),l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-3",children:"Diagnostics"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:74,columnNumber:15},void 0),l.jsxDEV("ul",{className:"list-disc ml-5 space-y-1 text-gray-700",children:e.diagnostics.map((i,o)=>l.jsxDEV("li",{children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:77,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:75,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:66,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:83,columnNumber:15},void 0),l.jsxDEV("ol",{className:"list-decimal ml-5 space-y-2 text-gray-700",children:e.management.map((i,o)=>l.jsxDEV("li",{className:"pl-1",children:[l.jsxDEV("div",{className:"font-medium",children:i.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:87,columnNumber:21},void 0),l.jsxDEV("div",{className:"text-sm mt-1",children:i.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:88,columnNumber:21},void 0)]},o,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:86,columnNumber:19},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:84,columnNumber:15},void 0),e.medications&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-gray-800 mt-6 mb-3",children:"Medications"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:95,columnNumber:19},void 0),l.jsxDEV("div",{className:"border-t border-b border-gray-200",children:e.medications.map((i,o)=>l.jsxDEV("div",{className:`py-2 px-3 ${o%2===0?"bg-gray-50":"bg-white"}`,children:[l.jsxDEV("div",{className:"font-medium",children:i.name},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:102,columnNumber:25},void 0),l.jsxDEV("div",{className:"text-sm text-gray-600",children:i.dosage},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:103,columnNumber:25},void 0)]},o,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:98,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:96,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:94,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:65,columnNumber:11},void 0),e.additionalNotes&&l.jsxDEV("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[l.jsxDEV("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Additional Notes"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:114,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-yellow-800",children:e.additionalNotes},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:115,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:64,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/components/EmergencyDetailModal.tsx",lineNumber:20,columnNumber:5},void 0)},tee=["All","Hematologic","Metabolic","Treatment-Related","Obstructive","Infectious"],nee=["All","Critical","Non-urgent"],see=()=>{const[e,t]=x.useState(""),[n,s]=x.useState(null),[i,o]=x.useState("All"),[r,a]=x.useState("All"),c=(f,h)=>h==="All"?!0:Array.isArray(f.category)?f.category.includes(h):f.category===h,u=f=>{if(!f.timeToAction)return"Non-urgent";const h=f.timeToAction.match(/(\d+)\s*(minutes?|hours?|days?)/i);if(!h)return"Non-urgent";const p=parseInt(h[1],10),g=h[2].toLowerCase();let v=p;return g.startsWith("hour")&&(v=p*60),g.startsWith("day")&&(v=p*60*24),v<=60?"Critical":v>720?"Non-urgent":"All"},d=x.useMemo(()=>_y.filter(f=>{const h=e.trim()===""||f.title.toLowerCase().includes(e.toLowerCase())||f.symptoms.some(v=>v.toLowerCase().includes(e.toLowerCase())),p=c(f,i),g=r==="All"||u(f)===r||r==="Critical"&&u(f)==="Critical";return h&&p&&g}),[e,i,r]),m=x.useMemo(()=>_y.find(f=>f.id===n),[n]);return l.jsxDEV("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Emergency Protocols"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:91,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxDEV("div",{className:"relative flex-grow",children:[l.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsxDEV(JZ,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:98,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:97,columnNumber:11},void 0),l.jsxDEV("input",{type:"text",placeholder:"Search by name or symptom...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500",value:e,onChange:f=>t(f.target.value)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:96,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-shrink-0",children:l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("select",{className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-red-500 focus:border-red-500",value:r,onChange:f=>a(f.target.value),children:nee.map(f=>l.jsxDEV("option",{value:f,children:f==="All"?"All Urgencies":f},f,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:118,columnNumber:17},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:112,columnNumber:13},void 0),l.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsxDEV(YZ,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:124,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:111,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:94,columnNumber:7},void 0),l.jsxDEV("div",{className:"border-b border-gray-200",children:l.jsxDEV("nav",{className:"-mb-px flex flex-wrap space-x-4 overflow-x-auto","aria-label":"Categories",children:tee.map(f=>l.jsxDEV("button",{className:`whitespace-nowrap pb-2 font-medium text-sm border-b-2 ${i===f?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>o(f),children:f},f,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:134,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:132,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:131,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV(Ts,{children:d.map(f=>l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0},transition:{duration:.2},children:l.jsxDEV(QZ,{protocol:f,onViewDetails:()=>s(f.id)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:160,columnNumber:15},void 0)},f.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:153,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:151,columnNumber:9},void 0),d.length===0&&l.jsxDEV("div",{className:"text-center py-10",children:l.jsxDEV("p",{className:"text-gray-500",children:"No emergency protocols found matching your criteria"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:171,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:150,columnNumber:7},void 0),l.jsxDEV(Ts,{children:m&&l.jsxDEV(eee,{protocol:m,onClose:()=>s(null)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:179,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:177,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/emergencies/EmergencyProtocols.tsx",lineNumber:90,columnNumber:5},void 0)},$h=[{key:"breast",label:"Breast Cancer"},{key:"lung",label:"Lung Cancer"},{key:"lymphoma",label:"Lymphoma"},{key:"colorectal",label:"Colorectal Cancer"},{key:"gastric",label:"Gastric Cancer"},{key:"pancreatic",label:"Pancreatic Cancer"},{key:"ovarian",label:"Ovarian Cancer"},{key:"cervical",label:"Cervical Cancer"},{key:"renal",label:"Renal Cell Carcinoma"},{key:"prostate",label:"Prostate Cancer"},{key:"head_neck",label:"Head & Neck Cancer"},{key:"bladder",label:"Bladder Cancer"},{key:"multiple_myeloma",label:"Multiple Myeloma"}];function iee(e){switch(e){case"colorectal":return["CBC","BMP","CT Abdomen","Consent","Isolation if febrile"];case"gastric":return["CBC","CMP","Endoscopy Report","Nutrition Consult"];case"pancreatic":return["LFTs","CT Abdomen","Hydration Orders","Pain Team Consult"];case"ovarian":return["Pelvic US/CT","Ascitic Tap if needed","CBC","Consent"];case"multiple_myeloma":return["CBC","CMP","Calcium","Renal Panel","SPEP"];default:return["CBC","CMP","Consent","Vitals","Isolation if needed"]}}function oee(e,t){const n=["CBC","CMP","IV Fluids","Vitals Q4H"];return t==="GI Bleeding"?[...n,"Type & Cross","IV PPI","NPO","GI Consult"]:t==="Obstructive Jaundice"?[...n,"LFTs","ERCP/Intervention Referral","Hydration"]:t==="Spinal Cord Compression"?[...n,"MRI Spine","IV Steroids (Dexamethasone)","Neuro Consult"]:t==="Febrile Neutropenia"?[...n,"Blood Cultures","Start Broad-Spectrum Antibiotics","Monitor Temperature Q2H"]:n}function iM(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ree=[" ","Enter","ArrowUp","ArrowDown"],aee=[" ","Enter"],bo="Select",[Rd,jd,lee]=xg(bo),[qr,yne]=_s(bo,[lee,Wu]),Od=Wu(),[cee,Ci]=qr(bo),[uee,dee]=qr(bo),oM=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:o,value:r,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:m,disabled:f,required:h,form:p}=e,g=Od(t),[v,b]=x.useState(null),[w,N]=x.useState(null),[E,D]=x.useState(!1),T=Md(u),[M,_]=Ei({prop:s,defaultProp:i??!1,onChange:o,caller:bo}),[P,k]=Ei({prop:r,defaultProp:a,onChange:c,caller:bo}),L=x.useRef(null),B=v?p||!!v.closest("form"):!0,[A,V]=x.useState(new Set),O=Array.from(A).map(U=>U.props.value).join(";");return G.jsx(Ww,{...g,children:G.jsxs(cee,{required:h,scope:t,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:E,onValueNodeHasChildrenChange:D,contentId:$s(),value:P,onValueChange:k,open:M,onOpenChange:_,dir:T,triggerPointerDownPosRef:L,disabled:f,children:[G.jsx(Rd.Provider,{scope:t,children:G.jsx(uee,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{V(q=>new Set(q).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{V(q=>{const $=new Set(q);return $.delete(U),$})},[]),children:n})}),B?G.jsxs(_M,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:m,value:P,onChange:U=>k(U.target.value),disabled:f,form:p,children:[P===void 0?G.jsx("option",{value:""}):null,Array.from(A)]},O):null]})})};oM.displayName=bo;var rM="SelectTrigger",aM=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,o=Od(n),r=Ci(rM,n),a=r.disabled||s,c=Je(t,r.onTriggerChange),u=jd(n),d=x.useRef("touch"),[m,f,h]=MM(g=>{const v=u().filter(N=>!N.disabled),b=v.find(N=>N.value===r.value),w=CM(v,g,b);w!==void 0&&r.onValueChange(w.value)}),p=g=>{a||(r.onOpenChange(!0),h()),g&&(r.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return G.jsx(Gw,{asChild:!0,...o,children:G.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":r.contentId,"aria-expanded":r.open,"aria-required":r.required,"aria-autocomplete":"none",dir:r.dir,"data-state":r.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":kM(r.value)?"":void 0,...i,ref:c,onClick:Se(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:Se(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Se(i.onKeyDown,g=>{const v=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&ree.includes(g.key)&&(p(),g.preventDefault())})})})});aM.displayName=rM;var lM="SelectValue",cM=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:r="",...a}=e,c=Ci(lM,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,m=Je(t,c.onValueNodeChange);return Ht(()=>{u(d)},[u,d]),G.jsx(Pe.span,{...a,ref:m,style:{pointerEvents:"none"},children:kM(c.value)?G.jsx(G.Fragment,{children:r}):o})});cM.displayName=lM;var mee="SelectIcon",uM=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return G.jsx(Pe.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});uM.displayName=mee;var fee="SelectPortal",dM=e=>G.jsx(Gu,{asChild:!0,...e});dM.displayName=fee;var vo="SelectContent",mM=x.forwardRef((e,t)=>{const n=Ci(vo,e.__scopeSelect),[s,i]=x.useState();if(Ht(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?xo.createPortal(G.jsx(fM,{scope:e.__scopeSelect,children:G.jsx(Rd.Slot,{scope:e.__scopeSelect,children:G.jsx("div",{children:e.children})})}),o):null}return G.jsx(hM,{...e,ref:t})});mM.displayName=vo;var Yn=10,[fM,Pi]=qr(vo),hee="SelectContentImpl",pee=mr("SelectContent.RemoveScroll"),hM=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:r,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v,...b}=e,w=Ci(vo,n),[N,E]=x.useState(null),[D,T]=x.useState(null),M=Je(t,ne=>E(ne)),[_,P]=x.useState(null),[k,L]=x.useState(null),B=jd(n),[A,V]=x.useState(!1),O=x.useRef(!1);x.useEffect(()=>{if(N)return W_(N)},[N]),O_();const U=x.useCallback(ne=>{const[me,...De]=B().map(Y=>Y.ref.current),[K]=De.slice(-1),J=document.activeElement;for(const Y of ne)if(Y===J||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===me&&D&&(D.scrollTop=0),Y===K&&D&&(D.scrollTop=D.scrollHeight),Y==null||Y.focus(),document.activeElement!==J))return},[B,D]),q=x.useCallback(()=>U([_,N]),[U,_,N]);x.useEffect(()=>{A&&q()},[A,q]);const{onOpenChange:$,triggerPointerDownPosRef:Z}=w;x.useEffect(()=>{if(N){let ne={x:0,y:0};const me=K=>{var J,Y;ne={x:Math.abs(Math.round(K.pageX)-(((J=Z.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(K.pageY)-(((Y=Z.current)==null?void 0:Y.y)??0))}},De=K=>{ne.x<=10&&ne.y<=10?K.preventDefault():N.contains(K.target)||$(!1),document.removeEventListener("pointermove",me),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",De,{capture:!0})}}},[N,$,Z]),x.useEffect(()=>{const ne=()=>$(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[$]);const[I,ie]=MM(ne=>{const me=B().filter(J=>!J.disabled),De=me.find(J=>J.ref.current===document.activeElement),K=CM(me,ne,De);K&&setTimeout(()=>K.ref.current.focus())}),ve=x.useCallback((ne,me,De)=>{const K=!O.current&&!De;(w.value!==void 0&&w.value===me||K)&&(P(ne),K&&(O.current=!0))},[w.value]),j=x.useCallback(()=>N==null?void 0:N.focus(),[N]),ce=x.useCallback((ne,me,De)=>{const K=!O.current&&!De;(w.value!==void 0&&w.value===me||K)&&L(ne)},[w.value]),ge=s==="popper"?Wh:pM,xe=ge===Wh?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return G.jsx(fM,{scope:n,content:N,viewport:D,onViewportChange:T,itemRefCallback:ve,selectedItem:_,onItemLeave:j,itemTextRefCallback:ce,focusSelectedItem:q,selectedItemText:k,position:s,isPositioned:A,searchRef:I,children:G.jsx(Jg,{as:pee,allowPinchZoom:!0,children:G.jsx(Xg,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Se(i,ne=>{var me;(me=w.trigger)==null||me.focus({preventScroll:!0}),ne.preventDefault()}),children:G.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:G.jsx(ge,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),...b,...xe,onPlaced:()=>V(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Se(b.onKeyDown,ne=>{const me=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!me&&ne.key.length===1&&ie(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let K=B().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const J=ne.target,Y=K.indexOf(J);K=K.slice(Y+1)}setTimeout(()=>U(K)),ne.preventDefault()}})})})})})})});hM.displayName=hee;var gee="SelectItemAlignedPosition",pM=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,o=Ci(vo,n),r=Pi(vo,n),[a,c]=x.useState(null),[u,d]=x.useState(null),m=Je(t,M=>d(M)),f=jd(n),h=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=r,N=x.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&v&&b){const M=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(o.dir!=="rtl"){const J=k.left-_.left,Y=P.left-J,ue=M.left-Y,de=M.width+ue,re=Math.max(de,_.width),pe=window.innerWidth-Yn,ze=zh(Y,[Yn,Math.max(Yn,pe-re)]);a.style.minWidth=de+"px",a.style.left=ze+"px"}else{const J=_.right-k.right,Y=window.innerWidth-P.right-J,ue=window.innerWidth-M.right-Y,de=M.width+ue,re=Math.max(de,_.width),pe=window.innerWidth-Yn,ze=zh(Y,[Yn,Math.max(Yn,pe-re)]);a.style.minWidth=de+"px",a.style.right=ze+"px"}const L=f(),B=window.innerHeight-Yn*2,A=g.scrollHeight,V=window.getComputedStyle(u),O=parseInt(V.borderTopWidth,10),U=parseInt(V.paddingTop,10),q=parseInt(V.borderBottomWidth,10),$=parseInt(V.paddingBottom,10),Z=O+U+A+$+q,I=Math.min(v.offsetHeight*5,Z),ie=window.getComputedStyle(g),ve=parseInt(ie.paddingTop,10),j=parseInt(ie.paddingBottom,10),ce=M.top+M.height/2-Yn,ge=B-ce,xe=v.offsetHeight/2,ne=v.offsetTop+xe,me=O+U+ne,De=Z-me;if(me<=ce){const J=L.length>0&&v===L[L.length-1].ref.current;a.style.bottom="0px";const Y=u.clientHeight-g.offsetTop-g.offsetHeight,ue=Math.max(ge,xe+(J?j:0)+Y+q),de=me+ue;a.style.height=de+"px"}else{const J=L.length>0&&v===L[0].ref.current;a.style.top="0px";const ue=Math.max(ce,O+g.offsetTop+(J?ve:0)+xe)+De;a.style.height=ue+"px",g.scrollTop=me-ce+g.offsetTop}a.style.margin=`${Yn}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=B+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,a,u,g,v,b,o.dir,s]);Ht(()=>N(),[N]);const[E,D]=x.useState();Ht(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const T=x.useCallback(M=>{M&&p.current===!0&&(N(),w==null||w(),p.current=!1)},[N,w]);return G.jsx(vee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:T,children:G.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:G.jsx(Pe.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pM.displayName=gee;var bee="SelectPopperPosition",Wh=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Yn,...o}=e,r=Od(n);return G.jsx(qw,{...r,...o,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wh.displayName=bee;var[vee,a0]=qr(vo,{}),Gh="SelectViewport",gM=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,o=Pi(Gh,n),r=a0(Gh,n),a=Je(t,o.onViewportChange),c=x.useRef(0);return G.jsxs(G.Fragment,{children:[G.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),G.jsx(Rd.Slot,{scope:n,children:G.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Se(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=r;if(f!=null&&f.current&&m){const h=Math.abs(c.current-d.scrollTop);if(h>0){const p=window.innerHeight-Yn*2,g=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),b=Math.max(g,v);if(b<p){const w=b+h,N=Math.min(p,w),E=w-N;m.style.height=N+"px",m.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gM.displayName=Gh;var bM="SelectGroup",[xee,Nee]=qr(bM),yee=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=$s();return G.jsx(xee,{scope:n,id:i,children:G.jsx(Pe.div,{role:"group","aria-labelledby":i,...s,ref:t})})});yee.displayName=bM;var vM="SelectLabel",xM=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Nee(vM,n);return G.jsx(Pe.div,{id:i.id,...s,ref:t})});xM.displayName=vM;var Iu="SelectItem",[wee,NM]=qr(Iu),yM=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...r}=e,a=Ci(Iu,n),c=Pi(Iu,n),u=a.value===s,[d,m]=x.useState(o??""),[f,h]=x.useState(!1),p=Je(t,w=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,w,s,i)}),g=$s(),v=x.useRef("touch"),b=()=>{i||(a.onValueChange(s),a.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return G.jsx(wee,{scope:n,value:s,disabled:i,textId:g,isSelected:u,onItemTextChange:x.useCallback(w=>{m(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:G.jsx(Rd.ItemSlot,{scope:n,value:s,disabled:i,textValue:d,children:G.jsx(Pe.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...r,ref:p,onFocus:Se(r.onFocus,()=>h(!0)),onBlur:Se(r.onBlur,()=>h(!1)),onClick:Se(r.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Se(r.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Se(r.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Se(r.onPointerMove,w=>{var N;v.current=w.pointerType,i?(N=c.onItemLeave)==null||N.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(r.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:Se(r.onKeyDown,w=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(aee.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});yM.displayName=Iu;var Sa="SelectItemText",wM=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...o}=e,r=Ci(Sa,n),a=Pi(Sa,n),c=NM(Sa,n),u=dee(Sa,n),[d,m]=x.useState(null),f=Je(t,b=>m(b),c.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,c.value,c.disabled)}),h=d==null?void 0:d.textContent,p=x.useMemo(()=>G.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Ht(()=>(g(p),()=>v(p)),[g,v,p]),G.jsxs(G.Fragment,{children:[G.jsx(Pe.span,{id:c.textId,...o,ref:f}),c.isSelected&&r.valueNode&&!r.valueNodeHasChildren?xo.createPortal(o.children,r.valueNode):null]})});wM.displayName=Sa;var DM="SelectItemIndicator",EM=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return NM(DM,n).isSelected?G.jsx(Pe.span,{"aria-hidden":!0,...s,ref:t}):null});EM.displayName=DM;var qh="SelectScrollUpButton",Dee=x.forwardRef((e,t)=>{const n=Pi(qh,e.__scopeSelect),s=a0(qh,e.__scopeSelect),[i,o]=x.useState(!1),r=Je(t,s.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?G.jsx(TM,{...e,ref:r,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Dee.displayName=qh;var Kh="SelectScrollDownButton",Eee=x.forwardRef((e,t)=>{const n=Pi(Kh,e.__scopeSelect),s=a0(Kh,e.__scopeSelect),[i,o]=x.useState(!1),r=Je(t,s.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?G.jsx(TM,{...e,ref:r,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Eee.displayName=Kh;var TM=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,o=Pi("SelectScrollButton",n),r=x.useRef(null),a=jd(n),c=x.useCallback(()=>{r.current!==null&&(window.clearInterval(r.current),r.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Ht(()=>{var d;const u=a().find(m=>m.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),G.jsx(Pe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Se(i.onPointerDown,()=>{r.current===null&&(r.current=window.setInterval(s,50))}),onPointerMove:Se(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),r.current===null&&(r.current=window.setInterval(s,50))}),onPointerLeave:Se(i.onPointerLeave,()=>{c()})})}),Tee="SelectSeparator",SM=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return G.jsx(Pe.div,{"aria-hidden":!0,...s,ref:t})});SM.displayName=Tee;var Yh="SelectArrow",See=x.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Od(n),o=Ci(Yh,n),r=Pi(Yh,n);return o.open&&r.position==="popper"?G.jsx(Kw,{...i,...s,ref:t}):null});See.displayName=Yh;var _ee="SelectBubbleInput",_M=x.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=x.useRef(null),o=Je(s,i),r=iM(t);return x.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(r!==t&&d){const m=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(m)}},[r,t]),G.jsx(Pe.select,{...n,style:{...Yw,...n.style},ref:o,defaultValue:t})});_M.displayName=_ee;function kM(e){return e===""||e===void 0}function MM(e){const t=At(e),n=x.useRef(""),s=x.useRef(0),i=x.useCallback(r=>{const a=n.current+r;t(a),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function CM(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let r=kee(e,Math.max(o,0));i.length===1&&(r=r.filter(u=>u!==n));const c=r.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function kee(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Mee=oM,PM=aM,Cee=cM,Pee=uM,Aee=dM,AM=mM,Iee=gM,IM=xM,RM=yM,Ree=wM,jee=EM,jM=SM;const Oee=Mee,Vee=Cee,OM=x.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(PM,{ref:s,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,l.jsxDEV(Pee,{asChild:!0,children:l.jsxDEV(Tr,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:28,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:19,columnNumber:3},void 0));OM.displayName=PM.displayName;const VM=x.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>l.jsxDEV(Aee,{children:l.jsxDEV(AM,{ref:i,className:ke("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:l.jsxDEV(Iee,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:51,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:40,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:39,columnNumber:3},void 0));VM.displayName=AM.displayName;const Lee=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(IM,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:69,columnNumber:3},void 0));Lee.displayName=IM.displayName;const LM=x.forwardRef(({className:e,children:t,...n},s)=>l.jsxDEV(RM,{ref:s,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsxDEV(jee,{children:l.jsxDEV(Si,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:91,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:90,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:89,columnNumber:5},void 0),l.jsxDEV(Ree,{children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:95,columnNumber:5},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:81,columnNumber:3},void 0));LM.displayName=RM.displayName;const Fee=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(jM,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0));Fee.displayName=jM.displayName;var Vd="Checkbox",[Bee,wne]=_s(Vd),[Hee,l0]=Bee(Vd);function Uee(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:o,form:r,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:m}=e,[f,h]=Ei({prop:n,defaultProp:i??!1,onChange:c,caller:Vd}),[p,g]=x.useState(null),[v,b]=x.useState(null),w=x.useRef(!1),N=p?!!r||!!p.closest("form"):!0,E={checked:f,disabled:o,setChecked:h,control:p,setControl:g,name:a,form:r,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:xi(i)?!1:i,isFormControl:N,bubbleInput:v,setBubbleInput:b};return G.jsx(Hee,{scope:t,...E,children:zee(m)?m(E):s})}var FM="CheckboxTrigger",BM=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:o,value:r,disabled:a,checked:c,required:u,setControl:d,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:p}=l0(FM,e),g=Je(i,d),v=x.useRef(c);return x.useEffect(()=>{const b=o==null?void 0:o.form;if(b){const w=()=>m(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[o,m]),G.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":xi(c)?"mixed":c,"aria-required":u,"data-state":WM(c),"data-disabled":a?"":void 0,disabled:a,value:r,...s,ref:g,onKeyDown:Se(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Se(n,b=>{m(w=>xi(w)?!0:!w),p&&h&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});BM.displayName=FM;var c0=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:o,required:r,disabled:a,value:c,onCheckedChange:u,form:d,...m}=e;return G.jsx(Uee,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:r,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>G.jsxs(G.Fragment,{children:[G.jsx(BM,{...m,ref:t,__scopeCheckbox:n}),f&&G.jsx($M,{__scopeCheckbox:n})]})})});c0.displayName=Vd;var HM="CheckboxIndicator",UM=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,o=l0(HM,n);return G.jsx(Un,{present:s||xi(o.checked)||o.checked===!0,children:G.jsx(Pe.span,{"data-state":WM(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});UM.displayName=HM;var zM="CheckboxBubbleInput",$M=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:r,required:a,disabled:c,name:u,value:d,form:m,bubbleInput:f,setBubbleInput:h}=l0(zM,e),p=Je(n,h),g=iM(o),v=jw(s);x.useEffect(()=>{const w=f;if(!w)return;const N=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(N,"checked").set,T=!i.current;if(g!==o&&D){const M=new Event("click",{bubbles:T});w.indeterminate=xi(o),D.call(w,xi(o)?!1:o),w.dispatchEvent(M)}},[f,g,o,i]);const b=x.useRef(xi(o)?!1:o);return G.jsx(Pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:r??b.current,required:a,disabled:c,name:u,value:d,form:m,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$M.displayName=zM;function zee(e){return typeof e=="function"}function xi(e){return e==="indeterminate"}function WM(e){return xi(e)?"indeterminate":e?"checked":"unchecked"}const u0=x.forwardRef(({className:e,...t},n)=>l.jsxDEV(c0,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsxDEV(UM,{className:ke("flex items-center justify-center text-current"),children:l.jsxDEV(Si,{className:"h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/checkbox.tsx",lineNumber:24,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/checkbox.tsx",lineNumber:21,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/checkbox.tsx",lineNumber:13,columnNumber:3},void 0));u0.displayName=c0.displayName;const d0=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/textarea.tsx",lineNumber:11,columnNumber:7},void 0));d0.displayName="Textarea";const GM=[{key:"febrile_neutropenia",label:"Febrile Neutropenia",isUrgent:!0},{key:"pain",label:"Uncontrolled Pain"},{key:"nausea_vomiting",label:"Intractable Nausea/Vomiting"},{key:"sob",label:"Shortness of Breath"},{key:"ams",label:"Altered Mental Status",isUrgent:!0},{key:"cord_compression",label:"Suspected Cord Compression",isUrgent:!0},{key:"svcs",label:"Suspected SVCS",isUrgent:!0},{key:"hypercalcemia",label:"Hypercalcemia",isUrgent:!0},{key:"tls",label:"Tumor Lysis Syndrome Risk",isUrgent:!0}],$ee=(e,t)=>["cord_compression","svcs","ams","hypercalcemia","tls"].includes(t)?{action:"Admit",urgency:"Critical"}:t==="febrile_neutropenia"?{action:"Admit",urgency:"High"}:["pain","nausea_vomiting","sob"].includes(t)?{action:"Admit",urgency:"Moderate"}:{action:"OPD",urgency:"Low"},Wee=(e,t,n)=>n.urgency==="Critical"||["cord_compression","svcs","ams"].includes(t)?{location:"ICU/Step-Down",reason:`Critical issue: ${t}`}:n.action==="Admit"?{location:"Oncology Ward",reason:`Admission required for ${t}`}:n.action==="OPD"?{location:"Outpatient Clinic Follow-up",reason:"Stable for outpatient management"}:{location:"Refer to ED/Specialist",reason:"Requires further evaluation or different service"},Gee=(e,t,n,s,i)=>{var a,c;const o=((a=$h.find(u=>u.key===e))==null?void 0:a.label)||e,r=((c=GM.find(u=>u.key===t))==null?void 0:c.label)||t;return`
**Oncology Admission Note**

**Patient Presentation:** Patient with ${o} presents with ${r}.

**History of Present Illness (HPI):**
[Detailed HPI to be filled in by clinician]

**Reason for Admission:** ${r} requiring inpatient management. Triage assessment indicates ${n.action} with ${n.urgency} urgency.

**Initial Orders:**
${s.map(u=>`- ${u}`).join(`
`)}

**Plan & Disposition:**
- Admit to ${i.location}.
- Rationale: ${i.reason}.
- Consults: [Add consults as needed, e.g., Neurosurgery, Palliative Care]
- Follow-up: [Add follow-up plan]

**Code Status:** [Confirm code status]

[Clinician Name/Signature]
Date/Time: ${new Date().toLocaleString()}
  `.trim()},qee=()=>{const[e,t]=x.useState(1),[n,s]=x.useState($h[0].key),[i,o]=x.useState(null),[r,a]=x.useState({}),c=x.useMemo(()=>!n||!i?null:$ee(n,i),[n,i]),u=x.useMemo(()=>iee(n),[n]),d=x.useMemo(()=>u.length===0?!0:u.every(E=>r[E]),[u,r]),m=x.useMemo(()=>!n||!i?[]:oee(n,i),[n,i]),f=x.useMemo(()=>!n||!i||!c?null:Wee(n,i,c),[n,i,c]),h=x.useMemo(()=>!n||!i||!c||!f?"":Gee(n,i,c,m,f),[n,i,c,m,f]),p=x.useCallback((E,D)=>{a(T=>({...T,[E]:D}))},[]);x.useCallback(E=>l.jsxDEV(sn,{variant:i===E.key?"default":"outline",size:"sm",className:"rounded-lg px-4 py-2 font-semibold border shadow-sm hover:bg-blue-600 hover:text-white transition-all duration-200",onClick:()=>o(E.key),children:l.jsxDEV("span",{className:"flex items-center gap-2",children:[E.label,E.isUrgent&&l.jsxDEV(tt,{className:"inline-block w-4 h-4 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:152,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:149,columnNumber:7},void 0)},E.key,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:142,columnNumber:5},void 0),[i]);const g=E=>{switch(E){case"Critical":return"bg-red-600";case"High":return"bg-orange-500";case"Moderate":return"bg-yellow-400 text-black";case"Low":return"bg-green-500";default:return"bg-gray-400"}},v=x.useCallback(()=>{window.print()},[]),b=x.useCallback(()=>{t(E=>Math.min(E+1,5))},[]),w=x.useCallback(()=>{t(E=>Math.max(E-1,1))},[]),N=[{label:"Cancer Type",icon:""},{label:"Issue",icon:""},{label:"Checklist",icon:""},{label:"Note",icon:""}];return l.jsxDEV("div",{className:"space-y-6 p-4 max-w-7xl mx-auto",children:[l.jsxDEV("div",{className:"flex justify-between items-center px-6 py-3 bg-slate-50 rounded-xl shadow-sm text-sm font-medium text-gray-600 mb-6",children:N.map((E,D)=>l.jsxDEV("div",{className:`flex items-center gap-2 px-3 py-2 rounded transition-all ${e===D+1?"text-blue-700 font-bold border-b-2 border-blue-600":"hover:text-blue-500"}`,children:[l.jsxDEV("span",{children:E.icon},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:200,columnNumber:13},void 0),l.jsxDEV("span",{children:["Step ",D+1,": ",E.label]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:201,columnNumber:13},void 0)]},D,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:192,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:190,columnNumber:7},void 0),l.jsxDEV(Ts,{mode:"wait",children:[e===1&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"transition-all duration-200",children:l.jsxDEV(Jt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(an,{className:"pb-2",children:l.jsxDEV(ln,{className:"text-xl text-blue-900",children:"Select Cancer Type"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:216,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:215,columnNumber:15},void 0),l.jsxDEV(cn,{className:"pt-4",children:[l.jsxDEV(Oee,{value:n,onValueChange:s,children:[l.jsxDEV(OM,{className:"w-full border-slate-200 rounded-lg relative z-10",children:l.jsxDEV(Vee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:221,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:220,columnNumber:19},void 0),l.jsxDEV(VM,{className:"absolute z-50 bg-white border shadow-md rounded-md mt-1 w-full max-w-xs min-w-[280px] whitespace-normal overflow-x-hidden overflow-y-auto max-h-72",side:"bottom",children:$h.map(E=>l.jsxDEV(LM,{value:E.key,className:"whitespace-normal px-3 py-2 text-sm",children:E.label},E.key,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:228,columnNumber:23},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:223,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:219,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-end",children:l.jsxDEV(sn,{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"Next"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:239,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:238,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:218,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:214,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:208,columnNumber:11},void 0),e===2&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:l.jsxDEV(Jt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(an,{className:"pb-2",children:l.jsxDEV(ln,{className:"text-xl text-blue-900",children:"Select Presenting Issue"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:259,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:258,columnNumber:15},void 0),l.jsxDEV(cn,{className:"pt-4",children:[l.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:GM.map(E=>l.jsxDEV(sn,{variant:i===E.key?"default":"outline",size:"sm",className:`rounded-lg px-4 py-3 font-medium border hover:shadow-md transition duration-150 ${i===E.key?"bg-blue-700 text-white shadow-blue-100":"bg-white hover:bg-blue-50"}`,onClick:()=>o(E.key),children:l.jsxDEV("span",{className:"flex items-center gap-2",children:[E.label,E.isUrgent&&l.jsxDEV(tt,{className:"w-4 h-4 text-amber-500"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:278,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:275,columnNumber:23},void 0)},E.key,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:264,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:262,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-between",children:[l.jsxDEV(sn,{variant:"outline",onClick:w,children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:286,columnNumber:19},void 0),l.jsxDEV(sn,{onClick:b,disabled:!i,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"Next"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:257,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:252,columnNumber:11},void 0),e===3&&c&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:l.jsxDEV(Jt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(an,{className:"pb-2",children:l.jsxDEV(ln,{className:"text-xl text-blue-900",children:"Pre-Admission Checklist"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:309,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:308,columnNumber:15},void 0),l.jsxDEV(cn,{children:[l.jsxDEV("div",{className:"mb-6",children:l.jsxDEV(bn,{className:`px-4 py-1.5 rounded-full text-white font-medium ${g(c.urgency)}`,children:[" ",c.urgency," Priority"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:313,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:312,columnNumber:17},void 0),l.jsxDEV("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2",children:u.map(E=>l.jsxDEV("div",{className:"flex items-center gap-3 p-2.5 rounded hover:bg-slate-50 transition-colors",children:[l.jsxDEV(u0,{checked:r[E]||!1,onCheckedChange:D=>p(E,D),className:"border-2 border-slate-300"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:322,columnNumber:23},void 0),l.jsxDEV("span",{className:"text-sm text-slate-700",children:E},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:327,columnNumber:23},void 0)]},E,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:321,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:319,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-between",children:[l.jsxDEV(sn,{variant:"outline",onClick:w,children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:333,columnNumber:19},void 0),l.jsxDEV(sn,{onClick:b,disabled:!d,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"Next"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:334,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:332,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:307,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:302,columnNumber:11},void 0),e===4&&c&&f&&l.jsxDEV(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:l.jsxDEV(Jt,{className:"rounded-xl border border-slate-200 shadow-lg bg-white",children:[l.jsxDEV(an,{className:"pb-2",children:l.jsxDEV(ln,{className:"text-xl text-blue-900",children:"Admission Note"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:356,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:355,columnNumber:15},void 0),l.jsxDEV(cn,{children:[l.jsxDEV(d0,{value:h,className:"h-[30rem] font-mono text-sm bg-slate-50 border border-slate-200 rounded-lg p-4",readOnly:!0},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:359,columnNumber:17},void 0),l.jsxDEV("div",{className:"mt-6 flex justify-between",children:[l.jsxDEV(sn,{variant:"outline",onClick:w,children:"Back"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:365,columnNumber:19},void 0),l.jsxDEV(sn,{onClick:v,className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:[l.jsxDEV(ep,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:370,columnNumber:21},void 0),"Print Note"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:364,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:358,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:354,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:349,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:206,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/admission/AdmissionGuidelines.tsx",lineNumber:188,columnNumber:5},void 0)},Kee=()=>l.jsxDEV("div",{className:"p-6 space-y-6",children:[l.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Supportive Care"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:6,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid gap-4",children:[l.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Pain Management"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:10,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-green-700",children:"Pain management protocols will be added here."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:11,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:9,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Nutritional Support"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:15,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-green-700",children:"Nutritional support guidelines will be added here."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:16,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:14,columnNumber:9},void 0),l.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxDEV("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Psychological Support"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:20,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-green-700",children:"Psychological support resources will be added here."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:21,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:8,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/supportive_care/SupportiveCare.tsx",lineNumber:5,columnNumber:5},void 0),uf=["Afebrile > 24 hrs","Oral intake adequate","Pain controlled","Labs stable (Hb, WBC, Ca)","Performance status acceptable (ECOG  2)","Caregiver plan ready"],Yee=()=>{const[e,t]=x.useState({}),[n,s]=x.useState({diagnosis:"",hospitalCourse:"",medications:"",followUp:"",redFlags:"",consultantNotes:"",contactInfo:"",neutrophilCount:0,nextAppointmentDate:""}),i=(u,d)=>t(m=>({...m,[u]:d})),o=uf.every(u=>e[u]),r=n.neutrophilCount<1.5,a=()=>{const u=new Date(n.nextAppointmentDate),d=new Date;return(u.getTime()-d.getTime())/(1e3*60*60*24)>7},c=()=>[" Oncology Discharge Summary",`Date: ${new Date().toLocaleDateString()}`,""," Checklist:",...uf.map(u=>`- [${e[u]?"x":" "}] ${u}`),""," Clinical Details:",`Diagnosis: ${n.diagnosis}`,`Hospital Course: ${n.hospitalCourse}`,`Medications: ${n.medications}`,`Follow-up: ${n.followUp}`,`Red Flags: ${n.redFlags}`,`Consultant Notes: ${n.consultantNotes}`,`Contact Info: ${n.contactInfo}`].join(`
`);return l.jsxDEV("div",{className:"max-w-5xl mx-auto px-6 py-8 space-y-6",children:[l.jsxDEV("h1",{className:"text-2xl font-bold text-blue-900",children:"Oncology Discharge Assistant"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:78,columnNumber:7},void 0),l.jsxDEV(Jt,{className:"shadow border-blue-200",children:[l.jsxDEV(an,{className:"bg-blue-50 border-b",children:l.jsxDEV(ln,{className:"text-blue-800 text-lg font-semibold",children:"Step 1: Discharge Eligibility"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:83,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:82,columnNumber:9},void 0),l.jsxDEV(cn,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:[uf.map(u=>l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(u0,{checked:!!e[u],onCheckedChange:d=>i(u,d)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:90,columnNumber:15},void 0),l.jsxDEV("span",{children:u},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:94,columnNumber:15},void 0)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:89,columnNumber:13},void 0)),l.jsxDEV("div",{className:"col-span-full",children:l.jsxDEV(bn,{variant:o?"default":"destructive",children:o?" Discharge Ready":" Incomplete Checklist"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:98,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:87,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:81,columnNumber:7},void 0),l.jsxDEV(Jt,{className:"shadow border-blue-200",children:[l.jsxDEV(an,{className:"bg-blue-50 border-b",children:l.jsxDEV(ln,{className:"text-blue-800 text-lg font-semibold",children:"Step 2: Clinical Discharge Details"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:108,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:107,columnNumber:9},void 0),l.jsxDEV(cn,{className:"space-y-4 p-4",children:[r&&l.jsxDEV(bn,{variant:"destructive",className:"flex items-center gap-2",children:[l.jsxDEV(tt,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:115,columnNumber:15},void 0),"Neutropenic Alert"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:114,columnNumber:13},void 0),a()&&l.jsxDEV("div",{className:"flex items-center gap-2 bg-yellow-100 text-yellow-800 border border-yellow-300 p-2 rounded",children:[l.jsxDEV(tt,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:121,columnNumber:15},void 0),l.jsxDEV("span",{children:"Follow-up is more than 7 days"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:120,columnNumber:13},void 0),Object.entries(n).map(([u,d])=>u==="neutrophilCount"||u==="nextAppointmentDate"?null:l.jsxDEV("div",{className:"space-y-1",children:[l.jsxDEV("label",{className:"block font-medium capitalize",children:u.replace(/([A-Z])/g," $1")},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:130,columnNumber:17},void 0),l.jsxDEV(d0,{rows:3,value:d,onChange:m=>s(f=>({...f,[u]:m.target.value})),className:"w-full"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:133,columnNumber:17},void 0)]},u,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:129,columnNumber:15},void 0)),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block font-medium",htmlFor:"neutrophil-count",children:"Neutrophil Count"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:150,columnNumber:15},void 0),l.jsxDEV("input",{id:"neutrophil-count",type:"number",value:n.neutrophilCount,onChange:u=>s(d=>({...d,neutrophilCount:parseFloat(u.target.value)})),className:"w-full mt-1 p-2 border rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:151,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:149,columnNumber:13},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block font-medium",htmlFor:"next-appointment",children:"Next Appointment"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:165,columnNumber:15},void 0),l.jsxDEV("input",{id:"next-appointment",type:"date",value:n.nextAppointmentDate,onChange:u=>s(d=>({...d,nextAppointmentDate:u.target.value})),className:"w-full mt-1 p-2 border rounded"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:148,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:112,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:106,columnNumber:7},void 0),l.jsxDEV(Jt,{className:"shadow border-blue-200",children:[l.jsxDEV(an,{className:"bg-blue-50 border-b",children:l.jsxDEV(ln,{className:"text-blue-800 text-lg font-semibold",children:"Step 3: Export Summary"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:186,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:185,columnNumber:9},void 0),l.jsxDEV(cn,{className:"space-y-4 p-4",children:[l.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm bg-gray-50 p-4 rounded border",children:c()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:189,columnNumber:11},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV(sn,{className:"flex gap-2 items-center",onClick:()=>window.print(),children:[l.jsxDEV(ep,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:194,columnNumber:15},void 0),"Print"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:193,columnNumber:13},void 0),l.jsxDEV(sn,{variant:"outline",className:"flex gap-2 items-center",children:[l.jsxDEV(Vu,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:198,columnNumber:15},void 0),"Export PDF"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:197,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:188,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:184,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/sections/discharge/DischargeGuidelines.tsx",lineNumber:77,columnNumber:5},void 0)},Xee=()=>{const[e,t]=x.useState(0),n=["Emergencies","Admissions","Supportive Care","Discharge"],s=i=>{switch(i){case 0:return l.jsxDEV(see,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:16,columnNumber:16},void 0);case 1:return l.jsxDEV(qee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:18,columnNumber:16},void 0);case 2:return l.jsxDEV(Kee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:20,columnNumber:16},void 0);case 3:return l.jsxDEV(Yee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:22,columnNumber:16},void 0);default:return null}};return l.jsxDEV(lt,{moduleName:"Inpatient Oncology",children:l.jsxDEV("div",{className:"p-6 bg-gradient-to-br from-purple-50 via-indigo-50 to-teal-50 min-h-screen",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-indigo-700",children:"Inpatient Department"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:31,columnNumber:9},void 0),l.jsxDEV(pt.Group,{selectedIndex:e,onChange:t,children:[l.jsxDEV(pt.List,{className:"flex space-x-4 border-b pb-3 mb-6",children:n.map((i,o)=>l.jsxDEV(pt,{className:({selected:r})=>`
                cursor-pointer py-2 px-4 rounded-lg shadow transition-all duration-300
                ${r?"bg-gradient-to-r from-indigo-500 to-teal-500 text-white":"bg-white text-gray-600 hover:text-indigo-500 hover:shadow-md"}
              `,children:i},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:35,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:33,columnNumber:11},void 0),l.jsxDEV(pt.Panels,{className:"bg-white rounded-lg shadow",children:n.map((i,o)=>l.jsxDEV(pt.Panel,{className:"focus:outline-none",children:s(o)},o,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:47,columnNumber:15},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:45,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:32,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:30,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/inpatient/Inpatient.tsx",lineNumber:29,columnNumber:5},void 0)},Jee={currentSymptoms:[],painScore:0,familyMembers:[],advanceDirectives:[],favoriteSymptomIds:[],lastUpdated:new Date().toISOString()},qM=x.createContext(void 0);function Qee(e,t){switch(t.type){case"ADD_SYMPTOM":return{...e,currentSymptoms:[...e.currentSymptoms,t.payload],lastUpdated:new Date().toISOString()};case"UPDATE_SYMPTOM":return{...e,currentSymptoms:e.currentSymptoms.map(i=>i.id===t.payload.id?t.payload:i),lastUpdated:new Date().toISOString()};case"REMOVE_SYMPTOM":return{...e,currentSymptoms:e.currentSymptoms.filter(i=>i.id!==t.payload),lastUpdated:new Date().toISOString()};case"SET_PAIN_SCORE":return{...e,painScore:t.payload,lastUpdated:new Date().toISOString()};case"ADD_FAMILY_MEMBER":return{...e,familyMembers:[...e.familyMembers,t.payload],lastUpdated:new Date().toISOString()};case"UPDATE_FAMILY_MEMBER":return{...e,familyMembers:e.familyMembers.map(i=>i.id===t.payload.id?{...i,...t.payload.updates}:i),lastUpdated:new Date().toISOString()};case"REMOVE_FAMILY_MEMBER":return{...e,familyMembers:e.familyMembers.filter(i=>i.id!==t.payload),lastUpdated:new Date().toISOString()};case"UPDATE_ADVANCE_DIRECTIVE":const s=e.advanceDirectives.findIndex(i=>i.id===t.payload.id)>=0?e.advanceDirectives.map(i=>i.id===t.payload.id?t.payload:i):[...e.advanceDirectives,t.payload];return{...e,advanceDirectives:s,lastUpdated:new Date().toISOString()};case"REMOVE_ADVANCE_DIRECTIVE":return{...e,advanceDirectives:e.advanceDirectives.filter(i=>i.id!==t.payload),lastUpdated:new Date().toISOString()};case"TOGGLE_FAVORITE":return{...e,favoriteSymptomIds:e.favoriteSymptomIds.includes(t.payload)?e.favoriteSymptomIds.filter(i=>i!==t.payload):[...e.favoriteSymptomIds,t.payload],lastUpdated:new Date().toISOString()};case"LOAD_STATE":return t.payload;default:return e}}function Zee({children:e}){const[t,n]=x.useReducer(Qee,Jee);x.useEffect(()=>{const h=localStorage.getItem("palliativeCareState");if(h)try{const p=JSON.parse(h);n({type:"LOAD_STATE",payload:p})}catch(p){console.error("Error loading palliative care state:",p)}},[]),x.useEffect(()=>{localStorage.setItem("palliativeCareState",JSON.stringify(t))},[t]);const s=h=>{n({type:"ADD_SYMPTOM",payload:h})},i=h=>{n({type:"UPDATE_SYMPTOM",payload:h})},o=h=>{n({type:"REMOVE_SYMPTOM",payload:h})},r=h=>{n({type:"SET_PAIN_SCORE",payload:h})},a=h=>{n({type:"ADD_FAMILY_MEMBER",payload:h})},c=(h,p)=>{n({type:"UPDATE_FAMILY_MEMBER",payload:{id:h,updates:p}})},u=h=>{n({type:"REMOVE_FAMILY_MEMBER",payload:h})},d=h=>{n({type:"UPDATE_ADVANCE_DIRECTIVE",payload:h})},m=h=>{n({type:"REMOVE_ADVANCE_DIRECTIVE",payload:h})},f=h=>{n({type:"TOGGLE_FAVORITE",payload:h})};return l.jsxDEV(qM.Provider,{value:{state:t,addSymptom:s,updateSymptom:i,removeSymptom:o,setPainScore:r,addFamilyMember:a,updateFamilyMember:c,removeFamilyMember:u,updateAdvanceDirective:d,removeAdvanceDirective:m,toggleFavorite:f},children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/context/PalliativeContext.tsx",lineNumber:241,columnNumber:5},this)}function Dne(){const e=x.useContext(qM);if(e===void 0)throw new Error("usePalliativeCare must be used within a PalliativeCareProvider");return e}const ha={light:{primary:"#4f46e5",secondary:"#6b7280",accent:"#8b5cf6",background:"#ffffff",text:"#111827",error:"#ef4444",warning:"#f59e0b",success:"#10b981"},dark:{primary:"#818cf8",secondary:"#9ca3af",accent:"#a78bfa",background:"#1f2937",text:"#f9fafb",error:"#f87171",warning:"#fbbf24",success:"#34d399"}},ete=(e="system")=>{const[t,n]=x.useState(()=>localStorage.getItem("palliative_theme")||e),[s,i]=x.useState(()=>{if(t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches;return ha[r?"dark":"light"]}return ha[t]});return x.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{t==="system"&&i(ha[r.matches?"dark":"light"])};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)},[t]),x.useEffect(()=>{if(localStorage.setItem("palliative_theme",t),t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches;i(ha[r?"dark":"light"])}else i(ha[t])},[t]),{theme:t,colors:s,setTheme:n,toggleTheme:()=>{n(r=>{switch(r){case"light":return"dark";case"dark":return"system";case"system":return"light"}})}}},KM=x.createContext(void 0),tte=({children:e,defaultTheme:t="system"})=>{const n=ete(t);return l.jsxDEV(KM.Provider,{value:n,children:l.jsxDEV("div",{style:{colorScheme:n.theme==="system"?"light dark":n.theme},children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/context/ThemeProvider.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/context/ThemeProvider.tsx",lineNumber:31,columnNumber:5},void 0)},nte=()=>{const e=x.useContext(KM);if(e===void 0)throw new Error("usePalliativeThemeContext must be used within a PalliativeThemeProvider");return e},df="palliative_active_tab",ste=e=>{const[t,n]=x.useState(()=>localStorage.getItem(df)||e),[s,i]=x.useState(!1);return x.useEffect(()=>{localStorage.setItem(df,t)},[t]),{activeTab:t,isTransitioning:s,handleTabChange:a=>{i(!0),n(a),setTimeout(()=>{i(!1)},300)},resetNavigation:()=>{n(e),localStorage.removeItem(df)}}},ite=({onNext:e,onPrevious:t,onSave:n,onCancel:s,enabled:i=!0})=>{const o=x.useCallback(r=>{var d,m;if(!i||((d=document.activeElement)==null?void 0:d.tagName)==="INPUT"||((m=document.activeElement)==null?void 0:m.tagName)==="TEXTAREA")return;const{key:a,ctrlKey:c,metaKey:u}=r;a==="ArrowRight"&&e&&(r.preventDefault(),e()),a==="ArrowLeft"&&t&&(r.preventDefault(),t()),(c||u)&&a.toLowerCase()==="s"&&n&&(r.preventDefault(),n()),a==="Escape"&&s&&(r.preventDefault(),s())},[i,e,t,n,s]);return x.useEffect(()=>(window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)),[o]),{isEnabled:i,shortcuts:{next:"",previous:"",save:"/Ctrl + S",cancel:"Esc"}}},ote={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},rte=({size:e="md",className:t})=>l.jsxDEV(Zs,{className:ke("animate-spin text-gray-400",ote[e],t)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/LoadingSpinner.tsx",lineNumber:17,columnNumber:5},void 0),ate=md("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),YM=x.forwardRef(({className:e,variant:t,...n},s)=>l.jsxDEV("div",{ref:s,role:"alert",className:ke(ate({variant:t}),e),...n},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/alert.tsx",lineNumber:26,columnNumber:3},void 0));YM.displayName="Alert";const XM=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("h5",{ref:n,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/alert.tsx",lineNumber:39,columnNumber:3},void 0));XM.displayName="AlertTitle";const JM=x.forwardRef(({className:e,...t},n)=>l.jsxDEV("div",{ref:n,className:ke("text-sm [&_p]:leading-relaxed",e),...t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/ui/alert.tsx",lineNumber:51,columnNumber:3},void 0));JM.displayName="AlertDescription";const lte=({title:e="Error",message:t,className:n,variant:s="destructive"})=>l.jsxDEV(YM,{variant:s,className:ke("flex items-center gap-2",n),children:[l.jsxDEV(tt,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:20,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV(XM,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:22,columnNumber:9},void 0),l.jsxDEV(JM,{children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:23,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:21,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/ErrorMessage.tsx",lineNumber:19,columnNumber:5},void 0),cte=[{key:"",description:"Next tab"},{key:"",description:"Previous tab"},{key:"/Ctrl + S",description:"Save changes"},{key:"Esc",description:"Close dialog/Cancel"},{key:"?",description:"Show keyboard shortcuts"}],ute=()=>l.jsxDEV(Ja,{children:[l.jsxDEV(TQ,{asChild:!0,children:l.jsxDEV(sn,{variant:"ghost",size:"icon",className:"rounded-full",title:"Keyboard Shortcuts",children:l.jsxDEV(z2,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:35,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:29,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:28,columnNumber:7},void 0),l.jsxDEV(Gr,{className:"sm:max-w-md",children:[l.jsxDEV(Fl,{children:l.jsxDEV(kd,{children:"Keyboard Shortcuts"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:40,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:39,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid gap-4",children:cte.map(({key:e,description:t})=>l.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 rounded-lg bg-gray-50",children:[l.jsxDEV("span",{className:"text-sm text-gray-600",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:48,columnNumber:15},void 0),l.jsxDEV("kbd",{className:"px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:49,columnNumber:15},void 0)]},e,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:44,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:38,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/components/KeyboardShortcutsDialog.tsx",lineNumber:27,columnNumber:5},void 0),dte=Re.lazy(()=>is(()=>import("./SymptomControl-DHo0bAwk.js"),__vite__mapDeps([2,1,3,4,5,6,7]))),mte=Re.lazy(()=>is(()=>import("./PainManagement-BAvDp9ng.js"),__vite__mapDeps([8,1,4,5,9,10,11,6,7]))),fte=Re.lazy(()=>is(()=>import("./FamilySupport-Bj59TweC.js"),__vite__mapDeps([12,1,3,10,4,5,6,7]))),hte=Re.lazy(()=>is(()=>import("./AdvanceDirectives-DrK3Rd7N.js"),__vite__mapDeps([13,1,10,4,11,5,6,7]))),pte=Re.lazy(()=>is(()=>import("./PsychosocialCare-5-ySOUSA.js"),__vite__mapDeps([14,1,9,4,5,6,7]))),Wo=[{id:"symptoms",label:"Symptom Control",icon:Gs,component:dte},{id:"pain",label:"Pain Management",icon:Nl,component:mte},{id:"psychosocial",label:"Psychosocial Care",icon:f0,component:pte},{id:"family",label:"Family Support",icon:f0,component:fte},{id:"directives",label:"Advance Directives",icon:ju,component:hte}],gte=()=>{const{theme:e,toggleTheme:t}=nte(),s={light:G2,dark:W2,system:$2}[e];return l.jsxDEV(sn,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",title:`Current theme: ${e}`,children:l.jsxDEV(s,{className:"h-5 w-5"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:73,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:66,columnNumber:5},void 0)},bte=()=>{const{activeTab:e,isTransitioning:t,handleTabChange:n}=ste("symptoms"),s=Wo.findIndex(r=>r.id===e);return ite({onNext:()=>{s<Wo.length-1&&n(Wo[s+1].id)},onPrevious:()=>{s>0&&n(Wo[s-1].id)},enabled:!t}),l.jsxDEV("div",{className:"container mx-auto p-6 max-w-7xl",children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:" Palliative Care Module"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:103,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(ute,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:107,columnNumber:11},void 0),l.jsxDEV(gte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:106,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:102,columnNumber:7},void 0),l.jsxDEV(Ik,{value:e,onValueChange:n,className:"space-y-6",children:[l.jsxDEV(n0,{className:"bg-white border",children:Wo.map(({id:r,label:a,icon:c})=>l.jsxDEV(tn,{value:r,className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900",disabled:t,children:l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:122,columnNumber:17},void 0),l.jsxDEV("span",{children:a},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:121,columnNumber:15},void 0)},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:115,columnNumber:13},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:113,columnNumber:9},void 0),Wo.map(({id:r,component:a})=>l.jsxDEV(nn,{value:r,className:"mt-6",forceMount:!0,children:l.jsxDEV("div",{className:`
              transition-all duration-300 ease
              ${e===r?"opacity-100 translate-y-0":"opacity-0 translate-y-4 absolute"}
            `,children:l.jsxDEV(lt,{moduleName:`Palliative Care - ${r}`,fallback:l.jsxDEV(lte,{title:"Section Error",message:`There was an error loading the ${r} section. Please try refreshing the page.`},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:143,columnNumber:19},void 0),children:l.jsxDEV(Re.Suspense,{fallback:l.jsxDEV("div",{className:"flex items-center justify-center h-32",children:l.jsxDEV(rte,{size:"lg"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:151,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:150,columnNumber:19},void 0),children:l.jsxDEV(a,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:154,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:149,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:140,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:136,columnNumber:13},void 0)},r,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:130,columnNumber:11},void 0))]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:112,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:101,columnNumber:5},void 0)},vte=()=>l.jsxDEV(tte,{children:l.jsxDEV(Zee,{children:l.jsxDEV(bte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:169,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:168,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/PalliativeModule.tsx",lineNumber:167,columnNumber:5},void 0),xte=()=>l.jsxDEV(lt,{moduleName:"Palliative Care",children:l.jsxDEV(vte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/Palliative.tsx",lineNumber:8,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/palliative/Palliative.tsx",lineNumber:7,columnNumber:5},void 0),Nte=({title:e,description:t,icon:n,onClick:s})=>l.jsxDEV("div",{onClick:s,className:"cursor-pointer p-5 bg-white dark:bg-gray-800 rounded-xl shadow hover:shadow-lg transition hover:scale-105 flex flex-col justify-center items-center text-center space-y-3",children:[l.jsxDEV(n,{size:40,className:"text-indigo-500 dark:text-indigo-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:17,columnNumber:7},void 0),l.jsxDEV("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:18,columnNumber:7},void 0),l.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:19,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/components/ToolCard.tsx",lineNumber:13,columnNumber:5},void 0),yte=()=>{const e=os(),t=s=>{e(`/tools/${s}`)},n=[{id:"calculators",title:"Clinical Calculators",description:"BSA, CrCl, ANC, Corrected Calcium, BMI, and more.",icon:Oy},{id:"redflags",title:"Red Flags & Emergencies",description:"Neutropenic Fever, Hypercalcemia, TLS, Spinal Cord Compression.",icon:tt},{id:"quickguides",title:"Symptom Control Quick Guides",description:"Pain Ladder, Anti-emetic protocols, Delirium management.",icon:q2},{id:"labs",title:"Important Labs Reference",description:"Critical lab values, Tumor markers, Electrolyte corrections.",icon:Vy},{id:"emergencyregimens",title:"Emergency Regimens",description:"TLS prophylaxis, Neutropenic fever antibiotics, Adrenal rescue.",icon:Ly},{id:"cognitive",title:"Cognitive Tools",description:"MMSE, GCS, Delirium Triage Screening.",icon:Gs},{id:"toxicities",title:"Treatment Toxicity Checklists",description:"Chemotherapy, Radiotherapy, Immunotherapy toxicity alerts.",icon:zs},{id:"reminders",title:"Scheduling and Reminders",description:"Next treatment reminders, Lab follow-up calendars.",icon:No}];return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" Tools Hub"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:66,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:n.map(s=>l.jsxDEV(Nte,{title:s.title,description:s.description,icon:s.icon,onClick:()=>t(s.id)},s.id,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:69,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:67,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Tools.tsx",lineNumber:65,columnNumber:5},void 0)},wte=()=>{const e=os(),t=[{id:"bsa",title:"BSA Calculator",description:"Body Surface Area using Mosteller Formula",icon:Oy,isImplemented:!0},{id:"crcl",title:"CrCl Calculator",description:"Creatinine Clearance using Cockcroft-Gault Formula",icon:zs,isImplemented:!0},{id:"anc",title:"ANC Calculator",description:"Absolute Neutrophil Count estimation",icon:ff,isImplemented:!0}];return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" Clinical Calculators"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:34,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(n=>l.jsxDEV("button",{onClick:()=>e(`/tools/calculators/${n.id}`),disabled:!n.isImplemented,className:`p-4 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition flex flex-col items-center justify-center space-y-2 text-center ${n.isImplemented?"hover:scale-105":"opacity-50 cursor-not-allowed"}`,children:[l.jsxDEV(n.icon,{className:"w-8 h-8 text-indigo-500 dark:text-indigo-400"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:45,columnNumber:13},void 0),l.jsxDEV("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:n.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:46,columnNumber:13},void 0),l.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:47,columnNumber:13},void 0),!n.isImplemented&&l.jsxDEV("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Coming soon..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:49,columnNumber:15},void 0)]},n.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:37,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/Calculators.tsx",lineNumber:33,columnNumber:5},void 0)},Dte=[{id:"neutropenic-fever",title:"Neutropenic Fever",description:"Urgent evaluation and IV antibiotics needed immediately.",details:`**Signs:** Fever > 38.3C once or >38C sustained for 1 hour, ANC < 500.  
**Immediate Actions:** Blood cultures, start broad-spectrum IV antibiotics (e.g., Piperacillin-Tazobactam).  
**Critical:** Time to antibiotic administration should be < 1 hour.`,icon:Vy,color:"bg-red-500"},{id:"tumor-lysis",title:"Tumor Lysis Syndrome",description:"Watch for electrolyte abnormalities and renal failure.",details:`**Signs:** Hyperkalemia, Hyperphosphatemia, Hypocalcemia, Hyperuricemia.  
**Immediate Actions:** Aggressive IV hydration, monitor electrolytes, consider rasburicase.  
**Critical:** Check labs every 68 hours.`,icon:Ly,color:"bg-yellow-500"},{id:"spinal-compression",title:"Spinal Cord Compression",description:"Early MRI and steroids critical to prevent paralysis.",details:`**Signs:** New back pain, motor weakness, sensory changes, bladder/bowel dysfunction.  
**Immediate Actions:** High-dose dexamethasone, urgent MRI whole spine, neurosurgical/oncology referral.`,icon:zs,color:"bg-orange-500"},{id:"svc-syndrome",title:"Superior Vena Cava Syndrome (SVCS)",description:"Neck swelling, dyspnea, urgent imaging required.",details:`**Signs:** Facial swelling, dyspnea, distended neck/chest veins.  
**Immediate Actions:** Elevate head of bed, urgent CT chest, oncology consultation.`,icon:K2,color:"bg-purple-500"},{id:"hypercalcemia",title:"Hypercalcemia of Malignancy",description:"Severe dehydration, mental status changes, urgent hydration.",details:`**Signs:** Confusion, dehydration, polyuria, constipation.  
**Immediate Actions:** IV fluids (normal saline), bisphosphonates (zoledronic acid).  
**Critical:** Treat urgently to avoid coma.`,icon:tt,color:"bg-pink-500"}],Ete=()=>{const[e,t]=x.useState(null),n=s=>{t(e===s?null:s)};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" Red Flags & Emergencies"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:73,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:Dte.map(s=>l.jsxDEV("div",{className:"flex flex-col items-center",children:[l.jsxDEV("div",{onClick:()=>n(s.id),className:`w-full p-5 rounded-xl shadow hover:shadow-lg transition hover:scale-105 flex flex-col justify-center items-center text-center text-white cursor-pointer ${s.color}`,children:[l.jsxDEV(s.icon,{size:40},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:82,columnNumber:15},void 0),l.jsxDEV("h2",{className:"text-lg font-semibold mt-3",children:s.title},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:83,columnNumber:15},void 0),l.jsxDEV("p",{className:"text-sm mt-2",children:s.description},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:84,columnNumber:15},void 0),l.jsxDEV("div",{className:"mt-2",children:e===s.id?l.jsxDEV(Zh,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:86,columnNumber:43},void 0):l.jsxDEV(Tr,{size:20},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:86,columnNumber:69},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:85,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:78,columnNumber:13},void 0),e===s.id&&l.jsxDEV("div",{className:"w-full mt-2 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-inner transition",children:l.jsxDEV("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-line",children:s.details},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:92,columnNumber:15},void 0)]},s.id,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:77,columnNumber:11},void 0))},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:75,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/RedFlags.tsx",lineNumber:72,columnNumber:5},void 0)},Tte=()=>{const[e,t]=x.useState(""),[n,s]=x.useState(""),[i,o]=x.useState(null),r=()=>{const c=parseFloat(e),u=parseFloat(n);if(isNaN(c)||isNaN(u)||c<=0||u<=0){o(null);return}const d=Math.sqrt(c*u/3600);o(parseFloat(d.toFixed(2)))},a=()=>{t(""),s(""),o(null)};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" BSA Calculator (Mosteller Formula)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:27,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Height (cm)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:31,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:e,onChange:c=>t(c.target.value),placeholder:"Enter height in cm",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:32,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:30,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Weight (kg)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:42,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:n,onChange:c=>s(c.target.value),placeholder:"Enter weight in kg",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:29,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-4 mt-6",children:[l.jsxDEV("button",{onClick:r,className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition",children:"Calculate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:54,columnNumber:9},void 0),l.jsxDEV("button",{onClick:a,className:"px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Reset"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:53,columnNumber:7},void 0),i!==null&&l.jsxDEV("div",{className:"mt-8 p-6 bg-green-100 dark:bg-green-700 rounded-lg",children:[l.jsxDEV("h2",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:"Calculated BSA"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:70,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-lg text-green-700 dark:text-green-300 mt-2",children:[i," m"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/BSA.tsx",lineNumber:26,columnNumber:5},void 0)},Ste=()=>{const[e,t]=x.useState(""),[n,s]=x.useState(""),[i,o]=x.useState(""),[r,a]=x.useState("male"),[c,u]=x.useState(null),d=()=>{const f=parseFloat(e),h=parseFloat(n),p=parseFloat(i);if(isNaN(f)||isNaN(h)||isNaN(p)||f<=0||h<=0||p<=0){u(null);return}let g=(140-f)*h/(72*p);r==="female"&&(g=g*.85),u(parseFloat(g.toFixed(2)))},m=()=>{t(""),s(""),o(""),a("male"),u(null)};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" CrCl Calculator (Cockcroft-Gault Formula)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:38,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Age (years)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:42,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:e,onChange:f=>t(f.target.value),placeholder:"Enter age",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:41,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Weight (kg)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:53,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:n,onChange:f=>s(f.target.value),placeholder:"Enter weight",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:54,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:52,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Serum Creatinine (mg/dL)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:64,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:i,onChange:f=>o(f.target.value),placeholder:"Enter serum creatinine",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:63,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"Gender"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:75,columnNumber:11},void 0),l.jsxDEV("select",{value:r,onChange:f=>a(f.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:[l.jsxDEV("option",{value:"male",children:"Male"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:81,columnNumber:13},void 0),l.jsxDEV("option",{value:"female",children:"Female"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:76,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:74,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:40,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-4 mt-6",children:[l.jsxDEV("button",{onClick:d,className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition",children:"Calculate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:88,columnNumber:9},void 0),l.jsxDEV("button",{onClick:m,className:"px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Reset"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:87,columnNumber:7},void 0),c!==null&&l.jsxDEV("div",{className:"mt-8 p-6 bg-green-100 dark:bg-green-700 rounded-lg",children:[l.jsxDEV("h2",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:"Calculated CrCl"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:104,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-lg text-green-700 dark:text-green-300 mt-2",children:[c," mL/min"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:105,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:103,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/CrCl.tsx",lineNumber:37,columnNumber:5},void 0)},_te=()=>{const[e,t]=x.useState(""),[n,s]=x.useState(""),[i,o]=x.useState(""),[r,a]=x.useState(null),[c,u]=x.useState(""),d=()=>{const p=parseFloat(e),g=parseFloat(n),v=parseFloat(i);if(isNaN(p)||isNaN(g)||isNaN(v)||p<=0||g<0||v<0){a(null),u("");return}const b=p*(g+v)/100,w=parseFloat(b.toFixed(2));a(w),w>=1.5?u("normal"):w>=1?u("mild"):w>=.5?u("moderate"):u("severe")},m=()=>{t(""),s(""),o(""),a(null),u("")},f=()=>{switch(c){case"normal":return" Normal ANC. No neutropenia.";case"mild":return" Mild Neutropenia. Monitor carefully.";case"moderate":return" Moderate Neutropenia. Higher infection risk.";case"severe":return" Severe Neutropenia. Critical infection risk!";default:return""}},h=()=>{switch(c){case"normal":return"bg-green-100 dark:bg-green-700";case"mild":return"bg-yellow-100 dark:bg-yellow-700";case"moderate":return"bg-orange-100 dark:bg-orange-700";case"severe":return"bg-red-100 dark:bg-red-700";default:return"bg-gray-100 dark:bg-gray-800"}};return l.jsxDEV("div",{className:"p-6",children:[l.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:" ANC Calculator (Absolute Neutrophil Count)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:77,columnNumber:7},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"WBC (10/L)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:81,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:e,onChange:p=>t(p.target.value),placeholder:"Enter WBC count",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:82,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:80,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"% Neutrophils (segmented)"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:92,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:n,onChange:p=>s(p.target.value),placeholder:"Enter % Neutrophils",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:91,columnNumber:9},void 0),l.jsxDEV("div",{children:[l.jsxDEV("label",{className:"block mb-2 text-gray-700 dark:text-gray-300 font-semibold",children:"% Bands"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:103,columnNumber:11},void 0),l.jsxDEV("input",{type:"number",value:i,onChange:p=>o(p.target.value),placeholder:"Enter % Bands",className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:102,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:79,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-4 mt-6",children:[l.jsxDEV("button",{onClick:d,className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition",children:"Calculate"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:115,columnNumber:9},void 0),l.jsxDEV("button",{onClick:m,className:"px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-100 font-semibold rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Reset"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:114,columnNumber:7},void 0),r!==null&&l.jsxDEV("div",{className:`mt-8 p-6 rounded-lg shadow-inner ${h()} transition`,children:[l.jsxDEV("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Calculated ANC"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:131,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-lg mt-2",children:[r," 10/L"]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:132,columnNumber:11},void 0),l.jsxDEV("p",{className:"text-sm mt-2",children:f()},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:130,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/modules/tools/calculators/ANC.tsx",lineNumber:76,columnNumber:5},void 0)},kte=()=>l.jsxDEV(Xh,{children:[l.jsxDEV(at,{path:"/",element:l.jsxDEV(lt,{moduleName:"Landing",children:l.jsxDEV(fV,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:33,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:32,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:31,columnNumber:7},void 0),l.jsxDEV(at,{path:"/callback",element:l.jsxDEV(lt,{moduleName:"Auth Callback",children:l.jsxDEV(vV,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:39,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:38,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:37,columnNumber:7},void 0),l.jsxDEV(at,{path:"/dashboard",element:l.jsxDEV(lt,{moduleName:"Dashboard",children:l.jsxDEV(Wt,{children:l.jsxDEV(gV,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:47,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:46,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:44,columnNumber:7},void 0),l.jsxDEV(at,{path:"/protected",element:l.jsxDEV(lt,{moduleName:"Protected Page",children:l.jsxDEV(Wt,{children:l.jsxDEV(bV,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:55,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:53,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:52,columnNumber:7},void 0),l.jsxDEV(at,{path:"/handbook/*",element:l.jsxDEV(lt,{moduleName:"Handbook",children:l.jsxDEV(Wt,{children:l.jsxDEV(ZH,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:63,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:62,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:61,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:60,columnNumber:7},void 0),l.jsxDEV(at,{path:"/search",element:l.jsxDEV(lt,{moduleName:"Handbook Search",children:l.jsxDEV(Wt,{children:l.jsxDEV(JO,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:70,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:69,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:68,columnNumber:7},void 0),l.jsxDEV(at,{path:"/opd/*",element:l.jsxDEV(lt,{moduleName:"OPD",children:l.jsxDEV(Wt,{children:l.jsxDEV(vJ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:80,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:79,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:78,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:77,columnNumber:7},void 0),l.jsxDEV(at,{path:"/cdu/*",element:l.jsxDEV(lt,{moduleName:"CDU",children:l.jsxDEV(Wt,{children:l.jsxDEV(FZ,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:89,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:88,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:87,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:86,columnNumber:7},void 0),"      ",l.jsxDEV(at,{path:"/inpatient/*",element:l.jsxDEV(lt,{moduleName:"Inpatient",children:l.jsxDEV(Wt,{children:l.jsxDEV(Xee,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:95,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:94,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:93,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:92,columnNumber:17},void 0),l.jsxDEV(at,{path:"/palliative/*",element:l.jsxDEV(lt,{moduleName:"Palliative",children:l.jsxDEV(Wt,{children:l.jsxDEV(xte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:103,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:102,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:100,columnNumber:7},void 0),"      ",l.jsxDEV(at,{path:"/tools/*",element:l.jsxDEV(lt,{moduleName:"Tools",children:l.jsxDEV(Wt,{children:l.jsxDEV(yte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:109,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:108,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:107,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:106,columnNumber:17},void 0),l.jsxDEV(at,{path:"/tools/calculators",element:l.jsxDEV(lt,{moduleName:"Clinical Calculators",children:l.jsxDEV(Wt,{children:l.jsxDEV(wte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:117,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:116,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:115,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:114,columnNumber:7},void 0),l.jsxDEV(at,{path:"/tools/calculators/bsa",element:l.jsxDEV(lt,{moduleName:"BSA Calculator",children:l.jsxDEV(Wt,{children:l.jsxDEV(Tte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:125,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:124,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:123,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:122,columnNumber:7},void 0),l.jsxDEV(at,{path:"/tools/calculators/crcl",element:l.jsxDEV(lt,{moduleName:"CrCl Calculator",children:l.jsxDEV(Wt,{children:l.jsxDEV(Ste,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:133,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:132,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:131,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:130,columnNumber:7},void 0),l.jsxDEV(at,{path:"/tools/calculators/anc",element:l.jsxDEV(lt,{moduleName:"ANC Calculator",children:l.jsxDEV(Wt,{children:l.jsxDEV(_te,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:141,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:140,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:139,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:138,columnNumber:7},void 0),l.jsxDEV(at,{path:"/tools/redflags",element:l.jsxDEV(lt,{moduleName:"Red Flags",children:l.jsxDEV(Wt,{children:l.jsxDEV(Ete,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:149,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:148,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:147,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:146,columnNumber:7},void 0),l.jsxDEV(at,{path:"/cdu/treatment-protocols/:id",element:l.jsxDEV(lt,{moduleName:"Protocol Detail",children:l.jsxDEV(Wt,{children:l.jsxDEV(Vk,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:156,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:154,columnNumber:7},void 0),l.jsxDEV(at,{path:"*",element:l.jsxDEV(lt,{moduleName:"Not Found",children:l.jsxDEV(mV,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:164,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:163,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:162,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/routes/AppRoutes.tsx",lineNumber:29,columnNumber:5},void 0),Mte=()=>l.jsxDEV(X2,{children:l.jsxDEV(c2,{children:l.jsxDEV(nS,{children:[l.jsxDEV(Dg,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:14,columnNumber:11},void 0),l.jsxDEV(rV,{children:l.jsxDEV(kte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:16,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:15,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:13,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/App.tsx",lineNumber:11,columnNumber:5},void 0),Cte=()=>l.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-500 via-indigo-600 to-purple-600",children:l.jsxDEV("div",{className:"text-center",children:[l.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-white mb-4 mx-auto"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:7,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white text-xl font-semibold",children:" OncoVista"},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:8,columnNumber:9},void 0),l.jsxDEV("div",{className:"text-white/80 text-sm mt-2",children:"Authenticating..."},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:11,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:6,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/components/AuthLoading.tsx",lineNumber:5,columnNumber:5},void 0),Pte=({children:e})=>{const{isLoading:t}=ei();return t?l.jsxDEV(Cte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/auth-provider.tsx",lineNumber:14,columnNumber:12},void 0):l.jsxDEV(l.Fragment,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/auth-provider.tsx",lineNumber:17,columnNumber:10},void 0)},Ate=({children:e})=>l.jsxDEV(YO,{domain:"dev-bqgm5fdnyx1sdqja.us.auth0.com",clientId:"oG0aJlsqUul3crrmzdLJJz7r9KvU8IHp",authorizationParams:{redirect_uri:"http://localhost:3003/callback",audience:"your-auth0-api-identifier",scope:"openid profile email read:current_user update:current_user_metadata"},useRefreshTokens:!0,useRefreshTokensFallback:!0,cacheLocation:"localstorage",skipRedirectCallback:window.location.pathname==="/callback",onRedirectCallback:o=>{window.history.replaceState({},document.title,(o==null?void 0:o.returnTo)==="/callback"||!(o!=null&&o.returnTo)?"/dashboard":o.returnTo)},children:l.jsxDEV(Pte,{children:e},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/auth-provider.tsx",lineNumber:58,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/auth/auth-provider.tsx",lineNumber:35,columnNumber:5},void 0);var QM={};Object.defineProperty(QM,"__esModule",{value:!0});QM.default=Rte;var Ite=xo;let ZM;const Rc=Ite.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Rc&&Rc.Events&&Rc.Events[0]?ZM=Rc.Events[0]:console.warn("logrocket-react does not work with this version of React");function Rte(){const e=t=>{try{const s=ZM(t.target),i=[];let o=s;for(;o;){var n=typeof o.elementType=="function"&&o.elementType.displayName;n&&i.push(n),o=o.return}t.__lrName=i}catch{console.error("logrocket-react caught an error while hooking into React. Please make sure you are using the correct version of logrocket-react for your version of react-dom.")}};document.body.addEventListener("click",e,{capture:!0,passive:!0})}const Cy={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_AUTH0_AUDIENCE:"your-auth0-api-identifier",VITE_AUTH0_CALLBACK_URL:"http://localhost:3003/callback",VITE_AUTH0_CLIENT_ID:"oG0aJlsqUul3crrmzdLJJz7r9KvU8IHp",VITE_AUTH0_DOMAIN:"dev-bqgm5fdnyx1sdqja.us.auth0.com",VITE_AUTH0_REDIRECT_URI:"http://localhost:3003",VITE_GEMINI_API_KEY:"your-gemini-api-key-here",VITE_OPENAI_API_KEY:"your-openai-api-key-here",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcnNmeWxqZ2FibXh3eG1wYml4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIwNjc5NDAsImV4cCI6MjA1NzY0Mzk0MH0.VPnBZfe-BFSZ3L-YyWJUHYZz4fwt7uyY57KWYYAa3C4",VITE_SUPABASE_URL:"https://hdrsfyljgabmxwxmpbix.supabase.co",VITE_USER_NODE_ENV:"development"},jte=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"],Ote=["VITE_AUTH0_DOMAIN","VITE_AUTH0_CLIENT_ID"];function Vte(){let e=!0;for(const t of jte)Cy[t]||(console.error(` Missing required environment variable: ${t}`),e=!1);for(const t of Ote)Cy[t]||console.warn(` Optional environment variable missing: ${t} - Some features may be limited`);if(!e)throw console.error("Environment validation failed. Please check your .env file."),new Error("Environment validation failed. Please check your .env file.")}Vte();pf.createRoot(document.getElementById("root")).render(l.jsxDEV(Re.StrictMode,{children:l.jsxDEV(Ate,{children:l.jsxDEV(hV,{children:l.jsxDEV(lt,{moduleName:"App Root",children:l.jsxDEV(Mte,{},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:39,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:38,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:36,columnNumber:5},void 0)},void 0,!1,{fileName:"D:/Mansoor/mwoncovista/vista1/src/main.tsx",lineNumber:35,columnNumber:3},void 0));export{ke as A,Dne as B,Jt as C,sn as D,Ja as E,TQ as F,Gr as G,Fl as H,aS as I,kd as J,u0 as K,d0 as L,pk as M,FQ as N,Nh as O,Pe as P,iM as Q,LQ as R,jw as S,Ik as T,Ur as U,md as V,zh as W,n0 as a,tn as b,nn as c,an as d,ln as e,cn as f,nne as g,Hr as h,FU as i,l as j,qn as k,tne as l,PU as m,_s as n,pi as o,Ei as p,$s as q,Se as r,_o as s,Un as t,uo as u,Je as v,Ht as w,xg as x,Rl as y,Md as z};
