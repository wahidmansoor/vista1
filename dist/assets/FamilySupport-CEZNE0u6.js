import{j as e}from"./ui-DK5CeS2f.js";import{b as u}from"./router-aUvmBcd_.js";import{u as S,D as F,j as I,B as j,k,l as w,m as D,n as f,C as c,h as o,f as A,g as q}from"./index-DapSn_1z.js";import{I as m}from"./input-C3yaEFDm.js";import{L as t}from"./label-BiyxXO83.js";import{aq as P,s as R}from"./utils-D2RFhntI.js";import"./vendor-DeqkGhWy.js";const g=["Emotional Support","Practical Help","Information/Education","Respite Care","Bereavement Support","Financial Guidance"],O=()=>{const{state:n,addFamilyMember:N,updateFamilyMember:v}=S(),[C,h]=u.useState(!1),[i,x]=u.useState({name:"",relationship:"",isMainCaregiver:!1,contactInfo:""}),l=(s,a)=>{x(r=>({...r,[s]:a}))},y=s=>{s.preventDefault();const a={id:crypto.randomUUID(),...i,needsSupport:Array(g.length).fill(!1)};N(a),x({name:"",relationship:"",isMainCaregiver:!1,contactInfo:""}),h(!1)},b=(s,a,r)=>{const d=n.familyMembers.find(M=>M.id===s);if(!d)return;const p=[...d.needsSupport];p[a]=r,v(s,{needsSupport:p})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Family Support Network"}),e.jsxs(F,{open:C,onOpenChange:h,children:[e.jsx(I,{asChild:!0,children:e.jsxs(j,{children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Add Family Member"]})}),e.jsxs(k,{children:[e.jsx(w,{children:e.jsx(D,{children:"Add Family Member"})}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Name"}),e.jsx(m,{id:"name",value:i.name,onChange:s=>l("name",s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"relationship",children:"Relationship"}),e.jsx(m,{id:"relationship",value:i.relationship,onChange:s=>l("relationship",s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"contactInfo",children:"Contact Information"}),e.jsx(m,{id:"contactInfo",value:i.contactInfo,onChange:s=>l("contactInfo",s.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:"isMainCaregiver",checked:i.isMainCaregiver,onCheckedChange:s=>l("isMainCaregiver",s)}),e.jsx(t,{htmlFor:"isMainCaregiver",children:"Primary Caregiver"})]}),e.jsx(j,{type:"submit",className:"w-full",children:"Add Member"})]})]})]})]}),n.familyMembers.length===0?e.jsx(c,{children:e.jsxs(o,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-600",children:"No family members added yet."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Click "Add Family Member" to start building the support network.'})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:n.familyMembers.map(s=>e.jsxs(c,{className:s.isMainCaregiver?"border-l-4 border-l-blue-500":"",children:[e.jsx(A,{children:e.jsxs(q,{className:"flex justify-between items-center",children:[e.jsx("span",{children:s.name}),s.isMainCaregiver&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Primary Caregiver"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Relationship"}),e.jsx("p",{className:"font-medium",children:s.relationship})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Contact"}),e.jsx("p",{className:"font-medium",children:s.contactInfo})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Support Needs"}),e.jsx("div",{className:"space-y-2",children:g.map((a,r)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:`${s.id}-${a}`,checked:s.needsSupport[r],onCheckedChange:d=>b(s.id,r,d)}),e.jsx(t,{htmlFor:`${s.id}-${a}`,children:a})]},a))})]})]})})]},s.id))}),n.familyMembers.some(s=>s.needsSupport.includes(!0))&&e.jsx(c,{className:"bg-amber-50 border-amber-200",children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-800",children:"Support Needs Identified"}),e.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"One or more family members require support. Consider referral to social work or support services."})]})]})})})]})};export{O as default};
