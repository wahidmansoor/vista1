{"version":3,"file":"FamilySupport-94dZF9VQ.js","sources":["../../src/modules/palliative/sections/end_of_life/FamilySupport.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { usePalliativeCare } from \"../../context/PalliativeContext\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { AlertTriangle, Plus, UserPlus } from \"lucide-react\";\r\nimport type { FamilyMember } from \"../../context/PalliativeContext\";\r\n\r\n// Support needs categories\r\nconst supportNeeds = [\r\n  \"Emotional Support\",\r\n  \"Practical Help\",\r\n  \"Information/Education\",\r\n  \"Respite Care\",\r\n  \"Bereavement Support\",\r\n  \"Financial Guidance\"\r\n] as const;\r\n\r\nconst FamilySupport = () => {\r\n  const { state, addFamilyMember, updateFamilyMember } = usePalliativeCare();\r\n  const [showAddForm, setShowAddForm] = React.useState(false);\r\n  const [formData, setFormData] = React.useState<Omit<FamilyMember, \"id\" | \"needsSupport\">>({\r\n    name: \"\",\r\n    relationship: \"\",\r\n    isMainCaregiver: false,\r\n    contactInfo: \"\",\r\n  });\r\n\r\n  const handleInputChange = (field: keyof typeof formData, value: string | boolean) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const newMember: FamilyMember = {\r\n      id: crypto.randomUUID(),\r\n      ...formData,\r\n      needsSupport: Array(supportNeeds.length).fill(false)\r\n    };\r\n    addFamilyMember(newMember);\r\n    setFormData({\r\n      name: \"\",\r\n      relationship: \"\",\r\n      isMainCaregiver: false,\r\n      contactInfo: \"\",\r\n    });\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  const updateNeedStatus = (memberId: string, needIndex: number, checked: boolean) => {\r\n    const member = state.familyMembers.find(m => m.id === memberId);\r\n    if (!member) return;\r\n\r\n    const updatedNeeds = [...member.needsSupport];\r\n    updatedNeeds[needIndex] = checked;\r\n\r\n    updateFamilyMember(memberId, {\r\n      needsSupport: updatedNeeds\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\">Family Support Network</h2>\r\n        <Dialog open={showAddForm} onOpenChange={setShowAddForm}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <UserPlus className=\"w-4 h-4 mr-2\" />\r\n              Add Family Member\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>Add Family Member</DialogTitle>\r\n            </DialogHeader>\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"name\">Name</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => handleInputChange(\"name\", e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"relationship\">Relationship</Label>\r\n                <Input\r\n                  id=\"relationship\"\r\n                  value={formData.relationship}\r\n                  onChange={(e) => handleInputChange(\"relationship\", e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"contactInfo\">Contact Information</Label>\r\n                <Input\r\n                  id=\"contactInfo\"\r\n                  value={formData.contactInfo}\r\n                  onChange={(e) => handleInputChange(\"contactInfo\", e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Checkbox\r\n                  id=\"isMainCaregiver\"\r\n                  checked={formData.isMainCaregiver}\r\n                  onCheckedChange={(checked) => \r\n                    handleInputChange(\"isMainCaregiver\", checked as boolean)\r\n                  }\r\n                />\r\n                <Label htmlFor=\"isMainCaregiver\">Primary Caregiver</Label>\r\n              </div>\r\n              <Button type=\"submit\" className=\"w-full\">Add Member</Button>\r\n            </form>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      {state.familyMembers.length === 0 ? (\r\n        <Card>\r\n          <CardContent className=\"p-6 text-center\">\r\n            <p className=\"text-gray-600\">No family members added yet.</p>\r\n            <p className=\"text-sm text-gray-500 mt-2\">\r\n              Click \"Add Family Member\" to start building the support network.\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"grid gap-6 md:grid-cols-2\">\r\n          {state.familyMembers.map((member) => (\r\n            <Card key={member.id} className={member.isMainCaregiver ? \"border-l-4 border-l-blue-500\" : \"\"}>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex justify-between items-center\">\r\n                  <span>{member.name}</span>\r\n                  {member.isMainCaregiver && (\r\n                    <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full\">\r\n                      Primary Caregiver\r\n                    </span>\r\n                  )}\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Relationship</p>\r\n                    <p className=\"font-medium\">{member.relationship}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500\">Contact</p>\r\n                    <p className=\"font-medium\">{member.contactInfo}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-2\">Support Needs</p>\r\n                    <div className=\"space-y-2\">\r\n                      {supportNeeds.map((need, index) => (\r\n                        <div key={need} className=\"flex items-center space-x-2\">\r\n                          <Checkbox\r\n                            id={`${member.id}-${need}`}\r\n                            checked={member.needsSupport[index]}\r\n                            onCheckedChange={(checked) => \r\n                              updateNeedStatus(member.id, index, checked as boolean)\r\n                            }\r\n                          />\r\n                          <Label htmlFor={`${member.id}-${need}`}>{need}</Label>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {state.familyMembers.some(member => member.needsSupport.includes(true)) && (\r\n        <Card className=\"bg-amber-50 border-amber-200\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <AlertTriangle className=\"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5\" />\r\n              <div>\r\n                <h4 className=\"font-semibold text-amber-800\">Support Needs Identified</h4>\r\n                <p className=\"text-sm text-amber-700 mt-1\">\r\n                  One or more family members require support. Consider referral to social work or support services.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FamilySupport;\r\n"],"names":["supportNeeds","FamilySupport","state","addFamilyMember","updateFamilyMember","usePalliativeCare","showAddForm","setShowAddForm","React","useState","formData","setFormData","name","relationship","isMainCaregiver","contactInfo","handleInputChange","field","value","prev","jsxDEV","className","children","fileName","lineNumber","columnNumber","this","Dialog","open","onOpenChange","DialogTrigger","asChild","jsxDevRuntimeExports","Button","UserPlus","DialogContent","DialogHeader","DialogTitle","onSubmit","e","preventDefault","newMember","id","crypto","randomUUID","needsSupport","Array","length","fill","Label","htmlFor","Input","onChange","target","required","Checkbox","checked","onCheckedChange","type","familyMembers","Card","CardContent","map","member","CardHeader","CardTitle","need","index","memberId","needIndex","find","m","updatedNeeds","updateNeedStatus","some","includes","AlertTriangle"],"mappings":"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"}